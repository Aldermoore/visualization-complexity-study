var NOe=Object.defineProperty;var DOe=(e,t,n)=>t in e?NOe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Pa=(e,t,n)=>(DOe(e,typeof t!="symbol"?t+"":t,n),n);var efn=$Oe((Yfn,vQ)=>{function OOe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MOe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var gde={exports:{}},rD={},yde={exports:{}},On={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS=Symbol.for("react.element"),LOe=Symbol.for("react.portal"),FOe=Symbol.for("react.fragment"),jOe=Symbol.for("react.strict_mode"),BOe=Symbol.for("react.profiler"),UOe=Symbol.for("react.provider"),zOe=Symbol.for("react.context"),VOe=Symbol.for("react.forward_ref"),HOe=Symbol.for("react.suspense"),qOe=Symbol.for("react.memo"),WOe=Symbol.for("react.lazy"),LQ=Symbol.iterator;function GOe(e){return e===null||typeof e!="object"?null:(e=LQ&&e[LQ]||e["@@iterator"],typeof e=="function"?e:null)}var vde={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bde=Object.assign,_de={};function b_(e,t,n){this.props=e,this.context=t,this.refs=_de,this.updater=n||vde}b_.prototype.isReactComponent={};b_.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};b_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wde(){}wde.prototype=b_.prototype;function PB(e,t,n){this.props=e,this.context=t,this.refs=_de,this.updater=n||vde}var NB=PB.prototype=new wde;NB.constructor=PB;bde(NB,b_.prototype);NB.isPureReactComponent=!0;var FQ=Array.isArray,Ede=Object.prototype.hasOwnProperty,DB={current:null},xde={key:!0,ref:!0,__self:!0,__source:!0};function Tde(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Ede.call(t,r)&&!xde.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:HS,type:e,key:o,ref:s,props:i,_owner:DB.current}}function YOe(e,t){return{$$typeof:HS,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $B(e){return typeof e=="object"&&e!==null&&e.$$typeof===HS}function KOe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jQ=/\/+/g;function D3(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KOe(""+e.key):t.toString(36)}function OI(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case HS:case LOe:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+D3(s,0):r,FQ(i)?(n="",e!=null&&(n=e.replace(jQ,"$&/")+"/"),OI(i,t,n,"",function(l){return l})):i!=null&&($B(i)&&(i=YOe(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jQ,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",FQ(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+D3(o,a);s+=OI(o,t,n,u,i)}else if(u=GOe(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+D3(o,a++),s+=OI(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function V2(e,t,n){if(e==null)return e;var r=[],i=0;return OI(e,r,"","",function(o){return t.call(n,o,i++)}),r}function XOe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ea={current:null},MI={transition:null},QOe={ReactCurrentDispatcher:Ea,ReactCurrentBatchConfig:MI,ReactCurrentOwner:DB};function Sde(){throw Error("act(...) is not supported in production builds of React.")}On.Children={map:V2,forEach:function(e,t,n){V2(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return V2(e,function(){t++}),t},toArray:function(e){return V2(e,function(t){return t})||[]},only:function(e){if(!$B(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};On.Component=b_;On.Fragment=FOe;On.Profiler=BOe;On.PureComponent=PB;On.StrictMode=jOe;On.Suspense=HOe;On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QOe;On.act=Sde;On.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bde({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=DB.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ede.call(t,u)&&!xde.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:HS,type:e.type,key:i,ref:o,props:r,_owner:s}};On.createContext=function(e){return e={$$typeof:zOe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UOe,_context:e},e.Consumer=e};On.createElement=Tde;On.createFactory=function(e){var t=Tde.bind(null,e);return t.type=e,t};On.createRef=function(){return{current:null}};On.forwardRef=function(e){return{$$typeof:VOe,render:e}};On.isValidElement=$B;On.lazy=function(e){return{$$typeof:WOe,_payload:{_status:-1,_result:e},_init:XOe}};On.memo=function(e,t){return{$$typeof:qOe,type:e,compare:t===void 0?null:t}};On.startTransition=function(e){var t=MI.transition;MI.transition={};try{e()}finally{MI.transition=t}};On.unstable_act=Sde;On.useCallback=function(e,t){return Ea.current.useCallback(e,t)};On.useContext=function(e){return Ea.current.useContext(e)};On.useDebugValue=function(){};On.useDeferredValue=function(e){return Ea.current.useDeferredValue(e)};On.useEffect=function(e,t){return Ea.current.useEffect(e,t)};On.useId=function(){return Ea.current.useId()};On.useImperativeHandle=function(e,t,n){return Ea.current.useImperativeHandle(e,t,n)};On.useInsertionEffect=function(e,t){return Ea.current.useInsertionEffect(e,t)};On.useLayoutEffect=function(e,t){return Ea.current.useLayoutEffect(e,t)};On.useMemo=function(e,t){return Ea.current.useMemo(e,t)};On.useReducer=function(e,t,n){return Ea.current.useReducer(e,t,n)};On.useRef=function(e){return Ea.current.useRef(e)};On.useState=function(e){return Ea.current.useState(e)};On.useSyncExternalStore=function(e,t,n){return Ea.current.useSyncExternalStore(e,t,n)};On.useTransition=function(){return Ea.current.useTransition()};On.version="18.3.1";yde.exports=On;var I=yde.exports;const ue=gn(I),gT=OOe({__proto__:null,default:ue},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JOe=I,ZOe=Symbol.for("react.element"),eMe=Symbol.for("react.fragment"),tMe=Object.prototype.hasOwnProperty,nMe=JOe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rMe={key:!0,ref:!0,__self:!0,__source:!0};function Cde(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)tMe.call(t,r)&&!rMe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ZOe,type:e,key:o,ref:s,props:i,_owner:nMe.current}}rD.Fragment=eMe;rD.jsx=Cde;rD.jsxs=Cde;gde.exports=rD;var T=gde.exports,_F={},Ade={exports:{}},Qu={},Ide={exports:{}},kde={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,q){var D=V.length;V.push(q);e:for(;0<D;){var U=D-1>>>1,W=V[U];if(0<i(W,q))V[U]=q,V[D]=W,D=U;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],D=V.pop();if(D!==q){V[0]=D;e:for(var U=0,W=V.length,F=W>>>1;U<F;){var z=2*(U+1)-1,G=V[z],ee=z+1,ce=V[ee];if(0>i(G,D))ee<W&&0>i(ce,G)?(V[U]=ce,V[ee]=D,U=ee):(V[U]=G,V[z]=D,U=z);else if(ee<W&&0>i(ce,D))V[U]=ce,V[ee]=D,U=ee;else break e}}return q}function i(V,q){var D=V.sortIndex-q.sortIndex;return D!==0?D:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,f=null,d=3,h=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var q=n(l);q!==null;){if(q.callback===null)r(l);else if(q.startTime<=V)r(l),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(l)}}function _(V){if(m=!1,b(V),!p)if(n(u)!==null)p=!0,M(w);else{var q=n(l);q!==null&&B(_,q.startTime-V)}}function w(V,q){p=!1,m&&(m=!1,y(C),C=-1),h=!0;var D=d;try{for(b(q),f=n(u);f!==null&&(!(f.expirationTime>q)||V&&!P());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var W=U(f.expirationTime<=q);q=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(u)&&r(u),b(q)}else r(u);f=n(u)}if(f!==null)var F=!0;else{var z=n(l);z!==null&&B(_,z.startTime-q),F=!1}return F}finally{f=null,d=D,h=!1}}var S=!1,E=null,C=-1,A=5,k=-1;function P(){return!(e.unstable_now()-k<A)}function $(){if(E!==null){var V=e.unstable_now();k=V;var q=!0;try{q=E(!0,V)}finally{q?N():(S=!1,E=null)}}else S=!1}var N;if(typeof v=="function")N=function(){v($)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=$,N=function(){j.postMessage(null)}}else N=function(){g($,0)};function M(V){E=V,S||(S=!0,N())}function B(V,q){C=g(function(){V(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,M(w))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(V){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var D=d;d=q;try{return V()}finally{d=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var D=d;d=V;try{return q()}finally{d=D}},e.unstable_scheduleCallback=function(V,q,D){var U=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?U+D:U):D=U,V){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=D+W,V={id:c++,callback:q,priorityLevel:V,startTime:D,expirationTime:W,sortIndex:-1},D>U?(V.sortIndex=D,t(l,V),n(u)===null&&V===n(l)&&(m?(y(C),C=-1):m=!0,B(_,D-U))):(V.sortIndex=W,t(u,V),p||h||(p=!0,M(w))),V},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(V){var q=d;return function(){var D=d;d=q;try{return V.apply(this,arguments)}finally{d=D}}}})(kde);Ide.exports=kde;var iMe=Ide.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oMe=I,Bu=iMe;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rde=new Set,yT={};function Ry(e,t){hb(e,t),hb(e+"Capture",t)}function hb(e,t){for(yT[e]=t,e=0;e<t.length;e++)Rde.add(t[e])}var vh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wF=Object.prototype.hasOwnProperty,sMe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BQ={},UQ={};function aMe(e){return wF.call(UQ,e)?!0:wF.call(BQ,e)?!1:sMe.test(e)?UQ[e]=!0:(BQ[e]=!0,!1)}function uMe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lMe(e,t,n,r){if(t===null||typeof t>"u"||uMe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xa(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ps[e]=new xa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ps[t]=new xa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ps[e]=new xa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ps[e]=new xa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ps[e]=new xa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ps[e]=new xa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ps[e]=new xa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ps[e]=new xa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ps[e]=new xa(e,5,!1,e.toLowerCase(),null,!1,!1)});var OB=/[\-:]([a-z])/g;function MB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OB,MB);ps[t]=new xa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OB,MB);ps[t]=new xa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OB,MB);ps[t]=new xa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ps[e]=new xa(e,1,!1,e.toLowerCase(),null,!1,!1)});ps.xlinkHref=new xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ps[e]=new xa(e,1,!1,e.toLowerCase(),null,!0,!0)});function LB(e,t,n,r){var i=ps.hasOwnProperty(t)?ps[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lMe(t,n,i,r)&&(n=null),r||i===null?aMe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fh=oMe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H2=Symbol.for("react.element"),f1=Symbol.for("react.portal"),d1=Symbol.for("react.fragment"),FB=Symbol.for("react.strict_mode"),EF=Symbol.for("react.profiler"),Pde=Symbol.for("react.provider"),Nde=Symbol.for("react.context"),jB=Symbol.for("react.forward_ref"),xF=Symbol.for("react.suspense"),TF=Symbol.for("react.suspense_list"),BB=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Dde=Symbol.for("react.offscreen"),zQ=Symbol.iterator;function Ow(e){return e===null||typeof e!="object"?null:(e=zQ&&e[zQ]||e["@@iterator"],typeof e=="function"?e:null)}var wi=Object.assign,$3;function $E(e){if($3===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$3=t&&t[1]||""}return`
`+$3+e}var O3=!1;function M3(e,t){if(!e||O3)return"";O3=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{O3=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$E(e):""}function cMe(e){switch(e.tag){case 5:return $E(e.type);case 16:return $E("Lazy");case 13:return $E("Suspense");case 19:return $E("SuspenseList");case 0:case 2:case 15:return e=M3(e.type,!1),e;case 11:return e=M3(e.type.render,!1),e;case 1:return e=M3(e.type,!0),e;default:return""}}function SF(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case d1:return"Fragment";case f1:return"Portal";case EF:return"Profiler";case FB:return"StrictMode";case xF:return"Suspense";case TF:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nde:return(e.displayName||"Context")+".Consumer";case Pde:return(e._context.displayName||"Context")+".Provider";case jB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BB:return t=e.displayName||null,t!==null?t:SF(e.type)||"Memo";case yp:t=e._payload,e=e._init;try{return SF(e(t))}catch{}}return null}function fMe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SF(t);case 8:return t===FB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bm(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $de(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dMe(e){var t=$de(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function q2(e){e._valueTracker||(e._valueTracker=dMe(e))}function Ode(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$de(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wk(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function CF(e,t){var n=t.checked;return wi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VQ(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bm(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mde(e,t){t=t.checked,t!=null&&LB(e,"checked",t,!1)}function AF(e,t){Mde(e,t);var n=bm(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?IF(e,t.type,n):t.hasOwnProperty("defaultValue")&&IF(e,t.type,bm(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HQ(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function IF(e,t,n){(t!=="number"||Wk(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var OE=Array.isArray;function O1(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bm(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kF(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return wi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qQ(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rt(92));if(OE(n)){if(1<n.length)throw Error(rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bm(n)}}function Lde(e,t){var n=bm(t.value),r=bm(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WQ(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fde(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RF(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fde(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var W2,jde=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(W2=W2||document.createElement("div"),W2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=W2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vT(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hMe=["Webkit","ms","Moz","O"];Object.keys(yx).forEach(function(e){hMe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yx[t]=yx[e]})});function Bde(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yx.hasOwnProperty(e)&&yx[e]?(""+t).trim():t+"px"}function Ude(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bde(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var pMe=wi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PF(e,t){if(t){if(pMe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function NF(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DF=null;function UB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $F=null,M1=null,L1=null;function GQ(e){if(e=GS(e)){if(typeof $F!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=uD(t),$F(e.stateNode,e.type,t))}}function zde(e){M1?L1?L1.push(e):L1=[e]:M1=e}function Vde(){if(M1){var e=M1,t=L1;if(L1=M1=null,GQ(e),t)for(e=0;e<t.length;e++)GQ(t[e])}}function Hde(e,t){return e(t)}function qde(){}var L3=!1;function Wde(e,t,n){if(L3)return e(t,n);L3=!0;try{return Hde(e,t,n)}finally{L3=!1,(M1!==null||L1!==null)&&(qde(),Vde())}}function bT(e,t){var n=e.stateNode;if(n===null)return null;var r=uD(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var OF=!1;if(vh)try{var Mw={};Object.defineProperty(Mw,"passive",{get:function(){OF=!0}}),window.addEventListener("test",Mw,Mw),window.removeEventListener("test",Mw,Mw)}catch{OF=!1}function mMe(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var vx=!1,Gk=null,Yk=!1,MF=null,gMe={onError:function(e){vx=!0,Gk=e}};function yMe(e,t,n,r,i,o,s,a,u){vx=!1,Gk=null,mMe.apply(gMe,arguments)}function vMe(e,t,n,r,i,o,s,a,u){if(yMe.apply(this,arguments),vx){if(vx){var l=Gk;vx=!1,Gk=null}else throw Error(rt(198));Yk||(Yk=!0,MF=l)}}function Py(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gde(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function YQ(e){if(Py(e)!==e)throw Error(rt(188))}function bMe(e){var t=e.alternate;if(!t){if(t=Py(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return YQ(i),e;if(o===r)return YQ(i),t;o=o.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function Yde(e){return e=bMe(e),e!==null?Kde(e):null}function Kde(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kde(e);if(t!==null)return t;e=e.sibling}return null}var Xde=Bu.unstable_scheduleCallback,KQ=Bu.unstable_cancelCallback,_Me=Bu.unstable_shouldYield,wMe=Bu.unstable_requestPaint,ji=Bu.unstable_now,EMe=Bu.unstable_getCurrentPriorityLevel,zB=Bu.unstable_ImmediatePriority,Qde=Bu.unstable_UserBlockingPriority,Kk=Bu.unstable_NormalPriority,xMe=Bu.unstable_LowPriority,Jde=Bu.unstable_IdlePriority,iD=null,Nf=null;function TMe(e){if(Nf&&typeof Nf.onCommitFiberRoot=="function")try{Nf.onCommitFiberRoot(iD,e,void 0,(e.current.flags&128)===128)}catch{}}var Ac=Math.clz32?Math.clz32:AMe,SMe=Math.log,CMe=Math.LN2;function AMe(e){return e>>>=0,e===0?32:31-(SMe(e)/CMe|0)|0}var G2=64,Y2=4194304;function ME(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xk(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ME(a):(o&=s,o!==0&&(r=ME(o)))}else s=n&~i,s!==0?r=ME(s):o!==0&&(r=ME(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ac(t),i=1<<n,r|=e[n],t&=~i;return r}function IMe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kMe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ac(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=IMe(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function LF(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zde(){var e=G2;return G2<<=1,!(G2&4194240)&&(G2=64),e}function F3(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qS(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ac(t),e[t]=n}function RMe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ac(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function VB(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ac(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Sr=0;function ehe(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var the,HB,nhe,rhe,ihe,FF=!1,K2=[],Xp=null,Qp=null,Jp=null,_T=new Map,wT=new Map,Sp=[],PMe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XQ(e,t){switch(e){case"focusin":case"focusout":Xp=null;break;case"dragenter":case"dragleave":Qp=null;break;case"mouseover":case"mouseout":Jp=null;break;case"pointerover":case"pointerout":_T.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wT.delete(t.pointerId)}}function Lw(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=GS(t),t!==null&&HB(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function NMe(e,t,n,r,i){switch(t){case"focusin":return Xp=Lw(Xp,e,t,n,r,i),!0;case"dragenter":return Qp=Lw(Qp,e,t,n,r,i),!0;case"mouseover":return Jp=Lw(Jp,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return _T.set(o,Lw(_T.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wT.set(o,Lw(wT.get(o)||null,e,t,n,r,i)),!0}return!1}function ohe(e){var t=u0(e.target);if(t!==null){var n=Py(t);if(n!==null){if(t=n.tag,t===13){if(t=Gde(n),t!==null){e.blockedOn=t,ihe(e.priority,function(){nhe(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function LI(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jF(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);DF=r,n.target.dispatchEvent(r),DF=null}else return t=GS(n),t!==null&&HB(t),e.blockedOn=n,!1;t.shift()}return!0}function QQ(e,t,n){LI(e)&&n.delete(t)}function DMe(){FF=!1,Xp!==null&&LI(Xp)&&(Xp=null),Qp!==null&&LI(Qp)&&(Qp=null),Jp!==null&&LI(Jp)&&(Jp=null),_T.forEach(QQ),wT.forEach(QQ)}function Fw(e,t){e.blockedOn===t&&(e.blockedOn=null,FF||(FF=!0,Bu.unstable_scheduleCallback(Bu.unstable_NormalPriority,DMe)))}function ET(e){function t(i){return Fw(i,e)}if(0<K2.length){Fw(K2[0],e);for(var n=1;n<K2.length;n++){var r=K2[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Xp!==null&&Fw(Xp,e),Qp!==null&&Fw(Qp,e),Jp!==null&&Fw(Jp,e),_T.forEach(t),wT.forEach(t),n=0;n<Sp.length;n++)r=Sp[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sp.length&&(n=Sp[0],n.blockedOn===null);)ohe(n),n.blockedOn===null&&Sp.shift()}var F1=Fh.ReactCurrentBatchConfig,Qk=!0;function $Me(e,t,n,r){var i=Sr,o=F1.transition;F1.transition=null;try{Sr=1,qB(e,t,n,r)}finally{Sr=i,F1.transition=o}}function OMe(e,t,n,r){var i=Sr,o=F1.transition;F1.transition=null;try{Sr=4,qB(e,t,n,r)}finally{Sr=i,F1.transition=o}}function qB(e,t,n,r){if(Qk){var i=jF(e,t,n,r);if(i===null)Y3(e,t,r,Jk,n),XQ(e,r);else if(NMe(i,e,t,n,r))r.stopPropagation();else if(XQ(e,r),t&4&&-1<PMe.indexOf(e)){for(;i!==null;){var o=GS(i);if(o!==null&&the(o),o=jF(e,t,n,r),o===null&&Y3(e,t,r,Jk,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Y3(e,t,r,null,n)}}var Jk=null;function jF(e,t,n,r){if(Jk=null,e=UB(r),e=u0(e),e!==null)if(t=Py(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gde(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jk=e,null}function she(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EMe()){case zB:return 1;case Qde:return 4;case Kk:case xMe:return 16;case Jde:return 536870912;default:return 16}default:return 16}}var Op=null,WB=null,FI=null;function ahe(){if(FI)return FI;var e,t=WB,n=t.length,r,i="value"in Op?Op.value:Op.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return FI=i.slice(e,1<r?1-r:void 0)}function jI(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function X2(){return!0}function JQ(){return!1}function Ju(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?X2:JQ,this.isPropagationStopped=JQ,this}return wi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=X2)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=X2)},persist:function(){},isPersistent:X2}),t}var __={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GB=Ju(__),WS=wi({},__,{view:0,detail:0}),MMe=Ju(WS),j3,B3,jw,oD=wi({},WS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jw&&(jw&&e.type==="mousemove"?(j3=e.screenX-jw.screenX,B3=e.screenY-jw.screenY):B3=j3=0,jw=e),j3)},movementY:function(e){return"movementY"in e?e.movementY:B3}}),ZQ=Ju(oD),LMe=wi({},oD,{dataTransfer:0}),FMe=Ju(LMe),jMe=wi({},WS,{relatedTarget:0}),U3=Ju(jMe),BMe=wi({},__,{animationName:0,elapsedTime:0,pseudoElement:0}),UMe=Ju(BMe),zMe=wi({},__,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VMe=Ju(zMe),HMe=wi({},__,{data:0}),eJ=Ju(HMe),qMe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WMe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GMe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YMe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GMe[e])?!!t[e]:!1}function YB(){return YMe}var KMe=wi({},WS,{key:function(e){if(e.key){var t=qMe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jI(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WMe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YB,charCode:function(e){return e.type==="keypress"?jI(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jI(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XMe=Ju(KMe),QMe=wi({},oD,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tJ=Ju(QMe),JMe=wi({},WS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YB}),ZMe=Ju(JMe),e3e=wi({},__,{propertyName:0,elapsedTime:0,pseudoElement:0}),t3e=Ju(e3e),n3e=wi({},oD,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r3e=Ju(n3e),i3e=[9,13,27,32],KB=vh&&"CompositionEvent"in window,bx=null;vh&&"documentMode"in document&&(bx=document.documentMode);var o3e=vh&&"TextEvent"in window&&!bx,uhe=vh&&(!KB||bx&&8<bx&&11>=bx),nJ=" ",rJ=!1;function lhe(e,t){switch(e){case"keyup":return i3e.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function che(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var h1=!1;function s3e(e,t){switch(e){case"compositionend":return che(t);case"keypress":return t.which!==32?null:(rJ=!0,nJ);case"textInput":return e=t.data,e===nJ&&rJ?null:e;default:return null}}function a3e(e,t){if(h1)return e==="compositionend"||!KB&&lhe(e,t)?(e=ahe(),FI=WB=Op=null,h1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uhe&&t.locale!=="ko"?null:t.data;default:return null}}var u3e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iJ(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!u3e[e.type]:t==="textarea"}function fhe(e,t,n,r){zde(r),t=Zk(t,"onChange"),0<t.length&&(n=new GB("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _x=null,xT=null;function l3e(e){Ehe(e,0)}function sD(e){var t=g1(e);if(Ode(t))return e}function c3e(e,t){if(e==="change")return t}var dhe=!1;if(vh){var z3;if(vh){var V3="oninput"in document;if(!V3){var oJ=document.createElement("div");oJ.setAttribute("oninput","return;"),V3=typeof oJ.oninput=="function"}z3=V3}else z3=!1;dhe=z3&&(!document.documentMode||9<document.documentMode)}function sJ(){_x&&(_x.detachEvent("onpropertychange",hhe),xT=_x=null)}function hhe(e){if(e.propertyName==="value"&&sD(xT)){var t=[];fhe(t,xT,e,UB(e)),Wde(l3e,t)}}function f3e(e,t,n){e==="focusin"?(sJ(),_x=t,xT=n,_x.attachEvent("onpropertychange",hhe)):e==="focusout"&&sJ()}function d3e(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sD(xT)}function h3e(e,t){if(e==="click")return sD(t)}function p3e(e,t){if(e==="input"||e==="change")return sD(t)}function m3e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oc=typeof Object.is=="function"?Object.is:m3e;function TT(e,t){if(Oc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wF.call(t,i)||!Oc(e[i],t[i]))return!1}return!0}function aJ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uJ(e,t){var n=aJ(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aJ(n)}}function phe(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?phe(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mhe(){for(var e=window,t=Wk();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wk(e.document)}return t}function XB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g3e(e){var t=mhe(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&phe(n.ownerDocument.documentElement,n)){if(r!==null&&XB(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=uJ(n,o);var s=uJ(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y3e=vh&&"documentMode"in document&&11>=document.documentMode,p1=null,BF=null,wx=null,UF=!1;function lJ(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;UF||p1==null||p1!==Wk(r)||(r=p1,"selectionStart"in r&&XB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wx&&TT(wx,r)||(wx=r,r=Zk(BF,"onSelect"),0<r.length&&(t=new GB("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=p1)))}function Q2(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var m1={animationend:Q2("Animation","AnimationEnd"),animationiteration:Q2("Animation","AnimationIteration"),animationstart:Q2("Animation","AnimationStart"),transitionend:Q2("Transition","TransitionEnd")},H3={},ghe={};vh&&(ghe=document.createElement("div").style,"AnimationEvent"in window||(delete m1.animationend.animation,delete m1.animationiteration.animation,delete m1.animationstart.animation),"TransitionEvent"in window||delete m1.transitionend.transition);function aD(e){if(H3[e])return H3[e];if(!m1[e])return e;var t=m1[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ghe)return H3[e]=t[n];return e}var yhe=aD("animationend"),vhe=aD("animationiteration"),bhe=aD("animationstart"),_he=aD("transitionend"),whe=new Map,cJ="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gm(e,t){whe.set(e,t),Ry(t,[e])}for(var q3=0;q3<cJ.length;q3++){var W3=cJ[q3],v3e=W3.toLowerCase(),b3e=W3[0].toUpperCase()+W3.slice(1);Gm(v3e,"on"+b3e)}Gm(yhe,"onAnimationEnd");Gm(vhe,"onAnimationIteration");Gm(bhe,"onAnimationStart");Gm("dblclick","onDoubleClick");Gm("focusin","onFocus");Gm("focusout","onBlur");Gm(_he,"onTransitionEnd");hb("onMouseEnter",["mouseout","mouseover"]);hb("onMouseLeave",["mouseout","mouseover"]);hb("onPointerEnter",["pointerout","pointerover"]);hb("onPointerLeave",["pointerout","pointerover"]);Ry("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ry("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ry("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ry("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ry("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ry("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var LE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_3e=new Set("cancel close invalid load scroll toggle".split(" ").concat(LE));function fJ(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vMe(r,t,void 0,e),e.currentTarget=null}function Ehe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;fJ(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;fJ(i,a,l),o=u}}}if(Yk)throw e=MF,Yk=!1,MF=null,e}function Gr(e,t){var n=t[WF];n===void 0&&(n=t[WF]=new Set);var r=e+"__bubble";n.has(r)||(xhe(t,e,2,!1),n.add(r))}function G3(e,t,n){var r=0;t&&(r|=4),xhe(n,e,r,t)}var J2="_reactListening"+Math.random().toString(36).slice(2);function ST(e){if(!e[J2]){e[J2]=!0,Rde.forEach(function(n){n!=="selectionchange"&&(_3e.has(n)||G3(n,!1,e),G3(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[J2]||(t[J2]=!0,G3("selectionchange",!1,t))}}function xhe(e,t,n,r){switch(she(t)){case 1:var i=$Me;break;case 4:i=OMe;break;default:i=qB}n=i.bind(null,t,n,e),i=void 0,!OF||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Y3(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=u0(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Wde(function(){var l=o,c=UB(n),f=[];e:{var d=whe.get(e);if(d!==void 0){var h=GB,p=e;switch(e){case"keypress":if(jI(n)===0)break e;case"keydown":case"keyup":h=XMe;break;case"focusin":p="focus",h=U3;break;case"focusout":p="blur",h=U3;break;case"beforeblur":case"afterblur":h=U3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ZQ;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=FMe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZMe;break;case yhe:case vhe:case bhe:h=UMe;break;case _he:h=t3e;break;case"scroll":h=MMe;break;case"wheel":h=r3e;break;case"copy":case"cut":case"paste":h=VMe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tJ}var m=(t&4)!==0,g=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var v=l,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=bT(v,y),_!=null&&m.push(CT(v,_,b)))),g)break;v=v.return}0<m.length&&(d=new h(d,p,null,n,c),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==DF&&(p=n.relatedTarget||n.fromElement)&&(u0(p)||p[bh]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=l,p=p?u0(p):null,p!==null&&(g=Py(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=ZQ,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=tJ,_="onPointerLeave",y="onPointerEnter",v="pointer"),g=h==null?d:g1(h),b=p==null?d:g1(p),d=new m(_,v+"leave",h,n,c),d.target=g,d.relatedTarget=b,_=null,u0(c)===l&&(m=new m(y,v+"enter",p,n,c),m.target=b,m.relatedTarget=g,_=m),g=_,h&&p)t:{for(m=h,y=p,v=0,b=m;b;b=Cv(b))v++;for(b=0,_=y;_;_=Cv(_))b++;for(;0<v-b;)m=Cv(m),v--;for(;0<b-v;)y=Cv(y),b--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Cv(m),y=Cv(y)}m=null}else m=null;h!==null&&dJ(f,d,h,m,!1),p!==null&&g!==null&&dJ(f,g,p,m,!0)}}e:{if(d=l?g1(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var w=c3e;else if(iJ(d))if(dhe)w=p3e;else{w=d3e;var S=f3e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=h3e);if(w&&(w=w(e,l))){fhe(f,w,n,c);break e}S&&S(e,d,l),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&IF(d,"number",d.value)}switch(S=l?g1(l):window,e){case"focusin":(iJ(S)||S.contentEditable==="true")&&(p1=S,BF=l,wx=null);break;case"focusout":wx=BF=p1=null;break;case"mousedown":UF=!0;break;case"contextmenu":case"mouseup":case"dragend":UF=!1,lJ(f,n,c);break;case"selectionchange":if(y3e)break;case"keydown":case"keyup":lJ(f,n,c)}var E;if(KB)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else h1?lhe(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(uhe&&n.locale!=="ko"&&(h1||C!=="onCompositionStart"?C==="onCompositionEnd"&&h1&&(E=ahe()):(Op=c,WB="value"in Op?Op.value:Op.textContent,h1=!0)),S=Zk(l,C),0<S.length&&(C=new eJ(C,e,null,n,c),f.push({event:C,listeners:S}),E?C.data=E:(E=che(n),E!==null&&(C.data=E)))),(E=o3e?s3e(e,n):a3e(e,n))&&(l=Zk(l,"onBeforeInput"),0<l.length&&(c=new eJ("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=E))}Ehe(f,t)})}function CT(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zk(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bT(e,n),o!=null&&r.unshift(CT(e,o,i)),o=bT(e,t),o!=null&&r.push(CT(e,o,i))),e=e.return}return r}function Cv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dJ(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=bT(n,o),u!=null&&s.unshift(CT(n,u,a))):i||(u=bT(n,o),u!=null&&s.push(CT(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var w3e=/\r\n?/g,E3e=/\u0000|\uFFFD/g;function hJ(e){return(typeof e=="string"?e:""+e).replace(w3e,`
`).replace(E3e,"")}function Z2(e,t,n){if(t=hJ(t),hJ(e)!==t&&n)throw Error(rt(425))}function eR(){}var zF=null,VF=null;function HF(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qF=typeof setTimeout=="function"?setTimeout:void 0,x3e=typeof clearTimeout=="function"?clearTimeout:void 0,pJ=typeof Promise=="function"?Promise:void 0,T3e=typeof queueMicrotask=="function"?queueMicrotask:typeof pJ<"u"?function(e){return pJ.resolve(null).then(e).catch(S3e)}:qF;function S3e(e){setTimeout(function(){throw e})}function K3(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ET(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ET(t)}function Zp(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mJ(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var w_=Math.random().toString(36).slice(2),gf="__reactFiber$"+w_,AT="__reactProps$"+w_,bh="__reactContainer$"+w_,WF="__reactEvents$"+w_,C3e="__reactListeners$"+w_,A3e="__reactHandles$"+w_;function u0(e){var t=e[gf];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bh]||n[gf]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mJ(e);e!==null;){if(n=e[gf])return n;e=mJ(e)}return t}e=n,n=e.parentNode}return null}function GS(e){return e=e[gf]||e[bh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function g1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function uD(e){return e[AT]||null}var GF=[],y1=-1;function Ym(e){return{current:e}}function Zr(e){0>y1||(e.current=GF[y1],GF[y1]=null,y1--)}function Br(e,t){y1++,GF[y1]=e.current,e.current=t}var _m={},zs=Ym(_m),Qa=Ym(!1),j0=_m;function pb(e,t){var n=e.type.contextTypes;if(!n)return _m;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ja(e){return e=e.childContextTypes,e!=null}function tR(){Zr(Qa),Zr(zs)}function gJ(e,t,n){if(zs.current!==_m)throw Error(rt(168));Br(zs,t),Br(Qa,n)}function The(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(rt(108,fMe(e)||"Unknown",i));return wi({},n,r)}function nR(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_m,j0=zs.current,Br(zs,e),Br(Qa,Qa.current),!0}function yJ(e,t,n){var r=e.stateNode;if(!r)throw Error(rt(169));n?(e=The(e,t,j0),r.__reactInternalMemoizedMergedChildContext=e,Zr(Qa),Zr(zs),Br(zs,e)):Zr(Qa),Br(Qa,n)}var Ld=null,lD=!1,X3=!1;function She(e){Ld===null?Ld=[e]:Ld.push(e)}function I3e(e){lD=!0,She(e)}function Km(){if(!X3&&Ld!==null){X3=!0;var e=0,t=Sr;try{var n=Ld;for(Sr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ld=null,lD=!1}catch(i){throw Ld!==null&&(Ld=Ld.slice(e+1)),Xde(zB,Km),i}finally{Sr=t,X3=!1}}return null}var v1=[],b1=0,rR=null,iR=0,fl=[],dl=0,B0=null,Hd=1,qd="";function Bg(e,t){v1[b1++]=iR,v1[b1++]=rR,rR=e,iR=t}function Che(e,t,n){fl[dl++]=Hd,fl[dl++]=qd,fl[dl++]=B0,B0=e;var r=Hd;e=qd;var i=32-Ac(r)-1;r&=~(1<<i),n+=1;var o=32-Ac(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Hd=1<<32-Ac(t)+i|n<<i|r,qd=o+e}else Hd=1<<o|n<<i|r,qd=e}function QB(e){e.return!==null&&(Bg(e,1),Che(e,1,0))}function JB(e){for(;e===rR;)rR=v1[--b1],v1[b1]=null,iR=v1[--b1],v1[b1]=null;for(;e===B0;)B0=fl[--dl],fl[dl]=null,qd=fl[--dl],fl[dl]=null,Hd=fl[--dl],fl[dl]=null}var Ou=null,Au=null,li=!1,hc=null;function Ahe(e,t){var n=gl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vJ(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ou=e,Au=Zp(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ou=e,Au=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=B0!==null?{id:Hd,overflow:qd}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ou=e,Au=null,!0):!1;default:return!1}}function YF(e){return(e.mode&1)!==0&&(e.flags&128)===0}function KF(e){if(li){var t=Au;if(t){var n=t;if(!vJ(e,t)){if(YF(e))throw Error(rt(418));t=Zp(n.nextSibling);var r=Ou;t&&vJ(e,t)?Ahe(r,n):(e.flags=e.flags&-4097|2,li=!1,Ou=e)}}else{if(YF(e))throw Error(rt(418));e.flags=e.flags&-4097|2,li=!1,Ou=e}}}function bJ(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ou=e}function eA(e){if(e!==Ou)return!1;if(!li)return bJ(e),li=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HF(e.type,e.memoizedProps)),t&&(t=Au)){if(YF(e))throw Ihe(),Error(rt(418));for(;t;)Ahe(e,t),t=Zp(t.nextSibling)}if(bJ(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Au=Zp(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Au=null}}else Au=Ou?Zp(e.stateNode.nextSibling):null;return!0}function Ihe(){for(var e=Au;e;)e=Zp(e.nextSibling)}function mb(){Au=Ou=null,li=!1}function ZB(e){hc===null?hc=[e]:hc.push(e)}var k3e=Fh.ReactCurrentBatchConfig;function Bw(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,e))}return e}function tA(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _J(e){var t=e._init;return t(e._payload)}function khe(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=rm(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,b,_){return v===null||v.tag!==6?(v=rL(b,y.mode,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function u(y,v,b,_){var w=b.type;return w===d1?c(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yp&&_J(w)===v.type)?(_=i(v,b.props),_.ref=Bw(y,v,b),_.return=y,_):(_=WI(b.type,b.key,b.props,null,y.mode,_),_.ref=Bw(y,v,b),_.return=y,_)}function l(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=iL(b,y.mode,_),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,_,w){return v===null||v.tag!==7?(v=w0(b,y.mode,_,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=rL(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case H2:return b=WI(v.type,v.key,v.props,null,y.mode,b),b.ref=Bw(y,null,v),b.return=y,b;case f1:return v=iL(v,y.mode,b),v.return=y,v;case yp:var _=v._init;return f(y,_(v._payload),b)}if(OE(v)||Ow(v))return v=w0(v,y.mode,b,null),v.return=y,v;tA(y,v)}return null}function d(y,v,b,_){var w=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:a(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case H2:return b.key===w?u(y,v,b,_):null;case f1:return b.key===w?l(y,v,b,_):null;case yp:return w=b._init,d(y,v,w(b._payload),_)}if(OE(b)||Ow(b))return w!==null?null:c(y,v,b,_,null);tA(y,b)}return null}function h(y,v,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,a(v,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case H2:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,w);case f1:return y=y.get(_.key===null?b:_.key)||null,l(v,y,_,w);case yp:var S=_._init;return h(y,v,b,S(_._payload),w)}if(OE(_)||Ow(_))return y=y.get(b)||null,c(v,y,_,w,null);tA(v,_)}return null}function p(y,v,b,_){for(var w=null,S=null,E=v,C=v=0,A=null;E!==null&&C<b.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var k=d(y,E,b[C],_);if(k===null){E===null&&(E=A);break}e&&E&&k.alternate===null&&t(y,E),v=o(k,v,C),S===null?w=k:S.sibling=k,S=k,E=A}if(C===b.length)return n(y,E),li&&Bg(y,C),w;if(E===null){for(;C<b.length;C++)E=f(y,b[C],_),E!==null&&(v=o(E,v,C),S===null?w=E:S.sibling=E,S=E);return li&&Bg(y,C),w}for(E=r(y,E);C<b.length;C++)A=h(E,y,C,b[C],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),v=o(A,v,C),S===null?w=A:S.sibling=A,S=A);return e&&E.forEach(function(P){return t(y,P)}),li&&Bg(y,C),w}function m(y,v,b,_){var w=Ow(b);if(typeof w!="function")throw Error(rt(150));if(b=w.call(b),b==null)throw Error(rt(151));for(var S=w=null,E=v,C=v=0,A=null,k=b.next();E!==null&&!k.done;C++,k=b.next()){E.index>C?(A=E,E=null):A=E.sibling;var P=d(y,E,k.value,_);if(P===null){E===null&&(E=A);break}e&&E&&P.alternate===null&&t(y,E),v=o(P,v,C),S===null?w=P:S.sibling=P,S=P,E=A}if(k.done)return n(y,E),li&&Bg(y,C),w;if(E===null){for(;!k.done;C++,k=b.next())k=f(y,k.value,_),k!==null&&(v=o(k,v,C),S===null?w=k:S.sibling=k,S=k);return li&&Bg(y,C),w}for(E=r(y,E);!k.done;C++,k=b.next())k=h(E,y,C,k.value,_),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?C:k.key),v=o(k,v,C),S===null?w=k:S.sibling=k,S=k);return e&&E.forEach(function($){return t(y,$)}),li&&Bg(y,C),w}function g(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===d1&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case H2:e:{for(var w=b.key,S=v;S!==null;){if(S.key===w){if(w=b.type,w===d1){if(S.tag===7){n(y,S.sibling),v=i(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yp&&_J(w)===S.type){n(y,S.sibling),v=i(S,b.props),v.ref=Bw(y,S,b),v.return=y,y=v;break e}n(y,S);break}else t(y,S);S=S.sibling}b.type===d1?(v=w0(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=WI(b.type,b.key,b.props,null,y.mode,_),_.ref=Bw(y,v,b),_.return=y,y=_)}return s(y);case f1:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=iL(b,y.mode,_),v.return=y,y=v}return s(y);case yp:return S=b._init,g(y,v,S(b._payload),_)}if(OE(b))return p(y,v,b,_);if(Ow(b))return m(y,v,b,_);tA(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=rL(b,y.mode,_),v.return=y,y=v),s(y)):n(y,v)}return g}var gb=khe(!0),Rhe=khe(!1),oR=Ym(null),sR=null,_1=null,e7=null;function t7(){e7=_1=sR=null}function n7(e){var t=oR.current;Zr(oR),e._currentValue=t}function XF(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function j1(e,t){sR=e,e7=_1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wa=!0),e.firstContext=null)}function Al(e){var t=e._currentValue;if(e7!==e)if(e={context:e,memoizedValue:t,next:null},_1===null){if(sR===null)throw Error(rt(308));_1=e,sR.dependencies={lanes:0,firstContext:e}}else _1=_1.next=e;return t}var l0=null;function r7(e){l0===null?l0=[e]:l0.push(e)}function Phe(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,r7(t)):(n.next=i.next,i.next=n),t.interleaved=n,_h(e,r)}function _h(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vp=!1;function i7(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nhe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ih(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function em(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,er&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_h(e,n)}return i=r.interleaved,i===null?(t.next=t,r7(r)):(t.next=i.next,i.next=t),r.interleaved=t,_h(e,n)}function BI(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,VB(e,n)}}function wJ(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aR(e,t,n,r){var i=e.updateQueue;vp=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,c=l=u=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=wi({},f,d);break e;case 2:vp=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);z0|=s,e.lanes=s,e.memoizedState=f}}function EJ(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var YS={},Df=Ym(YS),IT=Ym(YS),kT=Ym(YS);function c0(e){if(e===YS)throw Error(rt(174));return e}function o7(e,t){switch(Br(kT,t),Br(IT,e),Br(Df,YS),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RF(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RF(t,e)}Zr(Df),Br(Df,t)}function yb(){Zr(Df),Zr(IT),Zr(kT)}function Dhe(e){c0(kT.current);var t=c0(Df.current),n=RF(t,e.type);t!==n&&(Br(IT,e),Br(Df,n))}function s7(e){IT.current===e&&(Zr(Df),Zr(IT))}var mi=Ym(0);function uR(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Q3=[];function a7(){for(var e=0;e<Q3.length;e++)Q3[e]._workInProgressVersionPrimary=null;Q3.length=0}var UI=Fh.ReactCurrentDispatcher,J3=Fh.ReactCurrentBatchConfig,U0=0,bi=null,oo=null,ko=null,lR=!1,Ex=!1,RT=0,R3e=0;function Es(){throw Error(rt(321))}function u7(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oc(e[n],t[n]))return!1;return!0}function l7(e,t,n,r,i,o){if(U0=o,bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,UI.current=e===null||e.memoizedState===null?$3e:O3e,e=n(r,i),Ex){o=0;do{if(Ex=!1,RT=0,25<=o)throw Error(rt(301));o+=1,ko=oo=null,t.updateQueue=null,UI.current=M3e,e=n(r,i)}while(Ex)}if(UI.current=cR,t=oo!==null&&oo.next!==null,U0=0,ko=oo=bi=null,lR=!1,t)throw Error(rt(300));return e}function c7(){var e=RT!==0;return RT=0,e}function cf(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ko===null?bi.memoizedState=ko=e:ko=ko.next=e,ko}function Il(){if(oo===null){var e=bi.alternate;e=e!==null?e.memoizedState:null}else e=oo.next;var t=ko===null?bi.memoizedState:ko.next;if(t!==null)ko=t,oo=e;else{if(e===null)throw Error(rt(310));oo=e,e={memoizedState:oo.memoizedState,baseState:oo.baseState,baseQueue:oo.baseQueue,queue:oo.queue,next:null},ko===null?bi.memoizedState=ko=e:ko=ko.next=e}return ko}function PT(e,t){return typeof t=="function"?t(e):t}function Z3(e){var t=Il(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=oo,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((U0&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,bi.lanes|=c,z0|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,Oc(r,t.memoizedState)||(Wa=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,bi.lanes|=o,z0|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eL(e){var t=Il(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Oc(o,t.memoizedState)||(Wa=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function $he(){}function Ohe(e,t){var n=bi,r=Il(),i=t(),o=!Oc(r.memoizedState,i);if(o&&(r.memoizedState=i,Wa=!0),r=r.queue,f7(Fhe.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ko!==null&&ko.memoizedState.tag&1){if(n.flags|=2048,NT(9,Lhe.bind(null,n,r,i,t),void 0,null),Fo===null)throw Error(rt(349));U0&30||Mhe(n,t,i)}return i}function Mhe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bi.updateQueue,t===null?(t={lastEffect:null,stores:null},bi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lhe(e,t,n,r){t.value=n,t.getSnapshot=r,jhe(t)&&Bhe(e)}function Fhe(e,t,n){return n(function(){jhe(t)&&Bhe(e)})}function jhe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oc(e,n)}catch{return!0}}function Bhe(e){var t=_h(e,1);t!==null&&Ic(t,e,1,-1)}function xJ(e){var t=cf();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:PT,lastRenderedState:e},t.queue=e,e=e.dispatch=D3e.bind(null,bi,e),[t.memoizedState,e]}function NT(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bi.updateQueue,t===null?(t={lastEffect:null,stores:null},bi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uhe(){return Il().memoizedState}function zI(e,t,n,r){var i=cf();bi.flags|=e,i.memoizedState=NT(1|t,n,void 0,r===void 0?null:r)}function cD(e,t,n,r){var i=Il();r=r===void 0?null:r;var o=void 0;if(oo!==null){var s=oo.memoizedState;if(o=s.destroy,r!==null&&u7(r,s.deps)){i.memoizedState=NT(t,n,o,r);return}}bi.flags|=e,i.memoizedState=NT(1|t,n,o,r)}function TJ(e,t){return zI(8390656,8,e,t)}function f7(e,t){return cD(2048,8,e,t)}function zhe(e,t){return cD(4,2,e,t)}function Vhe(e,t){return cD(4,4,e,t)}function Hhe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qhe(e,t,n){return n=n!=null?n.concat([e]):null,cD(4,4,Hhe.bind(null,t,e),n)}function d7(){}function Whe(e,t){var n=Il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u7(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ghe(e,t){var n=Il();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&u7(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yhe(e,t,n){return U0&21?(Oc(n,t)||(n=Zde(),bi.lanes|=n,z0|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wa=!0),e.memoizedState=n)}function P3e(e,t){var n=Sr;Sr=n!==0&&4>n?n:4,e(!0);var r=J3.transition;J3.transition={};try{e(!1),t()}finally{Sr=n,J3.transition=r}}function Khe(){return Il().memoizedState}function N3e(e,t,n){var r=nm(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xhe(e))Qhe(t,n);else if(n=Phe(e,t,n,r),n!==null){var i=ha();Ic(n,e,r,i),Jhe(n,t,r)}}function D3e(e,t,n){var r=nm(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xhe(e))Qhe(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Oc(a,s)){var u=t.interleaved;u===null?(i.next=i,r7(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Phe(e,t,i,r),n!==null&&(i=ha(),Ic(n,e,r,i),Jhe(n,t,r))}}function Xhe(e){var t=e.alternate;return e===bi||t!==null&&t===bi}function Qhe(e,t){Ex=lR=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jhe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,VB(e,n)}}var cR={readContext:Al,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},$3e={readContext:Al,useCallback:function(e,t){return cf().memoizedState=[e,t===void 0?null:t],e},useContext:Al,useEffect:TJ,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zI(4194308,4,Hhe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zI(4194308,4,e,t)},useInsertionEffect:function(e,t){return zI(4,2,e,t)},useMemo:function(e,t){var n=cf();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cf();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=N3e.bind(null,bi,e),[r.memoizedState,e]},useRef:function(e){var t=cf();return e={current:e},t.memoizedState=e},useState:xJ,useDebugValue:d7,useDeferredValue:function(e){return cf().memoizedState=e},useTransition:function(){var e=xJ(!1),t=e[0];return e=P3e.bind(null,e[1]),cf().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bi,i=cf();if(li){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),Fo===null)throw Error(rt(349));U0&30||Mhe(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,TJ(Fhe.bind(null,r,o,e),[e]),r.flags|=2048,NT(9,Lhe.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=cf(),t=Fo.identifierPrefix;if(li){var n=qd,r=Hd;n=(r&~(1<<32-Ac(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=RT++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=R3e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},O3e={readContext:Al,useCallback:Whe,useContext:Al,useEffect:f7,useImperativeHandle:qhe,useInsertionEffect:zhe,useLayoutEffect:Vhe,useMemo:Ghe,useReducer:Z3,useRef:Uhe,useState:function(){return Z3(PT)},useDebugValue:d7,useDeferredValue:function(e){var t=Il();return Yhe(t,oo.memoizedState,e)},useTransition:function(){var e=Z3(PT)[0],t=Il().memoizedState;return[e,t]},useMutableSource:$he,useSyncExternalStore:Ohe,useId:Khe,unstable_isNewReconciler:!1},M3e={readContext:Al,useCallback:Whe,useContext:Al,useEffect:f7,useImperativeHandle:qhe,useInsertionEffect:zhe,useLayoutEffect:Vhe,useMemo:Ghe,useReducer:eL,useRef:Uhe,useState:function(){return eL(PT)},useDebugValue:d7,useDeferredValue:function(e){var t=Il();return oo===null?t.memoizedState=e:Yhe(t,oo.memoizedState,e)},useTransition:function(){var e=eL(PT)[0],t=Il().memoizedState;return[e,t]},useMutableSource:$he,useSyncExternalStore:Ohe,useId:Khe,unstable_isNewReconciler:!1};function uc(e,t){if(e&&e.defaultProps){t=wi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function QF(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:wi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fD={isMounted:function(e){return(e=e._reactInternals)?Py(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ha(),i=nm(e),o=ih(r,i);o.payload=t,n!=null&&(o.callback=n),t=em(e,o,i),t!==null&&(Ic(t,e,i,r),BI(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ha(),i=nm(e),o=ih(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=em(e,o,i),t!==null&&(Ic(t,e,i,r),BI(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ha(),r=nm(e),i=ih(n,r);i.tag=2,t!=null&&(i.callback=t),t=em(e,i,r),t!==null&&(Ic(t,e,r,n),BI(t,e,r))}};function SJ(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!TT(n,r)||!TT(i,o):!0}function Zhe(e,t,n){var r=!1,i=_m,o=t.contextType;return typeof o=="object"&&o!==null?o=Al(o):(i=Ja(t)?j0:zs.current,r=t.contextTypes,o=(r=r!=null)?pb(e,i):_m),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fD,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function CJ(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fD.enqueueReplaceState(t,t.state,null)}function JF(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i7(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Al(o):(o=Ja(t)?j0:zs.current,i.context=pb(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(QF(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fD.enqueueReplaceState(i,i.state,null),aR(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vb(e,t){try{var n="",r=t;do n+=cMe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function tL(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ZF(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var L3e=typeof WeakMap=="function"?WeakMap:Map;function epe(e,t,n){n=ih(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){dR||(dR=!0,l5=r),ZF(e,t)},n}function tpe(e,t,n){n=ih(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ZF(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ZF(e,t),typeof r!="function"&&(tm===null?tm=new Set([this]):tm.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function AJ(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new L3e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Q3e.bind(null,e,t,n),t.then(e,e))}function IJ(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kJ(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ih(-1,1),t.tag=2,em(n,t,1))),n.lanes|=1),e)}var F3e=Fh.ReactCurrentOwner,Wa=!1;function ra(e,t,n,r){t.child=e===null?Rhe(t,null,n,r):gb(t,e.child,n,r)}function RJ(e,t,n,r,i){n=n.render;var o=t.ref;return j1(t,i),r=l7(e,t,n,r,o,i),n=c7(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wh(e,t,i)):(li&&n&&QB(t),t.flags|=1,ra(e,t,r,i),t.child)}function PJ(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!_7(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,npe(e,t,o,r,i)):(e=WI(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:TT,n(s,r)&&e.ref===t.ref)return wh(e,t,i)}return t.flags|=1,e=rm(o,r),e.ref=t.ref,e.return=t,t.child=e}function npe(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(TT(o,r)&&e.ref===t.ref)if(Wa=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Wa=!0);else return t.lanes=e.lanes,wh(e,t,i)}return e5(e,t,n,r,i)}function rpe(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Br(E1,wu),wu|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Br(E1,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Br(E1,wu),wu|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Br(E1,wu),wu|=r;return ra(e,t,i,n),t.child}function ipe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function e5(e,t,n,r,i){var o=Ja(n)?j0:zs.current;return o=pb(t,o),j1(t,i),n=l7(e,t,n,r,o,i),r=c7(),e!==null&&!Wa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wh(e,t,i)):(li&&r&&QB(t),t.flags|=1,ra(e,t,n,i),t.child)}function NJ(e,t,n,r,i){if(Ja(n)){var o=!0;nR(t)}else o=!1;if(j1(t,i),t.stateNode===null)VI(e,t),Zhe(t,n,r),JF(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Al(l):(l=Ja(n)?j0:zs.current,l=pb(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&CJ(t,s,r,l),vp=!1;var d=t.memoizedState;s.state=d,aR(t,r,s,i),u=t.memoizedState,a!==r||d!==u||Qa.current||vp?(typeof c=="function"&&(QF(t,n,c,r),u=t.memoizedState),(a=vp||SJ(t,n,a,r,d,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Nhe(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:uc(t.type,a),s.props=l,f=t.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Al(u):(u=Ja(n)?j0:zs.current,u=pb(t,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&CJ(t,s,r,u),vp=!1,d=t.memoizedState,s.state=d,aR(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||Qa.current||vp?(typeof h=="function"&&(QF(t,n,h,r),p=t.memoizedState),(l=vp||SJ(t,n,l,r,d,p,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return t5(e,t,n,r,o,i)}function t5(e,t,n,r,i,o){ipe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&yJ(t,n,!1),wh(e,t,o);r=t.stateNode,F3e.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=gb(t,e.child,null,o),t.child=gb(t,null,a,o)):ra(e,t,a,o),t.memoizedState=r.state,i&&yJ(t,n,!0),t.child}function ope(e){var t=e.stateNode;t.pendingContext?gJ(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gJ(e,t.context,!1),o7(e,t.containerInfo)}function DJ(e,t,n,r,i){return mb(),ZB(i),t.flags|=256,ra(e,t,n,r),t.child}var n5={dehydrated:null,treeContext:null,retryLane:0};function r5(e){return{baseLanes:e,cachePool:null,transitions:null}}function spe(e,t,n){var r=t.pendingProps,i=mi.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Br(mi,i&1),e===null)return KF(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=pD(s,r,0,null),e=w0(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=r5(n),t.memoizedState=n5,e):h7(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return j3e(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=rm(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=rm(a,o):(o=w0(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?r5(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=n5,r}return o=e.child,e=o.sibling,r=rm(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function h7(e,t){return t=pD({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nA(e,t,n,r){return r!==null&&ZB(r),gb(t,e.child,null,n),e=h7(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function j3e(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=tL(Error(rt(422))),nA(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=pD({mode:"visible",children:r.children},i,0,null),o=w0(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&gb(t,e.child,null,s),t.child.memoizedState=r5(s),t.memoizedState=n5,o);if(!(t.mode&1))return nA(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(rt(419)),r=tL(o,r,void 0),nA(e,t,s,r)}if(a=(s&e.childLanes)!==0,Wa||a){if(r=Fo,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,_h(e,i),Ic(r,e,i,-1))}return b7(),r=tL(Error(rt(421))),nA(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=J3e.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Au=Zp(i.nextSibling),Ou=t,li=!0,hc=null,e!==null&&(fl[dl++]=Hd,fl[dl++]=qd,fl[dl++]=B0,Hd=e.id,qd=e.overflow,B0=t),t=h7(t,r.children),t.flags|=4096,t)}function $J(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),XF(e.return,t,n)}function nL(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ape(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ra(e,t,r.children,n),r=mi.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$J(e,n,t);else if(e.tag===19)$J(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Br(mi,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&uR(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nL(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&uR(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nL(t,!0,n,null,o);break;case"together":nL(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function VI(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wh(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),z0|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=rm(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=rm(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B3e(e,t,n){switch(t.tag){case 3:ope(t),mb();break;case 5:Dhe(t);break;case 1:Ja(t.type)&&nR(t);break;case 4:o7(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Br(oR,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Br(mi,mi.current&1),t.flags|=128,null):n&t.child.childLanes?spe(e,t,n):(Br(mi,mi.current&1),e=wh(e,t,n),e!==null?e.sibling:null);Br(mi,mi.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ape(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Br(mi,mi.current),r)break;return null;case 22:case 23:return t.lanes=0,rpe(e,t,n)}return wh(e,t,n)}var upe,i5,lpe,cpe;upe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i5=function(){};lpe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,c0(Df.current);var o=null;switch(n){case"input":i=CF(e,i),r=CF(e,r),o=[];break;case"select":i=wi({},i,{value:void 0}),r=wi({},r,{value:void 0}),o=[];break;case"textarea":i=kF(e,i),r=kF(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=eR)}PF(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(yT.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(yT.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Gr("scroll",e),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};cpe=function(e,t,n,r){n!==r&&(t.flags|=4)};function Uw(e,t){if(!li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function U3e(e,t,n){var r=t.pendingProps;switch(JB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xs(t),null;case 1:return Ja(t.type)&&tR(),xs(t),null;case 3:return r=t.stateNode,yb(),Zr(Qa),Zr(zs),a7(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(eA(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hc!==null&&(d5(hc),hc=null))),i5(e,t),xs(t),null;case 5:s7(t);var i=c0(kT.current);if(n=t.type,e!==null&&t.stateNode!=null)lpe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(rt(166));return xs(t),null}if(e=c0(Df.current),eA(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gf]=t,r[AT]=o,e=(t.mode&1)!==0,n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<LE.length;i++)Gr(LE[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":VQ(r,o),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Gr("invalid",r);break;case"textarea":qQ(r,o),Gr("invalid",r)}PF(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Z2(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Z2(r.textContent,a,e),i=["children",""+a]):yT.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Gr("scroll",r)}switch(n){case"input":q2(r),HQ(r,o,!0);break;case"textarea":q2(r),WQ(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=eR)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fde(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[gf]=t,e[AT]=r,upe(e,t,!1,!1),t.stateNode=e;e:{switch(s=NF(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<LE.length;i++)Gr(LE[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":VQ(e,r),i=CF(e,r),Gr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=wi({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":qQ(e,r),i=kF(e,r),Gr("invalid",e);break;default:i=r}PF(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Ude(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jde(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&vT(e,u):typeof u=="number"&&vT(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yT.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Gr("scroll",e):u!=null&&LB(e,o,u,s))}switch(n){case"input":q2(e),HQ(e,r,!1);break;case"textarea":q2(e),WQ(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bm(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?O1(e,!!r.multiple,o,!1):r.defaultValue!=null&&O1(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=eR)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xs(t),null;case 6:if(e&&t.stateNode!=null)cpe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(rt(166));if(n=c0(kT.current),c0(Df.current),eA(t)){if(r=t.stateNode,n=t.memoizedProps,r[gf]=t,(o=r.nodeValue!==n)&&(e=Ou,e!==null))switch(e.tag){case 3:Z2(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Z2(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gf]=t,t.stateNode=r}return xs(t),null;case 13:if(Zr(mi),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(li&&Au!==null&&t.mode&1&&!(t.flags&128))Ihe(),mb(),t.flags|=98560,o=!1;else if(o=eA(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(rt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(rt(317));o[gf]=t}else mb(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xs(t),o=!1}else hc!==null&&(d5(hc),hc=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mi.current&1?co===0&&(co=3):b7())),t.updateQueue!==null&&(t.flags|=4),xs(t),null);case 4:return yb(),i5(e,t),e===null&&ST(t.stateNode.containerInfo),xs(t),null;case 10:return n7(t.type._context),xs(t),null;case 17:return Ja(t.type)&&tR(),xs(t),null;case 19:if(Zr(mi),o=t.memoizedState,o===null)return xs(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Uw(o,!1);else{if(co!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=uR(e),s!==null){for(t.flags|=128,Uw(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Br(mi,mi.current&1|2),t.child}e=e.sibling}o.tail!==null&&ji()>bb&&(t.flags|=128,r=!0,Uw(o,!1),t.lanes=4194304)}else{if(!r)if(e=uR(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Uw(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!li)return xs(t),null}else 2*ji()-o.renderingStartTime>bb&&n!==1073741824&&(t.flags|=128,r=!0,Uw(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ji(),t.sibling=null,n=mi.current,Br(mi,r?n&1|2:n&1),t):(xs(t),null);case 22:case 23:return v7(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wu&1073741824&&(xs(t),t.subtreeFlags&6&&(t.flags|=8192)):xs(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function z3e(e,t){switch(JB(t),t.tag){case 1:return Ja(t.type)&&tR(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yb(),Zr(Qa),Zr(zs),a7(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return s7(t),null;case 13:if(Zr(mi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));mb()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zr(mi),null;case 4:return yb(),null;case 10:return n7(t.type._context),null;case 22:case 23:return v7(),null;case 24:return null;default:return null}}var rA=!1,Ps=!1,V3e=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function w1(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ci(e,t,r)}else n.current=null}function o5(e,t,n){try{n()}catch(r){Ci(e,t,r)}}var OJ=!1;function H3e(e,t){if(zF=Qk,e=mhe(),XB(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++l===i&&(a=s),d===o&&++c===r&&(u=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(VF={focusedElem:e,selectionRange:n},Qk=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:uc(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(_){Ci(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return p=OJ,OJ=!1,p}function xx(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&o5(t,n,o)}i=i.next}while(i!==r)}}function dD(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function s5(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fpe(e){var t=e.alternate;t!==null&&(e.alternate=null,fpe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gf],delete t[AT],delete t[WF],delete t[C3e],delete t[A3e])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dpe(e){return e.tag===5||e.tag===3||e.tag===4}function MJ(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dpe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function a5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=eR));else if(r!==4&&(e=e.child,e!==null))for(a5(e,t,n),e=e.sibling;e!==null;)a5(e,t,n),e=e.sibling}function u5(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(u5(e,t,n),e=e.sibling;e!==null;)u5(e,t,n),e=e.sibling}var ts=null,cc=!1;function op(e,t,n){for(n=n.child;n!==null;)hpe(e,t,n),n=n.sibling}function hpe(e,t,n){if(Nf&&typeof Nf.onCommitFiberUnmount=="function")try{Nf.onCommitFiberUnmount(iD,n)}catch{}switch(n.tag){case 5:Ps||w1(n,t);case 6:var r=ts,i=cc;ts=null,op(e,t,n),ts=r,cc=i,ts!==null&&(cc?(e=ts,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ts.removeChild(n.stateNode));break;case 18:ts!==null&&(cc?(e=ts,n=n.stateNode,e.nodeType===8?K3(e.parentNode,n):e.nodeType===1&&K3(e,n),ET(e)):K3(ts,n.stateNode));break;case 4:r=ts,i=cc,ts=n.stateNode.containerInfo,cc=!0,op(e,t,n),ts=r,cc=i;break;case 0:case 11:case 14:case 15:if(!Ps&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&o5(n,t,s),i=i.next}while(i!==r)}op(e,t,n);break;case 1:if(!Ps&&(w1(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ci(n,t,a)}op(e,t,n);break;case 21:op(e,t,n);break;case 22:n.mode&1?(Ps=(r=Ps)||n.memoizedState!==null,op(e,t,n),Ps=r):op(e,t,n);break;default:op(e,t,n)}}function LJ(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new V3e),t.forEach(function(r){var i=Z3e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ec(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:ts=a.stateNode,cc=!1;break e;case 3:ts=a.stateNode.containerInfo,cc=!0;break e;case 4:ts=a.stateNode.containerInfo,cc=!0;break e}a=a.return}if(ts===null)throw Error(rt(160));hpe(o,s,i),ts=null,cc=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ci(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ppe(t,e),t=t.sibling}function ppe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ec(t,e),rf(e),r&4){try{xx(3,e,e.return),dD(3,e)}catch(m){Ci(e,e.return,m)}try{xx(5,e,e.return)}catch(m){Ci(e,e.return,m)}}break;case 1:ec(t,e),rf(e),r&512&&n!==null&&w1(n,n.return);break;case 5:if(ec(t,e),rf(e),r&512&&n!==null&&w1(n,n.return),e.flags&32){var i=e.stateNode;try{vT(i,"")}catch(m){Ci(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Mde(i,o),NF(a,s);var l=NF(a,o);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?Ude(i,f):c==="dangerouslySetInnerHTML"?jde(i,f):c==="children"?vT(i,f):LB(i,c,f,l)}switch(a){case"input":AF(i,o);break;case"textarea":Lde(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?O1(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?O1(i,!!o.multiple,o.defaultValue,!0):O1(i,!!o.multiple,o.multiple?[]:"",!1))}i[AT]=o}catch(m){Ci(e,e.return,m)}}break;case 6:if(ec(t,e),rf(e),r&4){if(e.stateNode===null)throw Error(rt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ci(e,e.return,m)}}break;case 3:if(ec(t,e),rf(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ET(t.containerInfo)}catch(m){Ci(e,e.return,m)}break;case 4:ec(t,e),rf(e);break;case 13:ec(t,e),rf(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(g7=ji())),r&4&&LJ(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ps=(l=Ps)||c,ec(t,e),Ps=l):ec(t,e),rf(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Dt=e,c=e.child;c!==null;){for(f=Dt=c;Dt!==null;){switch(d=Dt,h=d.child,d.tag){case 0:case 11:case 14:case 15:xx(4,d,d.return);break;case 1:w1(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ci(r,n,m)}}break;case 5:w1(d,d.return);break;case 22:if(d.memoizedState!==null){jJ(f);continue}}h!==null?(h.return=d,Dt=h):jJ(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Bde("display",s))}catch(m){Ci(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){Ci(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ec(t,e),rf(e),r&4&&LJ(e);break;case 21:break;default:ec(t,e),rf(e)}}function rf(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dpe(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vT(i,""),r.flags&=-33);var o=MJ(e);u5(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=MJ(e);a5(e,a,s);break;default:throw Error(rt(161))}}catch(u){Ci(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q3e(e,t,n){Dt=e,mpe(e)}function mpe(e,t,n){for(var r=(e.mode&1)!==0;Dt!==null;){var i=Dt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rA;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ps;a=rA;var l=Ps;if(rA=s,(Ps=u)&&!l)for(Dt=i;Dt!==null;)s=Dt,u=s.child,s.tag===22&&s.memoizedState!==null?BJ(i):u!==null?(u.return=s,Dt=u):BJ(i);for(;o!==null;)Dt=o,mpe(o),o=o.sibling;Dt=i,rA=a,Ps=l}FJ(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Dt=o):FJ(e)}}function FJ(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ps||dD(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ps)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uc(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&EJ(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}EJ(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ET(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ps||t.flags&512&&s5(t)}catch(d){Ci(t,t.return,d)}}if(t===e){Dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function jJ(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Dt=n;break}Dt=t.return}}function BJ(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dD(4,t)}catch(u){Ci(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Ci(t,i,u)}}var o=t.return;try{s5(t)}catch(u){Ci(t,o,u)}break;case 5:var s=t.return;try{s5(t)}catch(u){Ci(t,s,u)}}}catch(u){Ci(t,t.return,u)}if(t===e){Dt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Dt=a;break}Dt=t.return}}var W3e=Math.ceil,fR=Fh.ReactCurrentDispatcher,p7=Fh.ReactCurrentOwner,El=Fh.ReactCurrentBatchConfig,er=0,Fo=null,eo=null,ls=0,wu=0,E1=Ym(0),co=0,DT=null,z0=0,hD=0,m7=0,Tx=null,ja=null,g7=0,bb=1/0,$d=null,dR=!1,l5=null,tm=null,iA=!1,Mp=null,hR=0,Sx=0,c5=null,HI=-1,qI=0;function ha(){return er&6?ji():HI!==-1?HI:HI=ji()}function nm(e){return e.mode&1?er&2&&ls!==0?ls&-ls:k3e.transition!==null?(qI===0&&(qI=Zde()),qI):(e=Sr,e!==0||(e=window.event,e=e===void 0?16:she(e.type)),e):1}function Ic(e,t,n,r){if(50<Sx)throw Sx=0,c5=null,Error(rt(185));qS(e,n,r),(!(er&2)||e!==Fo)&&(e===Fo&&(!(er&2)&&(hD|=n),co===4&&Cp(e,ls)),Za(e,r),n===1&&er===0&&!(t.mode&1)&&(bb=ji()+500,lD&&Km()))}function Za(e,t){var n=e.callbackNode;kMe(e,t);var r=Xk(e,e===Fo?ls:0);if(r===0)n!==null&&KQ(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&KQ(n),t===1)e.tag===0?I3e(UJ.bind(null,e)):She(UJ.bind(null,e)),T3e(function(){!(er&6)&&Km()}),n=null;else{switch(ehe(r)){case 1:n=zB;break;case 4:n=Qde;break;case 16:n=Kk;break;case 536870912:n=Jde;break;default:n=Kk}n=xpe(n,gpe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gpe(e,t){if(HI=-1,qI=0,er&6)throw Error(rt(327));var n=e.callbackNode;if(B1()&&e.callbackNode!==n)return null;var r=Xk(e,e===Fo?ls:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pR(e,r);else{t=r;var i=er;er|=2;var o=vpe();(Fo!==e||ls!==t)&&($d=null,bb=ji()+500,_0(e,t));do try{K3e();break}catch(a){ype(e,a)}while(!0);t7(),fR.current=o,er=i,eo!==null?t=0:(Fo=null,ls=0,t=co)}if(t!==0){if(t===2&&(i=LF(e),i!==0&&(r=i,t=f5(e,i))),t===1)throw n=DT,_0(e,0),Cp(e,r),Za(e,ji()),n;if(t===6)Cp(e,r);else{if(i=e.current.alternate,!(r&30)&&!G3e(i)&&(t=pR(e,r),t===2&&(o=LF(e),o!==0&&(r=o,t=f5(e,o))),t===1))throw n=DT,_0(e,0),Cp(e,r),Za(e,ji()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(rt(345));case 2:Ug(e,ja,$d);break;case 3:if(Cp(e,r),(r&130023424)===r&&(t=g7+500-ji(),10<t)){if(Xk(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ha(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qF(Ug.bind(null,e,ja,$d),t);break}Ug(e,ja,$d);break;case 4:if(Cp(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ac(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ji()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W3e(r/1960))-r,10<r){e.timeoutHandle=qF(Ug.bind(null,e,ja,$d),r);break}Ug(e,ja,$d);break;case 5:Ug(e,ja,$d);break;default:throw Error(rt(329))}}}return Za(e,ji()),e.callbackNode===n?gpe.bind(null,e):null}function f5(e,t){var n=Tx;return e.current.memoizedState.isDehydrated&&(_0(e,t).flags|=256),e=pR(e,t),e!==2&&(t=ja,ja=n,t!==null&&d5(t)),e}function d5(e){ja===null?ja=e:ja.push.apply(ja,e)}function G3e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Oc(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cp(e,t){for(t&=~m7,t&=~hD,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ac(t),r=1<<n;e[n]=-1,t&=~r}}function UJ(e){if(er&6)throw Error(rt(327));B1();var t=Xk(e,0);if(!(t&1))return Za(e,ji()),null;var n=pR(e,t);if(e.tag!==0&&n===2){var r=LF(e);r!==0&&(t=r,n=f5(e,r))}if(n===1)throw n=DT,_0(e,0),Cp(e,t),Za(e,ji()),n;if(n===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ug(e,ja,$d),Za(e,ji()),null}function y7(e,t){var n=er;er|=1;try{return e(t)}finally{er=n,er===0&&(bb=ji()+500,lD&&Km())}}function V0(e){Mp!==null&&Mp.tag===0&&!(er&6)&&B1();var t=er;er|=1;var n=El.transition,r=Sr;try{if(El.transition=null,Sr=1,e)return e()}finally{Sr=r,El.transition=n,er=t,!(er&6)&&Km()}}function v7(){wu=E1.current,Zr(E1)}function _0(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,x3e(n)),eo!==null)for(n=eo.return;n!==null;){var r=n;switch(JB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tR();break;case 3:yb(),Zr(Qa),Zr(zs),a7();break;case 5:s7(r);break;case 4:yb();break;case 13:Zr(mi);break;case 19:Zr(mi);break;case 10:n7(r.type._context);break;case 22:case 23:v7()}n=n.return}if(Fo=e,eo=e=rm(e.current,null),ls=wu=t,co=0,DT=null,m7=hD=z0=0,ja=Tx=null,l0!==null){for(t=0;t<l0.length;t++)if(n=l0[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}l0=null}return e}function ype(e,t){do{var n=eo;try{if(t7(),UI.current=cR,lR){for(var r=bi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lR=!1}if(U0=0,ko=oo=bi=null,Ex=!1,RT=0,p7.current=null,n===null||n.return===null){co=1,DT=t,eo=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=ls,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=IJ(s);if(h!==null){h.flags&=-257,kJ(h,s,a,o,t),h.mode&1&&AJ(o,l,t),t=h,u=l;var p=t.updateQueue;if(p===null){var m=new Set;m.add(u),t.updateQueue=m}else p.add(u);break e}else{if(!(t&1)){AJ(o,l,t),b7();break e}u=Error(rt(426))}}else if(li&&a.mode&1){var g=IJ(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),kJ(g,s,a,o,t),ZB(vb(u,a));break e}}o=u=vb(u,a),co!==4&&(co=2),Tx===null?Tx=[o]:Tx.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=epe(o,u,t);wJ(o,y);break e;case 1:a=u;var v=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(tm===null||!tm.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=tpe(o,a,t);wJ(o,_);break e}}o=o.return}while(o!==null)}_pe(n)}catch(w){t=w,eo===n&&n!==null&&(eo=n=n.return);continue}break}while(!0)}function vpe(){var e=fR.current;return fR.current=cR,e===null?cR:e}function b7(){(co===0||co===3||co===2)&&(co=4),Fo===null||!(z0&268435455)&&!(hD&268435455)||Cp(Fo,ls)}function pR(e,t){var n=er;er|=2;var r=vpe();(Fo!==e||ls!==t)&&($d=null,_0(e,t));do try{Y3e();break}catch(i){ype(e,i)}while(!0);if(t7(),er=n,fR.current=r,eo!==null)throw Error(rt(261));return Fo=null,ls=0,co}function Y3e(){for(;eo!==null;)bpe(eo)}function K3e(){for(;eo!==null&&!_Me();)bpe(eo)}function bpe(e){var t=Epe(e.alternate,e,wu);e.memoizedProps=e.pendingProps,t===null?_pe(e):eo=t,p7.current=null}function _pe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=z3e(n,t),n!==null){n.flags&=32767,eo=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{co=6,eo=null;return}}else if(n=U3e(n,t,wu),n!==null){eo=n;return}if(t=t.sibling,t!==null){eo=t;return}eo=t=e}while(t!==null);co===0&&(co=5)}function Ug(e,t,n){var r=Sr,i=El.transition;try{El.transition=null,Sr=1,X3e(e,t,n,r)}finally{El.transition=i,Sr=r}return null}function X3e(e,t,n,r){do B1();while(Mp!==null);if(er&6)throw Error(rt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(RMe(e,o),e===Fo&&(eo=Fo=null,ls=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iA||(iA=!0,xpe(Kk,function(){return B1(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=El.transition,El.transition=null;var s=Sr;Sr=1;var a=er;er|=4,p7.current=null,H3e(e,n),ppe(n,e),g3e(VF),Qk=!!zF,VF=zF=null,e.current=n,q3e(n),wMe(),er=a,Sr=s,El.transition=o}else e.current=n;if(iA&&(iA=!1,Mp=e,hR=i),o=e.pendingLanes,o===0&&(tm=null),TMe(n.stateNode),Za(e,ji()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dR)throw dR=!1,e=l5,l5=null,e;return hR&1&&e.tag!==0&&B1(),o=e.pendingLanes,o&1?e===c5?Sx++:(Sx=0,c5=e):Sx=0,Km(),null}function B1(){if(Mp!==null){var e=ehe(hR),t=El.transition,n=Sr;try{if(El.transition=null,Sr=16>e?16:e,Mp===null)var r=!1;else{if(e=Mp,Mp=null,hR=0,er&6)throw Error(rt(331));var i=er;for(er|=4,Dt=e.current;Dt!==null;){var o=Dt,s=o.child;if(Dt.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Dt=l;Dt!==null;){var c=Dt;switch(c.tag){case 0:case 11:case 15:xx(8,c,o)}var f=c.child;if(f!==null)f.return=c,Dt=f;else for(;Dt!==null;){c=Dt;var d=c.sibling,h=c.return;if(fpe(c),c===l){Dt=null;break}if(d!==null){d.return=h,Dt=d;break}Dt=h}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Dt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Dt=s;else e:for(;Dt!==null;){if(o=Dt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xx(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Dt=y;break e}Dt=o.return}}var v=e.current;for(Dt=v;Dt!==null;){s=Dt;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Dt=b;else e:for(s=v;Dt!==null;){if(a=Dt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dD(9,a)}}catch(w){Ci(a,a.return,w)}if(a===s){Dt=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Dt=_;break e}Dt=a.return}}if(er=i,Km(),Nf&&typeof Nf.onPostCommitFiberRoot=="function")try{Nf.onPostCommitFiberRoot(iD,e)}catch{}r=!0}return r}finally{Sr=n,El.transition=t}}return!1}function zJ(e,t,n){t=vb(n,t),t=epe(e,t,1),e=em(e,t,1),t=ha(),e!==null&&(qS(e,1,t),Za(e,t))}function Ci(e,t,n){if(e.tag===3)zJ(e,e,n);else for(;t!==null;){if(t.tag===3){zJ(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tm===null||!tm.has(r))){e=vb(n,e),e=tpe(t,e,1),t=em(t,e,1),e=ha(),t!==null&&(qS(t,1,e),Za(t,e));break}}t=t.return}}function Q3e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ha(),e.pingedLanes|=e.suspendedLanes&n,Fo===e&&(ls&n)===n&&(co===4||co===3&&(ls&130023424)===ls&&500>ji()-g7?_0(e,0):m7|=n),Za(e,t)}function wpe(e,t){t===0&&(e.mode&1?(t=Y2,Y2<<=1,!(Y2&130023424)&&(Y2=4194304)):t=1);var n=ha();e=_h(e,t),e!==null&&(qS(e,t,n),Za(e,n))}function J3e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wpe(e,n)}function Z3e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(t),wpe(e,n)}var Epe;Epe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Wa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Wa=!1,B3e(e,t,n);Wa=!!(e.flags&131072)}else Wa=!1,li&&t.flags&1048576&&Che(t,iR,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;VI(e,t),e=t.pendingProps;var i=pb(t,zs.current);j1(t,n),i=l7(null,t,r,e,i,n);var o=c7();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ja(r)?(o=!0,nR(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i7(t),i.updater=fD,t.stateNode=i,i._reactInternals=t,JF(t,r,e,n),t=t5(null,t,r,!0,o,n)):(t.tag=0,li&&o&&QB(t),ra(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(VI(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=tLe(r),e=uc(r,e),i){case 0:t=e5(null,t,r,e,n);break e;case 1:t=NJ(null,t,r,e,n);break e;case 11:t=RJ(null,t,r,e,n);break e;case 14:t=PJ(null,t,r,uc(r.type,e),n);break e}throw Error(rt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uc(r,i),e5(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uc(r,i),NJ(e,t,r,i,n);case 3:e:{if(ope(t),e===null)throw Error(rt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Nhe(e,t),aR(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=vb(Error(rt(423)),t),t=DJ(e,t,r,n,i);break e}else if(r!==i){i=vb(Error(rt(424)),t),t=DJ(e,t,r,n,i);break e}else for(Au=Zp(t.stateNode.containerInfo.firstChild),Ou=t,li=!0,hc=null,n=Rhe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mb(),r===i){t=wh(e,t,n);break e}ra(e,t,r,n)}t=t.child}return t;case 5:return Dhe(t),e===null&&KF(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,HF(r,i)?s=null:o!==null&&HF(r,o)&&(t.flags|=32),ipe(e,t),ra(e,t,s,n),t.child;case 6:return e===null&&KF(t),null;case 13:return spe(e,t,n);case 4:return o7(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gb(t,null,r,n):ra(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uc(r,i),RJ(e,t,r,i,n);case 7:return ra(e,t,t.pendingProps,n),t.child;case 8:return ra(e,t,t.pendingProps.children,n),t.child;case 12:return ra(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Br(oR,r._currentValue),r._currentValue=s,o!==null)if(Oc(o.value,s)){if(o.children===i.children&&!Qa.current){t=wh(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=ih(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),XF(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(rt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),XF(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ra(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,j1(t,n),i=Al(i),r=r(i),t.flags|=1,ra(e,t,r,n),t.child;case 14:return r=t.type,i=uc(r,t.pendingProps),i=uc(r.type,i),PJ(e,t,r,i,n);case 15:return npe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uc(r,i),VI(e,t),t.tag=1,Ja(r)?(e=!0,nR(t)):e=!1,j1(t,n),Zhe(t,r,i),JF(t,r,i,n),t5(null,t,r,!0,e,n);case 19:return ape(e,t,n);case 22:return rpe(e,t,n)}throw Error(rt(156,t.tag))};function xpe(e,t){return Xde(e,t)}function eLe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gl(e,t,n,r){return new eLe(e,t,n,r)}function _7(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tLe(e){if(typeof e=="function")return _7(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jB)return 11;if(e===BB)return 14}return 2}function rm(e,t){var n=e.alternate;return n===null?(n=gl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function WI(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")_7(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case d1:return w0(n.children,i,o,t);case FB:s=8,i|=8;break;case EF:return e=gl(12,n,t,i|2),e.elementType=EF,e.lanes=o,e;case xF:return e=gl(13,n,t,i),e.elementType=xF,e.lanes=o,e;case TF:return e=gl(19,n,t,i),e.elementType=TF,e.lanes=o,e;case Dde:return pD(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pde:s=10;break e;case Nde:s=9;break e;case jB:s=11;break e;case BB:s=14;break e;case yp:s=16,r=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=gl(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function w0(e,t,n,r){return e=gl(7,e,r,t),e.lanes=n,e}function pD(e,t,n,r){return e=gl(22,e,r,t),e.elementType=Dde,e.lanes=n,e.stateNode={isHidden:!1},e}function rL(e,t,n){return e=gl(6,e,null,t),e.lanes=n,e}function iL(e,t,n){return t=gl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nLe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F3(0),this.expirationTimes=F3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F3(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w7(e,t,n,r,i,o,s,a,u){return e=new nLe(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i7(o),e}function rLe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f1,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tpe(e){if(!e)return _m;e=e._reactInternals;e:{if(Py(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ja(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var n=e.type;if(Ja(n))return The(e,n,t)}return t}function Spe(e,t,n,r,i,o,s,a,u){return e=w7(n,r,!0,e,i,o,s,a,u),e.context=Tpe(null),n=e.current,r=ha(),i=nm(n),o=ih(r,i),o.callback=t??null,em(n,o,i),e.current.lanes=i,qS(e,i,r),Za(e,r),e}function mD(e,t,n,r){var i=t.current,o=ha(),s=nm(i);return n=Tpe(n),t.context===null?t.context=n:t.pendingContext=n,t=ih(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=em(i,t,s),e!==null&&(Ic(e,i,s,o),BI(e,i,s)),s}function mR(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VJ(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function E7(e,t){VJ(e,t),(e=e.alternate)&&VJ(e,t)}function iLe(){return null}var Cpe=typeof reportError=="function"?reportError:function(e){console.error(e)};function x7(e){this._internalRoot=e}gD.prototype.render=x7.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));mD(e,t,null,null)};gD.prototype.unmount=x7.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;V0(function(){mD(null,e,null,null)}),t[bh]=null}};function gD(e){this._internalRoot=e}gD.prototype.unstable_scheduleHydration=function(e){if(e){var t=rhe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sp.length&&t!==0&&t<Sp[n].priority;n++);Sp.splice(n,0,e),n===0&&ohe(e)}};function T7(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HJ(){}function oLe(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=mR(s);o.call(l)}}var s=Spe(t,r,e,0,null,!1,!1,"",HJ);return e._reactRootContainer=s,e[bh]=s.current,ST(e.nodeType===8?e.parentNode:e),V0(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=mR(u);a.call(l)}}var u=w7(e,0,!1,null,null,!1,!1,"",HJ);return e._reactRootContainer=u,e[bh]=u.current,ST(e.nodeType===8?e.parentNode:e),V0(function(){mD(t,u,n,r)}),u}function vD(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=mR(s);a.call(u)}}mD(t,s,e,i)}else s=oLe(n,t,e,i,r);return mR(s)}the=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ME(t.pendingLanes);n!==0&&(VB(t,n|1),Za(t,ji()),!(er&6)&&(bb=ji()+500,Km()))}break;case 13:V0(function(){var r=_h(e,1);if(r!==null){var i=ha();Ic(r,e,1,i)}}),E7(e,1)}};HB=function(e){if(e.tag===13){var t=_h(e,134217728);if(t!==null){var n=ha();Ic(t,e,134217728,n)}E7(e,134217728)}};nhe=function(e){if(e.tag===13){var t=nm(e),n=_h(e,t);if(n!==null){var r=ha();Ic(n,e,t,r)}E7(e,t)}};rhe=function(){return Sr};ihe=function(e,t){var n=Sr;try{return Sr=e,t()}finally{Sr=n}};$F=function(e,t,n){switch(t){case"input":if(AF(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uD(r);if(!i)throw Error(rt(90));Ode(r),AF(r,i)}}}break;case"textarea":Lde(e,n);break;case"select":t=n.value,t!=null&&O1(e,!!n.multiple,t,!1)}};Hde=y7;qde=V0;var sLe={usingClientEntryPoint:!1,Events:[GS,g1,uD,zde,Vde,y7]},zw={findFiberByHostInstance:u0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aLe={bundleType:zw.bundleType,version:zw.version,rendererPackageName:zw.rendererPackageName,rendererConfig:zw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fh.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yde(e),e===null?null:e.stateNode},findFiberByHostInstance:zw.findFiberByHostInstance||iLe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oA.isDisabled&&oA.supportsFiber)try{iD=oA.inject(aLe),Nf=oA}catch{}}Qu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sLe;Qu.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T7(t))throw Error(rt(200));return rLe(e,t,null,n)};Qu.createRoot=function(e,t){if(!T7(e))throw Error(rt(299));var n=!1,r="",i=Cpe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=w7(e,1,!1,null,null,n,!1,r,i),e[bh]=t.current,ST(e.nodeType===8?e.parentNode:e),new x7(t)};Qu.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=Yde(t),e=e===null?null:e.stateNode,e};Qu.flushSync=function(e){return V0(e)};Qu.hydrate=function(e,t,n){if(!yD(t))throw Error(rt(200));return vD(null,e,t,!0,n)};Qu.hydrateRoot=function(e,t,n){if(!T7(e))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Cpe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Spe(t,null,e,1,n??null,i,!1,o,s),e[bh]=t.current,ST(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gD(t)};Qu.render=function(e,t,n){if(!yD(t))throw Error(rt(200));return vD(null,e,t,!1,n)};Qu.unmountComponentAtNode=function(e){if(!yD(e))throw Error(rt(40));return e._reactRootContainer?(V0(function(){vD(null,null,e,!1,function(){e._reactRootContainer=null,e[bh]=null})}),!0):!1};Qu.unstable_batchedUpdates=y7;Qu.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yD(n))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return vD(e,t,n,!1,r)};Qu.version="18.3.1-next-f1338f8080-20240426";function Ape(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ape)}catch(e){console.error(e)}}Ape(),Ade.exports=Qu;var Ny=Ade.exports;const Ipe=gn(Ny);var qJ=Ny;_F.createRoot=qJ.createRoot,_F.hydrateRoot=qJ.hydrateRoot;var yf=function(){return yf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yf.apply(this,arguments)};function KS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function uLe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var GI="right-scroll-bar-position",YI="width-before-scroll-bar",lLe="with-scroll-bars-hidden",cLe="--removed-body-scroll-bar-size";function oL(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fLe(e,t){var n=I.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var dLe=typeof window<"u"?I.useLayoutEffect:I.useEffect,WJ=new WeakMap;function hLe(e,t){var n=fLe(null,function(r){return e.forEach(function(i){return oL(i,r)})});return dLe(function(){var r=WJ.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||oL(a,null)}),o.forEach(function(a){i.has(a)||oL(a,s)})}WJ.set(n,e)},[e]),n}function pLe(e){return e}function mLe(e,t){t===void 0&&(t=pLe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var u=function(){var c=s;s=[],c.forEach(o)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){s.push(c),l()},filter:function(c){return s=s.filter(c),n}}}};return i}function gLe(e){e===void 0&&(e={});var t=mLe(null);return t.options=yf({async:!0,ssr:!1},e),t}var kpe=function(e){var t=e.sideCar,n=KS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,yf({},n))};kpe.isSideCarExport=!0;function yLe(e,t){return e.useMedium(t),kpe}var Rpe=gLe(),sL=function(){},bD=I.forwardRef(function(e,t){var n=I.useRef(null),r=I.useState({onScrollCapture:sL,onWheelCapture:sL,onTouchMoveCapture:sL}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,u=e.className,l=e.removeScrollBar,c=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,v=e.gapMode,b=KS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=d,w=hLe([n,t]),S=yf(yf({},b),i);return I.createElement(I.Fragment,null,c&&I.createElement(_,{sideCar:Rpe,removeScrollBar:l,shards:f,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:v}),s?I.cloneElement(I.Children.only(a),yf(yf({},S),{ref:w})):I.createElement(y,yf({},S,{className:u,ref:w}),a))});bD.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bD.classNames={fullWidth:YI,zeroRight:GI};var vLe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bLe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vLe();return t&&e.setAttribute("nonce",t),e}function _Le(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wLe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ELe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bLe())&&(_Le(t,n),wLe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xLe=function(){var e=ELe();return function(t,n){I.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ppe=function(){var e=xLe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},TLe={left:0,top:0,right:0,gap:0},aL=function(e){return parseInt(e||"",10)||0},SLe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[aL(n),aL(r),aL(i)]},CLe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TLe;var t=SLe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ALe=Ppe(),U1="data-scroll-locked",ILe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(lLe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(U1,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(GI,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(YI,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(GI," .").concat(GI,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(YI," .").concat(YI,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(U1,`] {
    `).concat(cLe,": ").concat(a,`px;
  }
`)},GJ=function(){var e=parseInt(document.body.getAttribute(U1)||"0",10);return isFinite(e)?e:0},kLe=function(){I.useEffect(function(){return document.body.setAttribute(U1,(GJ()+1).toString()),function(){var e=GJ()-1;e<=0?document.body.removeAttribute(U1):document.body.setAttribute(U1,e.toString())}},[])},RLe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;kLe();var o=I.useMemo(function(){return CLe(i)},[i]);return I.createElement(ALe,{styles:ILe(o,!t,i,n?"":"!important")})},h5=!1;if(typeof window<"u")try{var sA=Object.defineProperty({},"passive",{get:function(){return h5=!0,!0}});window.addEventListener("test",sA,sA),window.removeEventListener("test",sA,sA)}catch{h5=!1}var Av=h5?{passive:!1}:!1,PLe=function(e){return e.tagName==="TEXTAREA"},Npe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PLe(e)&&n[t]==="visible")},NLe=function(e){return Npe(e,"overflowY")},DLe=function(e){return Npe(e,"overflowX")},YJ=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Dpe(e,r);if(i){var o=$pe(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},$Le=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},OLe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dpe=function(e,t){return e==="v"?NLe(t):DLe(t)},$pe=function(e,t){return e==="v"?$Le(t):OLe(t)},MLe=function(e,t){return e==="h"&&t==="rtl"?-1:1},LLe=function(e,t,n,r,i){var o=MLe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,u=t.contains(a),l=!1,c=s>0,f=0,d=0;do{var h=$pe(e,a),p=h[0],m=h[1],g=h[2],y=m-g-o*p;(p||y)&&Dpe(e,a)&&(f+=y,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(t.contains(a)||t===a));return(c&&(Math.abs(f)<1||!i)||!c&&(Math.abs(d)<1||!i))&&(l=!0),l},aA=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},KJ=function(e){return[e.deltaX,e.deltaY]},XJ=function(e){return e&&"current"in e?e.current:e},FLe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jLe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BLe=0,Iv=[];function ULe(e){var t=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),i=I.useState(BLe++)[0],o=I.useState(Ppe)[0],s=I.useRef(e);I.useEffect(function(){s.current=e},[e]),I.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var m=uLe([e.lockRef.current],(e.shards||[]).map(XJ),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=I.useCallback(function(m,g){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var y=aA(m),v=n.current,b="deltaX"in m?m.deltaX:v[0]-y[0],_="deltaY"in m?m.deltaY:v[1]-y[1],w,S=m.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&E==="h"&&S.type==="range")return!1;var C=YJ(E,S);if(!C)return!0;if(C?w=E:(w=E==="v"?"h":"v",C=YJ(E,S)),!C)return!1;if(!r.current&&"changedTouches"in m&&(b||_)&&(r.current=w),!w)return!0;var A=r.current||w;return LLe(A,g,m,A==="h"?b:_,!0)},[]),u=I.useCallback(function(m){var g=m;if(!(!Iv.length||Iv[Iv.length-1]!==o)){var y="deltaY"in g?KJ(g):aA(g),v=t.current.filter(function(w){return w.name===g.type&&(w.target===g.target||g.target===w.shadowParent)&&FLe(w.delta,y)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(XJ).filter(Boolean).filter(function(w){return w.contains(g.target)}),_=b.length>0?a(g,b[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),l=I.useCallback(function(m,g,y,v){var b={name:m,delta:g,target:y,should:v,shadowParent:zLe(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),c=I.useCallback(function(m){n.current=aA(m),r.current=void 0},[]),f=I.useCallback(function(m){l(m.type,KJ(m),m.target,a(m,e.lockRef.current))},[]),d=I.useCallback(function(m){l(m.type,aA(m),m.target,a(m,e.lockRef.current))},[]);I.useEffect(function(){return Iv.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",u,Av),document.addEventListener("touchmove",u,Av),document.addEventListener("touchstart",c,Av),function(){Iv=Iv.filter(function(m){return m!==o}),document.removeEventListener("wheel",u,Av),document.removeEventListener("touchmove",u,Av),document.removeEventListener("touchstart",c,Av)}},[]);var h=e.removeScrollBar,p=e.inert;return I.createElement(I.Fragment,null,p?I.createElement(o,{styles:jLe(i)}):null,h?I.createElement(RLe,{gapMode:e.gapMode}):null)}function zLe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VLe=yLe(Rpe,ULe);var _D=I.forwardRef(function(e,t){return I.createElement(bD,yf({},e,{ref:t,sideCar:VLe}))});_D.classNames=bD.classNames;function _i(e){return Object.keys(e)}function uL(e){return e&&typeof e=="object"&&!Array.isArray(e)}function S7(e,t){const n={...e},r=t;return uL(e)&&uL(t)&&Object.keys(t).forEach(i=>{uL(r[i])&&i in e?n[i]=S7(n[i],r[i]):n[i]=r[i]}),n}function HLe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function qLe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function p5(e){const t=qLe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function lL(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function Ope(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?lL(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?lL(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?lL(o):o}}return r}return n}const Ie=Ope("rem",{shouldScale:!0}),gR=Ope("em");function E_(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function Mpe(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function Xm(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==I.Fragment:!1}function Uo(e){const t=I.createContext(null);return[({children:i,value:o})=>T.jsx(t.Provider,{value:o,children:i}),()=>{const i=I.useContext(t);if(i===null)throw new Error(e);return i}]}function x_(e=null){const t=I.createContext(e);return[({children:i,value:o})=>T.jsx(t.Provider,{value:o,children:i}),()=>I.useContext(t)]}function yR(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function vR(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function WLe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function GLe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function YLe(e,t,n){return vR(e,n)===vR(t,n)}function C7({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var p;n==null||n(a);const u=Array.from(((p=vR(a.currentTarget,e))==null?void 0:p.querySelectorAll(t))||[]).filter(m=>YLe(a.currentTarget,m,e)),l=u.findIndex(m=>a.currentTarget===m),c=GLe(l,u,r),f=WLe(l,u,r),d=o==="rtl"?f:c,h=o==="rtl"?c:f;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[d].focus(),i&&u[d].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),u[h].focus(),i&&u[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[f].focus(),i&&u[f].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),u[c].focus(),i&&u[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!u[0].disabled&&u[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const m=u.length-1;!u[m].disabled&&u[m].focus();break}}}}const KLe={app:100,modal:200,popover:300,overlay:400,max:9999};function Bl(e){return KLe[e]}const XLe=()=>{};function QLe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||XLe:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function dn(e,t="size",n=!0){if(e!==void 0)return Mpe(e)?n?Ie(e):e:`var(--${t}-${e})`}function kl(e){return dn(e,"mantine-spacing")}function ni(e){return e===void 0?"var(--mantine-radius-default)":dn(e,"mantine-radius")}function cs(e){return dn(e,"mantine-font-size")}function Lpe(e){return dn(e,"mantine-line-height",!1)}function A7(e){if(e)return dn(e,"mantine-shadow",!1)}function Wd(e,t){return n=>{e==null||e(n),t==null||t(n)}}function I7(e,t){return e in t.breakpoints?p5(t.breakpoints[e]):p5(e)}function bR(e,t){const n=e.map(r=>({value:r,px:I7(r,t)}));return n.sort((r,i)=>r.px-i.px),n}function FE(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function JLe(e,t,n){var r;return n?Array.from(((r=vR(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function ZLe(){const[e,t]=I.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function Cf(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function Cx(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Kg(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),I.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function wD(e,t){const n=Kg(e),r=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),I.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),t)},[n,t])}const QJ=["mousedown","touchstart"];function e6e(e,t,n){const r=I.useRef();return I.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(l=>!!l&&!o.composedPath().includes(l))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||QJ).forEach(o=>document.addEventListener(o,i)),()=>{(t||QJ).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function t6e(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function n6e(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function r6e(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=I.useState(n?t:n6e(e)),o=I.useRef();return I.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),t6e(o.current,s=>i(s.matches))},[e]),r}const Dy=typeof document<"u"?I.useLayoutEffect:I.useEffect;function Eh(e,t){const n=I.useRef(!1);I.useEffect(()=>()=>{n.current=!1},[]),I.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function Fpe({opened:e,shouldReturnFocus:t=!0}){const n=I.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Eh(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}function i6e(e,t="body > :not(script)"){const n=Cx(),r=Array.from(document.querySelectorAll(t)).map(i=>{var u;if((u=i==null?void 0:i.shadowRoot)!=null&&u.contains(e)||i.contains(e))return;const o=i.getAttribute("aria-hidden"),s=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),o===null||o==="false"?i.setAttribute("aria-hidden","true"):!s&&!a&&i.setAttribute("data-hidden",o),{node:i,ariaHidden:s||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const o6e=/input|select|textarea|button|object/,jpe="a, input, select, textarea, button, object, [tabindex]";function s6e(e){return e.style.display==="none"}function a6e(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(s6e(n))return!1;n=n.parentNode}return!0}function Bpe(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function m5(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(Bpe(e));return(o6e.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&a6e(e)}function Upe(e){const t=Bpe(e);return(Number.isNaN(t)||t>=0)&&m5(e)}function u6e(e){return Array.from(e.querySelectorAll(jpe)).filter(Upe)}function l6e(e,t){const n=u6e(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const u=n[t.shiftKey?n.length-1:0];u&&u.focus()}function c6e(e=!0){const t=I.useRef(),n=I.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(jpe));s=a.find(Upe)||a.find(m5)||null,!s&&m5(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=I.useCallback(o=>{if(e){if(o===null){n.current&&(n.current(),n.current=null);return}n.current=i6e(o),t.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),t.current=o):t.current=null)}},[e]);return I.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const o=s=>{s.key==="Tab"&&t.current&&l6e(t.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),n.current&&n.current()}},[e]),i}const f6e=ue.useId||(()=>{});function d6e(){const e=f6e();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ta(e){const t=d6e(),[n,r]=I.useState(t);return Dy(()=>{r(Cx())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function zpe(e,t,n){I.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function k7(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Vpe(...e){return t=>{e.forEach(n=>k7(n,t))}}function vo(...e){return I.useCallback(Vpe(...e),e)}function h6e(e,t,n="ltr"){const r=I.useRef(null),i=I.useRef(!1),o=I.useRef(!1),s=I.useRef(0),[a,u]=I.useState(!1);return I.useEffect(()=>{i.current=!0},[]),I.useEffect(()=>{var v,b;const l=({x:_,y:w})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&r.current){r.current.style.userSelect="none";const S=r.current.getBoundingClientRect();if(S.width&&S.height){const E=Cf((_-S.left)/S.width,0,1);e({x:n==="ltr"?E:1-E,y:Cf((w-S.top)/S.height,0,1)})}}})},c=()=>{document.addEventListener("mousemove",m),document.addEventListener("mouseup",h),document.addEventListener("touchmove",y),document.addEventListener("touchend",h)},f=()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",h)},d=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),u(!0),c())},h=()=>{o.current&&i.current&&(o.current=!1,u(!1),f(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},p=_=>{d(),_.preventDefault(),m(_)},m=_=>l({x:_.clientX,y:_.clientY}),g=_=>{_.cancelable&&_.preventDefault(),d(),y(_)},y=_=>{_.cancelable&&_.preventDefault(),l({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return(v=r.current)==null||v.addEventListener("mousedown",p),(b=r.current)==null||b.addEventListener("touchstart",g,{passive:!1}),()=>{r.current&&(r.current.removeEventListener("mousedown",p),r.current.removeEventListener("touchstart",g))}},[n,e]),{ref:r,active:a}}function ms({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=I.useState(t!==void 0?t:n),s=(a,...u)=>{o(a),r==null||r(a,...u)};return e!==void 0?[e,r,!0]:[i,s,!1]}function R7(e,t){return r6e("(prefers-reduced-motion: reduce)",e,t)}const p6e={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Hpe(e){const t=I.useRef(0),n=I.useRef(null),[r,i]=I.useState(p6e),o=I.useMemo(()=>typeof window<"u"?new ResizeObserver(s=>{const a=s[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&i(a.contentRect)}))}):null,[]);return I.useEffect(()=>(n.current&&(o==null||o.observe(n.current,e)),()=>{o==null||o.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,r]}function m6e(e){const[t,{width:n,height:r}]=Hpe(e);return{ref:t,width:n,height:r}}function Ax(e=!1,t){const{onOpen:n,onClose:r}={},[i,o]=I.useState(e),s=I.useCallback(()=>{o(l=>l||(n==null||n(),!0))},[n]),a=I.useCallback(()=>{o(l=>l&&(r==null||r(),!1))},[r]),u=I.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:u}]}function g6e(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function y6e(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});Dy(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>g6e(`${e}:${String(r)}`,i[0])}return[t,n]}var v6e={};function b6e(){return typeof process<"u"&&v6e?"production":"development"}function qpe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qpe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ni(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qpe(e))&&(r&&(r+=" "),r+=t);return r}const _6e={};function w6e(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Ni(t[r],i):t[r]=i})}),t}function ED({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||_6e);return w6e(o)}function _R({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const Wpe=I.createContext(null);function Qm(){const e=I.useContext(Wpe);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function E6e(){return Qm().cssVariablesResolver}function x6e(){return Qm().classNamesPrefix}function P7(){return Qm().getStyleNonce}function T6e(){return Qm().withStaticClasses}function S6e(){return Qm().headless}function C6e(){var e;return(e=Qm().stylesTransform)==null?void 0:e.sx}function A6e(){var e;return(e=Qm().stylesTransform)==null?void 0:e.styles}function I6e(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function k6e(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function R6e(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function P6e(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,u=r/60,l=a*(1-Math.abs(u%2-1)),c=o-a/2;let f,d,h;return u>=0&&u<1?(f=a,d=l,h=0):u>=1&&u<2?(f=l,d=a,h=0):u>=2&&u<3?(f=0,d=a,h=l):u>=3&&u<4?(f=0,d=l,h=a):u>=4&&u<5?(f=l,d=0,h=a):(f=a,d=0,h=l),{r:Math.round((f+c)*255),g:Math.round((d+c)*255),b:Math.round((h+c)*255),a:s||1}}function N7(e){return I6e(e)?k6e(e):e.startsWith("rgb")?R6e(e):e.startsWith("hsl")?P6e(e):{r:0,g:0,b:0,a:1}}function uA(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=N7(e),s=1-t,a=u=>Math.round(u*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function $T(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function cL(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function N6e(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function D6e(e){if(e.startsWith("oklch("))return(N6e(e)||0)/100;const{r:t,g:n,b:r}=N7(e),i=t/255,o=n/255,s=r/255,a=cL(i),u=cL(o),l=cL(s);return .2126*a+.7152*u+.0722*l}function Vw(e,t=.179){return e.startsWith("var(")?!1:D6e(e)>t}function nd({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Vw(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Vw(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Vw(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][$T(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:Vw(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:Vw(e,t.luminanceThreshold),shade:o,variable:void 0}}function ei(e,t){const n=nd({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function g5(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},r=ei(n.from,t),i=ei(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function ff(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=N7(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const kv=ff,$6e=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=nd({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ie(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${Ie(1)} solid transparent`}:{background:e,hover:uA(e,.1),color:a,border:`${Ie(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:ff(a,.1),hover:ff(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}}return{background:ff(e,.1),hover:ff(e,.12),color:e,border:`${Ie(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ie(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:ff(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ie(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:ff(e,.05),color:e,border:`${Ie(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:ff(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}}return{background:"transparent",hover:ff(e,.12),color:e,border:`${Ie(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ie(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:uA(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ie(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:uA(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ie(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:uA(t.white,.01),color:e,border:`${Ie(1)} solid transparent`}:n==="gradient"?{background:g5(r,t),hover:g5(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ie(1)} solid var(--mantine-color-default-border)`}:{}},O6e={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},JJ="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",D7={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:O6e,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:$6e,autoContrast:!1,luminanceThreshold:.3,fontFamily:JJ,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:JJ,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ie(34),lineHeight:"1.3"},h2:{fontSize:Ie(26),lineHeight:"1.35"},h3:{fontSize:Ie(22),lineHeight:"1.4"},h4:{fontSize:Ie(18),lineHeight:"1.45"},h5:{fontSize:Ie(16),lineHeight:"1.5"},h6:{fontSize:Ie(14),lineHeight:"1.5"}}},fontSizes:{xs:Ie(12),sm:Ie(14),md:Ie(16),lg:Ie(18),xl:Ie(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ie(2),sm:Ie(4),md:Ie(8),lg:Ie(16),xl:Ie(32)},spacing:{xs:Ie(10),sm:Ie(12),md:Ie(16),lg:Ie(20),xl:Ie(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), 0 ${Ie(1)} ${Ie(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(10)} ${Ie(15)} ${Ie(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ie(7)} ${Ie(7)} ${Ie(-5)}`,md:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(20)} ${Ie(25)} ${Ie(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ie(10)} ${Ie(10)} ${Ie(-5)}`,lg:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(28)} ${Ie(23)} ${Ie(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ie(12)} ${Ie(12)} ${Ie(-7)}`,xl:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(36)} ${Ie(28)} ${Ie(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ie(17)} ${Ie(17)} ${Ie(-7)}`},other:{},components:{}};function ZJ(e){return e==="auto"||e==="dark"||e==="light"}function M6e({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return ZJ(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&ZJ(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const L6e="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",eZ="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function fL(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function tZ(e){if(!(e.primaryColor in e.colors))throw new Error(L6e);if(typeof e.primaryShade=="object"&&(!fL(e.primaryShade.dark)||!fL(e.primaryShade.light)))throw new Error(eZ);if(typeof e.primaryShade=="number"&&!fL(e.primaryShade))throw new Error(eZ)}function F6e(e,t){var r;if(!t)return tZ(e),e;const n=S7(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),tZ(n),n}const $7=I.createContext(null),j6e=()=>I.useContext($7)||D7;function zo(){const e=I.useContext($7);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function Gpe({theme:e,children:t,inherit:n=!0}){const r=j6e(),i=I.useMemo(()=>F6e(n?r:D7,e),[e,r,n]);return T.jsx($7.Provider,{value:i,children:t})}Gpe.displayName="@mantine/core/MantineThemeProvider";function B6e(){const e=zo(),t=P7(),n=_i(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=p5(e.breakpoints[i]),a=o?`${s-.1}px`:gR(s-.1),u=o?`${s}px`:gR(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return T.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function dL(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function hL(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function U6e(e,t){const n=dL(e.variables),r=n?hL(t,n):"",i=dL(e.dark),o=i?hL(`${t}[data-mantine-color-scheme="dark"]`,i):"",s=dL(e.light),a=s?hL(`${t}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function $y({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&nd({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function nZ(e,t){return $y({color:e.colors[e.primaryColor][$T(e,t)],theme:e,autoContrast:null})}function lA({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=$T(e,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:kv(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:kv(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:kv(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...u}:u}const o=$T(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:kv(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:kv(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:kv(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function z6e(e){return Array.isArray(e)?e:Array(10).fill(e)}function V6e(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Rv(e,t,n){_i(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const Ype=e=>{const t=$T(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ie(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":nZ(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":nZ(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Rv(r.variables,e.breakpoints,"breakpoint"),Rv(r.variables,e.spacing,"spacing"),Rv(r.variables,e.fontSizes,"font-size"),Rv(r.variables,e.lineHeights,"line-height"),Rv(r.variables,e.shadows,"shadow"),Rv(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),_i(e.colors).forEach(o=>{const s=e.colors[o];if(V6e(s)){Object.assign(r.light,lA({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,lA({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,u)=>{r.variables[`--mantine-color-${o}-${u}`]=a}),Object.assign(r.light,lA({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,lA({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return _i(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function H6e({theme:e,generator:t}){const n=Ype(e),r=t==null?void 0:t(e);return r?S7(n,r):n}const pL=Ype(D7);function q6e(e){const t={variables:{},light:{},dark:{}};return _i(e.variables).forEach(n=>{pL.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),_i(e.light).forEach(n=>{pL.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),_i(e.dark).forEach(n=>{pL.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function W6e(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function Kpe({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=zo(),r=P7(),i=E6e(),o=H6e({theme:n,generator:i}),s=e===":root"&&t,a=s?q6e(o):o,u=U6e(a,e);return u?T.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${u}${s?"":W6e(e)}`}}):null}Kpe.displayName="@mantine/CssVariables";function G6e(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Pv(e,t){var r;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=t())==null||r.setAttribute("data-mantine-color-scheme",n)}function Y6e({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=I.useRef(),[o,s]=I.useState(()=>e.get(t)),a=r||o,u=I.useCallback(c=>{r||(Pv(c,n),s(c),e.set(c))},[e.set,a,r]),l=I.useCallback(()=>{s(t),Pv(t,n),e.clear()},[e.clear,t]);return I.useEffect(()=>(e.subscribe(u),e.unsubscribe),[e.subscribe,e.unsubscribe]),Dy(()=>{Pv(e.get(t),n)},[]),I.useEffect(()=>{var f;if(r)return Pv(r,n),()=>{};r===void 0&&Pv(o,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=d=>{o==="auto"&&Pv(d.matches?"dark":"light",n)};return(f=i.current)==null||f.addEventListener("change",c),()=>{var d;return(d=i.current)==null?void 0:d.removeEventListener("change",c)}},[o,r]),{colorScheme:a,setColorScheme:u,clearColorScheme:l}}function K6e({respectReducedMotion:e,getRootElement:t}){Dy(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}G6e();function Xpe({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:u="mantine",colorSchemeManager:l=M6e(),defaultColorScheme:c="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:d,forceColorScheme:h,stylesTransform:p}){const{colorScheme:m,setColorScheme:g,clearColorScheme:y}=Y6e({defaultColorScheme:c,forceColorScheme:h,manager:l,getRootElement:f});return K6e({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:f}),T.jsx(Wpe.Provider,{value:{colorScheme:m,setColorScheme:g,clearColorScheme:y,getRootElement:f,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:d,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:p},children:T.jsxs(Gpe,{theme:e,children:[s&&T.jsx(Kpe,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&T.jsx(B6e,{}),t]})})}Xpe.displayName="@mantine/core/MantineProvider";function jh({classNames:e,styles:t,props:n,stylesCtx:r}){const i=zo();return{resolvedClassNames:ED({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:_R({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const X6e={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Q6e({theme:e,options:t,unstyled:n}){return Ni((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||X6e[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function J6e({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return ED({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function rZ({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return ED({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function Z6e({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function e4e({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function t4e({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function n4e({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>{var s,a;return(a=ED({theme:t,classNames:(s=t.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function r4e({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function i4e({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:u,rootSelector:l,props:c,stylesCtx:f,withStaticClasses:d,headless:h,transformedStyles:p}){return Ni(Q6e({theme:e,options:t,unstyled:a||h}),n4e({theme:e,themeName:n,selector:r,props:c,stylesCtx:f}),r4e({options:t,classes:s,selector:r,unstyled:a}),rZ({selector:r,stylesCtx:f,theme:e,classNames:o,props:c}),rZ({selector:r,stylesCtx:f,theme:e,classNames:p,props:c}),J6e({selector:r,stylesCtx:f,options:t,props:c,theme:e}),Z6e({rootSelector:l,selector:r,className:u}),e4e({selector:r,classes:s,unstyled:a||h}),d&&!h&&t4e({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function o4e({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>{var s;return _R({theme:e,styles:(s=e.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function y5({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...y5({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function s4e(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...E_(n[r])}}),t),{})}function a4e({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var u;return(u=s4e([a?{}:t==null?void 0:t(n,r,i),...s.map(l=>{var c,f,d;return(d=(f=(c=n.components)==null?void 0:c[l])==null?void 0:f.vars)==null?void 0:d.call(f,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:u[o]}function u4e({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:u,vars:l,varsResolver:c,headless:f,withStylesTransform:d}){return{...!d&&o4e({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!d&&_R({theme:e,styles:a,props:i,stylesCtx:o})[n],...!d&&_R({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...a4e({theme:e,props:i,stylesCtx:o,vars:l,varsResolver:c,selector:n,themeName:t,headless:f}),...s===n?y5({style:u,theme:e}):null,...y5({style:r==null?void 0:r.style,theme:e})}}function l4e({props:e,stylesCtx:t,themeName:n}){var s;const r=zo(),i=(s=A6e())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(l=>i(l,{props:e,theme:r,ctx:t})),...n.map(l=>{var c;return i((c=r.components[l])==null?void 0:c.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function It({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:u,styles:l,vars:c,varsResolver:f}){const d=zo(),h=x6e(),p=T6e(),m=S6e(),g=(Array.isArray(e)?e:[e]).filter(b=>b),{withStylesTransform:y,getTransformedStyles:v}=l4e({props:n,stylesCtx:r,themeName:g});return(b,_)=>({className:i4e({theme:d,options:_,themeName:g,selector:b,classNamesPrefix:h,classNames:u,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:p,headless:m,transformedStyles:v([_==null?void 0:_.styles,l])}),style:u4e({theme:d,themeName:g,selector:b,options:_,props:n,stylesCtx:r,rootSelector:s,styles:l,style:o,vars:c,varsResolver:f,headless:m,withStylesTransform:y})})}function T_(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ae(e,t,n){var s;const r=zo(),i=(s=r.components[e])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...E_(n)}}function mL(e){return _i(e).reduce((t,n)=>e[n]!==void 0?`${t}${HLe(n)}:${e[n]};`:t,"").trim()}function c4e({selector:e,styles:t,media:n,container:r}){const i=t?mL(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${mL(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${mL(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function XS(e){const t=P7();return T.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:c4e(e)}})}function Oy(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:_,c:w,opacity:S,ff:E,fz:C,fw:A,lts:k,ta:P,lh:$,fs:N,tt:O,td:j,w:M,miw:B,maw:V,h:q,mih:D,mah:U,bgsz:W,bgp:F,bgr:z,bga:G,pos:ee,top:ce,left:le,bottom:se,right:ge,inset:be,display:ve,flex:Ye,hiddenFrom:Ue,visibleFrom:ht,lightHidden:Je,darkHidden:ke,sx:Ne,...ze}=e;return{styleProps:E_({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:u,ms:l,p:c,px:f,py:d,pt:h,pb:p,pl:m,pr:g,pe:y,ps:v,bd:b,bg:_,c:w,opacity:S,ff:E,fz:C,fw:A,lts:k,ta:P,lh:$,fs:N,tt:O,td:j,w:M,miw:B,maw:V,h:q,mih:D,mah:U,bgsz:W,bgp:F,bgr:z,bga:G,pos:ee,top:ce,left:le,bottom:se,right:ge,inset:be,display:ve,flex:Ye,hiddenFrom:Ue,visibleFrom:ht,lightHidden:Je,darkHidden:ke,sx:Ne}),rest:ze}}const f4e={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function O7(e,t){const n=nd({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function d4e(e,t){const n=nd({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:O7(e,t)}function h4e(e,t){if(typeof e=="number")return Ie(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${Ie(n)}`;return r&&(o+=` ${r}`),z6e.length>0&&(o+=` ${O7(i.join(" "),t)}`),o.trim()}return e}const iZ={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function p4e(e){return typeof e=="string"&&e in iZ?iZ[e]:e}const m4e=["h1","h2","h3","h4","h5","h6"];function g4e(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&m4e.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ie(e):e}function y4e(e){return e}const v4e=["h1","h2","h3","h4","h5","h6"];function b4e(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&v4e.includes(e)?`var(--mantine-${e}-line-height)`:e}function _4e(e){return typeof e=="number"?Ie(e):e}function w4e(e,t){if(typeof e=="number")return Ie(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ie(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const gL={color:O7,textColor:d4e,fontSize:g4e,spacing:w4e,identity:y4e,size:_4e,lineHeight:b4e,fontFamily:p4e,border:h4e};function oZ(e){return e.replace("(min-width: ","").replace("em)","")}function E4e({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(oZ(i))-Number(oZ(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function x4e(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function T4e(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function S4e(e){return typeof e=="object"&&e!==null?_i(e).filter(t=>t!=="base"):[]}function C4e(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function Qpe({styleProps:e,data:t,theme:n}){return E4e(_i(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=T4e(e[i]);if(!x4e(e[i]))return s.forEach(l=>{r.inlineStyles[l]=gL[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const u=S4e(e[i]);return s.forEach(l=>{a&&(r.styles[l]=gL[o.type](a,n)),u.forEach(c=>{const f=`(min-width: ${n.breakpoints[c]})`;r.media[f]={...r.media[f],[l]:gL[o.type](C4e(e[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function xD(){return`__m__-${I.useId().replace(/:/g,"")}`}function M7(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...M7(r,t)}),{}):typeof e=="function"?e(t):e??{}}function Jpe(e){return e.startsWith("data-")?e:`data-${e}`}function A4e(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[Jpe(n)]=e[n]),t},{})}function Zpe(e){return e?typeof e=="string"?{[Jpe(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...Zpe(n)}),{}):A4e(e):null}function v5(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...v5(r,t)}),{}):typeof e=="function"?e(t):e??{}}function I4e({theme:e,style:t,vars:n,styleProps:r}){const i=v5(t,e),o=v5(n,e);return{...i,...o,...r}}const eme=I.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:u,lightHidden:l,darkHidden:c,renderRoot:f,__size:d,...h},p)=>{var C;const m=zo(),g=e||"div",{styleProps:y,rest:v}=Oy(h),b=C6e(),_=(C=b==null?void 0:b())==null?void 0:C(y.sx),w=xD(),S=Qpe({styleProps:y,theme:m,data:f4e}),E={ref:p,style:I4e({theme:m,style:t,vars:n,styleProps:S.inlineStyles}),className:Ni(r,_,{[w]:S.hasResponsiveStyles,"mantine-light-hidden":l,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":Mpe(s)?void 0:s||void 0,size:d,...Zpe(o),...v};return T.jsxs(T.Fragment,{children:[S.hasResponsiveStyles&&T.jsx(XS,{selector:`.${w}`,styles:S.styles,media:S.media}),typeof f=="function"?f(E):T.jsx(g,{...E})]})});eme.displayName="@mantine/core/Box";const Ce=eme;function tme(e){return e}function Be(e){const t=I.forwardRef(e);return t.extend=tme,t}function Vo(e){const t=I.forwardRef(e);return t.extend=tme,t}const k4e=I.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Bh(){return I.useContext(k4e)}function R4e(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function yL(e){return e!=null&&e.current?e.current.scrollHeight:"auto"}const Hw=typeof window<"u"&&window.requestAnimationFrame;function P4e({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:n=()=>{},opened:r}){const i=I.useRef(null),o=0,s={display:"none",height:0,overflow:"hidden"},[a,u]=I.useState(r?{}:s),l=p=>{Ny.flushSync(()=>u(p))},c=p=>{l(m=>({...m,...p}))};function f(p){const m=e||R4e(p);return{transition:`height ${m}ms ${t}, opacity ${m}ms ${t}`}}Eh(()=>{typeof Hw=="function"&&Hw(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),Hw(()=>{const p=yL(i);c({...f(p),height:p})})}:()=>{const p=yL(i);c({...f(p),willChange:"height",height:p}),Hw(()=>c({height:o,overflow:"hidden"}))})},[r]);const d=p=>{if(!(p.target!==i.current||p.propertyName!=="height"))if(r){const m=yL(i);m===a.height?l({}):c({height:m}),n()}else a.height===o&&(l(s),n())};function h({style:p={},refKey:m="ref",...g}={}){const y=g[m];return{"aria-hidden":!r,...g,[m]:Vpe(i,y),onTransitionEnd:d,style:{boxSizing:"border-box",...p,...a}}}return h}const N4e={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},nme=Be((e,t)=>{const{children:n,in:r,transitionDuration:i,transitionTimingFunction:o,style:s,onTransitionEnd:a,animateOpacity:u,...l}=Ae("Collapse",N4e,e),c=zo(),f=R7(),h=(c.respectReducedMotion?f:!1)?0:i,p=P4e({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:a});return h===0?r?T.jsx(Ce,{...l,children:n}):null:T.jsx(Ce,{...p({style:{opacity:r||!u?1:0,transition:u?`opacity ${h}ms ${o}`:"none",...M7(s,c)},ref:t,...l}),children:n})});nme.displayName="@mantine/core/Collapse";const[D4e,Ul]=Uo("ScrollArea.Root component was not found in tree");function _b(e,t){const n=Kg(t);Dy(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const $4e=I.forwardRef((e,t)=>{const{style:n,...r}=e,i=Ul(),[o,s]=I.useState(0),[a,u]=I.useState(0),l=!!(o&&a);return _b(i.scrollbarX,()=>{var f;const c=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(c),u(c)}),_b(i.scrollbarY,()=>{var f;const c=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),l?T.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),O4e=I.forwardRef((e,t)=>{const n=Ul(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?T.jsx($4e,{...e,ref:t}):null}),M4e={scrollHideDelay:1e3,type:"hover"},rme=I.forwardRef((e,t)=>{const n=Ae("ScrollAreaRoot",M4e,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,u]=I.useState(null),[l,c]=I.useState(null),[f,d]=I.useState(null),[h,p]=I.useState(null),[m,g]=I.useState(null),[y,v]=I.useState(0),[b,_]=I.useState(0),[w,S]=I.useState(!1),[E,C]=I.useState(!1),A=vo(t,k=>u(k));return T.jsx(D4e,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:l,onViewportChange:c,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:_},children:T.jsx(Ce,{...s,ref:A,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${y}px`,"--sa-corner-height":o!=="xy"?"0px":`${b}px`}})})});rme.displayName="@mantine/core/ScrollAreaRoot";function ime(e,t){const n=e/t;return Number.isNaN(n)?0:n}function TD(e){const t=ime(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ome(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function L4e(e,[t,n]){return Math.min(n,Math.max(t,e))}function sZ(e,t,n="ltr"){const r=TD(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,u=n==="ltr"?[0,s]:[s*-1,0],l=L4e(e,u);return ome([0,s],[0,a])(l)}function F4e(e,t,n,r="ltr"){const i=TD(n),o=i/2,s=t||o,a=i-s,u=n.scrollbar.paddingStart+s,l=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,f=r==="ltr"?[0,c]:[c*-1,0];return ome([u,l],f)(e)}function sme(e,t){return e>0&&e<t}function wR(e){return e?parseInt(e,10):0}function E0(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[j4e,ame]=Uo("ScrollAreaScrollbar was not found in tree"),ume=I.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:l,onResize:c,...f}=e,d=Ul(),[h,p]=I.useState(null),m=vo(t,C=>p(C)),g=I.useRef(null),y=I.useRef(""),{viewport:v}=d,b=n.content-n.viewport,_=Kg(l),w=Kg(a),S=wD(c,10),E=C=>{if(g.current){const A=C.clientX-g.current.left,k=C.clientY-g.current.top;u({x:A,y:k})}};return I.useEffect(()=>{const C=A=>{const k=A.target;(h==null?void 0:h.contains(k))&&_(A,b)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[v,h,b,_]),I.useEffect(w,[n,w]),_b(h,S),_b(d.content,S),T.jsx(j4e,{value:{scrollbar:h,hasThumb:r,onThumbChange:Kg(i),onThumbPointerUp:Kg(o),onThumbPositionChange:w,onThumbPointerDown:Kg(s)},children:T.jsx("div",{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:E0(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E(C))}),onPointerMove:E0(e.onPointerMove,E),onPointerUp:E0(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,g.current=null})})})}),B4e=I.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Ul(),[a,u]=I.useState(),l=I.useRef(null),c=vo(t,l,s.onScrollbarXChange);return I.useEffect(()=>{l.current&&u(getComputedStyle(l.current))},[l]),T.jsx(ume,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${TD(n)}px`},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),sme(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:wR(a.paddingLeft),paddingEnd:wR(a.paddingRight)}})}})}),U4e=I.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Ul(),[a,u]=I.useState(),l=I.useRef(null),c=vo(t,l,s.onScrollbarYChange);return I.useEffect(()=>{l.current&&u(window.getComputedStyle(l.current))},[]),T.jsx(ume,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${TD(n)}px`,...i},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),sme(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:wR(a.paddingTop),paddingEnd:wR(a.paddingBottom)}})}})}),L7=I.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Bh(),o=Ul(),s=I.useRef(null),a=I.useRef(0),[u,l]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=ime(u.viewport,u.content),f={...r,sizes:u,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},d=(h,p)=>F4e(h,a.current,u,p);return n==="horizontal"?T.jsx(B4e,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,p=sZ(h,u,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=d(h,i))}}):n==="vertical"?T.jsx(U4e,{...f,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,p=sZ(h,u);u.scrollbar.size===0?s.current.style.opacity="0":s.current.style.opacity="1",s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=d(h))}}):null}),lme=I.forwardRef((e,t)=>{const n=Ul(),{forceMount:r,...i}=e,[o,s]=I.useState(!1),a=e.orientation==="horizontal",u=wD(()=>{if(n.viewport){const l=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?l:c)}},10);return _b(n.viewport,u),_b(n.content,u),r||o?T.jsx(L7,{"data-state":o?"visible":"hidden",...i,ref:t}):null}),z4e=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ul(),[o,s]=I.useState(!1);return I.useEffect(()=>{const{scrollArea:a}=i;let u=0;if(a){const l=()=>{window.clearTimeout(u),s(!0)},c=()=>{u=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",l),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",l),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?T.jsx(lme,{"data-state":o?"visible":"hidden",...r,ref:t}):null}),V4e=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ul(),o=e.orientation==="horizontal",[s,a]=I.useState("hidden"),u=wD(()=>a("idle"),100);return I.useEffect(()=>{if(s==="idle"){const l=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(l)}},[s,i.scrollHideDelay]),I.useEffect(()=>{const{viewport:l}=i,c=o?"scrollLeft":"scrollTop";if(l){let f=l[c];const d=()=>{const h=l[c];f!==h&&(a("scrolling"),u()),f=h};return l.addEventListener("scroll",d),()=>l.removeEventListener("scroll",d)}},[i.viewport,o,u]),n||s!=="hidden"?T.jsx(L7,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:E0(e.onPointerEnter,()=>a("interacting")),onPointerLeave:E0(e.onPointerLeave,()=>a("idle"))}):null}),aZ=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ul(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return I.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?T.jsx(z4e,{...r,ref:t,forceMount:n}):i.type==="scroll"?T.jsx(V4e,{...r,ref:t,forceMount:n}):i.type==="auto"?T.jsx(lme,{...r,ref:t,forceMount:n}):i.type==="always"?T.jsx(L7,{...r,ref:t}):null});function H4e(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const q4e=I.forwardRef((e,t)=>{const{style:n,...r}=e,i=Ul(),o=ame(),{onThumbPositionChange:s}=o,a=vo(t,c=>o.onThumbChange(c)),u=I.useRef(),l=wD(()=>{u.current&&(u.current(),u.current=void 0)},100);return I.useEffect(()=>{const{viewport:c}=i;if(c){const f=()=>{if(l(),!u.current){const d=H4e(c,s);u.current=d,s()}};return s(),c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,l,s]),T.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:E0(e.onPointerDownCapture,c=>{const d=c.target.getBoundingClientRect(),h=c.clientX-d.left,p=c.clientY-d.top;o.onThumbPointerDown({x:h,y:p})}),onPointerUp:E0(e.onPointerUp,o.onThumbPointerUp)})}),uZ=I.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ame();return n||i.hasThumb?T.jsx(q4e,{ref:t,...r}):null}),cme=I.forwardRef(({children:e,style:t,...n},r)=>{const i=Ul(),o=vo(r,i.onViewportChange);return T.jsx(Ce,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:T.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});cme.displayName="@mantine/core/ScrollAreaViewport";var F7={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const fme={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},W4e=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":Ie(t)}}),S_=Be((e,t)=>{const n=Ae("ScrollArea",fme,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:u,vars:l,type:c,scrollHideDelay:f,viewportProps:d,viewportRef:h,onScrollPositionChange:p,children:m,offsetScrollbars:g,scrollbars:y,...v}=n,[b,_]=I.useState(!1),w=It({name:"ScrollArea",props:n,classes:F7,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:W4e});return T.jsxs(rme,{type:c==="never"?"always":c,scrollHideDelay:f,ref:t,scrollbars:y,...w("root"),...v,children:[T.jsx(cme,{...d,...w("viewport",{style:d==null?void 0:d.style}),ref:h,"data-offset-scrollbars":g===!0?"xy":g||void 0,"data-scrollbars":y||void 0,onScroll:S=>{var E;(E=d==null?void 0:d.onScroll)==null||E.call(d,S),p==null||p({x:S.currentTarget.scrollLeft,y:S.currentTarget.scrollTop})},children:m}),(y==="xy"||y==="x")&&T.jsx(aZ,{...w("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:T.jsx(uZ,{...w("thumb")})}),(y==="xy"||y==="y")&&T.jsx(aZ,{...w("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:T.jsx(uZ,{...w("thumb")})}),T.jsx(O4e,{...w("corner"),"data-hovered":b||void 0,"data-hidden":c==="never"||void 0})]})});S_.displayName="@mantine/core/ScrollArea";const j7=Be((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,scrollbars:m,style:g,vars:y,...v}=Ae("ScrollAreaAutosize",fme,e);return T.jsx(Ce,{...v,ref:t,style:[{display:"flex",overflow:"auto"},g],children:T.jsx(Ce,{style:{display:"flex",flexDirection:"column",flex:1},children:T.jsx(S_,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:u,offsetScrollbars:l,viewportRef:c,onScrollPositionChange:f,unstyled:d,variant:h,viewportProps:p,vars:y,scrollbars:m,children:n})})})});S_.classes=F7;j7.displayName="@mantine/core/ScrollAreaAutosize";j7.classes=F7;S_.Autosize=j7;var dme={root:"m_87cf2631"};const G4e={__staticSelector:"UnstyledButton"},po=Vo((e,t)=>{const n=Ae("UnstyledButton",G4e,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:u,style:l,...c}=n,f=It({name:o,props:n,classes:dme,className:r,style:l,classNames:a,styles:u,unstyled:s});return T.jsx(Ce,{...f("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...c})});po.classes=dme;po.displayName="@mantine/core/UnstyledButton";var hme={root:"m_515a97f8"};const Y4e={},B7=Be((e,t)=>{const n=Ae("VisuallyHidden",Y4e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,...l}=n,c=It({name:"VisuallyHidden",classes:hme,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return T.jsx(Ce,{component:"span",ref:t,...c("root"),...l})});B7.classes=hme;B7.displayName="@mantine/core/VisuallyHidden";var pme={root:"m_1b7284a3"};const K4e={},X4e=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:ni(t),"--paper-shadow":A7(n)}}),SD=Vo((e,t)=>{const n=Ae("Paper",K4e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:u,vars:l,radius:c,shadow:f,variant:d,mod:h,...p}=n,m=It({name:"Paper",props:n,classes:pme,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:X4e});return T.jsx(Ce,{ref:t,mod:[{"data-with-border":u},h],...m("root"),variant:d,...p})});SD.classes=pme;SD.displayName="@mantine/core/Paper";function C_(e){return mme(e)?(e.nodeName||"").toLowerCase():"#document"}function eu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Uh(e){var t;return(t=(mme(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mme(e){return e instanceof Node||e instanceof eu(e).Node}function ci(e){return e instanceof Element||e instanceof eu(e).Element}function Uu(e){return e instanceof HTMLElement||e instanceof eu(e).HTMLElement}function b5(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof eu(e).ShadowRoot}function QS(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Rl(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Q4e(e){return["table","td","th"].includes(C_(e))}function U7(e){const t=z7(),n=Rl(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function J4e(e){let t=xh(e);for(;Uu(t)&&!wm(t);){if(U7(t))return t;t=xh(t)}return null}function z7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wm(e){return["html","body","#document"].includes(C_(e))}function Rl(e){return eu(e).getComputedStyle(e)}function CD(e){return ci(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function xh(e){if(C_(e)==="html")return e;const t=e.assignedSlot||e.parentNode||b5(e)&&e.host||Uh(e);return b5(t)?t.host:t}function gme(e){const t=xh(e);return wm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Uu(t)&&QS(t)?t:gme(t)}function oh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=gme(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=eu(i);return o?t.concat(s,s.visualViewport||[],QS(i)?i:[],s.frameElement&&n?oh(s.frameElement):[]):t.concat(i,oh(i,[],n))}function lZ(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function OT(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&b5(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function yme(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function vme(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Z4e(e){return nFe()?!1:!cZ()&&e.width===0&&e.height===0||cZ()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function eFe(){return/apple/i.test(navigator.vendor)}function cZ(){const e=/android/i;return e.test(yme())||e.test(vme())}function tFe(){return yme().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function nFe(){return vme().includes("jsdom/")}function _5(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function rFe(e){return"nativeEvent"in e}function iFe(e){return e.matches("html,body")}function f0(e){return(e==null?void 0:e.ownerDocument)||document}function vL(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function e1(e){return"composedPath"in e?e.composedPath()[0]:e.target}const oFe="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function sFe(e){return Uu(e)&&e.matches(oFe)}const Iu=Math.min,Ns=Math.max,ER=Math.round,cA=Math.floor,Em=e=>({x:e,y:e}),aFe={left:"right",right:"left",bottom:"top",top:"bottom"},uFe={start:"end",end:"start"};function w5(e,t,n){return Ns(e,Iu(t,n))}function Th(e,t){return typeof e=="function"?e(t):e}function Mc(e){return e.split("-")[0]}function A_(e){return e.split("-")[1]}function V7(e){return e==="x"?"y":"x"}function H7(e){return e==="y"?"height":"width"}function My(e){return["top","bottom"].includes(Mc(e))?"y":"x"}function q7(e){return V7(My(e))}function lFe(e,t,n){n===void 0&&(n=!1);const r=A_(e),i=q7(e),o=H7(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=xR(s)),[s,xR(s)]}function cFe(e){const t=xR(e);return[E5(e),t,E5(t)]}function E5(e){return e.replace(/start|end/g,t=>uFe[t])}function fFe(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function dFe(e,t,n,r){const i=A_(e);let o=fFe(Mc(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(E5)))),o}function xR(e){return e.replace(/left|right|bottom|top/g,t=>aFe[t])}function hFe(e){return{top:0,right:0,bottom:0,left:0,...e}}function W7(e){return typeof e!="number"?hFe(e):{top:e,right:e,bottom:e,left:e}}function wb(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function fZ(e,t,n){let{reference:r,floating:i}=e;const o=My(t),s=q7(t),a=H7(s),u=Mc(t),l=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(u){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(A_(t)){case"start":h[s]-=d*(n&&l?-1:1);break;case"end":h[s]+=d*(n&&l?-1:1);break}return h}const pFe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=fZ(l,r,u),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:y}=a[m],{x:v,y:b,data:_,reset:w}=await y({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:l,platform:s,elements:{reference:e,floating:t}});c=v??c,f=b??f,h={...h,[g]:{...h[g],..._}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(l=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:c,y:f}=fZ(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function G7(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Th(t,e),p=W7(h),g=a[d?f==="floating"?"reference":"floating":f],y=wb(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:c,strategy:u})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},w=wb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:u}):v);return{top:(y.top-w.top+p.top)/_.y,bottom:(w.bottom-y.bottom+p.bottom)/_.y,left:(y.left-w.left+p.left)/_.x,right:(w.right-y.right+p.right)/_.x}}const mFe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:u}=t,{element:l,padding:c=0}=Th(e,t)||{};if(l==null)return{};const f=W7(c),d={x:n,y:r},h=q7(i),p=H7(h),m=await s.getDimensions(l),g=h==="y",y=g?"top":"left",v=g?"bottom":"right",b=g?"clientHeight":"clientWidth",_=o.reference[p]+o.reference[h]-d[h]-o.floating[p],w=d[h]-o.reference[h],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let E=S?S[b]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[b]||o.floating[p]);const C=_/2-w/2,A=E/2-m[p]/2-1,k=Iu(f[y],A),P=Iu(f[v],A),$=k,N=E-m[p]-P,O=E/2-m[p]/2+C,j=w5($,O,N),M=!u.arrow&&A_(i)!=null&&O!==j&&o.reference[p]/2-(O<$?k:P)-m[p]/2<0,B=M?O<$?O-$:O-N:0;return{[h]:d[h]+B,data:{[h]:j,centerOffset:O-j-B,...M&&{alignmentOffset:B}},reset:M}}}),gFe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:u,elements:l}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Th(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=Mc(i),v=Mc(a)===a,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),_=d||(v||!m?[xR(a)]:cFe(a));!d&&p!=="none"&&_.push(...dFe(a,m,p,b));const w=[a,..._],S=await G7(t,g),E=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&E.push(S[y]),f){const $=lFe(i,s,b);E.push(S[$[0]],S[$[1]])}if(C=[...C,{placement:i,overflows:E}],!E.every($=>$<=0)){var A,k;const $=(((A=o.flip)==null?void 0:A.index)||0)+1,N=w[$];if(N)return{data:{index:$,overflows:C},reset:{placement:N}};let O=(k=C.filter(j=>j.overflows[0]<=0).sort((j,M)=>j.overflows[1]-M.overflows[1])[0])==null?void 0:k.placement;if(!O)switch(h){case"bestFit":{var P;const j=(P=C.map(M=>[M.placement,M.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((M,B)=>M[1]-B[1])[0])==null?void 0:P[0];j&&(O=j);break}case"initialPlacement":O=a;break}if(i!==O)return{reset:{placement:O}}}return{}}}};function bme(e){const t=Iu(...e.map(o=>o.left)),n=Iu(...e.map(o=>o.top)),r=Ns(...e.map(o=>o.right)),i=Ns(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function yFe(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>wb(bme(i)))}const vFe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:u,y:l}=Th(e,t),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),f=yFe(c),d=wb(bme(c)),h=W7(a);function p(){if(f.length===2&&f[0].left>f[1].right&&u!=null&&l!=null)return f.find(g=>u>g.left-h.left&&u<g.right+h.right&&l>g.top-h.top&&l<g.bottom+h.bottom)||d;if(f.length>=2){if(My(n)==="y"){const k=f[0],P=f[f.length-1],$=Mc(n)==="top",N=k.top,O=P.bottom,j=$?k.left:P.left,M=$?k.right:P.right,B=M-j,V=O-N;return{top:N,bottom:O,left:j,right:M,width:B,height:V,x:j,y:N}}const g=Mc(n)==="left",y=Ns(...f.map(k=>k.right)),v=Iu(...f.map(k=>k.left)),b=f.filter(k=>g?k.left===v:k.right===y),_=b[0].top,w=b[b.length-1].bottom,S=v,E=y,C=E-S,A=w-_;return{top:_,bottom:w,left:S,right:E,width:C,height:A,x:S,y:_}}return d}const m=await o.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:s});return i.reference.x!==m.reference.x||i.reference.y!==m.reference.y||i.reference.width!==m.reference.width||i.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function bFe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Mc(n),a=A_(n),u=My(n)==="y",l=["left","top"].includes(s)?-1:1,c=o&&u?-1:1,f=Th(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),u?{x:h*c,y:d*l}:{x:d*l,y:h*c}}const _Fe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,u=await bFe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:s}}}}},wFe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:y,y:v}=g;return{x:y,y:v}}},...u}=Th(e,t),l={x:n,y:r},c=await G7(t,u),f=My(Mc(i)),d=V7(f);let h=l[d],p=l[f];if(o){const g=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=h+c[g],b=h-c[y];h=w5(v,h,b)}if(s){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=p+c[g],b=p-c[y];p=w5(v,p,b)}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},EFe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:u=!0,crossAxis:l=!0}=Th(e,t),c={x:n,y:r},f=My(i),d=V7(f);let h=c[d],p=c[f];const m=Th(a,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(u){const b=d==="y"?"height":"width",_=o.reference[d]-o.floating[b]+g.mainAxis,w=o.reference[d]+o.reference[b]-g.mainAxis;h<_?h=_:h>w&&(h=w)}if(l){var y,v;const b=d==="y"?"width":"height",_=["top","left"].includes(Mc(i)),w=o.reference[f]-o.floating[b]+(_&&((y=s.offset)==null?void 0:y[f])||0)+(_?0:g.crossAxis),S=o.reference[f]+o.reference[b]+(_?0:((v=s.offset)==null?void 0:v[f])||0)-(_?g.crossAxis:0);p<w?p=w:p>S&&(p=S)}return{[d]:h,[f]:p}}}},xFe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=Th(e,t),u=await G7(t,a),l=Mc(n),c=A_(n),f=My(n)==="y",{width:d,height:h}=r.floating;let p,m;l==="top"||l==="bottom"?(p=l,m=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=l,p=c==="end"?"top":"bottom");const g=h-u.top-u.bottom,y=d-u.left-u.right,v=Iu(h-u[p],g),b=Iu(d-u[m],y),_=!t.middlewareData.shift;let w=v,S=b;if(f?S=c||_?Iu(b,y):y:w=c||_?Iu(v,g):g,_&&!c){const C=Ns(u.left,0),A=Ns(u.right,0),k=Ns(u.top,0),P=Ns(u.bottom,0);f?S=d-2*(C!==0||A!==0?C+A:Ns(u.left,u.right)):w=h-2*(k!==0||P!==0?k+P:Ns(u.top,u.bottom))}await s({...t,availableWidth:S,availableHeight:w});const E=await i.getDimensions(o.floating);return d!==E.width||h!==E.height?{reset:{rects:!0}}:{}}}};function _me(e){const t=Rl(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Uu(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=ER(n)!==o||ER(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Y7(e){return ci(e)?e:e.contextElement}function z1(e){const t=Y7(e);if(!Uu(t))return Em(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=_me(t);let s=(o?ER(n.width):n.width)/r,a=(o?ER(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const TFe=Em(0);function wme(e){const t=eu(e);return!z7()||!t.visualViewport?TFe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SFe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==eu(e)?!1:t}function H0(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Y7(e);let s=Em(1);t&&(r?ci(r)&&(s=z1(r)):s=z1(e));const a=SFe(o,n,r)?wme(o):Em(0);let u=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const d=eu(o),h=r&&ci(r)?eu(r):r;let p=d,m=p.frameElement;for(;m&&r&&h!==p;){const g=z1(m),y=m.getBoundingClientRect(),v=Rl(m),b=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,_=y.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;u*=g.x,l*=g.y,c*=g.x,f*=g.y,u+=b,l+=_,p=eu(m),m=p.frameElement}}return wb({width:c,height:f,x:u,y:l})}const CFe=[":popover-open",":modal"];function K7(e){return CFe.some(t=>{try{return e.matches(t)}catch{return!1}})}function AFe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Uh(r),a=t?K7(t.floating):!1;if(r===s||a&&o)return n;let u={scrollLeft:0,scrollTop:0},l=Em(1);const c=Em(0),f=Uu(r);if((f||!f&&!o)&&((C_(r)!=="body"||QS(s))&&(u=CD(r)),Uu(r))){const d=H0(r);l=z1(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+c.x,y:n.y*l.y-u.scrollTop*l.y+c.y}}function IFe(e){return Array.from(e.getClientRects())}function Eme(e){return H0(Uh(e)).left+CD(e).scrollLeft}function kFe(e){const t=Uh(e),n=CD(e),r=e.ownerDocument.body,i=Ns(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ns(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Eme(e);const a=-n.scrollTop;return Rl(r).direction==="rtl"&&(s+=Ns(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function RFe(e,t){const n=eu(e),r=Uh(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,u=0;if(i){o=i.width,s=i.height;const l=z7();(!l||l&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:a,y:u}}function PFe(e,t){const n=H0(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Uu(e)?z1(e):Em(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,u=i*o.x,l=r*o.y;return{width:s,height:a,x:u,y:l}}function dZ(e,t,n){let r;if(t==="viewport")r=RFe(e,n);else if(t==="document")r=kFe(Uh(e));else if(ci(t))r=PFe(t,n);else{const i=wme(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return wb(r)}function xme(e,t){const n=xh(e);return n===t||!ci(n)||wm(n)?!1:Rl(n).position==="fixed"||xme(n,t)}function NFe(e,t){const n=t.get(e);if(n)return n;let r=oh(e,[],!1).filter(a=>ci(a)&&C_(a)!=="body"),i=null;const o=Rl(e).position==="fixed";let s=o?xh(e):e;for(;ci(s)&&!wm(s);){const a=Rl(s),u=U7(s);!u&&a.position==="fixed"&&(i=null),(o?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||QS(s)&&!u&&xme(e,s))?r=r.filter(c=>c!==s):i=a,s=xh(s)}return t.set(e,r),r}function DFe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?K7(t)?[]:NFe(t,this._c):[].concat(n),r],a=s[0],u=s.reduce((l,c)=>{const f=dZ(t,c,i);return l.top=Ns(f.top,l.top),l.right=Iu(f.right,l.right),l.bottom=Iu(f.bottom,l.bottom),l.left=Ns(f.left,l.left),l},dZ(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function $Fe(e){const{width:t,height:n}=_me(e);return{width:t,height:n}}function OFe(e,t,n){const r=Uu(t),i=Uh(t),o=n==="fixed",s=H0(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const u=Em(0);if(r||!r&&!o)if((C_(t)!=="body"||QS(i))&&(a=CD(t)),r){const f=H0(t,!0,o,t);u.x=f.x+t.clientLeft,u.y=f.y+t.clientTop}else i&&(u.x=Eme(i));const l=s.left+a.scrollLeft-u.x,c=s.top+a.scrollTop-u.y;return{x:l,y:c,width:s.width,height:s.height}}function bL(e){return Rl(e).position==="static"}function hZ(e,t){return!Uu(e)||Rl(e).position==="fixed"?null:t?t(e):e.offsetParent}function Tme(e,t){const n=eu(e);if(K7(e))return n;if(!Uu(e)){let i=xh(e);for(;i&&!wm(i);){if(ci(i)&&!bL(i))return i;i=xh(i)}return n}let r=hZ(e,t);for(;r&&Q4e(r)&&bL(r);)r=hZ(r,t);return r&&wm(r)&&bL(r)&&!U7(r)?n:r||J4e(e)||n}const MFe=async function(e){const t=this.getOffsetParent||Tme,n=this.getDimensions,r=await n(e.floating);return{reference:OFe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LFe(e){return Rl(e).direction==="rtl"}const FFe={convertOffsetParentRelativeRectToViewportRelativeRect:AFe,getDocumentElement:Uh,getClippingRect:DFe,getOffsetParent:Tme,getElementRects:MFe,getClientRects:IFe,getDimensions:$Fe,getScale:z1,isElement:ci,isRTL:LFe};function jFe(e,t){let n=null,r;const i=Uh(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),o();const{left:l,top:c,width:f,height:d}=e.getBoundingClientRect();if(a||t(),!f||!d)return;const h=cA(c),p=cA(i.clientWidth-(l+f)),m=cA(i.clientHeight-(c+d)),g=cA(l),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-g+"px",threshold:Ns(0,Iu(1,u))||1};let b=!0;function _(w){const S=w[0].intersectionRatio;if(S!==u){if(!b)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(e)}return s(!0),o}function BFe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=Y7(e),c=i||o?[...l?oh(l):[],...oh(t)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=l&&a?jFe(l,n):null;let d=-1,h=null;s&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),l&&!u&&h.observe(l),h.observe(t));let p,m=u?H0(e):null;u&&g();function g(){const y=H0(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,p=requestAnimationFrame(g)}return n(),()=>{var y;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,u&&cancelAnimationFrame(p)}}const UFe=_Fe,zFe=wFe,VFe=gFe,HFe=xFe,pZ=mFe,qFe=vFe,WFe=EFe,GFe=(e,t,n)=>{const r=new Map,i={platform:FFe,...n},o={...i.platform,_c:r};return pFe(e,t,{...i,platform:o})};var KI=typeof document<"u"?I.useLayoutEffect:I.useEffect;function TR(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!TR(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!TR(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Sme(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mZ(e,t){const n=Sme(e);return Math.round(t*n)/n}function gZ(e){const t=I.useRef(e);return KI(()=>{t.current=e}),t}function YFe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:u,open:l}=e,[c,f]=I.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=I.useState(r);TR(d,r)||h(r);const[p,m]=I.useState(null),[g,y]=I.useState(null),v=I.useCallback(B=>{B!==S.current&&(S.current=B,m(B))},[]),b=I.useCallback(B=>{B!==E.current&&(E.current=B,y(B))},[]),_=o||p,w=s||g,S=I.useRef(null),E=I.useRef(null),C=I.useRef(c),A=u!=null,k=gZ(u),P=gZ(i),$=I.useCallback(()=>{if(!S.current||!E.current)return;const B={placement:t,strategy:n,middleware:d};P.current&&(B.platform=P.current),GFe(S.current,E.current,B).then(V=>{const q={...V,isPositioned:!0};N.current&&!TR(C.current,q)&&(C.current=q,Ny.flushSync(()=>{f(q)}))})},[d,t,n,P]);KI(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[l]);const N=I.useRef(!1);KI(()=>(N.current=!0,()=>{N.current=!1}),[]),KI(()=>{if(_&&(S.current=_),w&&(E.current=w),_&&w){if(k.current)return k.current(_,w,$);$()}},[_,w,$,k,A]);const O=I.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:b}),[v,b]),j=I.useMemo(()=>({reference:_,floating:w}),[_,w]),M=I.useMemo(()=>{const B={position:n,left:0,top:0};if(!j.floating)return B;const V=mZ(j.floating,c.x),q=mZ(j.floating,c.y);return a?{...B,transform:"translate("+V+"px, "+q+"px)",...Sme(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:q}},[n,a,j.floating,c.x,c.y]);return I.useMemo(()=>({...c,update:$,refs:O,elements:j,floatingStyles:M}),[c,$,O,j,M])}const KFe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pZ({element:r.current,padding:i}).fn(n):{}:r?pZ({element:r,padding:i}).fn(n):{}}}},Cme=(e,t)=>({...UFe(e),options:[e,t]}),X7=(e,t)=>({...zFe(e),options:[e,t]}),yZ=(e,t)=>({...WFe(e),options:[e,t]}),x5=(e,t)=>({...VFe(e),options:[e,t]}),XFe=(e,t)=>({...HFe(e),options:[e,t]}),T5=(e,t)=>({...qFe(e),options:[e,t]}),Ame=(e,t)=>({...KFe(e),options:[e,t]}),Ime={...gT},QFe=Ime.useInsertionEffect,JFe=QFe||(e=>e());function Ap(e){const t=I.useRef(()=>{});return JFe(()=>{t.current=e}),I.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var $f=typeof document<"u"?I.useLayoutEffect:I.useEffect;let vZ=!1,ZFe=0;const bZ=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZFe++;function e5e(){const[e,t]=I.useState(()=>vZ?bZ():void 0);return $f(()=>{e==null&&t(bZ())},[]),I.useEffect(()=>{vZ=!0},[]),e}const t5e=Ime.useId,kme=t5e||e5e;function n5e(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const r5e=I.createContext(null),i5e=I.createContext(null),Q7=()=>{var e;return((e=I.useContext(r5e))==null?void 0:e.id)||null},J7=()=>I.useContext(i5e);function Z7(e){return"data-floating-ui-"+e}function _Z(e){const t=I.useRef(e);return $f(()=>{t.current=e}),t}const wZ=Z7("safe-polygon");function XI(e,t,n){return n&&!_5(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function o5e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:{domReference:s,floating:a}}=e,{enabled:u=!0,delay:l=0,handleClose:c=null,mouseOnly:f=!1,restMs:d=0,move:h=!0}=t,p=J7(),m=Q7(),g=_Z(c),y=_Z(l),v=I.useRef(),b=I.useRef(-1),_=I.useRef(),w=I.useRef(-1),S=I.useRef(!0),E=I.useRef(!1),C=I.useRef(()=>{}),A=I.useCallback(()=>{var N;const O=(N=i.current.openEvent)==null?void 0:N.type;return(O==null?void 0:O.includes("mouse"))&&O!=="mousedown"},[i]);I.useEffect(()=>{if(!u)return;function N(O){let{open:j}=O;j||(clearTimeout(b.current),clearTimeout(w.current),S.current=!0)}return o.on("openchange",N),()=>{o.off("openchange",N)}},[u,o]),I.useEffect(()=>{if(!u||!g.current||!n)return;function N(j){A()&&r(!1,j,"hover")}const O=f0(a).documentElement;return O.addEventListener("mouseleave",N),()=>{O.removeEventListener("mouseleave",N)}},[a,n,r,u,g,A]);const k=I.useCallback(function(N,O,j){O===void 0&&(O=!0),j===void 0&&(j="hover");const M=XI(y.current,"close",v.current);M&&!_.current?(clearTimeout(b.current),b.current=window.setTimeout(()=>r(!1,N,j),M)):O&&(clearTimeout(b.current),r(!1,N,j))},[y,r]),P=Ap(()=>{C.current(),_.current=void 0}),$=Ap(()=>{if(E.current){const N=f0(a).body;N.style.pointerEvents="",N.removeAttribute(wZ),E.current=!1}});return I.useEffect(()=>{if(!u)return;function N(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function O(B){if(clearTimeout(b.current),S.current=!1,f&&!_5(v.current)||d>0&&!XI(y.current,"open"))return;const V=XI(y.current,"open",v.current);V?b.current=window.setTimeout(()=>{r(!0,B,"hover")},V):r(!0,B,"hover")}function j(B){if(N())return;C.current();const V=f0(a);if(clearTimeout(w.current),g.current&&i.current.floatingContext){n||clearTimeout(b.current),_.current=g.current({...i.current.floatingContext,tree:p,x:B.clientX,y:B.clientY,onClose(){$(),P(),k(B,!0,"safe-polygon")}});const D=_.current;V.addEventListener("mousemove",D),C.current=()=>{V.removeEventListener("mousemove",D)};return}(v.current==="touch"?!OT(a,B.relatedTarget):!0)&&k(B)}function M(B){N()||i.current.floatingContext&&(g.current==null||g.current({...i.current.floatingContext,tree:p,x:B.clientX,y:B.clientY,onClose(){$(),P(),k(B)}})(B))}if(ci(s)){const B=s;return n&&B.addEventListener("mouseleave",M),a==null||a.addEventListener("mouseleave",M),h&&B.addEventListener("mousemove",O,{once:!0}),B.addEventListener("mouseenter",O),B.addEventListener("mouseleave",j),()=>{n&&B.removeEventListener("mouseleave",M),a==null||a.removeEventListener("mouseleave",M),h&&B.removeEventListener("mousemove",O),B.removeEventListener("mouseenter",O),B.removeEventListener("mouseleave",j)}}},[s,a,u,e,f,d,h,k,P,$,r,n,p,y,g,i]),$f(()=>{var N;if(u&&n&&(N=g.current)!=null&&N.__options.blockPointerEvents&&A()){const j=f0(a).body;if(j.setAttribute(wZ,""),j.style.pointerEvents="none",E.current=!0,ci(s)&&a){var O;const M=s,B=p==null||(O=p.nodesRef.current.find(V=>V.id===m))==null||(O=O.context)==null?void 0:O.elements.floating;return B&&(B.style.pointerEvents=""),M.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{M.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,m,a,s,p,g,A]),$f(()=>{n||(v.current=void 0,P(),$())},[n,P,$]),I.useEffect(()=>()=>{P(),clearTimeout(b.current),clearTimeout(w.current),$()},[u,s,P,$]),I.useMemo(()=>{if(!u)return{};function N(O){v.current=O.pointerType}return{reference:{onPointerDown:N,onPointerEnter:N,onMouseMove(O){function j(){S.current||r(!0,O.nativeEvent,"hover")}f&&!_5(v.current)||n||d===0||(clearTimeout(w.current),v.current==="touch"?j():w.current=window.setTimeout(j,d))}},floating:{onMouseEnter(){clearTimeout(b.current)},onMouseLeave(O){k(O.nativeEvent,!1)}}}},[u,f,n,d,r,k])}const S5=()=>{},Rme=I.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:S5,setState:S5,isInstantPhase:!1}),Pme=()=>I.useContext(Rme);function s5e(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=I.useReducer((u,l)=>({...u,...l}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=I.useRef(null),a=I.useCallback(u=>{o({currentId:u})},[]);return $f(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),I.createElement(Rme.Provider,{value:I.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function a5e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o}=t,s=o??i,a=Pme(),{currentId:u,setCurrentId:l,initialDelay:c,setState:f,timeoutMs:d}=a;return $f(()=>{u&&(f({delay:{open:1,close:XI(c,"close")}}),u!==s&&r(!1))},[s,r,f,u,c]),$f(()=>{function h(){r(!1),f({delay:c,currentId:null})}if(u&&!n&&u===s){if(d){const p=window.setTimeout(h,d);return()=>{clearTimeout(p)}}h()}},[n,f,u,s,r,c,d]),$f(()=>{l===S5||!n||l(s)},[n,l,s]),a}function _L(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const u5e={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},l5e={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},EZ=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function c5e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:{reference:i,domReference:o,floating:s},dataRef:a}=e,{enabled:u=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:f="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:m,capture:g}=t,y=J7(),v=Ap(typeof c=="function"?c:()=>!1),b=typeof c=="function"?v:c,_=I.useRef(!1),w=I.useRef(!1),{escapeKey:S,outsidePress:E}=EZ(m),{escapeKey:C,outsidePress:A}=EZ(g),k=Ap(O=>{var j;if(!n||!u||!l||O.key!=="Escape")return;const M=(j=a.current.floatingContext)==null?void 0:j.nodeId,B=y?_L(y.nodesRef.current,M):[];if(!S&&(O.stopPropagation(),B.length>0)){let V=!0;if(B.forEach(q=>{var D;if((D=q.context)!=null&&D.open&&!q.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,rFe(O)?O.nativeEvent:O,"escape-key")}),P=Ap(O=>{var j;const M=()=>{var B;k(O),(B=e1(O))==null||B.removeEventListener("keydown",M)};(j=e1(O))==null||j.addEventListener("keydown",M)}),$=Ap(O=>{var j;const M=_.current;_.current=!1;const B=w.current;if(w.current=!1,f==="click"&&B||M||typeof b=="function"&&!b(O))return;const V=e1(O),q="["+Z7("inert")+"]",D=f0(s).querySelectorAll(q);let U=ci(V)?V:null;for(;U&&!wm(U);){const G=xh(U);if(wm(G)||!ci(G))break;U=G}if(D.length&&ci(V)&&!iFe(V)&&!OT(V,s)&&Array.from(D).every(G=>!OT(U,G)))return;if(Uu(V)&&s){const G=V.clientWidth>0&&V.scrollWidth>V.clientWidth,ee=V.clientHeight>0&&V.scrollHeight>V.clientHeight;let ce=ee&&O.offsetX>V.clientWidth;if(ee&&Rl(V).direction==="rtl"&&(ce=O.offsetX<=V.offsetWidth-V.clientWidth),ce||G&&O.offsetY>V.clientHeight)return}const W=(j=a.current.floatingContext)==null?void 0:j.nodeId,F=y&&_L(y.nodesRef.current,W).some(G=>{var ee;return vL(O,(ee=G.context)==null?void 0:ee.elements.floating)});if(vL(O,s)||vL(O,o)||F)return;const z=y?_L(y.nodesRef.current,W):[];if(z.length>0){let G=!0;if(z.forEach(ee=>{var ce;if((ce=ee.context)!=null&&ce.open&&!ee.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}r(!1,O,"outside-press")}),N=Ap(O=>{var j;const M=()=>{var B;$(O),(B=e1(O))==null||B.removeEventListener(f,M)};(j=e1(O))==null||j.addEventListener(f,M)});return I.useEffect(()=>{if(!n||!u)return;a.current.__escapeKeyBubbles=S,a.current.__outsidePressBubbles=E;function O(B){r(!1,B,"ancestor-scroll")}const j=f0(s);l&&j.addEventListener("keydown",C?P:k,C),b&&j.addEventListener(f,A?N:$,A);let M=[];return p&&(ci(o)&&(M=oh(o)),ci(s)&&(M=M.concat(oh(s))),!ci(i)&&i&&i.contextElement&&(M=M.concat(oh(i.contextElement)))),M=M.filter(B=>{var V;return B!==((V=j.defaultView)==null?void 0:V.visualViewport)}),M.forEach(B=>{B.addEventListener("scroll",O,{passive:!0})}),()=>{l&&j.removeEventListener("keydown",C?P:k,C),b&&j.removeEventListener(f,A?N:$,A),M.forEach(B=>{B.removeEventListener("scroll",O)})}},[a,s,o,i,l,b,f,n,r,p,u,S,E,k,C,P,$,A,N]),I.useEffect(()=>{_.current=!1},[b,f]),I.useMemo(()=>u?{reference:{onKeyDown:k,[u5e[h]]:O=>{d&&r(!1,O.nativeEvent,"reference-press")}},floating:{onKeyDown:k,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[l5e[f]]:()=>{_.current=!0}}}:{},[u,d,f,h,r,k])}function f5e(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=kme(),o=I.useRef({}),[s]=I.useState(()=>n5e()),a=Q7()!=null,[u,l]=I.useState(r.reference),c=Ap((h,p,m)=>{o.current.openEvent=h?p:void 0,s.emit("openchange",{open:h,event:p,reason:m,nested:a}),n==null||n(h,p,m)}),f=I.useMemo(()=>({setPositionReference:l}),[]),d=I.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return I.useMemo(()=>({dataRef:o,open:t,onOpenChange:c,elements:d,events:s,floatingId:i,refs:f}),[t,c,d,s,i,f])}function eU(e){e===void 0&&(e={});const{nodeId:t}=e,n=f5e({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=I.useState(null),[a,u]=I.useState(null),c=(i==null?void 0:i.reference)||o,f=I.useRef(null),d=J7();$f(()=>{c&&(f.current=c)},[c]);const h=YFe({...e,elements:{...i,...a&&{reference:a}}}),p=I.useCallback(b=>{const _=ci(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(_),h.refs.setReference(_)},[h.refs]),m=I.useCallback(b=>{(ci(b)||b===null)&&(f.current=b,s(b)),(ci(h.refs.reference.current)||h.refs.reference.current===null||b!==null&&!ci(b))&&h.refs.setReference(b)},[h.refs]),g=I.useMemo(()=>({...h.refs,setReference:m,setPositionReference:p,domReference:f}),[h.refs,m,p]),y=I.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),v=I.useMemo(()=>({...h,...r,refs:g,elements:y,nodeId:t}),[h,g,y,t,r]);return $f(()=>{r.dataRef.current.floatingContext=v;const b=d==null?void 0:d.nodesRef.current.find(_=>_.id===t);b&&(b.context=v)}),I.useMemo(()=>({...h,context:v,refs:g,elements:y}),[h,g,y,v])}function d5e(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:{domReference:s}}=e,{enabled:a=!0,visibleOnly:u=!0}=t,l=I.useRef(!1),c=I.useRef(),f=I.useRef(!0);return I.useEffect(()=>{if(!a)return;const d=eu(s);function h(){!n&&Uu(s)&&s===lZ(f0(s))&&(l.current=!0)}function p(){f.current=!0}return d.addEventListener("blur",h),d.addEventListener("keydown",p,!0),()=>{d.removeEventListener("blur",h),d.removeEventListener("keydown",p,!0)}},[s,n,a]),I.useEffect(()=>{if(!a)return;function d(h){let{reason:p}=h;(p==="reference-press"||p==="escape-key")&&(l.current=!0)}return i.on("openchange",d),()=>{i.off("openchange",d)}},[i,a]),I.useEffect(()=>()=>{clearTimeout(c.current)},[]),I.useMemo(()=>a?{reference:{onPointerDown(d){Z4e(d.nativeEvent)||(f.current=!1)},onMouseLeave(){l.current=!1},onFocus(d){if(l.current)return;const h=e1(d.nativeEvent);if(u&&ci(h))try{if(eFe()&&tFe())throw Error();if(!h.matches(":focus-visible"))return}catch{if(!f.current&&!sFe(h))return}r(!0,d.nativeEvent,"focus")},onBlur(d){l.current=!1;const h=d.relatedTarget,p=ci(h)&&h.hasAttribute(Z7("focus-guard"))&&h.getAttribute("data-type")==="outside";c.current=window.setTimeout(()=>{var m;const g=lZ(s?s.ownerDocument:document);!h&&g===s||OT((m=o.current.floatingContext)==null?void 0:m.refs.floating.current,g)||OT(s,g)||p||r(!1,d.nativeEvent,"focus")})}}}:{},[a,u,o,s,r])}const xZ="active",TZ="selected";function wL(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[xZ]:s,[TZ]:a,...u}=e;o=u}return{...n==="floating"&&{tabIndex:-1},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(u=>{let[l,c]=u;if(!(i&&[xZ,TZ].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof c=="function"){var f;(f=r.get(l))==null||f.push(c),s[l]=function(){for(var d,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(d=r.get(l))==null?void 0:d.map(g=>g(...p)).find(g=>g!==void 0)}}}else s[l]=c}),s),{})}}function h5e(e){e===void 0&&(e=[]);const t=e,n=I.useCallback(o=>wL(o,e,"reference"),t),r=I.useCallback(o=>wL(o,e,"floating"),t),i=I.useCallback(o=>wL(o,e,"item"),e.map(o=>o==null?void 0:o.item));return I.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}const p5e=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function m5e(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=p5e.get(s))!=null?n:s,u=kme(),c=Q7()!=null;return I.useMemo(()=>{if(!o)return{};const f={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0},floating:f}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:u},...a==="menu"&&c&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...f,...a==="menu"&&{"aria-labelledby":u}},item(d){let{active:h,selected:p}=d;const m={role:"option",...h&&{id:i+"-option"}};switch(s){case"select":return{...m,"aria-selected":h&&p};case"combobox":return{...m,...h&&{"aria-selected":!0}}}return{}}}},[o,s,a,r,i,u,c])}function Nme(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function SZ(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function CZ(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const g5e={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function y5e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[u,l="center"]=e.split("-"),c={width:Ie(t),height:Ie(t),transform:"rotate(45deg)",position:"absolute",[g5e[u]]:Ie(r)},f=Ie(-t/2);return u==="left"?{...c,...SZ(l,s,n,i),right:f,borderLeftColor:"transparent",borderBottomColor:"transparent"}:u==="right"?{...c,...SZ(l,s,n,i),left:f,borderRightColor:"transparent",borderTopColor:"transparent"}:u==="top"?{...c,...CZ(l,o,n,i,a),bottom:f,borderTopColor:"transparent",borderLeftColor:"transparent"}:u==="bottom"?{...c,...CZ(l,o,n,i,a),top:f,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const tU=I.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:u,...l},c)=>{const{dir:f}=Bh();return o?T.jsx("div",{...l,ref:c,style:{...u,...y5e({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:f,arrowX:s,arrowY:a})}}):null});tU.displayName="@mantine/core/FloatingArrow";const[v5e,Dme]=Uo("Popover component was not found in the tree");function AD({children:e,active:t=!0,refProp:n="ref"}){const r=c6e(t),i=vo(r,e==null?void 0:e.ref);return Xm(e)?I.cloneElement(e,{[n]:i}):e}function $me(e){return T.jsx(B7,{tabIndex:-1,"data-autofocus":!0,...e})}AD.displayName="@mantine/core/FocusTrap";$me.displayName="@mantine/core/FocusTrapInitialFocus";AD.InitialFocus=$me;function b5e(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const _5e={},Ome=I.forwardRef((e,t)=>{const{children:n,target:r,...i}=Ae("Portal",_5e,e),[o,s]=I.useState(!1),a=I.useRef(null);return Dy(()=>(s(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:b5e(i),k7(t,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!o||!a.current?null:Ny.createPortal(T.jsx(T.Fragment,{children:n}),a.current)});Ome.displayName="@mantine/core/Portal";function JS({withinPortal:e=!0,children:t,...n}){return e?T.jsx(Ome,{...n,children:t}):T.jsx(T.Fragment,{children:t})}JS.displayName="@mantine/core/OptionalPortal";const qw=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${Ie(e==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),fA={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Ie(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${Ie(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Ie(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${Ie(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Ie(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${Ie(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Ie(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${Ie(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...qw("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...qw("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...qw("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...qw("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...qw("top"),common:{transformOrigin:"top right"}}},AZ={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function w5e({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in fA?{transitionProperty:fA[e].transitionProperty,...i,...fA[e].common,...fA[e][AZ[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[AZ[t]]}}function E5e({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const u=zo(),l=R7(),c=u.respectReducedMotion?l:!1,[f,d]=I.useState(c?0:e),[h,p]=I.useState(r?"entered":"exited"),m=I.useRef(-1),g=I.useRef(-1),y=v=>{const b=v?i:o,_=v?s:a;window.clearTimeout(m.current);const w=c?0:v?e:t;d(w),w===0?(typeof b=="function"&&b(),typeof _=="function"&&_(),p(v?"entered":"exited")):g.current=requestAnimationFrame(()=>{Ipe.flushSync(()=>{p(v?"pre-entering":"pre-exiting")}),g.current=requestAnimationFrame(()=>{typeof b=="function"&&b(),p(v?"entering":"exiting"),m.current=window.setTimeout(()=>{typeof _=="function"&&_(),p(v?"entered":"exited")},w)})})};return Eh(()=>{y(r)},[r]),I.useEffect(()=>()=>{window.clearTimeout(m.current),cancelAnimationFrame(g.current)},[]),{transitionDuration:f,transitionStatus:h,transitionTimingFunction:n||"ease"}}function zh({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:u,onEnter:l,onExited:c}){const{transitionDuration:f,transitionStatus:d,transitionTimingFunction:h}=E5e({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:u,onEnter:l,onExited:c});return f===0?i?T.jsx(T.Fragment,{children:o({})}):e?o({display:"none"}):null:d==="exited"?e?o({display:"none"}):null:T.jsx(T.Fragment,{children:o(w5e({transition:t,duration:f,state:d,timingFunction:h}))})}zh.displayName="@mantine/core/Transition";var Mme={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const x5e={},nU=Be((e,t)=>{var g,y,v,b;const n=Ae("PopoverDropdown",x5e,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:u,classNames:l,styles:c,...f}=n,d=Dme(),h=Fpe({opened:d.opened,shouldReturnFocus:d.returnFocus}),p=d.withRoles?{"aria-labelledby":d.getTargetId(),id:d.getDropdownId(),role:"dialog",tabIndex:-1}:{},m=vo(t,d.floating);return d.disabled?null:T.jsx(JS,{...d.portalProps,withinPortal:d.withinPortal,children:T.jsx(zh,{mounted:d.opened,...d.transitionProps,transition:((g=d.transitionProps)==null?void 0:g.transition)||"fade",duration:((y=d.transitionProps)==null?void 0:y.duration)??150,keepMounted:d.keepMounted,exitDuration:typeof((v=d.transitionProps)==null?void 0:v.exitDuration)=="number"?d.transitionProps.exitDuration:(b=d.transitionProps)==null?void 0:b.duration,children:_=>T.jsx(AD,{active:d.trapFocus,children:T.jsxs(Ce,{...p,...f,variant:u,ref:m,onKeyDownCapture:QLe(d.onClose,{active:d.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":d.placement,...d.getStyles("dropdown",{className:r,props:n,classNames:l,styles:c,style:[{..._,zIndex:d.zIndex,top:d.y??0,left:d.x??0,width:d.width==="target"?void 0:Ie(d.width)},i]}),children:[s,T.jsx(tU,{ref:d.arrowRef,arrowX:d.arrowX,arrowY:d.arrowY,visible:d.withArrow,position:d.placement,arrowSize:d.arrowSize,arrowRadius:d.arrowRadius,arrowOffset:d.arrowOffset,arrowPosition:d.arrowPosition,...d.getStyles("arrow",{props:n,classNames:l,styles:c})})]})})})})});nU.classes=Mme;nU.displayName="@mantine/core/PopoverDropdown";const T5e={refProp:"ref",popupType:"dialog"},Lme=Be((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=Ae("PopoverTarget",T5e,e);if(!Xm(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=Dme(),u=vo(a.reference,n.ref,t),l=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return I.cloneElement(n,{...s,...l,...a.targetProps,className:Ni(a.targetProps.className,s.className,n.props.className),[r]:u,...a.controlled?null:{onClick:a.onToggle}})});Lme.displayName="@mantine/core/PopoverTarget";function Fme({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=I.useState(0);I.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return BFe(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Eh(()=>{t.update()},r),Eh(()=>{o(s=>s+1)},[e])}function S5e(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function C5e(e,t){const n=S5e(e.middlewares),r=[Cme(e.offset)];return n.shift&&r.push(X7(typeof n.shift=="boolean"?{limiter:yZ(),padding:5}:{limiter:yZ(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?x5():x5(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?T5():T5(n.inline)),r.push(Ame({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(XFe({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s}){var l;const u=((l=t().refs.floating.current)==null?void 0:l.style)??{};n.size&&Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`}),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function A5e(e){const[t,n]=ms({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=()=>{var s;t&&((s=e.onClose)==null||s.call(e),n(!1))},i=()=>{var s,a;t?((s=e.onClose)==null||s.call(e),n(!1)):((a=e.onOpen)==null||a.call(e),n(!0))},o=eU({strategy:e.strategy,placement:e.position,middleware:C5e(e,()=>o)});return Fme({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:o}),Eh(()=>{var s;(s=e.onPositionChange)==null||s.call(e,o.placement)},[o.placement]),Eh(()=>{var s,a;e.opened?(a=e.onOpen)==null||a.call(e):(s=e.onClose)==null||s.call(e)},[e.opened]),{floating:o,controlled:typeof e.opened=="boolean",opened:t,onClose:r,onToggle:i}}const I5e={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Bl("popover"),__staticSelector:"Popover",width:"max-content"},k5e=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:ni(t),"--popover-shadow":A7(n)}});function gi(e){var ke,Ne,ze,ut,Mt,qe;const t=Ae("Popover",I5e,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:u,width:l,middlewares:c,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,unstyled:g,classNames:y,styles:v,closeOnClickOutside:b,withinPortal:_,portalProps:w,closeOnEscape:S,clickOutsideEvents:E,trapFocus:C,onClose:A,onOpen:k,onChange:P,zIndex:$,radius:N,shadow:O,id:j,defaultOpened:M,__staticSelector:B,withRoles:V,disabled:q,returnFocus:D,variant:U,keepMounted:W,vars:F,floatingStrategy:z,...G}=t,ee=It({name:B,props:t,classes:Mme,classNames:y,styles:v,unstyled:g,rootSelector:"dropdown",vars:F,varsResolver:k5e}),ce=I.useRef(null),[le,se]=I.useState(null),[ge,be]=I.useState(null),{dir:ve}=Bh(),Ye=Ta(j),Ue=A5e({middlewares:c,width:l,position:Nme(ve,r),offset:typeof i=="number"?i+(f?d/2:0):i,arrowRef:ce,arrowOffset:h,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:M,onChange:P,onOpen:k,onClose:A,strategy:z});e6e(()=>b&&Ue.onClose(),E,[le,ge]);const ht=I.useCallback(me=>{se(me),Ue.floating.refs.setReference(me)},[Ue.floating.refs.setReference]),Je=I.useCallback(me=>{be(me),Ue.floating.refs.setFloating(me)},[Ue.floating.refs.setFloating]);return T.jsx(v5e,{value:{returnFocus:D,disabled:q,controlled:Ue.controlled,reference:ht,floating:Je,x:Ue.floating.x,y:Ue.floating.y,arrowX:(ze=(Ne=(ke=Ue.floating)==null?void 0:ke.middlewareData)==null?void 0:Ne.arrow)==null?void 0:ze.x,arrowY:(qe=(Mt=(ut=Ue.floating)==null?void 0:ut.middlewareData)==null?void 0:Mt.arrow)==null?void 0:qe.y,opened:Ue.opened,arrowRef:ce,transitionProps:u,width:l,withArrow:f,arrowSize:d,arrowOffset:h,arrowRadius:p,arrowPosition:m,placement:Ue.floating.placement,trapFocus:C,withinPortal:_,portalProps:w,zIndex:$,radius:N,shadow:O,closeOnEscape:S,onClose:Ue.onClose,onToggle:Ue.onToggle,getTargetId:()=>`${Ye}-target`,getDropdownId:()=>`${Ye}-dropdown`,withRoles:V,targetProps:G,__staticSelector:B,classNames:y,styles:v,unstyled:g,variant:U,keepMounted:W,getStyles:ee},children:n})}gi.Target=Lme;gi.Dropdown=nU;gi.displayName="@mantine/core/Popover";gi.extend=e=>e;var wc={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const R5e=I.forwardRef(({className:e,...t},n)=>T.jsxs(Ce,{component:"span",className:Ni(wc.barsLoader,e),...t,ref:n,children:[T.jsx("span",{className:wc.bar}),T.jsx("span",{className:wc.bar}),T.jsx("span",{className:wc.bar})]})),P5e=I.forwardRef(({className:e,...t},n)=>T.jsxs(Ce,{component:"span",className:Ni(wc.dotsLoader,e),...t,ref:n,children:[T.jsx("span",{className:wc.dot}),T.jsx("span",{className:wc.dot}),T.jsx("span",{className:wc.dot})]})),N5e=I.forwardRef(({className:e,...t},n)=>T.jsx(Ce,{component:"span",className:Ni(wc.ovalLoader,e),...t,ref:n})),jme={bars:R5e,oval:N5e,dots:P5e},D5e={loaders:jme,type:"oval"},$5e=(e,{size:t,color:n})=>({root:{"--loader-size":dn(t,"loader-size"),"--loader-color":n?ei(n,e):void 0}}),Ly=Be((e,t)=>{const n=Ae("Loader",D5e,e),{size:r,color:i,type:o,vars:s,className:a,style:u,classNames:l,styles:c,unstyled:f,loaders:d,variant:h,children:p,...m}=n,g=It({name:"Loader",props:n,classes:wc,className:a,style:u,classNames:l,styles:c,unstyled:f,vars:s,varsResolver:$5e});return p?T.jsx(Ce,{...g("root"),ref:t,...m,children:p}):T.jsx(Ce,{...g("root"),ref:t,component:d[o],variant:h,size:r,...m})});Ly.defaultLoaders=jme;Ly.classes=wc;Ly.displayName="@mantine/core/Loader";var ID={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const IZ={orientation:"horizontal"},O5e=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ie(t)}}),rU=Be((e,t)=>{const n=Ae("ActionIconGroup",IZ,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=Ae("ActionIconGroup",IZ,e),p=It({name:"ActionIconGroup",props:n,classes:ID,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:O5e,rootSelector:"group"});return T.jsx(Ce,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});rU.classes=ID;rU.displayName="@mantine/core/ActionIconGroup";const M5e={},L5e=(e,{size:t,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=e.variantColorResolver({color:o||e.primaryColor,theme:e,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":dn(t,"ai-size"),"--ai-radius":n===void 0?void 0:ni(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},xm=Vo((e,t)=>{const n=Ae("ActionIcon",M5e,e),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:u,loading:l,loaderProps:c,size:f,color:d,radius:h,__staticSelector:p,gradient:m,vars:g,children:y,disabled:v,"data-disabled":b,autoContrast:_,mod:w,...S}=n,E=It({name:["ActionIcon",p],props:n,className:r,style:u,classes:ID,classNames:s,styles:a,unstyled:i,vars:g,varsResolver:L5e});return T.jsxs(po,{...E("root",{active:!v&&!l&&!b}),...S,unstyled:i,variant:o,size:f,disabled:v||l,ref:t,mod:[{loading:l,disabled:v||b},w],children:[T.jsx(zh,{mounted:!!l,transition:"slide-down",duration:150,children:C=>T.jsx(Ce,{component:"span",...E("loader",{style:C}),"aria-hidden":!0,children:T.jsx(Ly,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})})}),T.jsx(Ce,{component:"span",mod:{loading:l},...E("icon"),children:y})]})});xm.classes=ID;xm.displayName="@mantine/core/ActionIcon";xm.Group=rU;const Bme=I.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>T.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:T.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Bme.displayName="@mantine/core/CloseIcon";var Ume={root:"m_86a44da5","root--subtle":"m_220c80f2"};const F5e={variant:"subtle"},j5e=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":dn(t,"cb-size"),"--cb-radius":n===void 0?void 0:ni(n),"--cb-icon-size":Ie(r)}}),Fy=Vo((e,t)=>{const n=Ae("CloseButton",F5e,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:u,style:l,styles:c,unstyled:f,"data-disabled":d,disabled:h,variant:p,icon:m,mod:g,...y}=n,v=It({name:"CloseButton",props:n,className:a,style:l,classes:Ume,classNames:u,styles:c,unstyled:f,vars:o,varsResolver:j5e});return T.jsxs(po,{ref:t,...y,unstyled:f,variant:p,disabled:h,mod:[{disabled:h||d},g],...v("root",{variant:p,active:!h&&!d}),children:[m||T.jsx(Bme,{}),i]})});Fy.classes=Ume;Fy.displayName="@mantine/core/CloseButton";function B5e(e){return I.Children.toArray(e).filter(Boolean)}var zme={root:"m_4081bf90"};const U5e={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},z5e=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":kl(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),zu=Be((e,t)=>{const n=Ae("Group",U5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:u,gap:l,align:c,justify:f,wrap:d,grow:h,preventGrowOverflow:p,vars:m,variant:g,__size:y,mod:v,...b}=n,_=B5e(u),w=_.length,S=kl(l??"md"),C={childWidth:`calc(${100/w}% - (${S} - ${S} / ${w}))`},A=It({name:"Group",props:n,stylesCtx:C,className:i,style:o,classes:zme,classNames:r,styles:s,unstyled:a,vars:m,varsResolver:z5e});return T.jsx(Ce,{...A("root"),ref:t,variant:g,mod:[{grow:h},v],size:y,...b,children:_})});zu.classes=zme;zu.displayName="@mantine/core/Group";var Vme={root:"m_9814e45f"};const V5e={zIndex:Bl("modal")},H5e=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&ff(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ie(i)})`:void 0,"--overlay-radius":o===void 0?void 0:ni(o),"--overlay-z-index":s==null?void 0:s.toString()}}),MT=Vo((e,t)=>{const n=Ae("Overlay",V5e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,fixed:l,center:c,children:f,radius:d,zIndex:h,gradient:p,blur:m,color:g,backgroundOpacity:y,mod:v,...b}=n,_=It({name:"Overlay",props:n,classes:Vme,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:H5e});return T.jsx(Ce,{ref:t,..._("root"),mod:[{center:c,fixed:l},v],...b,children:f})});MT.classes=Vme;MT.displayName="@mantine/core/Overlay";const[q5e,Vh]=Uo("ModalBase component was not found in tree");function W5e({opened:e,transitionDuration:t}){const[n,r]=I.useState(e),i=I.useRef(),s=R7()?0:t;return I.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function G5e({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Ta(e),[u,l]=I.useState(!1),[c,f]=I.useState(!1),d=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,h=W5e({opened:n,transitionDuration:d});return zpe("keydown",p=>{var m;p.key==="Escape"&&i&&n&&((m=p.target)==null?void 0:m.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),Fpe({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:u,bodyMounted:c,shouldLockScroll:h,setTitleMounted:l,setBodyMounted:f}}const Hme=I.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,trapFocus:o,closeOnEscape:s,returnFocus:a,closeOnClickOutside:u,withinPortal:l,portalProps:c,lockScroll:f,children:d,zIndex:h,shadow:p,padding:m,__vars:g,unstyled:y,removeScrollProps:v,...b},_)=>{const{_id:w,titleMounted:S,bodyMounted:E,shouldLockScroll:C,setTitleMounted:A,setBodyMounted:k}=G5e({id:r,transitionProps:i,opened:t,trapFocus:o,closeOnEscape:s,onClose:n,returnFocus:a});return T.jsx(JS,{...c,withinPortal:l,children:T.jsx(q5e,{value:{opened:t,onClose:n,closeOnClickOutside:u,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${w}-title`,getBodyId:()=>`${w}-body`,titleMounted:S,bodyMounted:E,setTitleMounted:A,setBodyMounted:k,trapFocus:o,closeOnEscape:s,zIndex:h,unstyled:y},children:T.jsx(_D,{enabled:C&&f,...v,children:T.jsx(Ce,{ref:_,...b,__vars:{...g,"--mb-z-index":(h||Bl("modal")).toString(),"--mb-shadow":A7(p),"--mb-padding":kl(m)},children:d})})})})});function Y5e(){const e=Vh();return I.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Eb={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const iU=I.forwardRef(({className:e,...t},n)=>{const r=Y5e(),i=Vh();return T.jsx(Ce,{ref:n,...t,id:r,className:Ni({[Eb.body]:!i.unstyled},e)})});iU.displayName="@mantine/core/ModalBaseBody";const oU=I.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Vh();return T.jsx(Fy,{ref:r,...n,onClick:o=>{i.onClose(),t==null||t(o)},className:Ni({[Eb.close]:!i.unstyled},e),unstyled:i.unstyled})});oU.displayName="@mantine/core/ModalBaseCloseButton";const qme=I.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Vh();return T.jsx(zh,{mounted:a.opened,transition:"pop",...a.transitionProps,...e,children:u=>T.jsx("div",{...n,className:Ni({[Eb.inner]:!a.unstyled},n.className),children:T.jsx(AD,{active:a.opened&&a.trapFocus,children:T.jsx(SD,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,ref:s,style:[i,u],className:Ni({[Eb.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})}),sU=I.forwardRef(({className:e,...t},n)=>{const r=Vh();return T.jsx(Ce,{component:"header",ref:n,className:Ni({[Eb.header]:!r.unstyled},e),...t})});sU.displayName="@mantine/core/ModalBaseHeader";const K5e={duration:200,timingFunction:"ease",transition:"fade"};function X5e(e){const t=Vh();return{...K5e,...t.transitionProps,...e}}const aU=I.forwardRef(({onClick:e,transitionProps:t,style:n,...r},i)=>{const o=Vh(),s=X5e(t);return T.jsx(zh,{mounted:o.opened,...s,transition:"fade",children:a=>T.jsx(MT,{ref:i,fixed:!0,style:[n,a],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{e==null||e(u),o.closeOnClickOutside&&o.onClose()},...r})})});aU.displayName="@mantine/core/ModalBaseOverlay";function Q5e(){const e=Vh();return I.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const uU=I.forwardRef(({className:e,...t},n)=>{const r=Q5e(),i=Vh();return T.jsx(Ce,{component:"h2",ref:n,className:Ni({[Eb.title]:!i.unstyled},e),...t,id:r})});uU.displayName="@mantine/core/ModalBaseTitle";function Wme({children:e}){return T.jsx(T.Fragment,{children:e})}const[J5e,I_]=x_({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var zl={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const kZ={},Z5e=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${cs(t)} - ${Ie(2)})`}}),kD=Be((e,t)=>{const n=Ae("InputDescription",kZ,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=Ae("InputDescription",kZ,n),p=I_(),m=It({name:["InputWrapper",c],props:n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:u,varsResolver:Z5e}),g=f&&(p==null?void 0:p.getStyles)||m;return T.jsx(Ce,{component:"p",ref:t,variant:d,size:l,...g("description",p!=null&&p.getStyles?{className:i,style:o}:void 0),...h})});kD.classes=zl;kD.displayName="@mantine/core/InputDescription";const e8e={},t8e=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${cs(t)} - ${Ie(2)})`}}),RD=Be((e,t)=>{const n=Ae("InputError",e8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:l,__staticSelector:c,__inheritStyles:f=!0,variant:d,...h}=n,p=It({name:["InputWrapper",c],props:n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:u,varsResolver:t8e}),m=I_(),g=f&&(m==null?void 0:m.getStyles)||p;return T.jsx(Ce,{component:"p",ref:t,variant:d,size:l,...g("error",m!=null&&m.getStyles?{className:i,style:o}:void 0),...h})});RD.classes=zl;RD.displayName="@mantine/core/InputError";const RZ={labelElement:"label"},n8e=(e,{size:t})=>({label:{"--input-label-size":cs(t),"--input-asterisk-color":void 0}}),PD=Be((e,t)=>{const n=Ae("InputLabel",RZ,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,labelElement:l,size:c,required:f,htmlFor:d,onMouseDown:h,children:p,__staticSelector:m,variant:g,mod:y,...v}=Ae("InputLabel",RZ,n),b=It({name:["InputWrapper",m],props:n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:u,varsResolver:n8e}),_=I_(),w=(_==null?void 0:_.getStyles)||b;return T.jsxs(Ce,{...w("label",_!=null&&_.getStyles?{className:i,style:o}:void 0),component:l,variant:g,size:c,ref:t,htmlFor:l==="label"?d:void 0,mod:[{required:f},y],onMouseDown:S=>{h==null||h(S),!S.defaultPrevented&&S.detail>1&&S.preventDefault()},...v,children:[p,f&&T.jsx("span",{...w("required"),"aria-hidden":!0,children:" *"})]})});PD.classes=zl;PD.displayName="@mantine/core/InputLabel";const PZ={},lU=Be((e,t)=>{const n=Ae("InputPlaceholder",PZ,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,__staticSelector:l,variant:c,error:f,mod:d,...h}=Ae("InputPlaceholder",PZ,n),p=It({name:["InputPlaceholder",l],props:n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return T.jsx(Ce,{...p("placeholder"),mod:[{error:!!f},d],component:"span",variant:c,ref:t,...h})});lU.classes=zl;lU.displayName="@mantine/core/InputPlaceholder";function r8e(e,{hasDescription:t,hasError:n}){const r=e.findIndex(u=>u==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const i8e={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},o8e=(e,{size:t})=>({label:{"--input-label-size":cs(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${cs(t)} - ${Ie(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${cs(t)} - ${Ie(2)})`}}),cU=Be((e,t)=>{const n=Ae("InputWrapper",i8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:l,variant:c,__staticSelector:f,inputContainer:d,inputWrapperOrder:h,label:p,error:m,description:g,labelProps:y,descriptionProps:v,errorProps:b,labelElement:_,children:w,withAsterisk:S,id:E,required:C,__stylesApiProps:A,mod:k,...P}=n,$=It({name:["InputWrapper",f],props:A||n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:o8e}),N={size:l,variant:c,__staticSelector:f},O=Ta(E),j=typeof S=="boolean"?S:C,M=(b==null?void 0:b.id)||`${O}-error`,B=(v==null?void 0:v.id)||`${O}-description`,V=O,q=!!m&&typeof m!="boolean",D=!!g,U=`${q?M:""} ${D?B:""}`,W=U.trim().length>0?U.trim():void 0,F=(y==null?void 0:y.id)||`${O}-label`,z=p&&T.jsx(PD,{labelElement:_,id:F,htmlFor:V,required:j,...N,...y,children:p},"label"),G=D&&T.jsx(kD,{...v,...N,size:(v==null?void 0:v.size)||N.size,id:(v==null?void 0:v.id)||B,children:g},"description"),ee=T.jsx(I.Fragment,{children:d(w)},"input"),ce=q&&I.createElement(RD,{...b,...N,size:(b==null?void 0:b.size)||N.size,key:"error",id:(b==null?void 0:b.id)||M},m),le=h.map(se=>{switch(se){case"label":return z;case"input":return ee;case"description":return G;case"error":return ce;default:return null}});return T.jsx(J5e,{value:{getStyles:$,describedBy:W,inputId:V,labelId:F,...r8e(h,{hasDescription:D,hasError:q})},children:T.jsx(Ce,{ref:t,variant:c,size:l,mod:[{error:!!m},k],...$("root"),...P,children:le})})});cU.classes=zl;cU.displayName="@mantine/core/InputWrapper";const s8e={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},a8e=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":dn(t.size,"input-height"),"--input-fz":cs(t.size),"--input-radius":t.radius===void 0?void 0:ni(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ie(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ie(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?dn(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),ti=Vo((e,t)=>{const n=Ae("Input",s8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:u,__staticSelector:l,__stylesApiProps:c,size:f,wrapperProps:d,error:h,disabled:p,leftSection:m,leftSectionProps:g,leftSectionWidth:y,rightSection:v,rightSectionProps:b,rightSectionWidth:_,rightSectionPointerEvents:w,leftSectionPointerEvents:S,variant:E,vars:C,pointer:A,multiline:k,radius:P,id:$,withAria:N,withErrorStyles:O,mod:j,inputSize:M,...B}=n,{styleProps:V,rest:q}=Oy(B),D=I_(),U={offsetBottom:D==null?void 0:D.offsetBottom,offsetTop:D==null?void 0:D.offsetTop},W=It({name:["Input",l],props:c||n,classes:zl,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:U,rootSelector:"wrapper",vars:C,varsResolver:a8e}),F=N?{required:u,disabled:p,"aria-invalid":!!h,"aria-describedby":D==null?void 0:D.describedBy,id:(D==null?void 0:D.inputId)||$}:{};return T.jsxs(Ce,{...W("wrapper"),...V,...d,mod:[{error:!!h&&O,pointer:A,disabled:p,multiline:k,"data-with-right-section":!!v,"data-with-left-section":!!m},j],variant:E,size:f,children:[m&&T.jsx("div",{...g,"data-position":"left",...W("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:m}),T.jsx(Ce,{component:"input",...q,...F,ref:t,required:u,mod:{disabled:p,error:!!h&&O},variant:E,__size:M,...W("input")}),v&&T.jsx("div",{...b,"data-position":"right",...W("section",{className:b==null?void 0:b.className,style:b==null?void 0:b.style}),children:v})]})});ti.classes=zl;ti.Wrapper=cU;ti.Label=PD;ti.Error=RD;ti.Description=kD;ti.Placeholder=lU;ti.displayName="@mantine/core/Input";function Gme(e,t,n){const r=Ae(e,t,n),{label:i,description:o,error:s,required:a,classNames:u,styles:l,className:c,unstyled:f,__staticSelector:d,__stylesApiProps:h,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:y,id:v,size:b,style:_,inputContainer:w,inputWrapperOrder:S,withAsterisk:E,variant:C,vars:A,mod:k,...P}=r,{styleProps:$,rest:N}=Oy(P),O={label:i,description:o,error:s,required:a,classNames:u,className:c,__staticSelector:d,__stylesApiProps:h||r,errorProps:p,labelProps:m,descriptionProps:g,unstyled:f,styles:l,size:b,style:_,inputContainer:w,inputWrapperOrder:S,withAsterisk:E,variant:C,id:v,mod:k,...y};return{...N,classNames:u,styles:l,unstyled:f,wrapperProps:{...O,...$},inputProps:{required:a,classNames:u,styles:l,unstyled:f,size:b,__staticSelector:d,__stylesApiProps:h||r,error:s,variant:C,id:v}}}const u8e={__staticSelector:"InputBase",withAria:!0},Vl=Vo((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=Gme("InputBase",u8e,e);return T.jsx(ti.Wrapper,{...r,children:T.jsx(ti,{...n,...i,ref:t})})});Vl.classes={...ti.classes,...ti.Wrapper.classes};Vl.displayName="@mantine/core/InputBase";const l8e={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var Yme={root:"m_8bffd616"};const c8e={},Zt=Vo((e,t)=>{const n=Ae("Flex",c8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m,...g}=n,y=It({name:"Flex",classes:Yme,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u}),v=zo(),b=xD(),_=Qpe({styleProps:{gap:l,rowGap:c,columnGap:f,align:d,justify:h,wrap:p,direction:m},theme:v,data:l8e});return T.jsxs(T.Fragment,{children:[_.hasResponsiveStyles&&T.jsx(XS,{selector:`.${b}`,styles:_.styles,media:_.media}),T.jsx(Ce,{ref:t,...y("root",{className:b,style:E_(_.inlineStyles)}),...g})]})});Zt.classes=Yme;Zt.displayName="@mantine/core/Flex";const[f8e,fU]=Uo("Accordion component was not found in the tree");function LT({style:e,size:t=16,...n}){return T.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ie(t),height:Ie(t),display:"block"},...n,children:T.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}LT.displayName="@mantine/core/AccordionChevron";const[d8e,Kme]=Uo("Accordion.Item component was not found in the tree");var ZS={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const h8e={},dU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,chevron:a,icon:u,onClick:l,onKeyDown:c,children:f,disabled:d,mod:h,...p}=Ae("AccordionControl",h8e,e),{value:m}=Kme(),g=fU(),y=g.isItemActive(m),v=typeof g.order=="number",b=`h${g.order}`,_=T.jsxs(po,{...p,...g.getStyles("control",{className:r,classNames:n,style:i,styles:o,variant:g.variant}),unstyled:g.unstyled,mod:["accordion-control",{active:y,"chevron-position":g.chevronPosition,disabled:d},h],ref:t,onClick:w=>{l==null||l(w),g.onChange(m)},type:"button",disabled:d,"aria-expanded":y,"aria-controls":g.getRegionId(m),id:g.getControlId(m),onKeyDown:C7({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:g.loop,orientation:"vertical",onKeyDown:c}),children:[T.jsx(Ce,{component:"span",mod:{rotate:!g.disableChevronRotation&&y,position:g.chevronPosition},...g.getStyles("chevron",{classNames:n,styles:o}),children:a||g.chevron}),T.jsx("span",{...g.getStyles("label",{classNames:n,styles:o}),children:f}),u&&T.jsx(Ce,{component:"span",mod:{"chevron-position":g.chevronPosition},...g.getStyles("icon",{classNames:n,styles:o}),children:u})]});return v?T.jsx(b,{...g.getStyles("itemTitle",{classNames:n,styles:o}),children:_}):_});dU.displayName="@mantine/core/AccordionControl";dU.classes=ZS;const p8e={},hU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,mod:u,...l}=Ae("AccordionItem",p8e,e),c=fU();return T.jsx(d8e,{value:{value:a},children:T.jsx(Ce,{ref:t,mod:[{active:c.isItemActive(a)},u],...c.getStyles("item",{className:r,classNames:n,styles:o,style:i,variant:c.variant}),...l})})});hU.displayName="@mantine/core/AccordionItem";hU.classes=ZS;const m8e={},pU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,...u}=Ae("AccordionPanel",m8e,e),{value:l}=Kme(),c=fU();return T.jsx(nme,{ref:t,...c.getStyles("panel",{className:r,classNames:n,style:i,styles:o}),...u,in:c.isItemActive(l),transitionDuration:c.transitionDuration??200,role:"region",id:c.getRegionId(l),"aria-labelledby":c.getControlId(l),children:T.jsx("div",{...c.getStyles("content",{classNames:n,styles:o}),children:a})})});pU.displayName="@mantine/core/AccordionPanel";pU.classes=ZS;const g8e={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:T.jsx(LT,{})},y8e=(e,{transitionDuration:t,chevronSize:n,radius:r})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":n===void 0?void 0:Ie(n),"--accordion-radius":r===void 0?void 0:ni(r)}});function La(e){const t=Ae("Accordion",g8e,e),{classNames:n,className:r,style:i,styles:o,unstyled:s,vars:a,children:u,multiple:l,value:c,defaultValue:f,onChange:d,id:h,loop:p,transitionDuration:m,disableChevronRotation:g,chevronPosition:y,chevronSize:v,order:b,chevron:_,variant:w,radius:S,...E}=t,C=Ta(h),[A,k]=ms({value:c,defaultValue:f,finalValue:l?[]:null,onChange:d}),P=O=>Array.isArray(A)?A.includes(O):O===A,$=O=>{const j=Array.isArray(A)?A.includes(O)?A.filter(M=>M!==O):[...A,O]:O===A?null:O;k(j)},N=It({name:"Accordion",classes:ZS,props:t,className:r,style:i,classNames:n,styles:o,unstyled:s,vars:a,varsResolver:y8e});return T.jsx(f8e,{value:{isItemActive:P,onChange:$,getControlId:yR(`${C}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:yR(`${C}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:m,disableChevronRotation:g,chevronPosition:y,order:b,chevron:_,loop:p,getStyles:N,variant:w,unstyled:s},children:T.jsx(Ce,{...N("root"),id:C,...E,variant:w,"data-accordion":!0,children:u})})}const v8e=e=>e;La.extend=v8e;La.classes=ZS;La.displayName="@mantine/core/Accordion";La.Item=hU;La.Panel=pU;La.Control=dU;La.Chevron=LT;var Xme={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const b8e={},_8e=(e,{radius:t,color:n,variant:r,autoContrast:i})=>{const o=e.variantColorResolver({color:n||e.primaryColor,theme:e,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":t===void 0?void 0:ni(t),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},eC=Be((e,t)=>{const n=Ae("Alert",b8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,radius:l,color:c,title:f,children:d,id:h,icon:p,withCloseButton:m,onClose:g,closeButtonLabel:y,variant:v,autoContrast:b,..._}=n,w=It({name:"Alert",classes:Xme,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:_8e}),S=Ta(h),E=f&&`${S}-title`||void 0,C=`${S}-body`;return T.jsx(Ce,{id:S,...w("root",{variant:v}),variant:v,ref:t,..._,role:"alert","aria-describedby":C,"aria-labelledby":E,children:T.jsxs("div",{...w("wrapper"),children:[p&&T.jsx("div",{...w("icon"),children:p}),T.jsxs("div",{...w("body"),children:[f&&T.jsx("div",{...w("title"),"data-with-close-button":m||void 0,children:T.jsx("span",{id:E,...w("label"),children:f})}),d&&T.jsx("div",{id:C,...w("message"),"data-variant":v,children:d})]}),m&&T.jsx(Fy,{...w("closeButton"),onClick:g,variant:"transparent",size:16,iconSize:16,"aria-label":y,unstyled:a})]})})});eC.classes=Xme;eC.displayName="@mantine/core/Alert";var Qme={root:"m_b6d8b162"};function w8e(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const E8e={inherit:!1},x8e=(e,{variant:t,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":cs(i),"--text-lh":Lpe(i),"--text-gradient":t==="gradient"?g5(r,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?ei(o,e):void 0}}),Tt=Vo((e,t)=>{const n=Ae("Text",E8e,e),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:u,__staticSelector:l,vars:c,className:f,style:d,classNames:h,styles:p,unstyled:m,variant:g,mod:y,size:v,...b}=n,_=It({name:["Text",l],props:n,classes:Qme,className:f,style:d,classNames:h,styles:p,unstyled:m,vars:c,varsResolver:x8e});return T.jsx(Ce,{..._("root",{focusable:!0}),ref:t,component:u?"span":"p",variant:g,mod:[{"data-truncate":w8e(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},y],size:v,...b})});Tt.classes=Qme;Tt.displayName="@mantine/core/Text";var Jme={root:"m_849cf0da"};const T8e={underline:"hover"},k_=Vo((e,t)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=Ae("Anchor",T8e,e);return T.jsx(Tt,{component:"a",ref:t,className:Ni({[Jme.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});k_.classes=Jme;k_.displayName="@mantine/core/Anchor";const[S8e,R_]=Uo("AppShell was not found in tree");var Jm={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const C8e={},mU=Be((e,t)=>{const n=Ae("AppShellAside",C8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=R_();return h.disabled?null:T.jsx(Ce,{component:"aside",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("aside",{className:i,classNames:r,styles:s,style:o}),...d,__vars:{"--app-shell-aside-z-index":`calc(${c??h.zIndex} + 1)`}})});mU.classes=Jm;mU.displayName="@mantine/core/AppShellAside";const A8e={},gU=Be((e,t)=>{var p;const n=Ae("AppShellFooter",A8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=R_();return h.disabled?null:T.jsx(Ce,{component:"footer",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("footer",{className:Ni({[_D.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...d,__vars:{"--app-shell-footer-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});gU.classes=Jm;gU.displayName="@mantine/core/AppShellFooter";const I8e={},yU=Be((e,t)=>{var p;const n=Ae("AppShellHeader",I8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=R_();return h.disabled?null:T.jsx(Ce,{component:"header",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("header",{className:Ni({[_D.classNames.zeroRight]:h.offsetScrollbars},i),classNames:r,styles:s,style:o}),...d,__vars:{"--app-shell-header-z-index":(p=c??h.zIndex)==null?void 0:p.toString()}})});yU.classes=Jm;yU.displayName="@mantine/core/AppShellHeader";const k8e={},vU=Be((e,t)=>{const n=Ae("AppShellMain",k8e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=R_();return T.jsx(Ce,{component:"main",ref:t,...l.getStyles("main",{className:i,style:o,classNames:r,styles:s}),...u})});vU.classes=Jm;vU.displayName="@mantine/core/AppShellMain";function tC(e){return typeof e=="object"?e.base:e}function nC(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function rC(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function R8e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,aside:r,theme:i}){var u,l,c;const o=r==null?void 0:r.width,s="translateX(var(--app-shell-aside-width))",a="translateX(calc(var(--app-shell-aside-width) * -1))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-aside-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-aside-offset"]="0px"),nC(o)){const f=Ie(tC(o));e["--app-shell-aside-width"]=f,e["--app-shell-aside-offset"]=f}if(rC(o)&&(typeof o.base<"u"&&(e["--app-shell-aside-width"]=Ie(o.base),e["--app-shell-aside-offset"]=Ie(o.base)),_i(o).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-aside-width"]=Ie(o[f]),t[f]["--app-shell-aside-offset"]=Ie(o[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-aside-transform"]=s,t[f]["--app-shell-aside-transform-rtl"]=a,t[f]["--app-shell-aside-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=I7(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-aside-width"]="100%",n[f]["--app-shell-aside-offset"]="0px",n[f]["--app-shell-aside-transform"]=s,n[f]["--app-shell-aside-transform-rtl"]=a}}function P8e({baseStyles:e,minMediaStyles:t,footer:n}){const r=n==null?void 0:n.height,i="translateY(var(--app-shell-footer-height))",o=(n==null?void 0:n.offset)??!0;if(nC(r)){const s=Ie(tC(r));e["--app-shell-footer-height"]=s,o&&(e["--app-shell-footer-offset"]=s)}rC(r)&&(typeof r.base<"u"&&(e["--app-shell-footer-height"]=Ie(r.base),o&&(e["--app-shell-footer-offset"]=Ie(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-footer-height"]=Ie(r[s]),o&&(t[s]["--app-shell-footer-offset"]=Ie(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-footer-transform"]=i,e["--app-shell-footer-offset"]="0px !important")}function N8e({baseStyles:e,minMediaStyles:t,header:n}){const r=n==null?void 0:n.height,i="translateY(calc(var(--app-shell-header-height) * -1))",o=(n==null?void 0:n.offset)??!0;if(nC(r)){const s=Ie(tC(r));e["--app-shell-header-height"]=s,o&&(e["--app-shell-header-offset"]=s)}rC(r)&&(typeof r.base<"u"&&(e["--app-shell-header-height"]=Ie(r.base),o&&(e["--app-shell-header-offset"]=Ie(r.base))),_i(r).forEach(s=>{s!=="base"&&(t[s]=t[s]||{},t[s]["--app-shell-header-height"]=Ie(r[s]),o&&(t[s]["--app-shell-header-offset"]=Ie(r[s])))})),n!=null&&n.collapsed&&(e["--app-shell-header-transform"]=i,e["--app-shell-header-offset"]="0px !important")}function D8e({baseStyles:e,minMediaStyles:t,maxMediaStyles:n,navbar:r,theme:i}){var u,l,c;const o=r==null?void 0:r.width,s="translateX(calc(var(--app-shell-navbar-width) * -1))",a="translateX(var(--app-shell-navbar-width))";if(r!=null&&r.breakpoint&&!((u=r==null?void 0:r.collapsed)!=null&&u.mobile)&&(n[r==null?void 0:r.breakpoint]=n[r==null?void 0:r.breakpoint]||{},n[r==null?void 0:r.breakpoint]["--app-shell-navbar-width"]="100%",n[r==null?void 0:r.breakpoint]["--app-shell-navbar-offset"]="0px"),nC(o)){const f=Ie(tC(o));e["--app-shell-navbar-width"]=f,e["--app-shell-navbar-offset"]=f}if(rC(o)&&(typeof o.base<"u"&&(e["--app-shell-navbar-width"]=Ie(o.base),e["--app-shell-navbar-offset"]=Ie(o.base)),_i(o).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-navbar-width"]=Ie(o[f]),t[f]["--app-shell-navbar-offset"]=Ie(o[f]))})),(l=r==null?void 0:r.collapsed)!=null&&l.desktop){const f=r.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-navbar-transform"]=s,t[f]["--app-shell-navbar-transform-rtl"]=a,t[f]["--app-shell-navbar-offset"]="0px !important"}if((c=r==null?void 0:r.collapsed)!=null&&c.mobile){const f=I7(r.breakpoint,i)-.1;n[f]=n[f]||{},n[f]["--app-shell-navbar-width"]="100%",n[f]["--app-shell-navbar-offset"]="0px",n[f]["--app-shell-navbar-transform"]=s,n[f]["--app-shell-navbar-transform-rtl"]=a}}function EL(e){return Number(e)===0?"0px":kl(e)}function $8e({padding:e,baseStyles:t,minMediaStyles:n}){nC(e)&&(t["--app-shell-padding"]=EL(tC(e))),rC(e)&&(e.base&&(t["--app-shell-padding"]=EL(e.base)),_i(e).forEach(r=>{r!=="base"&&(n[r]=n[r]||{},n[r]["--app-shell-padding"]=EL(e[r]))}))}function O8e({navbar:e,header:t,footer:n,aside:r,padding:i,theme:o}){const s={},a={},u={};D8e({baseStyles:u,minMediaStyles:s,maxMediaStyles:a,navbar:e,theme:o}),R8e({baseStyles:u,minMediaStyles:s,maxMediaStyles:a,aside:r,theme:o}),N8e({baseStyles:u,minMediaStyles:s,header:t}),P8e({baseStyles:u,minMediaStyles:s,footer:n}),$8e({baseStyles:u,minMediaStyles:s,padding:i});const l=bR(_i(s),o).map(d=>({query:`(min-width: ${gR(d.px)})`,styles:s[d.value]})),c=bR(_i(a),o).map(d=>({query:`(max-width: ${gR(d.px)})`,styles:a[d.value]})),f=[...l,...c];return{baseStyles:u,media:f}}function M8e({navbar:e,header:t,aside:n,footer:r,padding:i}){const o=zo(),s=Qm(),{media:a,baseStyles:u}=O8e({navbar:e,header:t,footer:r,aside:n,padding:i,theme:o});return T.jsx(XS,{media:a,styles:u,selector:s.cssVariablesSelector})}const L8e={},bU=Be((e,t)=>{const n=Ae("AppShellNavbar",L8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,withBorder:l,zIndex:c,mod:f,...d}=n,h=R_();return h.disabled?null:T.jsx(Ce,{component:"nav",ref:t,mod:[{"with-border":l??h.withBorder},f],...h.getStyles("navbar",{className:i,classNames:r,styles:s,style:o}),...d,__vars:{"--app-shell-navbar-z-index":`calc(${c??h.zIndex} + 1)`}})});bU.classes=Jm;bU.displayName="@mantine/core/AppShellNavbar";const F8e={},_U=Vo((e,t)=>{const n=Ae("AppShellSection",F8e,e),{classNames:r,className:i,style:o,styles:s,vars:a,grow:u,mod:l,...c}=n,f=R_();return T.jsx(Ce,{ref:t,mod:[{grow:u},l],...f.getStyles("section",{className:i,style:o,classNames:r,styles:s}),...c})});_U.classes=Jm;_U.displayName="@mantine/core/AppShellSection";function j8e({transitionDuration:e,disabled:t}){const[n,r]=I.useState(!0),i=I.useRef(),o=I.useRef();return zpe("resize",()=>{r(!0),clearTimeout(i.current),i.current=window.setTimeout(()=>r(!1),200)}),Dy(()=>{I.startTransition(()=>{r(!0),clearTimeout(o.current),o.current=window.setTimeout(()=>r(!1),e||0)})},[t,e]),n}const B8e={withBorder:!0,offsetScrollbars:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Bl("app")},U8e=(e,{transitionDuration:t,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":n}}),Ri=Be((e,t)=>{const n=Ae("AppShell",B8e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,navbar:l,withBorder:c,padding:f,transitionDuration:d,transitionTimingFunction:h,header:p,zIndex:m,layout:g,disabled:y,aside:v,footer:b,offsetScrollbars:_,mod:w,...S}=n,E=It({name:"AppShell",classes:Jm,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:U8e}),C=j8e({disabled:y,transitionDuration:d});return T.jsxs(S8e,{value:{getStyles:E,withBorder:c,zIndex:m,disabled:y,offsetScrollbars:_},children:[T.jsx(M8e,{navbar:l,header:p,aside:v,footer:b,padding:f}),T.jsx(Ce,{ref:t,...E("root"),mod:[{resizing:C,layout:g,disabled:y},w],...S})]})});Ri.classes=Jm;Ri.displayName="@mantine/core/AppShell";Ri.Navbar=bU;Ri.Header=yU;Ri.Main=vU;Ri.Aside=mU;Ri.Footer=gU;Ri.Section=_U;function Zme(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Zme(t))}:e}function ege(e){return e?e.map(t=>Zme(t)):[]}function wU(e){return e.reduce((t,n)=>"group"in n?{...t,...wU(n.items)}:(t[n.value]=n,t),{})}var su={dropdown:"m_88b62a41",options:"m_b2821a6e",option:"m_92253aa5",search:"m_985517d8",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const z8e={error:null},V8e=(e,{size:t})=>({chevron:{"--combobox-chevron-size":dn(t,"combobox-chevron-size")}}),EU=Be((e,t)=>{const n=Ae("ComboboxChevron",z8e,e),{size:r,error:i,style:o,className:s,classNames:a,styles:u,unstyled:l,vars:c,mod:f,...d}=n,h=It({name:"ComboboxChevron",classes:su,props:n,style:o,className:s,classNames:a,styles:u,unstyled:l,vars:c,varsResolver:V8e,rootSelector:"chevron"});return T.jsx(Ce,{component:"svg",...d,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},f],ref:t,children:T.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});EU.classes=su;EU.displayName="@mantine/core/ComboboxChevron";const[H8e,Hl]=Uo("Combobox component was not found in tree"),tge=I.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>T.jsx(Fy,{ref:o,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t==null||t(s)},onClick:s=>{r(),n==null||n(s)}}));tge.displayName="@mantine/core/ComboboxClearButton";const q8e={},xU=Be((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=Ae("ComboboxDropdown",q8e,e),u=Hl();return T.jsx(gi.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...u.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});xU.classes=su;xU.displayName="@mantine/core/ComboboxDropdown";const W8e={refProp:"ref"},nge=Be((e,t)=>{const{children:n,refProp:r}=Ae("ComboboxDropdownTarget",W8e,e);if(Hl(),!Xm(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return T.jsx(gi.Target,{ref:t,refProp:r,children:n})});nge.displayName="@mantine/core/ComboboxDropdownTarget";const G8e={},TU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("ComboboxEmpty",G8e,e),u=Hl();return T.jsx(Ce,{ref:t,...u.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});TU.classes=su;TU.displayName="@mantine/core/ComboboxEmpty";function SU({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Hl(),[a,u]=I.useState(null),l=f=>{if(e==null||e(f),!s.readOnly&&t){if(f.nativeEvent.isComposing)return;if(f.nativeEvent.code==="ArrowDown"&&(f.preventDefault(),s.store.dropdownOpened?u(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),u(s.store.selectActiveOption()))),f.nativeEvent.code==="ArrowUp"&&(f.preventDefault(),s.store.dropdownOpened?u(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),u(s.store.selectActiveOption()))),f.nativeEvent.code==="Enter"||f.nativeEvent.code==="NumpadEnter"){if(f.nativeEvent.keyCode===229)return;const d=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&d!==-1?(f.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(f.preventDefault(),s.store.openDropdown("keyboard"))}f.nativeEvent.code==="Escape"&&s.store.closeDropdown("keyboard"),f.nativeEvent.code==="Space"&&i==="button"&&(f.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.listId,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:l}}const Y8e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},rge=Be((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:u,...l}=Ae("ComboboxEventsTarget",Y8e,e);if(!Xm(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Hl(),f=SU({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:u});return I.cloneElement(n,{...f,...l,[r]:vo(t,c.store.targetRef,n==null?void 0:n.ref)})});rge.displayName="@mantine/core/ComboboxEventsTarget";const K8e={},CU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("ComboboxFooter",K8e,e),u=Hl();return T.jsx(Ce,{ref:t,...u.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a})});CU.classes=su;CU.displayName="@mantine/core/ComboboxFooter";const X8e={},AU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:u,...l}=Ae("ComboboxGroup",X8e,e),c=Hl();return T.jsxs(Ce,{ref:t,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...l,children:[u&&T.jsx("div",{...c.getStyles("groupLabel",{classNames:n,styles:o}),children:u}),a]})});AU.classes=su;AU.displayName="@mantine/core/ComboboxGroup";const Q8e={},IU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("ComboboxHeader",Q8e,e),u=Hl();return T.jsx(Ce,{ref:t,...u.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a})});IU.classes=su;IU.displayName="@mantine/core/ComboboxHeader";function ige({value:e,valuesDivider:t=",",...n}){return T.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}ige.displayName="@mantine/core/ComboboxHiddenInput";const J8e={},kU=Be((e,t)=>{const n=Ae("ComboboxOption",J8e,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:u,id:l,active:c,onMouseDown:f,onMouseOver:d,disabled:h,selected:p,mod:m,...g}=n,y=Hl(),v=I.useId(),b=l||v;return T.jsx(Ce,{...y.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...g,ref:t,id:b,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},m],role:"option",onClick:_=>{var w;h?_.preventDefault():((w=y.onOptionSubmit)==null||w.call(y,n.value,n),u==null||u(_))},onMouseDown:_=>{_.preventDefault(),f==null||f(_)},onMouseOver:_=>{y.resetSelectionOnOptionHover&&y.store.resetSelectedOption(),d==null||d(_)}})});kU.classes=su;kU.displayName="@mantine/core/ComboboxOption";const Z8e={},RU=Be((e,t)=>{const n=Ae("ComboboxOptions",Z8e,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:u,labelledBy:l,...c}=n,f=Hl(),d=Ta(a);return I.useEffect(()=>{f.store.setListId(d)},[d]),T.jsx(Ce,{ref:t,...f.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:d,role:"listbox","aria-labelledby":l,onMouseDown:h=>{h.preventDefault(),u==null||u(h)}})});RU.classes=su;RU.displayName="@mantine/core/ComboboxOptions";const e9e={withAriaAttributes:!0,withKeyboardNavigation:!0},PU=Be((e,t)=>{const n=Ae("ComboboxSearch",e9e,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:u,withKeyboardNavigation:l,size:c,...f}=n,d=Hl(),h=d.getStyles("search"),p=SU({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:l,withExpandedAttribute:!1,onKeyDown:u,autoComplete:"off"});return T.jsx(ti,{ref:vo(t,d.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||d.size,...p,...f,__staticSelector:"Combobox"})});PU.classes=su;PU.displayName="@mantine/core/ComboboxSearch";const t9e={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},oge=Be((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:u,...l}=Ae("ComboboxTarget",t9e,e);if(!Xm(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=Hl(),f=SU({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:u}),d=I.cloneElement(n,{...f,...l});return T.jsx(gi.Target,{ref:vo(t,c.store.targetRef),children:d})});oge.displayName="@mantine/core/ComboboxTarget";function n9e(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function r9e(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function i9e(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function NU({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,u]=ms({value:t,defaultValue:e,finalValue:!1,onChange:n}),l=I.useRef(null),c=I.useRef(-1),f=I.useRef(null),d=I.useRef(null),h=I.useRef(-1),p=I.useRef(-1),m=I.useRef(-1),g=I.useCallback((M="unknown")=>{a||(u(!0),i==null||i(M))},[u,i,a]),y=I.useCallback((M="unknown")=>{a&&(u(!1),r==null||r(M))},[u,r,a]),v=I.useCallback((M="unknown")=>{a?y(M):g(M)},[y,g,a]),b=I.useCallback(()=>{const M=document.querySelector(`#${l.current} [data-combobox-selected]`);M==null||M.removeAttribute("data-combobox-selected"),M==null||M.removeAttribute("aria-selected")},[]),_=I.useCallback(M=>{const B=document.getElementById(l.current),V=B==null?void 0:B.querySelectorAll("[data-combobox-option]");if(!V)return null;const q=M>=V.length?0:M<0?V.length-1:M;return c.current=q,V!=null&&V[q]&&!V[q].hasAttribute("data-combobox-disabled")?(b(),V[q].setAttribute("data-combobox-selected","true"),V[q].setAttribute("aria-selected","true"),V[q].scrollIntoView({block:"nearest",behavior:s}),V[q].id):null},[s,b]),w=I.useCallback(()=>{const M=document.querySelector(`#${l.current} [data-combobox-active]`);if(M){const B=document.querySelectorAll(`#${l.current} [data-combobox-option]`),V=Array.from(B).findIndex(q=>q===M);return _(V)}return _(0)},[_]),S=I.useCallback(()=>_(r9e(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),o)),[_,o]),E=I.useCallback(()=>_(n9e(c.current,document.querySelectorAll(`#${l.current} [data-combobox-option]`),o)),[_,o]),C=I.useCallback(()=>_(i9e(document.querySelectorAll(`#${l.current} [data-combobox-option]`))),[_]),A=I.useCallback((M="selected",B)=>{m.current=window.setTimeout(()=>{var D;const V=document.querySelectorAll(`#${l.current} [data-combobox-option]`),q=Array.from(V).findIndex(U=>U.hasAttribute(`data-combobox-${M}`));c.current=q,B!=null&&B.scrollIntoView&&((D=V[q])==null||D.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),k=I.useCallback(()=>{c.current=-1,b()},[b]),P=I.useCallback(()=>{const M=document.querySelectorAll(`#${l.current} [data-combobox-option]`),B=M==null?void 0:M[c.current];B==null||B.click()},[]),$=I.useCallback(M=>{l.current=M},[]),N=I.useCallback(()=>{h.current=window.setTimeout(()=>f.current.focus(),0)},[]),O=I.useCallback(()=>{p.current=window.setTimeout(()=>d.current.focus(),0)},[]),j=I.useCallback(()=>c.current,[]);return I.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(m.current)},[]),{dropdownOpened:a,openDropdown:g,closeDropdown:y,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:j,selectOption:_,selectFirstOption:C,selectActiveOption:w,selectNextOption:S,selectPreviousOption:E,resetSelectedOption:k,updateSelectedOptionIndex:A,listId:l.current,setListId:$,clickSelectedOption:P,searchRef:f,focusSearchInput:N,targetRef:d,focusTarget:O}}const o9e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},s9e=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":cs(t),"--combobox-option-padding":dn(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ie(n),"--combobox-option-fz":cs(t),"--combobox-option-padding":dn(t,"combobox-option-padding")}});function Hn(e){const t=Ae("Combobox",o9e,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:u,onClose:l,size:c,dropdownPadding:f,resetSelectionOnOptionHover:d,__staticSelector:h,readOnly:p,...m}=t,g=NU(),y=s||g,v=It({name:h||"Combobox",classes:su,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:s9e}),b=()=>{l==null||l(),y.closeDropdown()};return T.jsx(H8e,{value:{getStyles:v,store:y,onOptionSubmit:u,size:c,resetSelectionOnOptionHover:d,readOnly:p},children:T.jsx(gi,{opened:y.dropdownOpened,...m,onClose:b,withRoles:!1,unstyled:i,children:o})})}const a9e=e=>e;Hn.extend=a9e;Hn.classes=su;Hn.displayName="@mantine/core/Combobox";Hn.Target=oge;Hn.Dropdown=xU;Hn.Options=RU;Hn.Option=kU;Hn.Search=PU;Hn.Empty=TU;Hn.Chevron=EU;Hn.Footer=CU;Hn.Header=IU;Hn.EventsTarget=rge;Hn.DropdownTarget=nge;Hn.Group=AU;Hn.ClearButton=tge;Hn.HiddenInput=ige;var sge={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const age=sge,ND=I.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:u,id:l,disabled:c,error:f,size:d,labelPosition:h="left",bodyElement:p="div",labelElement:m="label",variant:g,style:y,vars:v,mod:b,..._},w)=>{const S=It({name:e,props:t,className:n,style:y,classes:sge,classNames:r,styles:i,unstyled:o});return T.jsx(Ce,{...S("root"),ref:w,__vars:{"--label-fz":cs(d),"--label-lh":dn(d,"label-lh")},mod:[{"label-position":h},b],variant:g,size:d,..._,children:T.jsxs(Ce,{component:p,htmlFor:p==="label"?l:void 0,...S("body"),children:[s,T.jsxs("div",{...S("labelWrapper"),"data-disabled":c||void 0,children:[a&&T.jsx(Ce,{component:m,htmlFor:m==="label"?l:void 0,...S("label"),"data-disabled":c||void 0,children:a}),u&&T.jsx(ti.Description,{size:d,__inheritStyles:!1,...S("description"),children:u}),f&&typeof f!="boolean"&&T.jsx(ti.Error,{size:d,__inheritStyles:!1,...S("error"),children:f})]})]})})});ND.displayName="@mantine/core/InlineInput";const uge=I.createContext(null),u9e=uge.Provider,lge=()=>I.useContext(uge),[l9e,c9e]=x_();var cge={card:"m_26775b0a"};const f9e={withBorder:!0},d9e=(e,{radius:t})=>({card:{"--card-radius":ni(t)}}),DU=Be((e,t)=>{const n=Ae("CheckboxCard",f9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,...p}=n,m=It({name:"CheckboxCard",classes:cge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:d9e,rootSelector:"card"}),g=lge(),y=typeof l=="boolean"?l:(g==null?void 0:g.value.includes(d||""))||!1;return T.jsx(l9e,{value:{checked:y},children:T.jsx(po,{ref:t,mod:[{"with-border":f,checked:y},c],...m("card"),...p,role:"checkbox","aria-checked":y,onClick:v=>{h==null||h(v),g==null||g.onChange(d||"")}})})});DU.displayName="@mantine/core/CheckboxCard";DU.classes=cge;function $U({children:e,role:t}){const n=I_();return n?T.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):T.jsx(T.Fragment,{children:e})}const h9e={},OU=Be((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:u,...l}=Ae("CheckboxGroup",h9e,e),[c,f]=ms({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=typeof h=="string"?h:h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return T.jsx(u9e,{value:{value:c,onChange:d,size:o},children:T.jsx(ti.Wrapper,{size:o,ref:t,...s,...l,labelElement:"div",__staticSelector:"CheckboxGroup",children:T.jsx($U,{role:"group",children:a})})})});OU.classes=ti.Wrapper.classes;OU.displayName="@mantine/core/CheckboxGroup";function fge({size:e,style:t,...n}){const r=e!==void 0?{width:Ie(e),height:Ie(e),...t}:t;return T.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:T.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function dge({indeterminate:e,...t}){return e?T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:T.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):T.jsx(fge,{...t})}var hge={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const p9e={icon:dge},m9e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nd({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--checkbox-size":dn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:ni(t),"--checkbox-color":o==="outline"?u:ei(n,e),"--checkbox-icon-color":i?ei(i,e):T_(s,e)?$y({color:n,theme:e,autoContrast:s}):void 0}}},MU=Be((e,t)=>{const n=Ae("CheckboxIndicator",p9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,icon:l,indeterminate:c,radius:f,color:d,iconColor:h,autoContrast:p,checked:m,mod:g,variant:y,disabled:v,...b}=n,_=l,w=It({name:"CheckboxIndicator",classes:hge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:m9e,rootSelector:"indicator"}),S=c9e(),E=typeof m=="boolean"||typeof c=="boolean"?m||c:(S==null?void 0:S.checked)||!1;return T.jsx(Ce,{ref:t,...w("indicator",{variant:y}),variant:y,mod:[{checked:E,disabled:v},g],...b,children:T.jsx(_,{indeterminate:c,...w("icon")})})});MU.displayName="@mantine/core/CheckboxIndicator";MU.classes=hge;var pge={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const g9e={labelPosition:"right",icon:dge},y9e=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nd({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":dn(r,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:ni(t),"--checkbox-color":o==="outline"?u:ei(n,e),"--checkbox-icon-color":i?ei(i,e):T_(s,e)?$y({color:n,theme:e,autoContrast:s}):void 0}}},Sh=Be((e,t)=>{const n=Ae("Checkbox",g9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,color:l,label:c,id:f,size:d,radius:h,wrapperProps:p,children:m,checked:g,labelPosition:y,description:v,error:b,disabled:_,variant:w,indeterminate:S,icon:E,rootRef:C,iconColor:A,onChange:k,autoContrast:P,mod:$,...N}=n,O=lge(),j=d||(O==null?void 0:O.size),M=E,B=It({name:"Checkbox",props:n,classes:pge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:y9e}),{styleProps:V,rest:q}=Oy(N),D=Ta(f),U=O?{checked:O.value.includes(q.value),onChange:W=>{O.onChange(W),k==null||k(W)}}:{};return T.jsx(ND,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:D,size:j,labelPosition:y,label:c,description:v,error:b,disabled:_,classNames:r,styles:s,unstyled:a,"data-checked":U.checked||g||void 0,variant:w,ref:C,mod:$,...V,...p,children:T.jsxs(Ce,{...B("inner"),mod:{"data-label-position":y},children:[T.jsx(Ce,{component:"input",id:D,ref:t,checked:g,disabled:_,mod:{error:!!b,indeterminate:S},...B("input",{focusable:!0,variant:w}),onChange:k,...q,...U,type:"checkbox"}),T.jsx(M,{indeterminate:S,...B("icon")})]})})});Sh.classes={...pge,...age};Sh.displayName="@mantine/core/Checkbox";Sh.Group=OU;Sh.Indicator=MU;Sh.Card=DU;function xb(e){return"group"in e}function mge({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;xb(s)&&i.push({group:s.group,items:mge({options:s.items,search:t,limit:n-i.length})}),xb(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function v9e(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function gge(e,t=new Set){if(Array.isArray(e))for(const n of e)if(xb(n))gge(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function b9e(e,t){return Array.isArray(e)?e.includes(t):e===t}function yge({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!xb(e)){const a=b9e(n,e.value),u=t&&a&&T.jsx(fge,{className:su.optionsDropdownCheckIcon}),l=T.jsxs(T.Fragment,{children:[r==="left"&&u,T.jsx("span",{children:e.label}),r==="right"&&u]});return T.jsx(Hn.Option,{value:e.value,disabled:e.disabled,className:Ni({[su.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):l})}const s=e.items.map(a=>T.jsx(yge,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return T.jsx(Hn.Group,{label:e.group,children:s})}function vge({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:u=!0,withCheckIcon:l=!1,value:c,checkIconPosition:f,nothingFoundMessage:d,unstyled:h,labelId:p,renderOption:m,scrollAreaProps:g,"aria-label":y}){gge(e);const b=typeof i=="string"?(r||mge)({options:e,search:u?i:"",limit:o??1/0}):e,_=v9e(b),w=b.map(S=>T.jsx(yge,{data:S,withCheckIcon:l,value:c,checkIconPosition:f,unstyled:h,renderOption:m},xb(S)?S.group:S.value));return T.jsx(Hn.Dropdown,{hidden:t||n&&_,children:T.jsxs(Hn.Options,{labelledBy:p,"aria-label":y,children:[a?T.jsx(S_.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...g,children:w}):w,_&&d&&T.jsx(Hn.Empty,{children:d})]})})}var bge={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const _9e={},w9e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,autoContrast:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:s});return{root:{"--badge-height":dn(o,"badge-height"),"--badge-padding-x":dn(o,"badge-padding-x"),"--badge-fz":dn(o,"badge-fz"),"--badge-radius":t===void 0?void 0:ni(t),"--badge-bg":n||i?a.background:void 0,"--badge-color":n||i?a.color:void 0,"--badge-bd":n||i?a.border:void 0,"--badge-dot-color":i==="dot"?ei(n,e):void 0}}},x0=Vo((e,t)=>{const n=Ae("Badge",_9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,radius:l,color:c,gradient:f,leftSection:d,rightSection:h,children:p,variant:m,fullWidth:g,autoContrast:y,circle:v,mod:b,..._}=n,w=It({name:"Badge",props:n,classes:bge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:w9e});return T.jsxs(Ce,{variant:m,mod:[{block:g,circle:v},b],...w("root",{variant:m}),ref:t,..._,children:[d&&T.jsx("span",{...w("section"),"data-position":"left",children:d}),T.jsx("span",{...w("label"),children:p}),h&&T.jsx("span",{...w("section"),"data-position":"right",children:h})]})});x0.classes=bge;x0.displayName="@mantine/core/Badge";var _ge={root:"m_fea6bf1a",burger:"m_d4fb9cad"};const E9e={},x9e=(e,{color:t,size:n,transitionDuration:r,transitionTimingFunction:i})=>({root:{"--burger-color":t?ei(t,e):void 0,"--burger-size":dn(n,"burger-size"),"--burger-transition-duration":r===void 0?void 0:`${r}ms`,"--burger-transition-timing-function":i}}),LU=Be((e,t)=>{const n=Ae("Burger",E9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,opened:l,children:c,transitionDuration:f,transitionTimingFunction:d,...h}=n,p=It({name:"Burger",classes:_ge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:x9e});return T.jsxs(po,{...p("root"),ref:t,...h,children:[T.jsx(Ce,{mod:["reduce-motion",{opened:l}],...p("burger")}),c]})});LU.classes=_ge;LU.displayName="@mantine/core/Burger";var DD={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const NZ={orientation:"horizontal"},T9e=(e,{borderWidth:t})=>({group:{"--button-border-width":Ie(t)}}),FU=Be((e,t)=>{const n=Ae("ButtonGroup",NZ,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:u,vars:l,borderWidth:c,variant:f,mod:d,...h}=Ae("ButtonGroup",NZ,e),p=It({name:"ButtonGroup",props:n,classes:DD,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:l,varsResolver:T9e,rootSelector:"group"});return T.jsx(Ce,{...p("group"),ref:t,variant:f,mod:[{"data-orientation":u},d],role:"group",...h})});FU.classes=DD;FU.displayName="@mantine/core/ButtonGroup";const S9e={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ie(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},C9e={},A9e=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const u=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":dn(o,"button-height"),"--button-padding-x":dn(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?cs(o.replace("compact-","")):cs(o),"--button-radius":t===void 0?void 0:ni(t),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},Xn=Vo((e,t)=>{const n=Ae("Button",C9e,e),{style:r,vars:i,className:o,color:s,disabled:a,children:u,leftSection:l,rightSection:c,fullWidth:f,variant:d,radius:h,loading:p,loaderProps:m,gradient:g,classNames:y,styles:v,unstyled:b,"data-disabled":_,autoContrast:w,mod:S,...E}=n,C=It({name:"Button",props:n,classes:DD,className:o,style:r,classNames:y,styles:v,unstyled:b,vars:i,varsResolver:A9e}),A=!!l,k=!!c;return T.jsxs(po,{ref:t,...C("root",{active:!a&&!p&&!_}),unstyled:b,variant:d,disabled:a||p,mod:[{disabled:a||_,loading:p,block:f,"with-left-section":A,"with-right-section":k},S],...E,children:[T.jsx(zh,{mounted:!!p,transition:S9e,duration:150,children:P=>T.jsx(Ce,{component:"span",...C("loader",{style:P}),"aria-hidden":!0,children:T.jsx(Ly,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...m})})}),T.jsxs("span",{...C("inner"),children:[l&&T.jsx(Ce,{component:"span",...C("section"),mod:{position:"left"},children:l}),T.jsx(Ce,{component:"span",mod:{loading:p},...C("label"),children:u}),c&&T.jsx(Ce,{component:"span",...C("section"),mod:{position:"right"},children:c})]})]})});Xn.classes=DD;Xn.displayName="@mantine/core/Button";Xn.Group=FU;const[I9e,k9e]=Uo("Card component was not found in tree");var jU={root:"m_e615b15f",section:"m_599a2148"};const R9e={},$D=Vo((e,t)=>{const n=Ae("CardSection",R9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:u,inheritPadding:l,mod:c,...f}=n,d=k9e();return T.jsx(Ce,{ref:t,mod:[{"with-border":u,"inherit-padding":l},c],...d.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...f})});$D.classes=jU;$D.displayName="@mantine/core/CardSection";const P9e={},N9e=(e,{padding:t})=>({root:{"--card-padding":kl(t)}}),jy=Vo((e,t)=>{const n=Ae("Card",P9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,children:l,padding:c,...f}=n,d=It({name:"Card",props:n,classes:jU,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:N9e}),h=I.Children.toArray(l),p=h.map((m,g)=>typeof m=="object"&&m&&"type"in m&&m.type===$D?I.cloneElement(m,{"data-first-section":g===0||void 0,"data-last-section":g===h.length-1||void 0}):m);return T.jsx(I9e,{value:{getStyles:d},children:T.jsx(SD,{ref:t,unstyled:a,...d("root"),...f,children:p})})});jy.classes=jU;jy.displayName="@mantine/core/Card";jy.Section=$D;var wge={root:"m_4451eb3a"};const D9e={},FT=Vo((e,t)=>{const n=Ae("Center",D9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,inline:l,mod:c,...f}=n,d=It({name:"Center",props:n,classes:wge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u});return T.jsx(Ce,{ref:t,mod:[{inline:l},c],...d("root"),...f})});FT.classes=wge;FT.displayName="@mantine/core/Center";var Ege={root:"m_7485cace"};const $9e={},O9e=(e,{size:t,fluid:n})=>({root:{"--container-size":n?void 0:dn(t,"container-size")}}),Pl=Be((e,t)=>{const n=Ae("Container",$9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,fluid:l,mod:c,...f}=n,d=It({name:"Container",classes:Ege,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:O9e});return T.jsx(Ce,{ref:t,mod:[{fluid:l},c],...d("root"),...f})});Pl.classes=Ege;Pl.displayName="@mantine/core/Container";var xge={root:"m_3eebeb36",label:"m_9e365f20"};const M9e={orientation:"horizontal"},L9e=(e,{color:t,variant:n,size:r})=>({root:{"--divider-color":t?ei(t,e):void 0,"--divider-border-style":n,"--divider-size":dn(r,"divider-size")}}),BU=Be((e,t)=>{const n=Ae("Divider",M9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,color:l,orientation:c,label:f,labelPosition:d,mod:h,...p}=n,m=It({name:"Divider",classes:xge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:L9e});return T.jsx(Ce,{ref:t,mod:[{orientation:c,"with-label":!!f},h],...m("root"),...p,role:"separator",children:f&&T.jsx(Ce,{component:"span",mod:{position:d},...m("label"),children:f})})});BU.classes=xge;BU.displayName="@mantine/core/Divider";const[F9e,P_]=Uo("Drawer component was not found in tree");var Hh={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const j9e={},OD=Be((e,t)=>{const n=Ae("DrawerBody",j9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=P_();return T.jsx(iU,{ref:t,...l.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...u})});OD.classes=Hh;OD.displayName="@mantine/core/DrawerBody";const B9e={},MD=Be((e,t)=>{const n=Ae("DrawerCloseButton",B9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=P_();return T.jsx(oU,{ref:t,...l.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...u})});MD.classes=Hh;MD.displayName="@mantine/core/DrawerCloseButton";const U9e={},LD=Be((e,t)=>{const n=Ae("DrawerContent",U9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:u,radius:l,...c}=n,f=P_(),d=f.scrollAreaComponent||Wme;return T.jsx(qme,{...f.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:f.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),ref:t,...c,radius:l||f.radius||0,children:T.jsx(d,{style:{height:"100vh"},children:u})})});LD.classes=Hh;LD.displayName="@mantine/core/DrawerContent";const z9e={},FD=Be((e,t)=>{const n=Ae("DrawerHeader",z9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=P_();return T.jsx(sU,{ref:t,...l.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...u})});FD.classes=Hh;FD.displayName="@mantine/core/DrawerHeader";const V9e={},jD=Be((e,t)=>{const n=Ae("DrawerOverlay",V9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=P_();return T.jsx(aU,{ref:t,...l.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...u})});jD.classes=Hh;jD.displayName="@mantine/core/DrawerOverlay";function H9e(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function q9e(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const W9e={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},G9e={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},Y9e={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Bl("modal"),position:"left"},K9e=(e,{position:t,size:n,offset:r})=>({root:{"--drawer-size":dn(n,"drawer-size"),"--drawer-flex":q9e(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":H9e(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Ie(r)}}),BD=Be((e,t)=>{const n=Ae("DrawerRoot",Y9e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,scrollAreaComponent:l,position:c,transitionProps:f,radius:d,...h}=n,{dir:p}=Bh(),m=It({name:"Drawer",classes:Hh,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:K9e}),g=(p==="rtl"?G9e:W9e)[c];return T.jsx(F9e,{value:{scrollAreaComponent:l,getStyles:m,radius:d},children:T.jsx(Hme,{ref:t,...m("root"),transitionProps:{transition:g,...f},unstyled:a,...h})})});BD.classes=Hh;BD.displayName="@mantine/core/DrawerRoot";const X9e={},UD=Be((e,t)=>{const n=Ae("DrawerTitle",X9e,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=P_();return T.jsx(uU,{ref:t,...l.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...u})});UD.classes=Hh;UD.displayName="@mantine/core/DrawerTitle";const Q9e={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Bl("modal"),withOverlay:!0,withCloseButton:!0},rd=Be((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,...u}=Ae("Drawer",Q9e,e),l=!!n||o;return T.jsxs(BD,{ref:t,...u,children:[r&&T.jsx(jD,{...i}),T.jsxs(LD,{children:[l&&T.jsxs(FD,{children:[n&&T.jsx(UD,{children:n}),o&&T.jsx(MD,{...s})]}),T.jsx(OD,{children:a})]})]})});rd.classes=Hh;rd.displayName="@mantine/core/Drawer";rd.Root=BD;rd.Overlay=jD;rd.Content=LD;rd.Body=OD;rd.Header=FD;rd.Title=UD;rd.CloseButton=MD;function J9e({open:e,close:t,openDelay:n,closeDelay:r}){const i=I.useRef(-1),o=I.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},u=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return I.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:u}}const[Z9e,Tge]=Uo("Grid component was not found in tree"),C5=(e,t)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(t/e)}%`:void 0,DZ=(e,t,n)=>n||e==="auto"?"100%":e==="content"?"unset":C5(e,t),$Z=(e,t)=>{if(e)return e==="auto"||t?"1":"auto"},OZ=(e,t)=>e===0?"0":e?`${100/(t/e)}%`:void 0;function eje({span:e,order:t,offset:n,selector:r}){var d;const i=zo(),o=Tge(),a=FE(e)===void 0?12:FE(e),u=E_({"--col-order":(d=FE(t))==null?void 0:d.toString(),"--col-flex-grow":$Z(a,o.grow),"--col-flex-basis":C5(a,o.columns),"--col-width":a==="content"?"auto":void 0,"--col-max-width":DZ(a,o.columns,o.grow),"--col-offset":OZ(FE(n),o.columns)}),l=_i(i.breakpoints).reduce((h,p)=>{var m;return h[p]||(h[p]={}),typeof t=="object"&&t[p]!==void 0&&(h[p]["--col-order"]=(m=t[p])==null?void 0:m.toString()),typeof e=="object"&&e[p]!==void 0&&(h[p]["--col-flex-grow"]=$Z(e[p],o.grow),h[p]["--col-flex-basis"]=C5(e[p],o.columns),h[p]["--col-width"]=e[p]==="content"?"auto":void 0,h[p]["--col-max-width"]=DZ(e[p],o.columns,o.grow)),typeof n=="object"&&n[p]!==void 0&&(h[p]["--col-offset"]=OZ(n[p],o.columns)),h},{}),f=bR(_i(l),i).filter(h=>_i(l[h.value]).length>0).map(h=>({query:`(min-width: ${i.breakpoints[h.value]})`,styles:l[h.value]}));return T.jsx(XS,{styles:u,media:f,selector:r})}var UU={root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const tje={span:12},zU=Be((e,t)=>{const n=Ae("GridCol",tje,e),{classNames:r,className:i,style:o,styles:s,vars:a,span:u,order:l,offset:c,...f}=n,d=Tge(),h=xD();return T.jsxs(T.Fragment,{children:[T.jsx(eje,{selector:`.${h}`,span:u,order:l,offset:c}),T.jsx(Ce,{ref:t,...d.getStyles("col",{className:Ni(i,h),style:o,classNames:r,styles:s}),...f})]})});zU.classes=UU;zU.displayName="@mantine/core/GridCol";function nje({gutter:e,selector:t}){const n=zo(),r=E_({"--grid-gutter":kl(FE(e))}),i=_i(n.breakpoints).reduce((a,u)=>(a[u]||(a[u]={}),typeof e=="object"&&e[u]!==void 0&&(a[u]["--grid-gutter"]=kl(e[u])),a),{}),s=bR(_i(i),n).filter(a=>_i(i[a.value]).length>0).map(a=>({query:`(min-width: ${n.breakpoints[a.value]})`,styles:i[a.value]}));return T.jsx(XS,{styles:r,media:s,selector:t})}const rje={gutter:"md",grow:!1,columns:12},ije=(e,{justify:t,align:n,overflow:r})=>({root:{"--grid-justify":t,"--grid-align":n,"--grid-overflow":r}}),yl=Be((e,t)=>{const n=Ae("Grid",rje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,grow:l,gutter:c,columns:f,align:d,justify:h,children:p,...m}=n,g=It({name:"Grid",classes:UU,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:ije}),y=xD();return T.jsxs(Z9e,{value:{getStyles:g,grow:l,columns:f},children:[T.jsx(nje,{selector:`.${y}`,...n}),T.jsx(Ce,{ref:t,...g("root",{className:y}),...m,children:T.jsx("div",{...g("inner"),children:p})})]})});yl.classes=UU;yl.displayName="@mantine/core/Grid";yl.Col=zU;var Sge={root:"m_9e117634"};const oje={},sje=(e,{radius:t,fit:n})=>({root:{"--image-radius":t===void 0?void 0:ni(t),"--image-object-fit":n}}),Zm=Vo((e,t)=>{const n=Ae("Image",oje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,onError:l,src:c,radius:f,fit:d,fallbackSrc:h,mod:p,...m}=n,[g,y]=I.useState(!c);I.useEffect(()=>y(!c),[c]);const v=It({name:"Image",classes:Sge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:sje});return g&&h?T.jsx(Ce,{component:"img",ref:t,src:h,...v("root"),onError:l,mod:["fallback",p],...m}):T.jsx(Ce,{component:"img",ref:t,...v("root"),src:c,onError:b=>{l==null||l(b),y(!0)},mod:p,...m})});Zm.classes=Sge;Zm.displayName="@mantine/core/Image";function A5(){return A5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A5.apply(null,arguments)}function aje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var uje=I.useLayoutEffect,lje=function(t){var n=I.useRef(t);return uje(function(){n.current=t}),n},MZ=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},cje=function(t,n){var r=I.useRef();return I.useCallback(function(i){t.current=i,r.current&&MZ(r.current,null),r.current=n,n&&MZ(n,i)},[n])},LZ={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},fje=function(t){Object.keys(LZ).forEach(function(n){t.style.setProperty(n,LZ[n],"important")})},FZ=fje,Xs=null,jZ=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function dje(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Xs||(Xs=document.createElement("textarea"),Xs.setAttribute("tabindex","-1"),Xs.setAttribute("aria-hidden","true"),FZ(Xs)),Xs.parentNode===null&&document.body.appendChild(Xs);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(d){var h=d;Xs.style[h]=s[h]}),FZ(Xs),Xs.value=t;var u=jZ(Xs,e);Xs.value=t,u=jZ(Xs,e),Xs.value="x";var l=Xs.scrollHeight-i,c=l*n;a==="border-box"&&(c=c+i+o),u=Math.max(c,u);var f=l*r;return a==="border-box"&&(f=f+i+o),u=Math.min(f,u),[u,l]}var BZ=function(){},hje=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},pje=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],mje=!!document.documentElement.currentStyle,gje=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=hje(pje,n),i=r.boxSizing;if(i==="")return null;mje&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},yje=gje;function Cge(e,t,n){var r=lje(n);I.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var vje=function(t){Cge(window,"resize",t)},bje=function(t){Cge(document.fonts,"loadingdone",t)},_je=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],wje=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?BZ:s,u=t.onHeightChange,l=u===void 0?BZ:u,c=aje(t,_je),f=c.value!==void 0,d=I.useRef(null),h=cje(d,n),p=I.useRef(0),m=I.useRef(),g=function(){var b=d.current,_=r&&m.current?m.current:yje(b);if(_){m.current=_;var w=dje(_,b.value||b.placeholder||"x",o,i),S=w[0],E=w[1];p.current!==S&&(p.current=S,b.style.setProperty("height",S+"px","important"),l(S,{rowHeight:E}))}},y=function(b){f||g(),a(b)};return I.useLayoutEffect(g),vje(g),bje(g),I.createElement("textarea",A5({},c,{onChange:y,ref:h}))},Eje=I.forwardRef(wje);const xje={},VU=Be((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=Ae("Textarea",xje,e),u=n&&b6e()!=="test",l=u?{maxRows:r,minRows:i}:{};return T.jsx(Vl,{component:u?Eje:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...l})});VU.classes=Vl.classes;VU.displayName="@mantine/core/Textarea";const[Tje,Sje]=Uo("List component was not found in tree");var HU={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Cje={},qU=Be((e,t)=>{const n=Ae("ListItem",Cje,e),{classNames:r,className:i,style:o,styles:s,vars:a,icon:u,children:l,mod:c,...f}=n,d=Sje(),h=u||d.icon,p={classNames:r,styles:s};return T.jsx(Ce,{...d.getStyles("item",{...p,className:i,style:o}),component:"li",mod:[{"with-icon":!!h,centered:d.center},c],ref:t,...f,children:T.jsxs("div",{...d.getStyles("itemWrapper",p),children:[h&&T.jsx("span",{...d.getStyles("itemIcon",p),children:h}),T.jsx("span",{...d.getStyles("itemLabel",p),children:l})]})})});qU.classes=HU;qU.displayName="@mantine/core/ListItem";const Aje={type:"unordered"},Ije=(e,{size:t,spacing:n})=>({root:{"--list-fz":cs(t),"--list-lh":Lpe(t),"--list-spacing":kl(n)}}),kc=Be((e,t)=>{const n=Ae("List",Aje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,children:l,type:c,withPadding:f,icon:d,spacing:h,center:p,listStyleType:m,mod:g,...y}=n,v=It({name:"List",classes:HU,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Ije});return T.jsx(Tje,{value:{center:p,icon:d,getStyles:v},children:T.jsx(Ce,{...v("root",{style:{listStyleType:m}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":f},g],ref:t,...y,children:l})})});kc.classes=HU;kc.displayName="@mantine/core/List";kc.Item=qU;var Age={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const UZ={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:Bl("overlay")},kje=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Vu=Be((e,t)=>{const n=Ae("LoadingOverlay",UZ,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,transitionProps:l,loaderProps:c,overlayProps:f,visible:d,zIndex:h,...p}=n,m=zo(),g=It({name:"LoadingOverlay",classes:Age,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:kje}),y={...UZ.overlayProps,...f};return T.jsx(zh,{transition:"fade",...l,mounted:!!d,children:v=>T.jsxs(Ce,{...g("root",{style:v}),ref:t,...p,children:[T.jsx(Ly,{...g("loader"),unstyled:a,...c}),T.jsx(MT,{...y,...g("overlay"),darkHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.white}),T.jsx(MT,{...y,...g("overlay"),lightHidden:!0,unstyled:a,color:(f==null?void 0:f.color)||m.colors.dark[5]})]})})});Vu.classes=Age;Vu.displayName="@mantine/core/LoadingOverlay";const[Rje,iC]=Uo("Menu component was not found in the tree");var N_={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Pje={},WU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("MenuDivider",Pje,e),u=iC();return T.jsx(Ce,{ref:t,...u.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});WU.classes=N_;WU.displayName="@mantine/core/MenuDivider";const Nje={},GU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:u,children:l,...c}=Ae("MenuDropdown",Nje,e),f=I.useRef(null),d=iC(),h=g=>{var y,v;(g.key==="ArrowUp"||g.key==="ArrowDown")&&(g.preventDefault(),(v=(y=f.current)==null?void 0:y.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||v.focus())},p=Wd(a,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.openDropdown()),m=Wd(u,()=>(d.trigger==="hover"||d.trigger==="click-hover")&&d.closeDropdown());return T.jsxs(gi.Dropdown,{...c,onMouseEnter:p,onMouseLeave:m,role:"menu","aria-orientation":"vertical",ref:vo(t,f),...d.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h,children:[T.jsx("div",{tabIndex:-1,"data-autofocus":!0,"aria-hidden":!0,style:{outline:0}}),l]})});GU.classes=N_;GU.displayName="@mantine/core/MenuDropdown";const Dje={},YU=Vo((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:u,leftSection:l,rightSection:c,children:f,disabled:d,...h}=Ae("MenuItem",Dje,e),p=iC(),m=zo(),{dir:g}=Bh(),y=I.useRef(),v=p.getItemIndex(y.current),b=h,_=Wd(b.onMouseLeave,()=>p.setHovered(-1)),w=Wd(b.onMouseEnter,()=>p.setHovered(p.getItemIndex(y.current))),S=Wd(b.onClick,()=>{typeof u=="boolean"?u&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),E=Wd(b.onFocus,()=>p.setHovered(p.getItemIndex(y.current))),C=a?m.variantColorResolver({color:a,theme:m,variant:"light"}):void 0,A=a?nd({color:a,theme:m}):null;return T.jsxs(po,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:E,...p.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:vo(y,t),role:"menuitem",disabled:d,"data-menu-item":!0,"data-disabled":d||void 0,"data-hovered":p.hovered===v?!0:void 0,onMouseEnter:w,onMouseLeave:_,onClick:S,onKeyDown:C7({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:g,orientation:"vertical",onKeyDown:b.onKeydown}),__vars:{"--menu-item-color":A!=null&&A.isThemeColor&&(A==null?void 0:A.shade)===void 0?`var(--mantine-color-${A.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover},children:[l&&T.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:l}),f&&T.jsx("div",{...p.getStyles("itemLabel",{styles:o,classNames:n}),children:f}),c&&T.jsx("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:c})]})});YU.classes=N_;YU.displayName="@mantine/core/MenuItem";const $je={},KU=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("MenuLabel",$je,e),u=iC();return T.jsx(Ce,{ref:t,...u.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});KU.classes=N_;KU.displayName="@mantine/core/MenuLabel";const Oje={refProp:"ref"},Ige=I.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=Ae("MenuTarget",Oje,e);if(!Xm(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=iC(),s=Wd(n.props.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),a=Wd(n.props.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=Wd(n.props.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return T.jsx(gi.Target,{refProp:r,popupType:"menu",ref:t,...i,children:I.cloneElement(n,{onClick:s,onMouseEnter:a,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});Ige.displayName="@mantine/core/MenuTarget";const Mje={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ba(e){const t=Ae("Menu",Mje,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:u,closeOnItemClick:l,loop:c,closeOnEscape:f,trigger:d,openDelay:h,closeDelay:p,classNames:m,styles:g,unstyled:y,variant:v,vars:b,menuItemTabIndex:_,keepMounted:w,...S}=t,E=It({name:"Menu",classes:N_,props:t,classNames:m,styles:g,unstyled:y}),[C,{setHovered:A,resetHovered:k}]=ZLe(),[P,$]=ms({value:o,defaultValue:s,finalValue:!1,onChange:u}),[N,O]=I.useState(!1),j=()=>{$(!1),O(!1),P&&(i==null||i())},M=()=>{$(!0),!P&&(r==null||r())},B=()=>{P?j():M()},{openDropdown:V,closeDropdown:q}=J9e({open:M,close:j,closeDelay:p,openDelay:h}),D=F=>JLe("[data-menu-item]","[data-menu-dropdown]",F),{resolvedClassNames:U,resolvedStyles:W}=jh({classNames:m,styles:g,props:t});return Eh(()=>{k()},[P]),T.jsx(Rje,{value:{getStyles:E,opened:P,toggleDropdown:B,getItemIndex:D,hovered:C,setHovered:A,openedViaClick:N,setOpenedViaClick:O,closeOnItemClick:l,closeDropdown:d==="click"?j:q,openDropdown:d==="click"?M:V,closeDropdownImmediately:j,loop:c,trigger:d,unstyled:y,menuItemTabIndex:_},children:T.jsx(gi,{...S,opened:P,onChange:B,defaultOpened:s,trapFocus:w?!1:a,closeOnEscape:f,__staticSelector:"Menu",classNames:U,styles:W,unstyled:y,variant:v,keepMounted:w,children:n})})}Ba.extend=e=>e;Ba.classes=N_;Ba.displayName="@mantine/core/Menu";Ba.Item=YU;Ba.Label=KU;Ba.Dropdown=GU;Ba.Target=Ige;Ba.Divider=WU;const[Lje,D_]=Uo("Modal component was not found in tree");var qh={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Fje={},zD=Be((e,t)=>{const n=Ae("ModalBody",Fje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=D_();return T.jsx(iU,{ref:t,...l.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...u})});zD.classes=qh;zD.displayName="@mantine/core/ModalBody";const jje={},VD=Be((e,t)=>{const n=Ae("ModalCloseButton",jje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=D_();return T.jsx(oU,{ref:t,...l.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...u})});VD.classes=qh;VD.displayName="@mantine/core/ModalCloseButton";const Bje={},HD=Be((e,t)=>{const n=Ae("ModalContent",Bje,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:u,...l}=n,c=D_(),f=c.scrollAreaComponent||Wme;return T.jsx(qme,{...c.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":c.fullScreen||void 0,"data-modal-content":!0,ref:t,...l,children:T.jsx(f,{style:{maxHeight:c.fullScreen?"100dvh":`calc(100dvh - (${Ie(c.yOffset)} * 2))`},children:u})})});HD.classes=qh;HD.displayName="@mantine/core/ModalContent";const Uje={},qD=Be((e,t)=>{const n=Ae("ModalHeader",Uje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=D_();return T.jsx(sU,{ref:t,...l.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...u})});qD.classes=qh;qD.displayName="@mantine/core/ModalHeader";const zje={},WD=Be((e,t)=>{const n=Ae("ModalOverlay",zje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=D_();return T.jsx(aU,{ref:t,...l.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...u})});WD.classes=qh;WD.displayName="@mantine/core/ModalOverlay";const Vje={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Bl("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},Hje=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:ni(t),"--modal-size":dn(n,"modal-size"),"--modal-y-offset":Ie(r),"--modal-x-offset":Ie(i)}}),GD=Be((e,t)=>{const n=Ae("ModalRoot",Vje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,yOffset:l,scrollAreaComponent:c,radius:f,fullScreen:d,centered:h,xOffset:p,__staticSelector:m,...g}=n,y=It({name:m,classes:qh,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Hje});return T.jsx(Lje,{value:{yOffset:l,scrollAreaComponent:c,getStyles:y,fullScreen:d},children:T.jsx(Hme,{ref:t,...y("root"),"data-full-screen":d||void 0,"data-centered":h||void 0,unstyled:a,...g})})});GD.classes=qh;GD.displayName="@mantine/core/ModalRoot";const qje={},YD=Be((e,t)=>{const n=Ae("ModalTitle",qje,e),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,l=D_();return T.jsx(uU,{ref:t,...l.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...u})});YD.classes=qh;YD.displayName="@mantine/core/ModalTitle";const Wje={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Bl("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},no=Be((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:u,...l}=Ae("Modal",Wje,e),c=!!n||o;return T.jsxs(GD,{ref:t,radius:u,...l,children:[r&&T.jsx(WD,{...i}),T.jsxs(HD,{radius:u,children:[c&&T.jsxs(qD,{children:[n&&T.jsx(YD,{children:n}),o&&T.jsx(VD,{...s})]}),T.jsx(zD,{children:a})]})]})});no.classes=qh;no.displayName="@mantine/core/Modal";no.Root=GD;no.Overlay=WD;no.Content=HD;no.Body=zD;no.Header=qD;no.Title=YD;no.CloseButton=VD;const[Gje,XU]=x_(),[Yje,Kje]=x_();var KD={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const Xje={},Qje=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?dn(t):dn(n,"pg-gap")}}),QU=Be((e,t)=>{const n=Ae("PillGroup",Xje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:l,disabled:c,...f}=n,d=XU(),h=(d==null?void 0:d.size)||l||void 0,p=It({name:"PillGroup",classes:KD,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Qje,stylesCtx:{size:h},rootSelector:"group"});return T.jsx(Yje,{value:{size:h,disabled:c},children:T.jsx(Ce,{ref:t,size:h,...p("group"),...f})})});QU.classes=KD;QU.displayName="@mantine/core/PillGroup";const Jje={variant:"default"},Zje=(e,{radius:t},{size:n})=>({root:{"--pill-fz":dn(n,"pill-fz"),"--pill-height":dn(n,"pill-height"),"--pill-radius":t===void 0?void 0:ni(t)}}),jT=Be((e,t)=>{const n=Ae("Pill",Jje,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,variant:l,children:c,withRemoveButton:f,onRemove:d,removeButtonProps:h,radius:p,size:m,disabled:g,mod:y,...v}=n,b=Kje(),_=XU(),w=m||(b==null?void 0:b.size)||void 0,S=(_==null?void 0:_.variant)==="filled"?"contrast":l||"default",E=It({name:"Pill",classes:KD,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Zje,stylesCtx:{size:w}});return T.jsxs(Ce,{component:"span",ref:t,variant:S,size:w,...E("root",{variant:S}),mod:[{"with-remove":f&&!g,disabled:g||(b==null?void 0:b.disabled)},y],...v,children:[T.jsx("span",{...E("label"),children:c}),f&&T.jsx(Fy,{variant:"transparent",radius:p,tabIndex:-1,"aria-hidden":!0,unstyled:a,...h,...E("remove",{className:h==null?void 0:h.className,style:h==null?void 0:h.style}),onMouseDown:C=>{var A;C.preventDefault(),C.stopPropagation(),(A=h==null?void 0:h.onMouseDown)==null||A.call(h,C)},onClick:C=>{var A;C.stopPropagation(),d==null||d(),(A=h==null?void 0:h.onClick)==null||A.call(h,C)}})]})});jT.classes=KD;jT.displayName="@mantine/core/Pill";jT.Group=QU;var kge={field:"m_45c4369d"};const eBe={type:"visible"},JU=Be((e,t)=>{const n=Ae("PillsInputField",eBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,type:l,disabled:c,id:f,pointer:d,mod:h,...p}=n,m=XU(),g=I_(),y=It({name:"PillsInputField",classes:kge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),v=c||(m==null?void 0:m.disabled);return T.jsx(Ce,{component:"input",ref:vo(t,m==null?void 0:m.fieldRef),"data-type":l,disabled:v,mod:[{disabled:v,pointer:d},h],...y("field"),...p,id:(g==null?void 0:g.inputId)||f,"aria-invalid":m==null?void 0:m.hasError,"aria-describedby":g==null?void 0:g.describedBy,type:"text",onMouseDown:b=>!d&&b.stopPropagation()})});JU.classes=kge;JU.displayName="@mantine/core/PillsInputField";const tBe={},SR=Be((e,t)=>{const n=Ae("PillsInput",tBe,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:u,error:l,variant:c,...f}=n,d=I.useRef();return T.jsx(Gje,{value:{fieldRef:d,size:s,disabled:a,hasError:!!l,variant:c},children:T.jsx(Vl,{size:s,error:l,variant:c,component:"div",ref:t,onMouseDown:h=>{var p;h.preventDefault(),i==null||i(h),(p=d.current)==null||p.focus()},onClick:h=>{var p;h.preventDefault(),o==null||o(h),(p=d.current)==null||p.focus()},...f,multiline:!0,disabled:a,__staticSelector:u||"PillsInput",withAria:!1,children:r})})});SR.displayName="@mantine/core/PillsInput";SR.Field=JU;function nBe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(xb(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.value.toLowerCase().trim())===-1)}):n.indexOf(o.value.toLowerCase().trim())===-1&&i.push(o),i),[])}const rBe={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},ZU=Be((e,t)=>{const n=Ae("MultiSelect",rBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:l,value:c,defaultValue:f,onChange:d,onKeyDown:h,variant:p,data:m,dropdownOpened:g,defaultDropdownOpened:y,onDropdownOpen:v,onDropdownClose:b,selectFirstOptionOnChange:_,onOptionSubmit:w,comboboxProps:S,filter:E,limit:C,withScrollArea:A,maxDropdownHeight:k,searchValue:P,defaultSearchValue:$,onSearchChange:N,readOnly:O,disabled:j,onFocus:M,onBlur:B,onPaste:V,radius:q,rightSection:D,rightSectionWidth:U,rightSectionPointerEvents:W,rightSectionProps:F,leftSection:z,leftSectionWidth:G,leftSectionPointerEvents:ee,leftSectionProps:ce,inputContainer:le,inputWrapperOrder:se,withAsterisk:ge,labelProps:be,descriptionProps:ve,errorProps:Ye,wrapperProps:Ue,description:ht,label:Je,error:ke,maxValues:Ne,searchable:ze,nothingFoundMessage:ut,withCheckIcon:Mt,checkIconPosition:qe,hidePickedOptions:me,withErrorStyles:Xe,name:vt,form:he,id:Te,clearable:Le,clearButtonProps:He,hiddenInputProps:lt,placeholder:an,hiddenInputValuesDivider:$n,required:ct,mod:$t,renderOption:pt,onRemove:Qt,onClear:un,scrollAreaProps:Jt,...Yi}=n,ii=Ta(Te),ln=ege(m),ir=wU(ln),dr=NU({opened:g,defaultOpened:y,onDropdownOpen:v,onDropdownClose:()=>{b==null||b(),dr.resetSelectedOption()}}),{styleProps:qr,rest:{type:Ia,autoComplete:Ks,...el}}=Oy(Yi),[En,Mr]=ms({value:c,defaultValue:f,finalValue:[],onChange:d}),[Jn,Wo]=ms({value:P,defaultValue:$,finalValue:"",onChange:N}),Eo=It({name:"MultiSelect",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:Ki,resolvedStyles:oe}=jh({props:n,styles:s,classNames:r}),te=ot=>{h==null||h(ot),ot.key===" "&&!ze&&(ot.preventDefault(),dr.toggleDropdown()),ot.key==="Backspace"&&Jn.length===0&&En.length>0&&(Qt==null||Qt(En[En.length-1]),Mr(En.slice(0,En.length-1)))},ae=En.map((ot,Pt)=>{var Wt,yn;return T.jsx(jT,{withRemoveButton:!O&&!((Wt=ir[ot])!=null&&Wt.disabled),onRemove:()=>{Mr(En.filter(Sn=>ot!==Sn)),Qt==null||Qt(ot)},unstyled:a,disabled:j,...Eo("pill"),children:((yn=ir[ot])==null?void 0:yn.label)||ot},`${ot}-${Pt}`)});I.useEffect(()=>{_&&dr.selectFirstOption()},[_,En]);const Se=Le&&En.length>0&&!j&&!O&&T.jsx(Hn.ClearButton,{size:l,...He,onClear:()=>{un==null||un(),Mr([]),Wo("")}}),xe=nBe({data:ln,value:En});return T.jsxs(T.Fragment,{children:[T.jsxs(Hn,{store:dr,classNames:Ki,styles:oe,unstyled:a,size:l,readOnly:O,__staticSelector:"MultiSelect",onOptionSubmit:ot=>{w==null||w(ot),Wo(""),dr.updateSelectedOptionIndex("selected"),En.includes(ir[ot].value)?(Mr(En.filter(Pt=>Pt!==ir[ot].value)),Qt==null||Qt(ir[ot].value)):En.length<Ne&&Mr([...En,ir[ot].value])},...S,children:[T.jsx(Hn.DropdownTarget,{children:T.jsx(SR,{...qr,__staticSelector:"MultiSelect",classNames:Ki,styles:oe,unstyled:a,size:l,className:i,style:o,variant:p,disabled:j,radius:q,rightSection:D||Se||T.jsx(Hn.Chevron,{size:l,error:ke,unstyled:a}),rightSectionPointerEvents:W||(Se?"all":"none"),rightSectionWidth:U,rightSectionProps:F,leftSection:z,leftSectionWidth:G,leftSectionPointerEvents:ee,leftSectionProps:ce,inputContainer:le,inputWrapperOrder:se,withAsterisk:ge,labelProps:be,descriptionProps:ve,errorProps:Ye,wrapperProps:Ue,description:ht,label:Je,error:ke,multiline:!0,withErrorStyles:Xe,__stylesApiProps:{...n,rightSectionPointerEvents:W||(Se?"all":"none"),multiline:!0},pointer:!ze,onClick:()=>ze?dr.openDropdown():dr.toggleDropdown(),"data-expanded":dr.dropdownOpened||void 0,id:ii,required:ct,mod:$t,children:T.jsxs(jT.Group,{disabled:j,unstyled:a,...Eo("pillsList"),children:[ae,T.jsx(Hn.EventsTarget,{autoComplete:Ks,children:T.jsx(SR.Field,{...el,ref:t,id:ii,placeholder:an,type:!ze&&!an?"hidden":"visible",...Eo("inputField"),unstyled:a,onFocus:ot=>{M==null||M(ot),ze&&dr.openDropdown()},onBlur:ot=>{B==null||B(ot),dr.closeDropdown(),Wo("")},onKeyDown:te,value:Jn,onChange:ot=>{Wo(ot.currentTarget.value),ze&&dr.openDropdown(),_&&dr.selectFirstOption()},disabled:j,readOnly:O||!ze,pointer:!ze})})]})})}),T.jsx(vge,{data:me?xe:ln,hidden:O||j,filter:E,search:Jn,limit:C,hiddenWhenEmpty:!ze||!ut||me&&xe.length===0&&Jn.trim().length===0,withScrollArea:A,maxDropdownHeight:k,filterOptions:ze,value:En,checkIconPosition:qe,withCheckIcon:Mt,nothingFoundMessage:ut,unstyled:a,labelId:Je?`${ii}-label`:void 0,"aria-label":Je?void 0:Yi["aria-label"],renderOption:pt,scrollAreaProps:Jt})]}),T.jsx(Hn.HiddenInput,{name:vt,valuesDivider:$n,value:En,form:he,disabled:j,...lt})]})});ZU.classes={...Vl.classes,...Hn.classes};ZU.displayName="@mantine/core/MultiSelect";function Rge(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var BT;(function(e){e.event="event",e.props="prop"})(BT||(BT={}));function Ip(){}function iBe(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function UT(e){return!!(e||"").match(/\d/)}function V1(e){return e==null}function oBe(e){return typeof e=="number"&&isNaN(e)}function Pge(e){return V1(e)||oBe(e)||typeof e=="number"&&!isFinite(e)}function Nge(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function sBe(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function aBe(e,t,n){var r=sBe(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function uBe(e){var t=I.useRef(e);t.current=e;var n=I.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function ez(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function lBe(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function Dge(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function zZ(e,t){return Array(t+1).join(e)}function $ge(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+zZ("0",Math.abs(s))+i:s>=a?i=i+zZ("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function VZ(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=ez(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,u=parseFloat("0."+(s||"0")),l=s.length<=t?"0."+s:u.toFixed(t),c=l.split("."),f=o;o&&Number(c[0])&&(f=o.split("").reverse().reduce(function(m,g,y){return m.length>y?(Number(m[0])+Number(g)).toString()+m.substring(1,m.length):g+m},c[0]));var d=Dge(c[1]||"",t,n),h=a?"-":"",p=r?".":"";return""+h+f+p+d}function Xg(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Oge=iBe(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),cBe=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function fBe(e,t,n){return Math.min(Math.max(e,t),n)}function xL(e){return Math.max(e.selectionStart,e.selectionEnd)}function dBe(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function hBe(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function pBe(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function mBe(e,t,n,r,i,o,s){s===void 0&&(s=pBe);var a=i.findIndex(function(_){return _}),u=e.slice(0,a);!t&&!n.startsWith(u)&&(t=u,n=u+n,r=r+u.length);for(var l=n.length,c=e.length,f={},d=new Array(l),h=0;h<l;h++){d[h]=-1;for(var p=0,m=c;p<m;p++){var g=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:h,formattedValueIndex:p});if(g&&f[p]!==!0){d[h]=p,f[p]=!0;break}}}for(var y=r;y<l&&(d[y]===-1||!o(n[y]));)y++;var v=y===l||d[y]===-1?c:d[y];for(y=r-1;y>0&&d[y]===-1;)y--;var b=y===-1||d[y]===-1?0:d[y]+1;return b>v?v:r-b<v-r?b:v}function HZ(e,t,n,r){var i=e.length;if(t=fBe(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function gBe(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(UT(e[n])||UT(e[n-1]));return t}function Mge(e,t,n,r,i,o){o===void 0&&(o=Ip);var s=uBe(function(p,m){var g,y;return Pge(p)?(y="",g=""):typeof p=="number"||m?(y=typeof p=="number"?$ge(p):p,g=r(y)):(y=i(p,void 0),g=r(y)),{formattedValue:g,numAsString:y}}),a=I.useState(function(){return s(V1(e)?t:e,n)}),u=a[0],l=a[1],c=function(p,m){p.formattedValue!==u.formattedValue&&l({formattedValue:p.formattedValue,numAsString:p.value}),o(p,m)},f=e,d=n;V1(e)&&(f=u.numAsString,d=!0);var h=s(f,d);return I.useMemo(function(){l(h)},[h.formattedValue]),[u,c]}function yBe(e){return e.replace(/[^0-9]/g,"")}function vBe(e){return e}function bBe(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=vBe);var a=e.removeFormatting;a===void 0&&(a=yBe);var u=e.defaultValue,l=e.valueIsNumericString,c=e.onValueChange,f=e.isAllowed,d=e.onChange;d===void 0&&(d=Ip);var h=e.onKeyDown;h===void 0&&(h=Ip);var p=e.onMouseUp;p===void 0&&(p=Ip);var m=e.onFocus;m===void 0&&(m=Ip);var g=e.onBlur;g===void 0&&(g=Ip);var y=e.value,v=e.getCaretBoundary;v===void 0&&(v=gBe);var b=e.isValidInputCharacter;b===void 0&&(b=UT);var _=e.isCharacterSame,w=Rge(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),S=Mge(y,u,!!l,s,a,c),E=S[0],C=E.formattedValue,A=E.numAsString,k=S[1],P=I.useRef(),$=I.useRef({formattedValue:C,numAsString:A}),N=function(ke,Ne){$.current={formattedValue:ke.formattedValue,numAsString:ke.value},k(ke,Ne)},O=I.useState(!1),j=O[0],M=O[1],B=I.useRef(null),V=I.useRef({setCaretTimeout:null,focusTimeout:null});I.useEffect(function(){return M(!0),function(){clearTimeout(V.current.setCaretTimeout),clearTimeout(V.current.focusTimeout)}},[]);var q=s,D=function(ke,Ne){var ze=parseFloat(Ne);return{formattedValue:ke,value:Ne,floatValue:isNaN(ze)?void 0:ze}},U=function(ke,Ne,ze){ke.selectionStart===0&&ke.selectionEnd===ke.value.length||(Xg(ke,Ne),V.current.setCaretTimeout=setTimeout(function(){ke.value===ze&&ke.selectionStart!==Ne&&Xg(ke,Ne)},0))},W=function(ke,Ne,ze){return HZ(ke,Ne,v(ke),ze)},F=function(ke,Ne,ze){var ut=v(Ne),Mt=mBe(Ne,C,ke,ze,ut,b,_);return Mt=HZ(Ne,Mt,ut),Mt},z=function(ke){var Ne=ke.formattedValue;Ne===void 0&&(Ne="");var ze=ke.input,ut=ke.source,Mt=ke.event,qe=ke.numAsString,me;if(ze){var Xe=ke.inputValue||ze.value,vt=xL(ze);ze.value=Ne,me=F(Xe,Ne,vt),me!==void 0&&U(ze,me,Ne)}Ne!==C&&N(D(Ne,qe),{event:Mt,source:ut})};I.useEffect(function(){var ke=$.current,Ne=ke.formattedValue,ze=ke.numAsString;(C!==Ne||A!==ze)&&N(D(C,A),{event:void 0,source:BT.props})},[C,A]);var G=B.current?xL(B.current):void 0,ee=typeof window<"u"?I.useLayoutEffect:I.useEffect;ee(function(){var ke=B.current;if(C!==$.current.formattedValue&&ke){var Ne=F($.current.formattedValue,C,G);ke.value=C,U(ke,Ne,C)}},[C]);var ce=function(ke,Ne,ze){var ut=Ne.target,Mt=P.current?cBe(P.current,ut.selectionEnd):Oge(C,ke),qe=Object.assign(Object.assign({},Mt),{lastValue:C}),me=a(ke,qe),Xe=q(me);if(me=a(Xe,void 0),f&&!f(D(Xe,me))){var vt=Ne.target,he=xL(vt),Te=F(ke,C,he);return vt.value=C,U(vt,Te,C),!1}return z({formattedValue:Xe,numAsString:me,inputValue:ke,event:Ne,source:ze,input:Ne.target}),!0},le=function(ke,Ne){Ne===void 0&&(Ne=0);var ze=ke.selectionStart,ut=ke.selectionEnd;P.current={selectionStart:ze,selectionEnd:ut+Ne}},se=function(ke){var Ne=ke.target,ze=Ne.value,ut=ce(ze,ke,BT.event);ut&&d(ke),P.current=void 0},ge=function(ke){var Ne=ke.target,ze=ke.key,ut=Ne.selectionStart,Mt=Ne.selectionEnd,qe=Ne.value;qe===void 0&&(qe="");var me;ze==="ArrowLeft"||ze==="Backspace"?me=Math.max(ut-1,0):ze==="ArrowRight"?me=Math.min(ut+1,qe.length):ze==="Delete"&&(me=ut);var Xe=0;ze==="Delete"&&ut===Mt&&(Xe=1);var vt=ze==="ArrowLeft"||ze==="ArrowRight";if(me===void 0||ut!==Mt&&!vt){h(ke),le(Ne,Xe);return}var he=me;if(vt){var Te=ze==="ArrowLeft"?"left":"right";he=W(qe,me,Te),he!==me&&ke.preventDefault()}else ze==="Delete"&&!b(qe[me])?he=W(qe,me,"right"):ze==="Backspace"&&!b(qe[me])&&(he=W(qe,me,"left"));he!==me&&U(Ne,he,qe),h(ke),le(Ne,Xe)},be=function(ke){var Ne=ke.target,ze=function(){var ut=Ne.selectionStart,Mt=Ne.selectionEnd,qe=Ne.value;if(qe===void 0&&(qe=""),ut===Mt){var me=W(qe,ut);me!==ut&&U(Ne,me,qe)}};ze(),requestAnimationFrame(function(){ze()}),p(ke),le(Ne)},ve=function(ke){ke.persist&&ke.persist();var Ne=ke.target,ze=ke.currentTarget;B.current=Ne,V.current.focusTimeout=setTimeout(function(){var ut=Ne.selectionStart,Mt=Ne.selectionEnd,qe=Ne.value;qe===void 0&&(qe="");var me=W(qe,ut);me!==ut&&!(ut===0&&Mt===qe.length)&&U(Ne,me,qe),m(Object.assign(Object.assign({},ke),{currentTarget:ze}))},0)},Ye=function(ke){B.current=null,clearTimeout(V.current.focusTimeout),clearTimeout(V.current.setCaretTimeout),g(ke)},Ue=j&&dBe()?"numeric":void 0,ht=Object.assign({inputMode:Ue},w,{type:t,value:C,onChange:se,onKeyDown:ge,onMouseUp:be,onFocus:ve,onBlur:Ye});if(n==="text")return i?ue.createElement(ue.Fragment,null,i(C,w)||null):ue.createElement("span",Object.assign({},w,{ref:o}),C);if(r){var Je=r;return ue.createElement(Je,Object.assign({},ht,{ref:o}))}return ue.createElement("input",Object.assign({},ht,{ref:o}))}function qZ(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var u=XD(t),l=u.thousandSeparator,c=u.decimalSeparator,f=n!==0&&e.indexOf(".")!==-1||n&&r,d=ez(e,s),h=d.beforeDecimal,p=d.afterDecimal,m=d.addNegation;return n!==void 0&&(p=Dge(p,n,!!r)),l&&(h=aBe(h,l,a)),i&&(h=i+h),o&&(p=p+o),m&&(h="-"+h),e=h+(f&&c||"")+p,e}function XD(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function _Be(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function wBe(e,t){return new RegExp("(^-)|[0-9]|"+Nge(e),"g")}function EBe(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function xBe(e,t,n){var r;t===void 0&&(t=hBe(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,u=t.from,l=t.to,c=l.start,f=l.end,d=XD(n),h=d.allowedDecimalSeparators,p=d.decimalSeparator,m=e[f]===p;if(UT(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(f-c===1&&h.indexOf(e[c])!==-1){var g=a===0?"":p;e=e.substring(0,c)+g+e.substring(c+1,e.length)}var y=function(B,V,q){var D=!1,U=!1;o.startsWith("-")?D=!1:B.startsWith("--")?(D=!1,U=!0):s.startsWith("-")&&B.length===s.length?D=!1:B[0]==="-"&&(D=!0);var W=D?1:0;return U&&(W=2),W&&(B=B.substring(W),V-=W,q-=W),{value:B,start:V,end:q,hasNegation:D}},v=y(e,c,f),b=v.hasNegation;r=v,e=r.value,c=r.start,f=r.end;var _=y(t.lastValue,u.start,u.end),w=_.start,S=_.end,E=_.value,C=e.substring(c,f);e.length&&E.length&&(w>E.length-s.length||S<o.length)&&!(C&&s.startsWith(C))&&(e=E);var A=0;e.startsWith(o)?A+=o.length:c<o.length&&(A=c),e=e.substring(A),f-=A;var k=e.length,P=e.length-s.length;e.endsWith(s)?k=P:(f>P||f>e.length-s.length)&&(k=f),e=e.substring(0,k),e=_Be(b?"-"+e:e,i),e=(e.match(wBe(p))||[]).join("");var $=e.indexOf(p);e=e.replace(new RegExp(Nge(p),"g"),function(B,V){return V===$?".":""});var N=ez(e,i),O=N.beforeDecimal,j=N.afterDecimal,M=N.addNegation;return l.end-l.start<u.end-u.start&&O===""&&m&&!parseFloat(j)&&(e=M?"-":""),e}function TBe(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function SBe(e){var t=XD(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function CBe(e){e=SBe(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Ip);var o=e.onBlur;o===void 0&&(o=Ip);var s=e.thousandSeparator,a=e.decimalScale,u=e.fixedDecimalScale,l=e.prefix;l===void 0&&(l="");var c=e.defaultValue,f=e.value,d=e.valueIsNumericString,h=e.onValueChange,p=Rge(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),m=XD(e),g=m.decimalSeparator,y=m.allowedDecimalSeparators,v=function(M){return qZ(M,e)},b=function(M,B){return xBe(M,B,e)},_=V1(f)?c:f,w=d??EBe(_,l,t);V1(f)?V1(c)||(w=w||typeof c=="number"):w=w||typeof f=="number";var S=function(M){return Pge(M)?M:(typeof M=="number"&&(M=$ge(M)),w&&typeof a=="number"?VZ(M,a,!!u):M)},E=Mge(S(f),S(c),!!w,v,b,h),C=E[0],A=C.numAsString,k=C.formattedValue,P=E[1],$=function(M){var B=M.target,V=M.key,q=B.selectionStart,D=B.selectionEnd,U=B.value;if(U===void 0&&(U=""),(V==="Backspace"||V==="Delete")&&D<l.length){M.preventDefault();return}if(q!==D){i(M);return}V==="Backspace"&&U[0]==="-"&&q===l.length+1&&n&&Xg(B,1),a&&u&&(V==="Backspace"&&U[q-1]===g?(Xg(B,q-1),M.preventDefault()):V==="Delete"&&U[q]===g&&M.preventDefault()),y!=null&&y.includes(V)&&U[q]===g&&Xg(B,q+1);var W=s===!0?",":s;V==="Backspace"&&U[q-1]===W&&Xg(B,q-1),V==="Delete"&&U[q]===W&&Xg(B,q+1),i(M)},N=function(M){var B=A;if(B.match(/\d/g)||(B=""),r||(B=lBe(B)),u&&a&&(B=VZ(B,a,u)),B!==A){var V=qZ(B,e);P({formattedValue:V,value:B,floatValue:parseFloat(B)},{event:M,source:BT.event})}o(M)},O=function(M){return M===g?!0:UT(M)},j=function(M){var B=M.currentValue,V=M.lastValue,q=M.formattedValue,D=M.currentValueIndex,U=M.formattedValueIndex,W=B[D],F=q[U],z=Oge(V,B),G=z.to;return D>=G.start&&D<G.end&&y&&y.includes(W)&&F===g?!0:W===F};return Object.assign(Object.assign({},p),{value:k,valueIsNumericString:!1,isValidInputCharacter:O,isCharacterSame:j,onValueChange:P,format:v,removeFormatting:b,getCaretBoundary:function(M){return TBe(M,e)},onKeyDown:$,onBlur:N})}function ABe(e){var t=CBe(e);return ue.createElement(bBe,Object.assign({},t))}function WZ({direction:e,style:t,...n}){return T.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:T.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var I5={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const IBe=/^(0\.0*|-0(\.0*)?)$/,kBe=/^-?0\d+(\.\d+)?\.?$/;function RBe(e){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)}function GZ(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const PBe={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},NBe=(e,{size:t})=>({controls:{"--ni-chevron-size":dn(t,"ni-chevron-size")}}),tz=Be((e,t)=>{const n=Ae("NumberInput",PBe,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:u,onValueChange:l,value:c,defaultValue:f,max:d,min:h,step:p,hideControls:m,rightSection:g,isAllowed:y,clampBehavior:v,onBlur:b,allowDecimal:_,decimalScale:w,onKeyDown:S,onKeyDownCapture:E,handlersRef:C,startValue:A,disabled:k,rightSectionPointerEvents:P,allowNegative:$,readOnly:N,size:O,rightSectionWidth:j,stepHoldInterval:M,stepHoldDelay:B,allowLeadingZeros:V,withKeyboardEvents:q,trimLeadingZeroesOnBlur:D,...U}=n,W=It({name:"NumberInput",classes:I5,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:NBe}),{resolvedClassNames:F,resolvedStyles:z}=jh({classNames:i,styles:o,props:n}),[G,ee]=ms({value:c,defaultValue:f,onChange:u}),ce=B!==void 0&&M!==void 0,le=I.useRef(null),se=I.useRef(null),ge=I.useRef(0),be=(me,Xe)=>{Xe.source==="event"&&ee(RBe(me.floatValue)&&!IBe.test(me.value)&&!(V&&kBe.test(me.value))?me.floatValue:me.value),l==null||l(me,Xe)},ve=me=>{const Xe=String(me).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Xe?Math.max(0,(Xe[1]?Xe[1].length:0)-(Xe[2]?+Xe[2]:0)):0},Ye=me=>{le.current&&typeof me<"u"&&le.current.setSelectionRange(me,me)},Ue=I.useRef();Ue.current=()=>{let me;const Xe=ve(G),vt=ve(p),he=Math.max(Xe,vt),Te=10**he;if(typeof G!="number"||Number.isNaN(G))me=Cf(A,h,d);else if(d!==void 0){const He=(Math.round(G*Te)+Math.round(p*Te))/Te;me=He<=d?He:d}else me=(Math.round(G*Te)+Math.round(p*Te))/Te;const Le=me.toFixed(he);ee(parseFloat(Le)),l==null||l({floatValue:parseFloat(Le),formattedValue:Le,value:Le},{source:"increment"}),setTimeout(()=>{var He;return Ye((He=le.current)==null?void 0:He.value.length)},0)};const ht=I.useRef();ht.current=()=>{let me;const Xe=h!==void 0?h:$?Number.MIN_SAFE_INTEGER:0,vt=ve(G),he=ve(p),Te=Math.max(vt,he),Le=10**Te;if(typeof G!="number"||Number.isNaN(G))me=Cf(A,Xe,d);else{const lt=(Math.round(G*Le)-Math.round(p*Le))/Le;me=Xe!==void 0&&lt<Xe?Xe:lt}const He=me.toFixed(Te);ee(parseFloat(He)),l==null||l({floatValue:parseFloat(He),formattedValue:He,value:He},{source:"decrement"}),setTimeout(()=>{var lt;return Ye((lt=le.current)==null?void 0:lt.value.length)},0)};const Je=me=>{S==null||S(me),!(N||!q)&&(me.key==="ArrowUp"&&(me.preventDefault(),Ue.current()),me.key==="ArrowDown"&&(me.preventDefault(),ht.current()))},ke=me=>{if(E==null||E(me),me.key==="Backspace"){const Xe=le.current;Xe.selectionStart===0&&Xe.selectionStart===Xe.selectionEnd&&(me.preventDefault(),window.setTimeout(()=>Ye(0),0))}};k7(C,{increment:Ue.current,decrement:ht.current});const Ne=me=>{me?Ue.current():ht.current(),ge.current+=1},ze=me=>{if(Ne(me),ce){const Xe=typeof M=="number"?M:M(ge.current);se.current=window.setTimeout(()=>ze(me),Xe)}},ut=(me,Xe)=>{var vt;me.preventDefault(),(vt=le.current)==null||vt.focus(),Ne(Xe),ce&&(se.current=window.setTimeout(()=>ze(Xe),B))},Mt=()=>{se.current&&window.clearTimeout(se.current),se.current=null,ge.current=0},qe=T.jsxs("div",{...W("controls"),children:[T.jsx(po,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof G=="number"&&d!==void 0&&G>=d,mod:{direction:"up"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{ut(me,!0)},onPointerUp:Mt,onPointerLeave:Mt,children:T.jsx(WZ,{direction:"up"})}),T.jsx(po,{...W("control"),tabIndex:-1,"aria-hidden":!0,disabled:k||typeof G=="number"&&h!==void 0&&G<=h,mod:{direction:"down"},onMouseDown:me=>me.preventDefault(),onPointerDown:me=>{ut(me,!1)},onPointerUp:Mt,onPointerLeave:Mt,children:T.jsx(WZ,{direction:"down"})})]});return T.jsx(Vl,{component:ABe,allowNegative:$,className:Ni(I5.root,r),size:O,...U,readOnly:N,disabled:k,value:G,getInputRef:vo(t,le),onValueChange:be,rightSection:m||N?g:g||qe,classNames:F,styles:z,unstyled:s,__staticSelector:"NumberInput",decimalScale:_?w:0,onKeyDown:Je,onKeyDownCapture:ke,rightSectionPointerEvents:P??(k?"none":void 0),rightSectionWidth:j??`var(--ni-right-section-width-${O||"sm"})`,allowLeadingZeros:V,onBlur:me=>{if(b==null||b(me),v==="blur"&&typeof G=="number"&&Cf(G,h,d)!==G&&ee(Cf(G,h,d)),D&&typeof G=="string"){const Xe=G.replace(/^0+/,""),vt=parseFloat(Xe);ee(Number.isNaN(vt)?Xe:vt)}},isAllowed:me=>v==="strict"?y?y(me)&&GZ(me.floatValue,h,d):GZ(me.floatValue,h,d):y?y(me):!0})});tz.classes={...Vl.classes,...I5};tz.displayName="@mantine/core/NumberInput";const[DBe,Lge]=Uo("Progress.Root component was not found in tree");var oC={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const $Be={},nz=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Ae("ProgressLabel",$Be,e),u=Lge();return T.jsx(Ce,{ref:t,...u.getStyles("label",{className:r,style:i,classNames:n,styles:o}),...a})});nz.classes=oC;nz.displayName="@mantine/core/ProgressLabel";const OBe={},MBe=(e,{size:t,radius:n,transitionDuration:r})=>({root:{"--progress-size":dn(t,"progress-size"),"--progress-radius":n===void 0?void 0:ni(n),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}}),QD=Be((e,t)=>{const n=Ae("ProgressRoot",OBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,autoContrast:l,transitionDuration:c,...f}=n,d=It({name:"Progress",classes:oC,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:MBe});return T.jsx(DBe,{value:{getStyles:d,autoContrast:l},children:T.jsx(Ce,{ref:t,...d("root"),...f})})});QD.classes=oC;QD.displayName="@mantine/core/ProgressRoot";const LBe={withAria:!0},JD=Be((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,value:a,withAria:u,color:l,striped:c,animated:f,mod:d,...h}=Ae("ProgressSection",LBe,e),p=Lge(),m=zo(),g=u?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,"aria-valuetext":`${a}%`}:{};return T.jsx(Ce,{ref:t,...p.getStyles("section",{className:r,classNames:n,styles:o,style:i}),...h,...g,mod:[{striped:c||f,animated:f},d],__vars:{"--progress-section-width":`${a}%`,"--progress-section-color":ei(l,m),"--progress-label-color":T_(p.autoContrast,m)?$y({color:l,theme:m,autoContrast:p.autoContrast}):void 0}})});JD.classes=oC;JD.displayName="@mantine/core/ProgressSection";const FBe={},$_=Be((e,t)=>{const n=Ae("Progress",FBe,e),{value:r,classNames:i,styles:o,vars:s,color:a,striped:u,animated:l,"aria-label":c,...f}=n,{resolvedClassNames:d,resolvedStyles:h}=jh({classNames:i,styles:o,props:n});return T.jsx(QD,{ref:t,classNames:d,styles:h,vars:s,...f,children:T.jsx(JD,{value:r,color:a,striped:u,animated:l,"aria-label":c})})});$_.classes=oC;$_.displayName="@mantine/core/Progress";$_.Section=JD;$_.Root=QD;$_.Label=nz;const[jBe,Fge]=x_(),[BBe,UBe]=x_();var jge={card:"m_9dc8ae12"};const zBe={withBorder:!0},VBe=(e,{radius:t})=>({card:{"--card-radius":ni(t)}}),rz=Be((e,t)=>{const n=Ae("RadioCard",zBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,checked:l,mod:c,withBorder:f,value:d,onClick:h,name:p,onKeyDown:m,...g}=n,y=It({name:"RadioCard",classes:jge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:VBe,rootSelector:"card"}),{dir:v}=Bh(),b=Fge(),_=typeof l=="boolean"?l:(b==null?void 0:b.value)===d||!1,w=p||(b==null?void 0:b.name),S=E=>{if(m==null||m(E),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(E.nativeEvent.code)){E.preventDefault();const C=Array.from(document.querySelectorAll(`[role="radio"][name="${w||"__mantine"}"]`)),A=C.findIndex($=>$===E.target),k=A+1>=C.length?0:A+1,P=A-1<0?C.length-1:A-1;E.nativeEvent.code==="ArrowDown"&&(C[k].focus(),C[k].click()),E.nativeEvent.code==="ArrowUp"&&(C[P].focus(),C[P].click()),E.nativeEvent.code==="ArrowLeft"&&(C[v==="ltr"?P:k].focus(),C[v==="ltr"?P:k].click()),E.nativeEvent.code==="ArrowRight"&&(C[v==="ltr"?k:P].focus(),C[v==="ltr"?k:P].click())}};return T.jsx(BBe,{value:{checked:_},children:T.jsx(po,{ref:t,mod:[{"with-border":f,checked:_},c],...y("card"),...g,role:"radio","aria-checked":_,name:w,onClick:E=>{h==null||h(E),b==null||b.onChange(d||"")},onKeyDown:S})})});rz.displayName="@mantine/core/RadioCard";rz.classes=jge;const HBe={},iz=Be((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:u,readOnly:l,...c}=Ae("RadioGroup",HBe,e),f=Ta(u),[d,h]=ms({value:n,defaultValue:r,finalValue:"",onChange:i}),p=m=>!l&&h(typeof m=="string"?m:m.currentTarget.value);return T.jsx(jBe,{value:{value:d,onChange:p,size:o,name:f},children:T.jsx(ti.Wrapper,{size:o,ref:t,...s,...c,labelElement:"div",__staticSelector:"RadioGroup",children:T.jsx($U,{role:"radiogroup",children:a})})})});iz.classes=ti.Wrapper.classes;iz.displayName="@mantine/core/RadioGroup";function Bge({size:e,style:t,...n}){return T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ie(e),height:Ie(e),...t},"aria-hidden":!0,...n,children:T.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var Uge={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const qBe={icon:Bge},WBe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nd({color:n||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":dn(r,"radio-size"),"--radio-radius":t===void 0?void 0:ni(t),"--radio-color":o==="outline"?u:ei(n,e),"--radio-icon-size":dn(r,"radio-icon-size"),"--radio-icon-color":i?ei(i,e):T_(s,e)?$y({color:n,theme:e,autoContrast:s}):void 0}}},oz=Be((e,t)=>{const n=Ae("RadioIndicator",qBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,icon:l,radius:c,color:f,iconColor:d,autoContrast:h,checked:p,mod:m,variant:g,disabled:y,...v}=n,b=l,_=It({name:"RadioIndicator",classes:Uge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:WBe,rootSelector:"indicator"}),w=UBe(),S=typeof p=="boolean"?p:(w==null?void 0:w.checked)||!1;return T.jsx(Ce,{ref:t,..._("indicator",{variant:g}),variant:g,mod:[{checked:S,disabled:y},m],...v,children:T.jsx(b,{..._("icon")})})});oz.displayName="@mantine/core/RadioIndicator";oz.classes=Uge;var zge={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const GBe={labelPosition:"right"},YBe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=nd({color:r||e.primaryColor,theme:e}),u=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":dn(t,"radio-size"),"--radio-radius":n===void 0?void 0:ni(n),"--radio-color":o==="outline"?u:ei(r,e),"--radio-icon-color":i?ei(i,e):T_(s,e)?$y({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":dn(t,"radio-icon-size")}}},q0=Be((e,t)=>{const n=Ae("Radio",GBe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,id:l,size:c,label:f,labelPosition:d,description:h,error:p,radius:m,color:g,variant:y,disabled:v,wrapperProps:b,icon:_=Bge,rootRef:w,iconColor:S,onChange:E,mod:C,...A}=n,k=It({name:"Radio",classes:zge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:YBe}),P=Fge(),$=(P==null?void 0:P.size)??c,N=n.size?c:$,{styleProps:O,rest:j}=Oy(A),M=Ta(l),B=P?{checked:P.value===j.value,name:j.name??P.name,onChange:V=>{P.onChange(V),E==null||E(V)}}:{};return T.jsx(ND,{...k("root"),__staticSelector:"Radio",__stylesApiProps:n,id:M,size:N,labelPosition:d,label:f,description:h,error:p,disabled:v,classNames:r,styles:s,unstyled:a,"data-checked":B.checked||void 0,variant:y,ref:w,mod:C,...O,...b,children:T.jsxs(Ce,{...k("inner"),mod:{"label-position":d},children:[T.jsx(Ce,{...k("radio",{focusable:!0,variant:y}),onChange:E,...j,...B,component:"input",mod:{error:!!p},ref:t,id:M,disabled:v,type:"radio"}),T.jsx(_,{...k("icon"),"aria-hidden":!0})]})})});q0.classes=zge;q0.displayName="@mantine/core/Radio";q0.Group=iz;q0.Card=rz;q0.Indicator=oz;const KBe={duration:100,transition:"fade"};function XBe(e,t){return{...KBe,...t,...e}}function QBe({offset:e,position:t}){const[n,r]=I.useState(!1),i=I.useRef(),{x:o,y:s,elements:a,refs:u,update:l,placement:c}=eU({placement:t,middleware:[X7({crossAxis:!0,padding:5,rootBoundary:"document"})]}),f=c.includes("right")?e:t.includes("left")?e*-1:0,d=c.includes("bottom")?e:t.includes("top")?e*-1:0,h=I.useCallback(({clientX:p,clientY:m})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:m,left:p+f,top:m+d,right:p,bottom:m}}})},[a.reference]);return I.useEffect(()=>{if(u.floating.current){const p=i.current;p.addEventListener("mousemove",h);const m=oh(u.floating.current);return m.forEach(g=>{g.addEventListener("scroll",l)}),()=>{p.removeEventListener("mousemove",h),m.forEach(g=>{g.removeEventListener("scroll",l)})}}},[a.reference,u.floating.current,l,h,n]),{handleMouseMove:h,x:o,y:s,opened:n,setOpened:r,boundaryRef:i,floating:u.setFloating}}var ZD={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const JBe={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Bl("popover")},ZBe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ni(t),"--tooltip-bg":n?ei(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),sz=Be((e,t)=>{const n=Ae("TooltipFloating",JBe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:u,styles:l,unstyled:c,radius:f,color:d,label:h,offset:p,position:m,multiline:g,zIndex:y,disabled:v,variant:b,vars:_,portalProps:w,...S}=n,E=zo(),C=It({name:"TooltipFloating",props:n,classes:ZD,className:a,style:s,classNames:u,styles:l,unstyled:c,rootSelector:"tooltip",vars:_,varsResolver:ZBe}),{handleMouseMove:A,x:k,y:P,opened:$,boundaryRef:N,floating:O,setOpened:j}=QBe({offset:p,position:m});if(!Xm(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const M=vo(N,r.ref,t),B=q=>{var D,U;(U=(D=r.props).onMouseEnter)==null||U.call(D,q),A(q),j(!0)},V=q=>{var D,U;(U=(D=r.props).onMouseLeave)==null||U.call(D,q),j(!1)};return T.jsxs(T.Fragment,{children:[T.jsx(JS,{...w,withinPortal:o,children:T.jsx(Ce,{...S,...C("tooltip",{style:{...M7(s,E),zIndex:y,display:!v&&$?"block":"none",top:(P&&Math.round(P))??"",left:(k&&Math.round(k))??""}}),variant:b,ref:O,mod:{multiline:g},children:h})}),I.cloneElement(r,{...r.props,[i]:M,onMouseEnter:B,onMouseLeave:V})]})});sz.classes=ZD;sz.displayName="@mantine/core/TooltipFloating";const Vge=I.createContext(!1),e7e=Vge.Provider,t7e=()=>I.useContext(Vge),n7e={openDelay:0,closeDelay:0};function Hge(e){const{openDelay:t,closeDelay:n,children:r}=Ae("TooltipGroup",n7e,e);return T.jsx(e7e,{value:!0,children:T.jsx(s5e,{delay:{open:t,close:n},children:r})})}Hge.displayName="@mantine/core/TooltipGroup";function r7e(e){var S,E,C;const[t,n]=I.useState(!1),i=typeof e.opened=="boolean"?e.opened:t,o=t7e(),s=Ta(),{delay:a,currentId:u,setCurrentId:l}=Pme(),c=I.useCallback(A=>{n(A),A&&l(s)},[l,s]),{x:f,y:d,context:h,refs:p,update:m,placement:g,middlewareData:{arrow:{x:y,y:v}={}}}=eU({strategy:e.strategy,placement:e.position,open:i,onOpenChange:c,middleware:[Cme(e.offset),X7({padding:8}),x5(),Ame({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[T5()]:[]]}),{getReferenceProps:b,getFloatingProps:_}=h5e([o5e(h,{enabled:(S=e.events)==null?void 0:S.hover,delay:o?a:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((E=e.events)!=null&&E.touch)}),d5e(h,{enabled:(C=e.events)==null?void 0:C.focus,visibleOnly:!0}),m5e(h,{role:"tooltip"}),c5e(h,{enabled:typeof e.opened>"u"}),a5e(h,{id:s})]);Fme({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:p,update:m}}),Eh(()=>{var A;(A=e.onPositionChange)==null||A.call(e,g)},[g]);const w=i&&u&&u!==s;return{x:f,y:d,arrowX:y,arrowY:v,reference:p.setReference,floating:p.setFloating,getFloatingProps:_,getReferenceProps:b,isGroupPhase:w,opened:i,placement:g}}const YZ={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Bl("popover"),positionDependencies:[]},i7e=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:ni(t),"--tooltip-bg":n?ei(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),uo=Be((e,t)=>{const n=Ae("Tooltip",YZ,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:u,onPositionChange:l,opened:c,withinPortal:f,radius:d,color:h,classNames:p,styles:m,unstyled:g,style:y,className:v,withArrow:b,arrowSize:_,arrowOffset:w,arrowRadius:S,arrowPosition:E,offset:C,transitionProps:A,multiline:k,events:P,zIndex:$,disabled:N,positionDependencies:O,onClick:j,onMouseEnter:M,onMouseLeave:B,inline:V,variant:q,keepMounted:D,vars:U,portalProps:W,mod:F,floatingStrategy:z,...G}=Ae("Tooltip",YZ,n),{dir:ee}=Bh(),ce=I.useRef(null),le=r7e({position:Nme(ee,i),closeDelay:u,openDelay:a,onPositionChange:l,opened:c,events:P,arrowRef:ce,arrowOffset:w,offset:typeof C=="number"?C+(b?_/2:0):C,positionDependencies:[...O,r],inline:V,strategy:z}),se=It({name:"Tooltip",props:n,classes:ZD,className:v,style:y,classNames:p,styles:m,unstyled:g,rootSelector:"tooltip",vars:U,varsResolver:i7e});if(!Xm(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ge=vo(le.reference,r.ref,t),be=XBe(A,{duration:100,transition:"fade"});return T.jsxs(T.Fragment,{children:[T.jsx(JS,{...W,withinPortal:f,children:T.jsx(zh,{...be,keepMounted:D,mounted:!N&&!!le.opened,duration:le.isGroupPhase?10:be.duration,children:ve=>T.jsxs(Ce,{...G,variant:q,mod:[{multiline:k},F],...le.getFloatingProps({ref:le.floating,className:se("tooltip").className,style:{...se("tooltip").style,...ve,zIndex:$,top:le.y??0,left:le.x??0}}),children:[s,T.jsx(tU,{ref:ce,arrowX:le.arrowX,arrowY:le.arrowY,visible:b,position:le.placement,arrowSize:_,arrowOffset:w,arrowRadius:S,arrowPosition:E,...se("arrow")})]})})}),I.cloneElement(r,le.getReferenceProps({onClick:j,onMouseEnter:M,onMouseLeave:B,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[o]:ge,className:Ni(v,r.props.className),...r.props}))]})});uo.classes=ZD;uo.displayName="@mantine/core/Tooltip";uo.Floating=sz;uo.Group=Hge;const o7e={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},sC=Be((e,t)=>{const n=Ae("Select",o7e,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:u,onDropdownClose:l,onDropdownOpen:c,onFocus:f,onBlur:d,onClick:h,onChange:p,data:m,value:g,defaultValue:y,selectFirstOptionOnChange:v,onOptionSubmit:b,comboboxProps:_,readOnly:w,disabled:S,filter:E,limit:C,withScrollArea:A,maxDropdownHeight:k,size:P,searchable:$,rightSection:N,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:M,name:B,form:V,searchValue:q,defaultSearchValue:D,onSearchChange:U,allowDeselect:W,error:F,rightSectionPointerEvents:z,id:G,clearable:ee,clearButtonProps:ce,hiddenInputProps:le,renderOption:se,onClear:ge,autoComplete:be,scrollAreaProps:ve,...Ye}=n,Ue=I.useMemo(()=>ege(m),[m]),ht=I.useMemo(()=>wU(Ue),[Ue]),Je=Ta(G),[ke,Ne,ze]=ms({value:g,defaultValue:y,finalValue:null,onChange:p}),ut=typeof ke=="string"?ht[ke]:void 0,[Mt,qe]=ms({value:q,defaultValue:D,finalValue:ut?ut.label:"",onChange:U}),me=NU({opened:a,defaultOpened:u,onDropdownOpen:()=>{c==null||c(),me.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{l==null||l(),me.resetSelectedOption()}}),{resolvedClassNames:Xe,resolvedStyles:vt}=jh({props:n,styles:i,classNames:r});I.useEffect(()=>{v&&me.selectFirstOption()},[v,ke]),I.useEffect(()=>{g===null&&qe(""),typeof g=="string"&&ut&&qe(ut.label)},[g,ut]);const he=ee&&!!ke&&!S&&!w&&T.jsx(Hn.ClearButton,{size:P,...ce,onClear:()=>{Ne(null,null),qe(""),ge==null||ge()}});return T.jsxs(T.Fragment,{children:[T.jsxs(Hn,{store:me,__staticSelector:"Select",classNames:Xe,styles:vt,unstyled:o,readOnly:w,onOptionSubmit:Te=>{b==null||b(Te);const Le=W&&ht[Te].value===ke?null:ht[Te],He=Le?Le.value:null;Ne(He,Le),!ze&&qe(typeof He=="string"&&(Le==null?void 0:Le.label)||""),me.closeDropdown()},size:P,..._,children:[T.jsx(Hn.Target,{targetType:$?"input":"button",autoComplete:be,children:T.jsx(Vl,{id:Je,ref:t,rightSection:N||he||T.jsx(Hn.Chevron,{size:P,error:F,unstyled:o}),rightSectionPointerEvents:z||(he?"all":"none"),...Ye,size:P,__staticSelector:"Select",disabled:S,readOnly:w||!$,value:Mt,onChange:Te=>{qe(Te.currentTarget.value),me.openDropdown(),v&&me.selectFirstOption()},onFocus:Te=>{$&&me.openDropdown(),f==null||f(Te)},onBlur:Te=>{var Le;$&&me.closeDropdown(),qe(ke!=null&&((Le=ht[ke])==null?void 0:Le.label)||""),d==null||d(Te)},onClick:Te=>{$?me.openDropdown():me.toggleDropdown(),h==null||h(Te)},classNames:Xe,styles:vt,unstyled:o,pointer:!$,error:F})}),T.jsx(vge,{data:Ue,hidden:w||S,filter:E,search:Mt,limit:C,hiddenWhenEmpty:!$||!M,withScrollArea:A,maxDropdownHeight:k,filterOptions:$&&(ut==null?void 0:ut.label)!==Mt,value:ke,checkIconPosition:O,withCheckIcon:j,nothingFoundMessage:M,unstyled:o,labelId:Ye.label?`${Je}-label`:void 0,"aria-label":Ye.label?void 0:Ye["aria-label"],renderOption:se,scrollAreaProps:ve})]}),T.jsx(Hn.HiddenInput,{value:ke,name:B,form:V,disabled:S,...le})]})});sC.classes={...Vl.classes,...Hn.classes};sC.displayName="@mantine/core/Select";const[s7e,e$]=Uo("SliderProvider was not found in tree"),qge=I.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:u}=e$();return T.jsx(Ce,{tabIndex:-1,variant:n,size:e,ref:a,...u("root"),...s})});qge.displayName="@mantine/core/SliderRoot";const Wge=I.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:u,labelAlwaysOn:l,thumbLabel:c,onFocus:f,onBlur:d,showLabelOnHover:h,isHovered:p,children:m=null,disabled:g},y)=>{const{getStyles:v}=e$(),[b,_]=I.useState(!1),w=l||o||b||h&&p;return T.jsxs(Ce,{tabIndex:0,role:"slider","aria-label":c,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:y,__vars:{"--slider-thumb-offset":`${r}%`},...v("thumb",{focusable:!0}),mod:{dragging:o,disabled:g},onFocus:()=>{_(!0),typeof f=="function"&&f()},onBlur:()=>{_(!1),typeof d=="function"&&d()},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:S=>S.stopPropagation(),children:[m,T.jsx(zh,{mounted:i!=null&&!!w,transition:"fade",duration:0,...u,children:S=>T.jsx("div",{...v("label",{style:S}),children:i})})]})});Wge.displayName="@mantine/core/SliderThumb";function Gge({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function a7e({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Yge({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=e$();if(!e)return null;const u=e.map((l,c)=>I.createElement(Ce,{...a("markWrapper"),__vars:{"--mark-offset":`${Gge({value:l.value,min:t,max:n})}%`},key:c},T.jsx(Ce,{...a("mark"),mod:{filled:a7e({mark:l,value:i,offset:o,inverted:s}),disabled:r}}),l.label&&T.jsx("div",{...a("markLabel"),children:l.label})));return T.jsx("div",{children:u})}Yge.displayName="@mantine/core/SliderMarks";function Kge({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:u}=e$();return T.jsx(T.Fragment,{children:T.jsx(Ce,{...u("trackContainer"),mod:{disabled:r},...s,children:T.jsxs(Ce,{...u("track"),mod:{inverted:o,disabled:r},children:[T.jsx(Ce,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...u("bar")}),t,T.jsx(Yge,{...a,offset:i,disabled:r,inverted:o})]})})})}Kge.displayName="@mantine/core/SliderTrack";function u7e({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),u=(a!==0?Math.round(a/i)*i:0)+n,l=Math.max(u,n);return o!==void 0?Number(l.toFixed(o)):l}function dA(e,t){return parseFloat(e.toFixed(t))}function l7e(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}var Xge={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const c7e={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},f7e=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":dn(t,"slider-size"),"--slider-color":n?ei(n,e):void 0,"--slider-radius":i===void 0?void 0:ni(i),"--slider-thumb-size":r!==void 0?Ie(r):"calc(var(--slider-size) * 2)"}}),az=Be((e,t)=>{const n=Ae("Slider",c7e,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:u,min:l,max:c,step:f,precision:d,defaultValue:h,name:p,marks:m,label:g,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:_,thumbChildren:w,disabled:S,unstyled:E,scale:C,inverted:A,className:k,style:P,vars:$,hiddenInputProps:N,...O}=n,j=It({name:"Slider",props:n,classes:Xge,classNames:r,className:k,styles:i,style:P,vars:$,varsResolver:f7e,unstyled:E}),{dir:M}=Bh(),[B,V]=I.useState(!1),[q,D]=ms({value:typeof o=="number"?Cf(o,l,c):o,defaultValue:typeof h=="number"?Cf(h,l,c):h,finalValue:Cf(0,l,c),onChange:s}),U=I.useRef(q),W=I.useRef(),F=I.useRef(),z=Gge({value:q,min:l,max:c}),G=C(q),ee=typeof g=="function"?g(G):g,ce=d??l7e(f),le=I.useCallback(({x:ve})=>{if(!S){const Ye=u7e({value:ve,min:l,max:c,step:f,precision:ce});D(Ye),U.current=Ye}},[S,l,c,f,ce,D]),{ref:se,active:ge}=h6e(le,{onScrubEnd:()=>a==null?void 0:a(U.current)},M),be=ve=>{var Ye,Ue,ht,Je,ke,Ne;if(!S)switch(ve.key){case"ArrowUp":{ve.preventDefault(),(Ye=F.current)==null||Ye.focus();const ze=dA(Math.min(Math.max(q+f,l),c),ce);D(ze),a==null||a(ze);break}case"ArrowRight":{ve.preventDefault(),(Ue=F.current)==null||Ue.focus();const ze=dA(Math.min(Math.max(M==="rtl"?q-f:q+f,l),c),ce);D(ze),a==null||a(ze);break}case"ArrowDown":{ve.preventDefault(),(ht=F.current)==null||ht.focus();const ze=dA(Math.min(Math.max(q-f,l),c),ce);D(ze),a==null||a(ze);break}case"ArrowLeft":{ve.preventDefault(),(Je=F.current)==null||Je.focus();const ze=dA(Math.min(Math.max(M==="rtl"?q+f:q-f,l),c),ce);D(ze),a==null||a(ze);break}case"Home":{ve.preventDefault(),(ke=F.current)==null||ke.focus(),D(l),a==null||a(l);break}case"End":{ve.preventDefault(),(Ne=F.current)==null||Ne.focus(),D(c),a==null||a(c);break}}};return T.jsx(s7e,{value:{getStyles:j},children:T.jsxs(qge,{...O,ref:vo(t,W),onKeyDownCapture:be,onMouseDownCapture:()=>{var ve;return(ve=W.current)==null?void 0:ve.focus()},size:u,disabled:S,children:[T.jsx(Kge,{inverted:A,offset:0,filled:z,marks:m,min:l,max:c,value:G,disabled:S,containerProps:{ref:se,onMouseEnter:_?()=>V(!0):void 0,onMouseLeave:_?()=>V(!1):void 0},children:T.jsx(Wge,{max:c,min:l,value:G,position:z,dragging:ge,label:ee,ref:F,labelTransitionProps:y,labelAlwaysOn:v,thumbLabel:b,showLabelOnHover:_,isHovered:B,disabled:S,children:w})}),T.jsx("input",{type:"hidden",name:p,value:G,...N})]})})});az.classes=Xge;az.displayName="@mantine/core/Slider";const d7e={},xl=Be((e,t)=>{const{w:n,h:r,miw:i,mih:o,...s}=Ae("Space",d7e,e);return T.jsx(Ce,{ref:t,...s,w:n,miw:i??n,h:r,mih:o??r})});xl.displayName="@mantine/core/Space";var Qge={root:"m_559cce2d",content:"m_b912df4e",control:"m_b9131032"};const h7e={maxHeight:100,initialState:!1},p7e=(e,{transitionDuration:t})=>({root:{"--spoiler-transition-duration":t!==void 0?`${t}ms`:void 0}}),uz=Be((e,t)=>{const n=Ae("Spoiler",h7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,initialState:l,maxHeight:c,hideLabel:f,showLabel:d,children:h,controlRef:p,transitionDuration:m,id:g,...y}=n,v=It({name:"Spoiler",classes:Qge,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:p7e}),b=Ta(g),_=`${b}-region`,[w,S]=I.useState(l),{ref:E,height:C}=m6e(),A=w?f:d,k=A!==null&&c<C;return T.jsxs(Ce,{...v("root"),id:b,ref:t,"data-has-spoiler":k||void 0,...y,children:[k&&T.jsx(k_,{component:"button",type:"button",ref:p,onClick:()=>S(P=>!P),"aria-expanded":w,"aria-controls":_,...v("control"),children:A}),T.jsx("div",{...v("content",{style:{maxHeight:w?C?Ie(C):void 0:Ie(c)}}),"data-reduce-motion":!0,role:"region",id:_,children:T.jsx("div",{ref:E,children:h})})]})});uz.classes=Qge;uz.displayName="@mantine/core/Spoiler";var Jge={root:"m_6d731127"};const m7e={gap:"md",align:"stretch",justify:"flex-start"},g7e=(e,{gap:t,align:n,justify:r})=>({root:{"--stack-gap":kl(t),"--stack-align":n,"--stack-justify":r}}),aC=Be((e,t)=>{const n=Ae("Stack",m7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,align:l,justify:c,gap:f,variant:d,...h}=n,p=It({name:"Stack",props:n,classes:Jge,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:g7e});return T.jsx(Ce,{ref:t,...p("root"),variant:d,...h})});aC.classes=Jge;aC.displayName="@mantine/core/Stack";const Zge=I.createContext(null),y7e=Zge.Provider,v7e=()=>I.useContext(Zge),b7e={},lz=Be((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:u,...l}=Ae("SwitchGroup",b7e,e),[c,f]=ms({value:n,defaultValue:r,finalValue:[],onChange:i}),d=h=>{const p=h.currentTarget.value;!u&&f(c.includes(p)?c.filter(m=>m!==p):[...c,p])};return T.jsx(y7e,{value:{value:c,onChange:d,size:o},children:T.jsx(ti.Wrapper,{size:o,ref:t,...s,...l,labelElement:"div",__staticSelector:"SwitchGroup",children:T.jsx($U,{role:"group",children:a})})})});lz.classes=ti.Wrapper.classes;lz.displayName="@mantine/core/SwitchGroup";var e0e={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const _7e={labelPosition:"right"},w7e=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:ni(t),"--switch-height":dn(r,"switch-height"),"--switch-width":dn(r,"switch-width"),"--switch-thumb-size":dn(r,"switch-thumb-size"),"--switch-label-font-size":dn(r,"switch-label-font-size"),"--switch-track-label-padding":dn(r,"switch-track-label-padding"),"--switch-color":n?ei(n,e):void 0}}),H1=Be((e,t)=>{const n=Ae("Switch",_7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,color:l,label:c,offLabel:f,onLabel:d,id:h,size:p,radius:m,wrapperProps:g,children:y,thumbIcon:v,checked:b,defaultChecked:_,onChange:w,labelPosition:S,description:E,error:C,disabled:A,variant:k,rootRef:P,mod:$,...N}=n,O=v7e(),j=p||(O==null?void 0:O.size),M=It({name:"Switch",props:n,classes:e0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:w7e}),{styleProps:B,rest:V}=Oy(N),q=Ta(h),D=O?{checked:O.value.includes(V.value),onChange:O.onChange}:{},[U,W]=ms({value:D.checked??b,defaultValue:_,finalValue:!1});return T.jsxs(ND,{...M("root"),__staticSelector:"Switch",__stylesApiProps:n,id:q,size:j,labelPosition:S,label:c,description:E,error:C,disabled:A,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":D.checked||void 0,variant:k,ref:P,mod:$,...B,...g,children:[T.jsx("input",{...V,disabled:A,checked:U,onChange:F=>{var z;O?(z=D.onChange)==null||z.call(D,F):w==null||w(F),W(F.currentTarget.checked)},id:q,ref:t,type:"checkbox",role:"switch",...M("input")}),T.jsxs(Ce,{"aria-hidden":"true",mod:{error:C,"label-position":S},...M("track"),children:[T.jsx(Ce,{component:"span",mod:"reduce-motion",...M("thumb"),children:v}),T.jsx("span",{...M("trackLabel"),children:U?d:f})]})]})});H1.classes={...e0e,...age};H1.displayName="@mantine/core/Switch";H1.Group=lz;const[E7e,x7e]=Uo("Table component was not found in the tree");var uC={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function T7e(e,t){if(!t)return;const n={};return t.columnBorder&&e.withColumnBorders&&(n["data-with-column-border"]=!0),t.rowBorder&&e.withRowBorders&&(n["data-with-row-border"]=!0),t.striped&&e.striped&&(n["data-striped"]=e.striped),t.highlightOnHover&&e.highlightOnHover&&(n["data-hover"]=!0),t.captionSide&&e.captionSide&&(n["data-side"]=e.captionSide),t.stickyHeader&&e.stickyHeader&&(n["data-sticky"]=!0),n}function By(e,t){const n=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,r=Be((i,o)=>{const s=Ae(n,{},i),{classNames:a,className:u,style:l,styles:c,...f}=s,d=x7e();return T.jsx(Ce,{component:e,ref:o,...T7e(d,t),...d.getStyles(e,{className:u,classNames:a,style:l,styles:c,props:s}),...f})});return r.displayName=`@mantine/core/${n}`,r.classes=uC,r}const k5=By("th",{columnBorder:!0}),t0e=By("td",{columnBorder:!0}),QI=By("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),n0e=By("thead",{stickyHeader:!0}),r0e=By("tbody"),i0e=By("tfoot"),o0e=By("caption",{captionSide:!0});function cz({data:e}){return T.jsxs(T.Fragment,{children:[e.caption&&T.jsx(o0e,{children:e.caption}),e.head&&T.jsx(n0e,{children:T.jsx(QI,{children:e.head.map((t,n)=>T.jsx(k5,{children:t},n))})}),e.body&&T.jsx(r0e,{children:e.body.map((t,n)=>T.jsx(QI,{children:t.map((r,i)=>T.jsx(t0e,{children:r},i))},n))}),e.foot&&T.jsx(i0e,{children:T.jsx(QI,{children:e.foot.map((t,n)=>T.jsx(k5,{children:t},n))})})]})}cz.displayName="@mantine/core/TableDataRenderer";const S7e={type:"scrollarea"},C7e=(e,{minWidth:t,type:n})=>({scrollContainer:{"--table-min-width":Ie(t),"--table-overflow":n==="native"?"auto":void 0}}),fz=Be((e,t)=>{const n=Ae("TableScrollContainer",S7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,children:l,minWidth:c,type:f,...d}=n,h=It({name:"TableScrollContainer",classes:uC,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:C7e,rootSelector:"scrollContainer"});return T.jsx(Ce,{component:f==="scrollarea"?S_:"div",...f==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...h("scrollContainer"),...d,children:T.jsx("div",{...h("scrollContainerInner"),children:l})})});fz.classes=uC;fz.displayName="@mantine/core/TableScrollContainer";const A7e={withRowBorders:!0,verticalSpacing:7},I7e=(e,{layout:t,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:u,highlightOnHover:l,stickyHeaderOffset:c,stickyHeader:f})=>({table:{"--table-layout":t,"--table-caption-side":n,"--table-horizontal-spacing":kl(r),"--table-vertical-spacing":kl(i),"--table-border-color":o?ei(o,e):void 0,"--table-striped-color":u&&s?ei(s,e):void 0,"--table-highlight-on-hover-color":l&&a?ei(a,e):void 0,"--table-sticky-header-offset":f?Ie(c):void 0}}),An=Be((e,t)=>{const n=Ae("Table",A7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,horizontalSpacing:l,verticalSpacing:c,captionSide:f,stripedColor:d,highlightOnHoverColor:h,striped:p,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,withTableBorder:v,borderColor:b,layout:_,variant:w,data:S,children:E,stickyHeader:C,stickyHeaderOffset:A,mod:k,...P}=n,$=It({name:"Table",props:n,className:i,style:o,classes:uC,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:u,varsResolver:I7e});return T.jsx(E7e,{value:{getStyles:$,stickyHeader:C,striped:p===!0?"odd":p||void 0,highlightOnHover:m,withColumnBorders:g,withRowBorders:y,captionSide:f||"bottom"},children:T.jsx(Ce,{component:"table",variant:w,ref:t,mod:[{"data-with-table-border":v},k],...$("table"),...P,children:E||!!S&&T.jsx(cz,{data:S})})})});An.classes=uC;An.displayName="@mantine/core/Table";An.Td=t0e;An.Th=k5;An.Tr=QI;An.Thead=n0e;An.Tbody=r0e;An.Tfoot=i0e;An.Caption=o0e;An.ScrollContainer=fz;An.DataRenderer=cz;const[k7e,dz]=Uo("Tabs component was not found in the tree");var lC={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const R7e={},hz=Be((e,t)=>{const n=Ae("TabsList",R7e,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:u,style:l,mod:c,...f}=n,d=dz();return T.jsx(Ce,{...f,...d.getStyles("list",{className:i,style:l,classNames:a,styles:u,props:n,variant:d.variant}),ref:t,role:"tablist",variant:d.variant,mod:[{grow:o,orientation:d.orientation,placement:d.orientation==="vertical"&&d.placement,inverted:d.inverted},c],"aria-orientation":d.orientation,__vars:{"--tabs-justify":s},children:r})});hz.classes=lC;hz.displayName="@mantine/core/TabsList";const P7e={},pz=Be((e,t)=>{const n=Ae("TabsPanel",P7e,e),{children:r,className:i,value:o,classNames:s,styles:a,style:u,mod:l,...c}=n,f=dz(),d=f.value===o,h=f.keepMounted||n.keepMounted||d?r:null;return T.jsx(Ce,{...c,...f.getStyles("panel",{className:i,classNames:s,styles:a,style:[u,d?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:f.orientation},l],role:"tabpanel",id:f.getPanelId(o),"aria-labelledby":f.getTabId(o),children:h})});pz.classes=lC;pz.displayName="@mantine/core/TabsPanel";const N7e={},mz=Be((e,t)=>{const n=Ae("TabsTab",N7e,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:u,onKeyDown:l,disabled:c,color:f,style:d,classNames:h,styles:p,vars:m,mod:g,...y}=n,v=zo(),{dir:b}=Bh(),_=dz(),w=a===_.value,S=C=>{_.onChange(_.allowTabDeactivation&&a===_.value?null:a),u==null||u(C)},E={classNames:h,styles:p,props:n};return T.jsxs(po,{...y,..._.getStyles("tab",{className:r,style:d,variant:_.variant,...E}),disabled:c,unstyled:_.unstyled,variant:_.variant,mod:[{active:w,disabled:c,orientation:_.orientation,inverted:_.inverted,placement:_.orientation==="vertical"&&_.placement},g],ref:t,role:"tab",id:_.getTabId(a),"aria-selected":w,tabIndex:w||_.value===null?0:-1,"aria-controls":_.getPanelId(a),onClick:S,__vars:{"--tabs-color":f?ei(f,v):void 0},onKeyDown:C7({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:_.activateTabWithKeyboard,loop:_.loop,orientation:_.orientation||"horizontal",dir:b,onKeyDown:l}),children:[s&&T.jsx("span",{..._.getStyles("tabSection",E),"data-position":"left",children:s}),i&&T.jsx("span",{..._.getStyles("tabLabel",E),children:i}),o&&T.jsx("span",{..._.getStyles("tabSection",E),"data-position":"right",children:o})]})});mz.classes=lC;mz.displayName="@mantine/core/TabsTab";const KZ="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",D7e={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},$7e=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":ni(t),"--tabs-color":ei(n,e),"--tabs-text-color":T_(r,e)?$y({color:n,theme:e,autoContrast:r}):void 0}}),ta=Be((e,t)=>{const n=Ae("Tabs",D7e,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:u,id:l,activateTabWithKeyboard:c,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,placement:g,keepMounted:y,classNames:v,styles:b,unstyled:_,className:w,style:S,vars:E,autoContrast:C,mod:A,...k}=n,P=Ta(l),[$,N]=ms({value:i,defaultValue:r,finalValue:null,onChange:o}),O=It({name:"Tabs",props:n,classes:lC,className:w,style:S,classNames:v,styles:b,unstyled:_,vars:E,varsResolver:$7e});return T.jsx(k7e,{value:{placement:g,value:$,orientation:s,id:P,loop:u,activateTabWithKeyboard:c,getTabId:yR(`${P}-tab`,KZ),getPanelId:yR(`${P}-panel`,KZ),onChange:N,allowTabDeactivation:f,variant:d,color:h,radius:p,inverted:m,keepMounted:y,unstyled:_,getStyles:O},children:T.jsx(Ce,{ref:t,id:P,variant:d,mod:[{orientation:s,inverted:s==="horizontal"&&m,placement:s==="vertical"&&g},A],...O("root"),...k,children:a})})});ta.classes=lC;ta.displayName="@mantine/core/Tabs";ta.Tab=mz;ta.Panel=pz;ta.List=hz;const O7e={},T0=Be((e,t)=>{const n=Ae("TextInput",O7e,e);return T.jsx(Vl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});T0.classes=Vl.classes;T0.displayName="@mantine/core/TextInput";const M7e=["h1","h2","h3","h4","h5","h6"];function L7e(e,t){const n=t!==void 0?t:`h${e}`;return M7e.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:Ie(n),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var s0e={root:"m_8a5d1357"};const F7e={order:1},j7e=(e,{order:t,size:n,lineClamp:r,textWrap:i})=>{const o=L7e(t,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},yi=Be((e,t)=>{const n=Ae("Title",F7e,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:u,vars:l,size:c,variant:f,lineClamp:d,textWrap:h,mod:p,...m}=n,g=It({name:"Title",props:n,classes:s0e,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:j7e});return[1,2,3,4,5,6].includes(u)?T.jsx(Ce,{...g("root"),component:`h${u}`,variant:f,ref:t,mod:[{order:u,"data-line-clamp":typeof d=="number"},p],size:c,...m}):null});yi.classes=s0e;yi.displayName="@mantine/core/Title";const a0e=I.createContext({storageEngine:void 0,setStorageEngine:()=>{}}),bo=()=>I.useContext(a0e);function B7e({children:e}){const[t,n]=ue.useState(void 0),r=ue.useMemo(()=>({storageEngine:t,setStorageEngine:n}),[t]);return T.jsx(a0e.Provider,{value:r,children:e})}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zT.apply(this,arguments)}var Lp;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lp||(Lp={}));const XZ="popstate";function U7e(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return R5("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:l0e(i)}return V7e(t,n,null,e)}function Hi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function u0e(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z7e(){return Math.random().toString(36).substr(2,8)}function QZ(e,t){return{usr:e.state,key:e.key,idx:t}}function R5(e,t,n,r){return n===void 0&&(n=null),zT({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?O_(t):t,{state:n,key:t&&t.key||r||z7e()})}function l0e(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function O_(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V7e(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Lp.Pop,u=null,l=c();l==null&&(l=0,s.replaceState(zT({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Lp.Pop;let g=c(),y=g==null?null:g-l;l=g,u&&u({action:a,location:m.location,delta:y})}function d(g,y){a=Lp.Push;let v=R5(m.location,g,y);l=c()+1;let b=QZ(v,l),_=m.createHref(v);try{s.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}o&&u&&u({action:a,location:m.location,delta:1})}function h(g,y){a=Lp.Replace;let v=R5(m.location,g,y);l=c();let b=QZ(v,l),_=m.createHref(v);s.replaceState(b,"",_),o&&u&&u({action:a,location:m.location,delta:0})}function p(g){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof g=="string"?g:l0e(g);return v=v.replace(/ $/,"%20"),Hi(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let m={get action(){return a},get location(){return e(i,s)},listen(g){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(XZ,f),u=g,()=>{i.removeEventListener(XZ,f),u=null}},createHref(g){return t(i,g)},createURL:p,encodeLocation(g){let y=p(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(g){return s.go(g)}};return m}var JZ;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(JZ||(JZ={}));function H7e(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?O_(t):t,i=d0e(r.pathname||"/",n);if(i==null)return null;let o=c0e(e);q7e(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let u=rUe(i);s=eUe(o[a],u)}return s}function c0e(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Hi(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=im([r,u.relativePath]),c=n.concat(u);o.children&&o.children.length>0&&(Hi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),c0e(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:J7e(l,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of f0e(o.path))i(o,s,u)}),t}function f0e(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=f0e(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function q7e(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z7e(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const W7e=/^:[\w-]+$/,G7e=3,Y7e=2,K7e=1,X7e=10,Q7e=-2,ZZ=e=>e==="*";function J7e(e,t){let n=e.split("/"),r=n.length;return n.some(ZZ)&&(r+=Q7e),t&&(r+=Y7e),n.filter(i=>!ZZ(i)).reduce((i,o)=>i+(W7e.test(o)?G7e:o===""?K7e:X7e),r)}function Z7e(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function eUe(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],u=s===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=tUe({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:im([i,c.pathname]),pathnameBase:aUe(im([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=im([i,c.pathnameBase]))}return o}function tUe(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nUe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let m=a[f]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function nUe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),u0e(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function rUe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return u0e(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function d0e(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iUe(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?O_(e):e;return{pathname:n?n.startsWith("/")?n:oUe(n,t):t,search:uUe(r),hash:lUe(i)}}function oUe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function TL(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sUe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gz(e,t){let n=sUe(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yz(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=O_(e):(i=zT({},e),Hi(!i.pathname||!i.pathname.includes("?"),TL("?","pathname","search",i)),Hi(!i.pathname||!i.pathname.includes("#"),TL("#","pathname","hash",i)),Hi(!i.search||!i.search.includes("#"),TL("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?t[f]:"/"}let u=iUe(i,a),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const im=e=>e.join("/").replace(/\/\/+/g,"/"),aUe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uUe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lUe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cUe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const h0e=["post","put","patch","delete"];new Set(h0e);const fUe=["get",...h0e];new Set(fUe);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VT.apply(this,arguments)}const vz=I.createContext(null),dUe=I.createContext(null),Uy=I.createContext(null),t$=I.createContext(null),id=I.createContext({outlet:null,matches:[],isDataRoute:!1}),p0e=I.createContext(null);function hUe(e,t){let{relative:n}={};M_()||Hi(!1);let{basename:r,navigator:i}=I.useContext(Uy),{hash:o,pathname:s,search:a}=yUe(e,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:im([r,s])),i.createHref({pathname:u,search:a,hash:o})}function M_(){return I.useContext(t$)!=null}function zy(){return M_()||Hi(!1),I.useContext(t$).location}function m0e(e){I.useContext(Uy).static||I.useLayoutEffect(e)}function eg(){let{isDataRoute:e}=I.useContext(id);return e?IUe():pUe()}function pUe(){M_()||Hi(!1);let e=I.useContext(vz),{basename:t,future:n,navigator:r}=I.useContext(Uy),{matches:i}=I.useContext(id),{pathname:o}=zy(),s=JSON.stringify(gz(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return m0e(()=>{a.current=!0}),I.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let f=yz(l,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:im([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,o,e])}const mUe=I.createContext(null);function gUe(e){let t=I.useContext(id).outlet;return t&&I.createElement(mUe.Provider,{value:e},t)}function W0(){let{matches:e}=I.useContext(id),t=e[e.length-1];return t?t.params:{}}function yUe(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=I.useContext(Uy),{matches:i}=I.useContext(id),{pathname:o}=zy(),s=JSON.stringify(gz(i,r.v7_relativeSplatPath));return I.useMemo(()=>yz(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function g0e(e,t){return vUe(e,t)}function vUe(e,t,n,r){M_()||Hi(!1);let{navigator:i}=I.useContext(Uy),{matches:o}=I.useContext(id),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let l=zy(),c;if(t){var f;let g=typeof t=="string"?O_(t):t;u==="/"||(f=g.pathname)!=null&&f.startsWith(u)||Hi(!1),c=g}else c=l;let d=c.pathname||"/",h=d;if(u!=="/"){let g=u.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=H7e(e,{pathname:h}),m=xUe(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:im([u,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:im([u,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&m?I.createElement(t$.Provider,{value:{location:VT({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Lp.Pop}},m):m}function bUe(){let e=AUe(),t=cUe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,null)}const _Ue=I.createElement(bUe,null);class wUe extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?I.createElement(id.Provider,{value:this.props.routeContext},I.createElement(p0e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EUe(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(vz);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(id.Provider,{value:t},r)}function xUe(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Hi(!1),s=s.slice(0,Math.min(s.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:h}=n,p=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||p){u=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,d)=>{let h,p=!1,m=null,g=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,m=f.route.errorElement||_Ue,u&&(l<0&&d===0?(p=!0,g=null):l===d&&(p=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,d+1)),v=()=>{let b;return h?b=m:p?b=g:f.route.Component?b=I.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,I.createElement(EUe,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?I.createElement(wUe,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var y0e=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y0e||{}),CR=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(CR||{});function TUe(e){let t=I.useContext(vz);return t||Hi(!1),t}function SUe(e){let t=I.useContext(dUe);return t||Hi(!1),t}function CUe(e){let t=I.useContext(id);return t||Hi(!1),t}function v0e(e){let t=CUe(),n=t.matches[t.matches.length-1];return n.route.id||Hi(!1),n.route.id}function AUe(){var e;let t=I.useContext(p0e),n=SUe(CR.UseRouteError),r=v0e(CR.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function IUe(){let{router:e}=TUe(y0e.UseNavigateStable),t=v0e(CR.UseNavigateStable),n=I.useRef(!1);return m0e(()=>{n.current=!0}),I.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,VT({fromRouteId:t},o)))},[e,t])}function bz(e){let{to:t,replace:n,state:r,relative:i}=e;M_()||Hi(!1);let{future:o,static:s}=I.useContext(Uy),{matches:a}=I.useContext(id),{pathname:u}=zy(),l=eg(),c=yz(t,gz(a,o.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(c);return I.useEffect(()=>l(JSON.parse(f),{replace:n,state:r,relative:i}),[l,f,i,n,r]),null}function kUe(e){return gUe(e.context)}function Dd(e){Hi(!1)}function RUe(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Lp.Pop,navigator:o,static:s=!1,future:a}=e;M_()&&Hi(!1);let u=t.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:u,navigator:o,static:s,future:VT({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=O_(r));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:p="default"}=r,m=I.useMemo(()=>{let g=d0e(c,u);return g==null?null:{location:{pathname:g,search:f,hash:d,state:h,key:p},navigationType:i}},[u,c,f,d,h,p,i]);return m==null?null:I.createElement(Uy.Provider,{value:l},I.createElement(t$.Provider,{children:n,value:m}))}function PUe(e){let{children:t,location:n}=e;return g0e(P5(t),n)}new Promise(()=>{});function P5(e,t){t===void 0&&(t=[]);let n=[];return I.Children.forEach(e,(r,i)=>{if(!I.isValidElement(r))return;let o=[...t,i];if(r.type===I.Fragment){n.push.apply(n,P5(r.props.children,o));return}r.type!==Dd&&Hi(!1),!r.props.index||!r.props.children||Hi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=P5(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N5(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function NUe(e,t){let n=N5(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const DUe="6";try{window.__reactRouterVersion=DUe}catch{}const $Ue="startTransition",eee=gT[$Ue];function OUe(e){let{basename:t,children:n,future:r,window:i}=e,o=I.useRef();o.current==null&&(o.current=U7e({window:i,v5Compat:!0}));let s=o.current,[a,u]=I.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=I.useCallback(f=>{l&&eee?eee(()=>u(f)):u(f)},[u,l]);return I.useLayoutEffect(()=>s.listen(c),[s,c]),I.createElement(RUe,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var tee;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tee||(tee={}));var nee;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nee||(nee={}));function _z(e){let t=I.useRef(N5(e)),n=I.useRef(!1),r=zy(),i=I.useMemo(()=>NUe(r.search,n.current?null:t.current),[r.search]),o=eg(),s=I.useCallback((a,u)=>{const l=N5(typeof a=="function"?a(i):a);n.current=!0,o("?"+l,u)},[o,i]);return[i,s]}const wz=I.createContext(null);wz.displayName="@mantine/modals/ModalsContext";function MUe(){const e=I.useContext(wz);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function LUe({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:u,children:l}){const{cancel:c,confirm:f}=r,d=MUe(),h=m=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(m)),typeof a=="function"&&a(),o&&d.closeModal(e)},p=m=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(m)),typeof u=="function"&&u(),i&&d.closeModal(e)};return T.jsxs(T.Fragment,{children:[l&&T.jsx(Ce,{mb:"md",children:l}),T.jsxs(zu,{justify:"flex-end",...s,children:[T.jsx(Xn,{variant:"default",...t,onClick:h,children:(t==null?void 0:t.children)||c}),T.jsx(Xn,{...n,onClick:p,children:(n==null?void 0:n.children)||f})]})]})}const[FUe,n$]=y6e("mantine-modals");n$("openModal");n$("closeModal");n$("closeAllModals");const D5=n$("openConfirmModal");function ree(e,t){var n,r,i,o;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(o=(i=e.props).onClose)==null||o.call(i)}function jUe(e,t){switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const n=e.modals.find(i=>i.id===t.modalId);if(!n)return e;ree(n,t.canceled);const r=e.modals.filter(i=>i.id!==t.modalId);return{current:r[r.length-1]||e.current,modals:r}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(n=>{ree(n,t.canceled)}),{current:e.current,modals:[]}):e;default:return e}}function BUe(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:u,groupProps:l,labels:c,...f}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:u,groupProps:l,labels:c},modalProps:{id:t,...f}}}function UUe({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=I.useReducer(jUe,{modals:[],current:null}),s=I.useRef(i);s.current=i;const a=I.useCallback(g=>{o({type:"CLOSE_ALL",canceled:g})},[s,o]),u=I.useCallback(({modalId:g,...y})=>{const v=g||Cx();return o({type:"OPEN",modal:{id:v,type:"content",props:y}}),v},[o]),l=I.useCallback(({modalId:g,...y})=>{const v=g||Cx();return o({type:"OPEN",modal:{id:v,type:"confirm",props:y}}),v},[o]),c=I.useCallback((g,{modalId:y,...v})=>{const b=y||Cx();return o({type:"OPEN",modal:{id:b,type:"context",props:v,ctx:g}}),b},[o]),f=I.useCallback((g,y)=>{o({type:"CLOSE",modalId:g,canceled:y})},[s,o]);FUe({openModal:u,openConfirmModal:l,openContextModal:({modal:g,...y})=>c(g,y),closeModal:f,closeContextModal:f,closeAllModals:a});const d={modals:i.modals,openModal:u,openConfirmModal:l,openContextModal:c,closeModal:f,closeContextModal:f,closeAll:a},h=()=>{const g=s.current.current;switch(g==null?void 0:g.type){case"context":{const{innerProps:y,...v}=g.props,b=r[g.ctx];return{modalProps:v,content:T.jsx(b,{innerProps:y,context:d,id:g.id})}}case"confirm":{const{modalProps:y,confirmProps:v}=BUe(g.props);return{modalProps:y,content:T.jsx(LUe,{...v,id:g.id,labels:g.props.labels||n})}}case"content":{const{children:y,...v}=g.props;return{modalProps:v,content:T.jsx(T.Fragment,{children:y})}}default:return{modalProps:{},content:null}}},{modalProps:p,content:m}=h();return T.jsxs(wz.Provider,{value:d,children:[T.jsx(no,{zIndex:Bl("modal")+1,...t,...p,opened:i.modals.length>0,onClose:()=>{var g;return f((g=i.current)==null?void 0:g.id)},children:m}),e]})}/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zUe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=(e,t,n,r)=>{const i=I.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,className:u,children:l,...c},f)=>I.createElement("svg",{ref:f,...zUe[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...c},[...r.map(([d,h])=>I.createElement(d,h)),...Array.isArray(l)?l:[l]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VUe=ri("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iee=ri("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HUe=ri("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qUe=ri("outline","chart-bar","IconChartBar",[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WUe=ri("outline","chart-donut-2","IconChartDonut2",[["path",{d:"M12 3v5m4 4h5",key:"svg-0"}],["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GUe=ri("outline","chart-histogram","IconChartHistogram",[["path",{d:"M3 3v18h18",key:"svg-0"}],["path",{d:"M20 18v3",key:"svg-1"}],["path",{d:"M16 16v5",key:"svg-2"}],["path",{d:"M12 13v8",key:"svg-3"}],["path",{d:"M8 16v5",key:"svg-4"}],["path",{d:"M3 11c6 0 5 -5 9 -5s3 5 9 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var b0e=ri("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YUe=ri("outline","database-export","IconDatabaseExport",[["path",{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3",key:"svg-0"}],["path",{d:"M4 6v6c0 1.657 3.582 3 8 3c1.118 0 2.183 -.086 3.15 -.241",key:"svg-1"}],["path",{d:"M20 12v-6",key:"svg-2"}],["path",{d:"M4 12v6c0 1.657 3.582 3 8 3c.157 0 .312 -.002 .466 -.005",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KUe=ri("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XUe=ri("outline","file-lambda","IconFileLambda",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M10 17l2 -3",key:"svg-2"}],["path",{d:"M15 17c-2.5 0 -2.5 -6 -5 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QUe=ri("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JUe=ri("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZUe=ri("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eze=ri("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _0e=ri("outline","progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tze=ri("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nze=ri("outline","schema","IconSchema",[["path",{d:"M5 2h5v4h-5z",key:"svg-0"}],["path",{d:"M15 10h5v4h-5z",key:"svg-1"}],["path",{d:"M5 18h5v4h-5z",key:"svg-2"}],["path",{d:"M5 10h5v4h-5z",key:"svg-3"}],["path",{d:"M10 12h5",key:"svg-4"}],["path",{d:"M7.5 6v4",key:"svg-5"}],["path",{d:"M7.5 14v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rze=ri("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w0e=ri("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var E0e=ri("outline","table-export","IconTableExport",[["path",{d:"M12.5 21h-7.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v7.5",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16l3 3l-3 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ize=ri("outline","table","IconTable",[["path",{d:"M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M3 10h18",key:"svg-1"}],["path",{d:"M10 3v18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var x0e=ri("outline","trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T0e=ri("outline","user-plus","IconUserPlus",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ez=ri("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oze=ri("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);function S0e(e){const t=e.split("/")||[];return t[t.length-1].replace(/\.[^\.]+$/,"").replace(".","_").replace(" ","_").replace("/","_")}const od="/revisit_study/";function oee(e){const t=[],n=String(e||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const s=n.slice(i,r).trim();(s||!o)&&t.push(s),i=r+1,r=n.indexOf(",",i)}return t}function C0e(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const sze=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aze=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uze={};function see(e,t){return(uze.jsx?aze:sze).test(e)}const lze=/[ \t\n\f\r]/g;function cze(e){return typeof e=="object"?e.type==="text"?aee(e.value):!1:aee(e)}function aee(e){return e.replace(lze,"")===""}class cC{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}cC.prototype.property={};cC.prototype.normal={};cC.prototype.space=null;function A0e(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new cC(n,r,t)}function HT(e){return e.toLowerCase()}let ql=class{constructor(t,n){this.property=t,this.attribute=n}};ql.prototype.space=null;ql.prototype.boolean=!1;ql.prototype.booleanish=!1;ql.prototype.overloadedBoolean=!1;ql.prototype.number=!1;ql.prototype.commaSeparated=!1;ql.prototype.spaceSeparated=!1;ql.prototype.commaOrSpaceSeparated=!1;ql.prototype.mustUseProperty=!1;ql.prototype.defined=!1;let fze=0;const bn=Vy(),Ji=Vy(),I0e=Vy(),st=Vy(),jr=Vy(),q1=Vy(),bu=Vy();function Vy(){return 2**++fze}const $5=Object.freeze(Object.defineProperty({__proto__:null,boolean:bn,booleanish:Ji,commaOrSpaceSeparated:bu,commaSeparated:q1,number:st,overloadedBoolean:I0e,spaceSeparated:jr},Symbol.toStringTag,{value:"Module"})),SL=Object.keys($5);class xz extends ql{constructor(t,n,r,i){let o=-1;if(super(t,n),uee(this,"space",i),typeof r=="number")for(;++o<SL.length;){const s=SL[o];uee(this,SL[o],(r&$5[s])===$5[s])}}}xz.prototype.defined=!0;function uee(e,t,n){n&&(e[t]=n)}const dze={}.hasOwnProperty;function L_(e){const t={},n={};let r;for(r in e.properties)if(dze.call(e.properties,r)){const i=e.properties[r],o=new xz(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[HT(r)]=r,n[HT(o.attribute)]=r}return new cC(t,n,e.space)}const k0e=L_({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),R0e=L_({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function P0e(e,t){return t in e?e[t]:t}function N0e(e,t){return P0e(e,t.toLowerCase())}const D0e=L_({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:N0e,properties:{xmlns:null,xmlnsXLink:null}}),$0e=L_({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Ji,ariaAutoComplete:null,ariaBusy:Ji,ariaChecked:Ji,ariaColCount:st,ariaColIndex:st,ariaColSpan:st,ariaControls:jr,ariaCurrent:null,ariaDescribedBy:jr,ariaDetails:null,ariaDisabled:Ji,ariaDropEffect:jr,ariaErrorMessage:null,ariaExpanded:Ji,ariaFlowTo:jr,ariaGrabbed:Ji,ariaHasPopup:null,ariaHidden:Ji,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:jr,ariaLevel:st,ariaLive:null,ariaModal:Ji,ariaMultiLine:Ji,ariaMultiSelectable:Ji,ariaOrientation:null,ariaOwns:jr,ariaPlaceholder:null,ariaPosInSet:st,ariaPressed:Ji,ariaReadOnly:Ji,ariaRelevant:null,ariaRequired:Ji,ariaRoleDescription:jr,ariaRowCount:st,ariaRowIndex:st,ariaRowSpan:st,ariaSelected:Ji,ariaSetSize:st,ariaSort:null,ariaValueMax:st,ariaValueMin:st,ariaValueNow:st,ariaValueText:null,role:null}}),hze=L_({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:N0e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:q1,acceptCharset:jr,accessKey:jr,action:null,allow:null,allowFullScreen:bn,allowPaymentRequest:bn,allowUserMedia:bn,alt:null,as:null,async:bn,autoCapitalize:null,autoComplete:jr,autoFocus:bn,autoPlay:bn,blocking:jr,capture:null,charSet:null,checked:bn,cite:null,className:jr,cols:st,colSpan:null,content:null,contentEditable:Ji,controls:bn,controlsList:jr,coords:st|q1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:bn,defer:bn,dir:null,dirName:null,disabled:bn,download:I0e,draggable:Ji,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:bn,formTarget:null,headers:jr,height:st,hidden:bn,high:st,href:null,hrefLang:null,htmlFor:jr,httpEquiv:jr,id:null,imageSizes:null,imageSrcSet:null,inert:bn,inputMode:null,integrity:null,is:null,isMap:bn,itemId:null,itemProp:jr,itemRef:jr,itemScope:bn,itemType:jr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:bn,low:st,manifest:null,max:null,maxLength:st,media:null,method:null,min:null,minLength:st,multiple:bn,muted:bn,name:null,nonce:null,noModule:bn,noValidate:bn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:bn,optimum:st,pattern:null,ping:jr,placeholder:null,playsInline:bn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:bn,referrerPolicy:null,rel:jr,required:bn,reversed:bn,rows:st,rowSpan:st,sandbox:jr,scope:null,scoped:bn,seamless:bn,selected:bn,shadowRootClonable:bn,shadowRootDelegatesFocus:bn,shadowRootMode:null,shape:null,size:st,sizes:null,slot:null,span:st,spellCheck:Ji,src:null,srcDoc:null,srcLang:null,srcSet:null,start:st,step:null,style:null,tabIndex:st,target:null,title:null,translate:null,type:null,typeMustMatch:bn,useMap:null,value:Ji,width:st,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:jr,axis:null,background:null,bgColor:null,border:st,borderColor:null,bottomMargin:st,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:bn,declare:bn,event:null,face:null,frame:null,frameBorder:null,hSpace:st,leftMargin:st,link:null,longDesc:null,lowSrc:null,marginHeight:st,marginWidth:st,noResize:bn,noHref:bn,noShade:bn,noWrap:bn,object:null,profile:null,prompt:null,rev:null,rightMargin:st,rules:null,scheme:null,scrolling:Ji,standby:null,summary:null,text:null,topMargin:st,valueType:null,version:null,vAlign:null,vLink:null,vSpace:st,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:bn,disableRemotePlayback:bn,prefix:null,property:null,results:st,security:null,unselectable:null}}),pze=L_({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:P0e,properties:{about:bu,accentHeight:st,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:st,amplitude:st,arabicForm:null,ascent:st,attributeName:null,attributeType:null,azimuth:st,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:st,by:null,calcMode:null,capHeight:st,className:jr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:st,diffuseConstant:st,direction:null,display:null,dur:null,divisor:st,dominantBaseline:null,download:bn,dx:null,dy:null,edgeMode:null,editable:null,elevation:st,enableBackground:null,end:null,event:null,exponent:st,externalResourcesRequired:null,fill:null,fillOpacity:st,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:q1,g2:q1,glyphName:q1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:st,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:st,horizOriginX:st,horizOriginY:st,id:null,ideographic:st,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:st,k:st,k1:st,k2:st,k3:st,k4:st,kernelMatrix:bu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:st,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:st,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:st,overlineThickness:st,paintOrder:null,panose1:null,path:null,pathLength:st,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:jr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:st,pointsAtY:st,pointsAtZ:st,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bu,rev:bu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bu,requiredFeatures:bu,requiredFonts:bu,requiredFormats:bu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:st,specularExponent:st,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:st,strikethroughThickness:st,string:null,stroke:null,strokeDashArray:bu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:st,strokeOpacity:st,strokeWidth:null,style:null,surfaceScale:st,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bu,tabIndex:st,tableValues:null,target:null,targetX:st,targetY:st,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:st,underlineThickness:st,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:st,values:null,vAlphabetic:st,vMathematical:st,vectorEffect:null,vHanging:st,vIdeographic:st,version:null,vertAdvY:st,vertOriginX:st,vertOriginY:st,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:st,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),mze=/^data[-\w.:]+$/i,lee=/-[a-z]/g,gze=/[A-Z]/g;function r$(e,t){const n=HT(t);let r=t,i=ql;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&mze.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(lee,vze);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!lee.test(o)){let s=o.replace(gze,yze);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=xz}return new i(r,t)}function yze(e){return"-"+e.toLowerCase()}function vze(e){return e.charAt(1).toUpperCase()}const bze={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fC=A0e([R0e,k0e,D0e,$0e,hze],"html"),tg=A0e([R0e,k0e,D0e,$0e,pze],"svg");function cee(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function O0e(e){return e.join(" ").trim()}var M0e={},fee=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,_ze=/\n/g,wze=/^\s*/,Eze=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xze=/^:\s*/,Tze=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Sze=/^[;\s]*/,Cze=/^\s+|\s+$/g,Aze=`
`,dee="/",hee="*",Qg="",Ize="comment",kze="declaration",Rze=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var m=p.match(_ze);m&&(n+=m.length);var g=p.lastIndexOf(Aze);r=~g?p.length-g:r+p.length}function o(){var p={line:n,column:r};return function(m){return m.position=new s(p),l(),m}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var m=new Error(t.source+":"+n+":"+r+": "+p);if(m.reason=p,m.filename=t.source,m.line=n,m.column=r,m.source=e,!t.silent)throw m}function u(p){var m=p.exec(e);if(m){var g=m[0];return i(g),e=e.slice(g.length),m}}function l(){u(wze)}function c(p){var m;for(p=p||[];m=f();)m!==!1&&p.push(m);return p}function f(){var p=o();if(!(dee!=e.charAt(0)||hee!=e.charAt(1))){for(var m=2;Qg!=e.charAt(m)&&(hee!=e.charAt(m)||dee!=e.charAt(m+1));)++m;if(m+=2,Qg===e.charAt(m-1))return a("End of comment missing");var g=e.slice(2,m-2);return r+=2,i(g),e=e.slice(m),r+=2,p({type:Ize,comment:g})}}function d(){var p=o(),m=u(Eze);if(m){if(f(),!u(xze))return a("property missing ':'");var g=u(Tze),y=p({type:kze,property:pee(m[0].replace(fee,Qg)),value:g?pee(g[0].replace(fee,Qg)):Qg});return u(Sze),y}}function h(){var p=[];c(p);for(var m;m=d();)m!==!1&&(p.push(m),c(p));return p}return l(),h()};function pee(e){return e?e.replace(Cze,Qg):Qg}var Pze=ki&&ki.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M0e,"__esModule",{value:!0});var Nze=Pze(Rze);function Dze(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Nze.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}var mee=M0e.default=Dze;const $ze=mee.default||mee,i$=L0e("end"),sd=L0e("start");function L0e(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Oze(e){const t=sd(e),n=i$(e);if(t&&n)return{start:t,end:n}}function Ix(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?gee(e.position):"start"in e||"end"in e?gee(e):"line"in e||"column"in e?O5(e):""}function O5(e){return yee(e&&e.line)+":"+yee(e&&e.column)}function gee(e){return O5(e&&e.start)+"-"+O5(e&&e.end)}function yee(e){return e&&typeof e=="number"?e:1}class Gs extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?o.ruleId=r:(o.source=r.slice(0,u),o.ruleId=r.slice(u+1))}if(!o.place&&o.ancestors&&o.ancestors){const u=o.ancestors[o.ancestors.length-1];u&&(o.place=u.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Ix(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Gs.prototype.file="";Gs.prototype.name="";Gs.prototype.reason="";Gs.prototype.message="";Gs.prototype.stack="";Gs.prototype.column=void 0;Gs.prototype.line=void 0;Gs.prototype.ancestors=void 0;Gs.prototype.cause=void 0;Gs.prototype.fatal=void 0;Gs.prototype.place=void 0;Gs.prototype.ruleId=void 0;Gs.prototype.source=void 0;const Tz={}.hasOwnProperty,Mze=new Map,Lze=/[A-Z]/g,Fze=/-([a-z])/g,jze=new Set(["table","tbody","thead","tfoot","tr"]),Bze=new Set(["td","th"]),F0e="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Uze(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Kze(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Yze(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?tg:fC,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=j0e(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function j0e(e,t,n){if(t.type==="element")return zze(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Vze(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return qze(e,t,n);if(t.type==="mdxjsEsm")return Hze(e,t);if(t.type==="root")return Wze(e,t,n);if(t.type==="text")return Gze(e,t)}function zze(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=tg,e.schema=i),e.ancestors.push(t);const o=U0e(e,t.tagName,!1),s=Xze(e,t);let a=Cz(e,t);return jze.has(t.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!cze(u):!0})),B0e(e,s,o,t),Sz(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Vze(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}qT(e,t.position)}function Hze(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);qT(e,t.position)}function qze(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=tg,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:U0e(e,t.name,!0),s=Qze(e,t),a=Cz(e,t);return B0e(e,s,o,t),Sz(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function Wze(e,t,n){const r={};return Sz(r,Cz(e,t)),e.create(t,e.Fragment,r,n)}function Gze(e,t){return t.value}function B0e(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Sz(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Yze(e,t,n){return r;function r(i,o,s,a){const l=Array.isArray(s.children)?n:t;return a?l(o,s,a):l(o,s)}}function Kze(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),u=sd(r);return t(i,o,s,a,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function Xze(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Tz.call(t.properties,i)){const o=Jze(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&Bze.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Qze(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else qT(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else qT(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Cz(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Mze;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const u=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(u){const l=i.get(u)||0;s=u+"-"+l,i.set(u,l+1)}}const a=j0e(e,o,s);a!==void 0&&n.push(a)}return n}function Jze(e,t,n){const r=r$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?C0e(n):O0e(n)),r.property==="style"){let i=typeof n=="object"?n:Zze(e,String(n));return e.stylePropertyNameCase==="css"&&(i=eVe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?bze[r.property]||r.property:r.attribute,n]}}function Zze(e,t){const n={};try{$ze(t,r)}catch(i){if(!e.ignoreInvalidStyle){const o=i,s=new Gs("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=F0e+"#cannot-parse-style-attribute",s}}return n;function r(i,o){let s=i;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Fze,nVe)),n[s]=o}}function U0e(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=see(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=see(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Tz.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);qT(e)}function qT(e,t){const n=new Gs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=F0e+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eVe(e){const t={};let n;for(n in e)Tz.call(e,n)&&(t[tVe(n)]=e[n]);return t}function tVe(e){let t=e.replace(Lze,rVe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function nVe(e,t){return t.toUpperCase()}function rVe(e){return"-"+e.toLowerCase()}const CL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},iVe={};function oVe(e,t){const n=iVe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return z0e(e,r,i)}function z0e(e,t,n){if(sVe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return vee(e.children,t,n)}return Array.isArray(e)?vee(e,t,n):""}function vee(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=z0e(e[i],t,n);return r.join("")}function sVe(e){return!!(e&&typeof e=="object")}const bee=document.createElement("i");function Az(e){const t="&"+e+";";bee.innerHTML=t;const n=bee.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ch(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function hl(e,t){return e.length>0?(Ch(e,e.length,0,t),e):t}const _ee={}.hasOwnProperty;function aVe(e){const t={};let n=-1;for(;++n<e.length;)uVe(t,e[n]);return t}function uVe(e,t){let n;for(n in t){const i=(_ee.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){_ee.call(i,s)||(i[s]=[]);const a=o[s];lVe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function lVe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ch(e,0,0,r)}function V0e(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function W1(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vf=ng(/[A-Za-z]/),ku=ng(/[\dA-Za-z]/),cVe=ng(/[#-'*+\--9=?A-Z^-~]/);function M5(e){return e!==null&&(e<32||e===127)}const L5=ng(/\d/),fVe=ng(/[\dA-Fa-f]/),dVe=ng(/[!-/:-@[-`{-~]/);function en(e){return e!==null&&e<-2}function tu(e){return e!==null&&(e<0||e===32)}function mr(e){return e===-2||e===-1||e===32}const hVe=ng(new RegExp("\\p{P}|\\p{S}","u")),pVe=ng(/\s/);function ng(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function F_(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&ku(e.charCodeAt(n+1))&&ku(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s=""}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ur(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(u){return mr(u)?(e.enter(n),a(u)):t(u)}function a(u){return mr(u)&&o++<i?(e.consume(u),a):(e.exit(n),t(u))}}const mVe={tokenize:gVe};function gVe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ur(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return en(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const yVe={tokenize:vVe},wee={tokenize:bVe};function vVe(e){const t=this,n=[];let r=0,i,o,s;return a;function a(b){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,u,l)(b)}return l(b)}function u(b){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&v();const _=t.events.length;let w=_,S;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){S=t.events[w][1].end;break}y(r);let E=_;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},S),E++;return Ch(t.events,w+1,0,t.events.slice(_)),t.events.length=E,l(b)}return a(b)}function l(b){if(r===n.length){if(!i)return d(b);if(i.currentConstruct&&i.currentConstruct.concrete)return p(b);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(wee,c,f)(b)}function c(b){return i&&v(),y(r),d(b)}function f(b){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(b)}function d(b){return t.containerState={},e.attempt(wee,h,p)(b)}function h(b){return r++,n.push([t.currentConstruct,t.containerState]),d(b)}function p(b){if(b===null){i&&v(),y(0),e.consume(b);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(b)}function m(b){if(b===null){g(e.exit("chunkFlow"),!0),y(0),e.consume(b);return}return en(b)?(e.consume(b),g(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(b),m)}function g(b,_){const w=t.sliceStream(b);if(_&&w.push(null),b.previous=o,o&&(o.next=b),o=b,i.defineSkip(b.start),i.write(w),t.parser.lazy[b.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<s&&(!i.events[S][1].end||i.events[S][1].end.offset>s))return;const E=t.events.length;let C=E,A,k;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){if(A){k=t.events[C][1].end;break}A=!0}for(y(r),S=E;S<t.events.length;)t.events[S][1].end=Object.assign({},k),S++;Ch(t.events,C+1,0,t.events.slice(E)),t.events.length=S}}function y(b){let _=n.length;for(;_-- >b;){const w=n[_];t.containerState=w[1],w[0].exit.call(t,e)}n.length=b}function v(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bVe(e,t,n){return Ur(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Eee(e){if(e===null||tu(e)||pVe(e))return 1;if(hVe(e))return 2}function Iz(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const F5={name:"attention",tokenize:wVe,resolveAll:_Ve};function _Ve(e,t){let n=-1,r,i,o,s,a,u,l,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f=Object.assign({},e[r][1].end),d=Object.assign({},e[n][1].start);xee(f,-u),xee(d,u),s={type:u>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},e[r][1].end)},a={type:u>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:d},o={type:u>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:u>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},a.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=hl(l,[["enter",e[r][1],t],["exit",e[r][1],t]])),l=hl(l,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),l=hl(l,Iz(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),l=hl(l,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,l=hl(l,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,Ch(e,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wVe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Eee(r);let o;return s;function s(u){return o=u,e.enter("attentionSequence"),a(u)}function a(u){if(u===o)return e.consume(u),a;const l=e.exit("attentionSequence"),c=Eee(u),f=!c||c===2&&i||n.includes(u),d=!i||i===2&&c||n.includes(r);return l._open=!!(o===42?f:f&&(i||!d)),l._close=!!(o===42?d:d&&(c||!f)),t(u)}}function xee(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const EVe={name:"autolink",tokenize:xVe};function xVe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(h){return vf(h)?(e.consume(h),s):h===64?n(h):l(h)}function s(h){return h===43||h===45||h===46||ku(h)?(r=1,a(h)):l(h)}function a(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||ku(h))&&r++<32?(e.consume(h),a):(r=0,l(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||M5(h)?n(h):(e.consume(h),u)}function l(h){return h===64?(e.consume(h),c):cVe(h)?(e.consume(h),l):n(h)}function c(h){return ku(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,c):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):d(h)}function d(h){if((h===45||ku(h))&&r++<63){const p=h===45?d:f;return e.consume(h),p}return n(h)}}const o$={tokenize:TVe,partial:!0};function TVe(e,t,n){return r;function r(o){return mr(o)?Ur(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||en(o)?t(o):n(o)}}const H0e={name:"blockQuote",tokenize:SVe,continuation:{tokenize:CVe},exit:AVe};function SVe(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return mr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function CVe(e,t,n){const r=this;return i;function i(s){return mr(s)?Ur(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(H0e,t,n)(s)}}function AVe(e){e.exit("blockQuote")}const q0e={name:"characterEscape",tokenize:IVe};function IVe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return dVe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const W0e={name:"characterReference",tokenize:kVe};function kVe(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),u}function u(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,s=ku,c(f))}function l(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=fVe,c):(e.enter("characterReferenceValue"),o=7,s=L5,c(f))}function c(f){if(f===59&&i){const d=e.exit("characterReferenceValue");return s===ku&&!Az(r.sliceSerialize(d))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),c):n(f)}}const Tee={tokenize:PVe,partial:!0},See={name:"codeFenced",tokenize:RVe,concrete:!0};function RVe(e,t,n){const r=this,i={tokenize:w,partial:!0};let o=0,s=0,a;return u;function u(S){return l(S)}function l(S){const E=r.events[r.events.length-1];return o=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(S)}function c(S){return S===a?(s++,e.consume(S),c):s<3?n(S):(e.exit("codeFencedFenceSequence"),mr(S)?Ur(e,f,"whitespace")(S):f(S))}function f(S){return S===null||en(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(Tee,m,_)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(S))}function d(S){return S===null||en(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(S)):mr(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ur(e,h,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),d)}function h(S){return S===null||en(S)?f(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||en(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return e.attempt(i,_,g)(S)}function g(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),y}function y(S){return o>0&&mr(S)?Ur(e,v,"linePrefix",o+1)(S):v(S)}function v(S){return S===null||en(S)?e.check(Tee,m,_)(S):(e.enter("codeFlowValue"),b(S))}function b(S){return S===null||en(S)?(e.exit("codeFlowValue"),v(S)):(e.consume(S),b)}function _(S){return e.exit("codeFenced"),t(S)}function w(S,E,C){let A=0;return k;function k(j){return S.enter("lineEnding"),S.consume(j),S.exit("lineEnding"),P}function P(j){return S.enter("codeFencedFence"),mr(j)?Ur(S,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):$(j)}function $(j){return j===a?(S.enter("codeFencedFenceSequence"),N(j)):C(j)}function N(j){return j===a?(A++,S.consume(j),N):A>=s?(S.exit("codeFencedFenceSequence"),mr(j)?Ur(S,O,"whitespace")(j):O(j)):C(j)}function O(j){return j===null||en(j)?(S.exit("codeFencedFence"),E(j)):C(j)}}}function PVe(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const AL={name:"codeIndented",tokenize:DVe},NVe={tokenize:$Ve,partial:!0};function DVe(e,t,n){const r=this;return i;function i(l){return e.enter("codeIndented"),Ur(e,o,"linePrefix",5)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(l):n(l)}function s(l){return l===null?u(l):en(l)?e.attempt(NVe,s,u)(l):(e.enter("codeFlowValue"),a(l))}function a(l){return l===null||en(l)?(e.exit("codeFlowValue"),s(l)):(e.consume(l),a)}function u(l){return e.exit("codeIndented"),t(l)}}function $Ve(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):en(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ur(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):en(s)?i(s):n(s)}}const OVe={name:"codeText",tokenize:FVe,resolve:MVe,previous:LVe};function MVe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function LVe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function FVe(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),u(f))}function u(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),u):f===96?(o=e.enter("codeTextSequence"),i=0,c(f)):en(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),u):(e.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||en(f)?(e.exit("codeTextData"),u(f)):(e.consume(f),l)}function c(f){return f===96?(e.consume(f),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",l(f))}}class jVe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ww(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ww(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ww(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ww(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ww(this.left,n.reverse())}}}function Ww(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function G0e(e){const t={};let n=-1,r,i,o,s,a,u,l;const c=new jVe(e);for(;++n<c.length;){for(;n in t;)n=t[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,o=0,o<u.length&&u[o][1].type==="lineEndingBlank"&&(o+=2),o<u.length&&u[o][1].type==="content"))for(;++o<u.length&&u[o][1].type!=="content";)u[o][1].type==="chunkText"&&(u[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,BVe(c,n)),n=t[n],l=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},c.get(i)[1].start),a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Ch(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function BVe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,u=[],l={};let c,f,d=-1,h=n,p=0,m=0;const g=[m];for(;h;){for(;e.get(++i)[1]!==h;);o.push(i),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,g.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),d=g.length;d--;){const y=a.slice(g[d],g[d+1]),v=o.pop();u.push([v,v+y.length-1]),e.splice(v,2,y)}for(u.reverse(),d=-1;++d<u.length;)l[p+u[d][0]]=p+u[d][1],p+=u[d][1]-u[d][0]-1;return l}const UVe={tokenize:HVe,resolve:VVe},zVe={tokenize:qVe,partial:!0};function VVe(e){return G0e(e),e}function HVe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):en(a)?e.check(zVe,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qVe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ur(e,o,"linePrefix")}function o(s){if(s===null||en(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function Y0e(e,t,n,r,i,o,s,a,u){const l=u||Number.POSITIVE_INFINITY;let c=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(y),e.exit(o),d):y===null||y===32||y===41||M5(y)?n(y):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),m(y))}function d(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),d(y)):y===null||y===60||en(y)?n(y):(e.consume(y),y===92?p:h)}function p(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function m(y){return!c&&(y===null||y===41||tu(y))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(y)):c<l&&y===40?(e.consume(y),c++,m):y===41?(e.consume(y),c--,m):y===null||y===32||y===40||M5(y)?n(y):(e.consume(y),y===92?g:m)}function g(y){return y===40||y===41||y===92?(e.consume(y),m):m(y)}}function K0e(e,t,n,r,i,o){const s=this;let a=0,u;return l;function l(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(o),c}function c(h){return a>999||h===null||h===91||h===93&&!u||h===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):en(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||en(h)||a++>999?(e.exit("chunkString"),c(h)):(e.consume(h),u||(u=!mr(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),a++,f):f(h)}}function X0e(e,t,n,r,i,o){let s;return a;function a(d){return d===34||d===39||d===40?(e.enter(r),e.enter(i),e.consume(d),e.exit(i),s=d===40?41:d,u):n(d)}function u(d){return d===s?(e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):(e.enter(o),l(d))}function l(d){return d===s?(e.exit(o),u(s)):d===null?n(d):en(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ur(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===s||d===null||en(d)?(e.exit("chunkString"),l(d)):(e.consume(d),d===92?f:c)}function f(d){return d===s||d===92?(e.consume(d),c):c(d)}}function kx(e,t){let n;return r;function r(i){return en(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):mr(i)?Ur(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const WVe={name:"definition",tokenize:YVe},GVe={tokenize:KVe,partial:!0};function YVe(e,t,n){const r=this;let i;return o;function o(h){return e.enter("definition"),s(h)}function s(h){return K0e.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=W1(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return tu(h)?kx(e,l)(h):l(h)}function l(h){return Y0e(e,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return e.attempt(GVe,f,f)(h)}function f(h){return mr(h)?Ur(e,d,"whitespace")(h):d(h)}function d(h){return h===null||en(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function KVe(e,t,n){return r;function r(a){return tu(a)?kx(e,i)(a):n(a)}function i(a){return X0e(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return mr(a)?Ur(e,s,"whitespace")(a):s(a)}function s(a){return a===null||en(a)?t(a):n(a)}}const XVe={name:"hardBreakEscape",tokenize:QVe};function QVe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return en(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const JVe={name:"headingAtx",tokenize:eHe,resolve:ZVe};function ZVe(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ch(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function eHe(e,t,n){let r=0;return i;function i(c){return e.enter("atxHeading"),o(c)}function o(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(e.consume(c),s):c===null||tu(c)?(e.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(e.enter("atxHeadingSequence"),u(c)):c===null||en(c)?(e.exit("atxHeading"),t(c)):mr(c)?Ur(e,a,"whitespace")(c):(e.enter("atxHeadingText"),l(c))}function u(c){return c===35?(e.consume(c),u):(e.exit("atxHeadingSequence"),a(c))}function l(c){return c===null||c===35||tu(c)?(e.exit("atxHeadingText"),a(c)):(e.consume(c),l)}}const tHe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Cee=["pre","script","style","textarea"],nHe={name:"htmlFlow",tokenize:sHe,resolveTo:oHe,concrete:!0},rHe={tokenize:uHe,partial:!0},iHe={tokenize:aHe,partial:!0};function oHe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sHe(e,t,n){const r=this;let i,o,s,a,u;return l;function l(F){return c(F)}function c(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),f}function f(F){return F===33?(e.consume(F),d):F===47?(e.consume(F),o=!0,m):F===63?(e.consume(F),i=3,r.interrupt?t:D):vf(F)?(e.consume(F),s=String.fromCharCode(F),g):n(F)}function d(F){return F===45?(e.consume(F),i=2,h):F===91?(e.consume(F),i=5,a=0,p):vf(F)?(e.consume(F),i=4,r.interrupt?t:D):n(F)}function h(F){return F===45?(e.consume(F),r.interrupt?t:D):n(F)}function p(F){const z="CDATA[";return F===z.charCodeAt(a++)?(e.consume(F),a===z.length?r.interrupt?t:$:p):n(F)}function m(F){return vf(F)?(e.consume(F),s=String.fromCharCode(F),g):n(F)}function g(F){if(F===null||F===47||F===62||tu(F)){const z=F===47,G=s.toLowerCase();return!z&&!o&&Cee.includes(G)?(i=1,r.interrupt?t(F):$(F)):tHe.includes(s.toLowerCase())?(i=6,z?(e.consume(F),y):r.interrupt?t(F):$(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):o?v(F):b(F))}return F===45||ku(F)?(e.consume(F),s+=String.fromCharCode(F),g):n(F)}function y(F){return F===62?(e.consume(F),r.interrupt?t:$):n(F)}function v(F){return mr(F)?(e.consume(F),v):k(F)}function b(F){return F===47?(e.consume(F),k):F===58||F===95||vf(F)?(e.consume(F),_):mr(F)?(e.consume(F),b):k(F)}function _(F){return F===45||F===46||F===58||F===95||ku(F)?(e.consume(F),_):w(F)}function w(F){return F===61?(e.consume(F),S):mr(F)?(e.consume(F),w):b(F)}function S(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),u=F,E):mr(F)?(e.consume(F),S):C(F)}function E(F){return F===u?(e.consume(F),u=null,A):F===null||en(F)?n(F):(e.consume(F),E)}function C(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||tu(F)?w(F):(e.consume(F),C)}function A(F){return F===47||F===62||mr(F)?b(F):n(F)}function k(F){return F===62?(e.consume(F),P):n(F)}function P(F){return F===null||en(F)?$(F):mr(F)?(e.consume(F),P):n(F)}function $(F){return F===45&&i===2?(e.consume(F),M):F===60&&i===1?(e.consume(F),B):F===62&&i===4?(e.consume(F),U):F===63&&i===3?(e.consume(F),D):F===93&&i===5?(e.consume(F),q):en(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(rHe,W,N)(F)):F===null||en(F)?(e.exit("htmlFlowData"),N(F)):(e.consume(F),$)}function N(F){return e.check(iHe,O,W)(F)}function O(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),j}function j(F){return F===null||en(F)?N(F):(e.enter("htmlFlowData"),$(F))}function M(F){return F===45?(e.consume(F),D):$(F)}function B(F){return F===47?(e.consume(F),s="",V):$(F)}function V(F){if(F===62){const z=s.toLowerCase();return Cee.includes(z)?(e.consume(F),U):$(F)}return vf(F)&&s.length<8?(e.consume(F),s+=String.fromCharCode(F),V):$(F)}function q(F){return F===93?(e.consume(F),D):$(F)}function D(F){return F===62?(e.consume(F),U):F===45&&i===2?(e.consume(F),D):$(F)}function U(F){return F===null||en(F)?(e.exit("htmlFlowData"),W(F)):(e.consume(F),U)}function W(F){return e.exit("htmlFlow"),t(F)}}function aHe(e,t,n){const r=this;return i;function i(s){return en(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function uHe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(o$,t,n)}}const lHe={name:"htmlText",tokenize:cHe};function cHe(e,t,n){const r=this;let i,o,s;return a;function a(D){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(D),u}function u(D){return D===33?(e.consume(D),l):D===47?(e.consume(D),w):D===63?(e.consume(D),b):vf(D)?(e.consume(D),C):n(D)}function l(D){return D===45?(e.consume(D),c):D===91?(e.consume(D),o=0,p):vf(D)?(e.consume(D),v):n(D)}function c(D){return D===45?(e.consume(D),h):n(D)}function f(D){return D===null?n(D):D===45?(e.consume(D),d):en(D)?(s=f,B(D)):(e.consume(D),f)}function d(D){return D===45?(e.consume(D),h):f(D)}function h(D){return D===62?M(D):D===45?d(D):f(D)}function p(D){const U="CDATA[";return D===U.charCodeAt(o++)?(e.consume(D),o===U.length?m:p):n(D)}function m(D){return D===null?n(D):D===93?(e.consume(D),g):en(D)?(s=m,B(D)):(e.consume(D),m)}function g(D){return D===93?(e.consume(D),y):m(D)}function y(D){return D===62?M(D):D===93?(e.consume(D),y):m(D)}function v(D){return D===null||D===62?M(D):en(D)?(s=v,B(D)):(e.consume(D),v)}function b(D){return D===null?n(D):D===63?(e.consume(D),_):en(D)?(s=b,B(D)):(e.consume(D),b)}function _(D){return D===62?M(D):b(D)}function w(D){return vf(D)?(e.consume(D),S):n(D)}function S(D){return D===45||ku(D)?(e.consume(D),S):E(D)}function E(D){return en(D)?(s=E,B(D)):mr(D)?(e.consume(D),E):M(D)}function C(D){return D===45||ku(D)?(e.consume(D),C):D===47||D===62||tu(D)?A(D):n(D)}function A(D){return D===47?(e.consume(D),M):D===58||D===95||vf(D)?(e.consume(D),k):en(D)?(s=A,B(D)):mr(D)?(e.consume(D),A):M(D)}function k(D){return D===45||D===46||D===58||D===95||ku(D)?(e.consume(D),k):P(D)}function P(D){return D===61?(e.consume(D),$):en(D)?(s=P,B(D)):mr(D)?(e.consume(D),P):A(D)}function $(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),i=D,N):en(D)?(s=$,B(D)):mr(D)?(e.consume(D),$):(e.consume(D),O)}function N(D){return D===i?(e.consume(D),i=void 0,j):D===null?n(D):en(D)?(s=N,B(D)):(e.consume(D),N)}function O(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||tu(D)?A(D):(e.consume(D),O)}function j(D){return D===47||D===62||tu(D)?A(D):n(D)}function M(D){return D===62?(e.consume(D),e.exit("htmlTextData"),e.exit("htmlText"),t):n(D)}function B(D){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),V}function V(D){return mr(D)?Ur(e,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):q(D)}function q(D){return e.enter("htmlTextData"),s(D)}}const kz={name:"labelEnd",tokenize:gHe,resolveTo:mHe,resolveAll:pHe},fHe={tokenize:yHe},dHe={tokenize:vHe},hHe={tokenize:bHe};function pHe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function mHe(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const u={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",u,t],["enter",l,t]],a=hl(a,e.slice(o+1,o+r+3)),a=hl(a,[["enter",c,t]]),a=hl(a,Iz(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=hl(a,[["exit",c,t],e[s-2],e[s-1],["exit",l,t]]),a=hl(a,e.slice(s+1)),a=hl(a,[["exit",u,t]]),Ch(e,o,e.length,a),e}function gHe(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(d){return o?o._inactive?f(d):(s=r.parser.defined.includes(W1(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(fHe,c,s?c:f)(d):d===91?e.attempt(dHe,c,s?l:f)(d):s?c(d):f(d)}function l(d){return e.attempt(hHe,c,f)(d)}function c(d){return t(d)}function f(d){return o._balanced=!0,n(d)}}function yHe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return tu(f)?kx(e,o)(f):o(f)}function o(f){return f===41?c(f):Y0e(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return tu(f)?kx(e,u)(f):c(f)}function a(f){return n(f)}function u(f){return f===34||f===39||f===40?X0e(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return tu(f)?kx(e,c)(f):c(f)}function c(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function vHe(e,t,n){const r=this;return i;function i(a){return K0e.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(W1(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function bHe(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const _He={name:"labelStartImage",tokenize:wHe,resolveAll:kz.resolveAll};function wHe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const EHe={name:"labelStartLink",tokenize:xHe,resolveAll:kz.resolveAll};function xHe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const IL={name:"lineEnding",tokenize:THe};function THe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ur(e,t,"linePrefix")}}const JI={name:"thematicBreak",tokenize:SHe};function SHe(e,t,n){let r=0,i;return o;function o(l){return e.enter("thematicBreak"),s(l)}function s(l){return i=l,a(l)}function a(l){return l===i?(e.enter("thematicBreakSequence"),u(l)):r>=3&&(l===null||en(l))?(e.exit("thematicBreak"),t(l)):n(l)}function u(l){return l===i?(e.consume(l),r++,u):(e.exit("thematicBreakSequence"),mr(l)?Ur(e,a,"whitespace")(l):a(l))}}const Da={name:"list",tokenize:IHe,continuation:{tokenize:kHe},exit:PHe},CHe={tokenize:NHe,partial:!0},AHe={tokenize:RHe,partial:!0};function IHe(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(h){const p=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:L5(h)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(JI,n,l)(h):l(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return L5(h)&&++s<10?(e.consume(h),u):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),l(h)):n(h)}function l(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(o$,r.interrupt?n:c,e.attempt(CHe,d,f))}function c(h){return r.containerState.initialBlankLine=!0,o++,d(h)}function f(h){return mr(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):n(h)}function d(h){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function kHe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(o$,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ur(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!mr(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(AHe,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ur(e,e.attempt(Da,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function RHe(e,t,n){const r=this;return Ur(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function PHe(e){e.exit(this.containerState.type)}function NHe(e,t,n){const r=this;return Ur(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!mr(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Aee={name:"setextUnderline",tokenize:$He,resolveTo:DHe};function DHe(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function $He(e,t,n){const r=this;let i;return o;function o(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=l,s(l)):n(l)}function s(l){return e.enter("setextHeadingLineSequence"),a(l)}function a(l){return l===i?(e.consume(l),a):(e.exit("setextHeadingLineSequence"),mr(l)?Ur(e,u,"lineSuffix")(l):u(l))}function u(l){return l===null||en(l)?(e.exit("setextHeadingLine"),t(l)):n(l)}}const OHe={tokenize:MHe};function MHe(e){const t=this,n=e.attempt(o$,r,e.attempt(this.parser.constructs.flowInitial,i,Ur(e,e.attempt(this.parser.constructs.flow,i,e.attempt(UVe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const LHe={resolveAll:J0e()},FHe=Q0e("string"),jHe=Q0e("text");function Q0e(e){return{tokenize:t,resolveAll:J0e(e==="text"?BHe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(c){return l(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),u}function u(c){return l(c)?(n.exit("data"),o(c)):(n.consume(c),u)}function l(c){if(c===null)return!0;const f=i[c];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function J0e(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function BHe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,u;for(;o--;){const l=i[o];if(typeof l=="string"){for(s=l.length;l.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(l===-2)u=!0,a++;else if(l!==-1){o++;break}}if(a){const l={type:n===e.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(n,0,["enter",l,t],["exit",l,t]),n+=2)}n++}return e}function UHe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const u={consume:v,enter:b,exit:_,attempt:E(w),check:E(S),interrupt:E(S,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:d,now:p,defineSkip:m,write:f};let c=t.tokenize.call(l,u);return t.resolveAll&&o.push(t),l;function f(P){return s=hl(s,P),g(),s[s.length-1]!==null?[]:(C(t,0),l.events=Iz(o,l.events,l),l.events)}function d(P,$){return VHe(h(P),$)}function h(P){return zHe(s,P)}function p(){const{line:P,column:$,offset:N,_index:O,_bufferIndex:j}=r;return{line:P,column:$,offset:N,_index:O,_bufferIndex:j}}function m(P){i[P.line]=P.column,k()}function g(){let P;for(;r._index<s.length;){const $=s[r._index];if(typeof $=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<$.length;)y($.charCodeAt(r._bufferIndex));else y($)}}function y(P){c=c(P)}function v(P){en(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,k()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=P}function b(P,$){const N=$||{};return N.type=P,N.start=p(),l.events.push(["enter",N,l]),a.push(N),N}function _(P){const $=a.pop();return $.end=p(),l.events.push(["exit",$,l]),$}function w(P,$){C(P,$.from)}function S(P,$){$.restore()}function E(P,$){return N;function N(O,j,M){let B,V,q,D;return Array.isArray(O)?W(O):"tokenize"in O?W([O]):U(O);function U(ee){return ce;function ce(le){const se=le!==null&&ee[le],ge=le!==null&&ee.null,be=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return W(be)(le)}}function W(ee){return B=ee,V=0,ee.length===0?M:F(ee[V])}function F(ee){return ce;function ce(le){return D=A(),q=ee,ee.partial||(l.currentConstruct=ee),ee.name&&l.parser.constructs.disable.null.includes(ee.name)?G():ee.tokenize.call($?Object.assign(Object.create(l),$):l,u,z,G)(le)}}function z(ee){return P(q,D),j}function G(ee){return D.restore(),++V<B.length?F(B[V]):M}}}function C(P,$){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&Ch(l.events,$,l.events.length-$,P.resolve(l.events.slice($),l)),P.resolveTo&&(l.events=P.resolveTo(l.events,l))}function A(){const P=p(),$=l.previous,N=l.currentConstruct,O=l.events.length,j=Array.from(a);return{restore:M,from:O};function M(){r=P,l.previous=$,l.currentConstruct=N,l.events.length=O,a=j,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zHe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function VHe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const HHe={42:Da,43:Da,45:Da,48:Da,49:Da,50:Da,51:Da,52:Da,53:Da,54:Da,55:Da,56:Da,57:Da,62:H0e},qHe={91:WVe},WHe={[-2]:AL,[-1]:AL,32:AL},GHe={35:JVe,42:JI,45:[Aee,JI],60:nHe,61:Aee,95:JI,96:See,126:See},YHe={38:W0e,92:q0e},KHe={[-5]:IL,[-4]:IL,[-3]:IL,33:_He,38:W0e,42:F5,60:[EVe,lHe],91:EHe,92:[XVe,q0e],93:kz,95:F5,96:OVe},XHe={null:[F5,LHe]},QHe={null:[42,95]},JHe={null:[]},ZHe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:QHe,contentInitial:qHe,disable:JHe,document:HHe,flow:GHe,flowInitial:WHe,insideSpan:XHe,string:YHe,text:KHe},Symbol.toStringTag,{value:"Module"}));function eqe(e){const n=aVe([ZHe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(mVe),document:i(yVe),flow:i(OHe),string:i(FHe),text:i(jHe)};return r;function i(o){return s;function s(a){return UHe(r,o,a)}}}function tqe(e){for(;!G0e(e););return e}const Iee=/[\0\t\n\r]/g;function nqe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const u=[];let l,c,f,d,h;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(Iee.lastIndex=f,l=Iee.exec(o),d=l&&l.index!==void 0?l.index:o.length,h=o.charCodeAt(d),!l){t=o.slice(f);break}if(h===10&&f===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),f<d&&(u.push(o.slice(f,d)),e+=d-f),h){case 0:{u.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,u.push(-2);e++<c;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return a&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const rqe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function iqe(e){return e.replace(rqe,oqe)}function oqe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return V0e(n.slice(o?2:1),o?16:10)}return Az(n)||e}const Z0e={}.hasOwnProperty;function sqe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),aqe(n)(tqe(eqe(n).document().write(nqe()(e,t,!0))))}function aqe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ze),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(ht),blockQuote:o(ge),characterEscape:A,characterReference:A,codeFenced:o(be),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(be,s),codeText:o(ve,s),codeTextData:A,data:A,codeFlowValue:A,definition:o(Ye),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(Ue),hardBreakEscape:o(Je),hardBreakTrailing:o(Je),htmlFlow:o(ke,s),htmlFlowData:A,htmlText:o(ke,s),htmlTextData:A,image:o(Ne),label:s,link:o(ze),listItem:o(Mt),listItemValue:d,listOrdered:o(ut,f),listUnordered:o(ut),paragraph:o(qe),reference:F,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(ht),strong:o(me),thematicBreak:o(vt)},exit:{atxHeading:u(),atxHeadingSequence:w,autolink:u(),autolinkEmail:se,autolinkProtocol:le,blockQuote:u(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:ee,characterReference:ce,codeFenced:u(g),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:k,codeIndented:u(y),codeText:u(j),codeTextData:k,data:k,definition:u(),definitionDestinationString:_,definitionLabelString:v,definitionTitleString:b,emphasis:u(),hardBreakEscape:u($),hardBreakTrailing:u($),htmlFlow:u(N),htmlFlowData:k,htmlText:u(O),htmlTextData:k,image:u(B),label:q,labelText:V,lineEnding:P,link:u(M),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:z,resourceDestinationString:D,resourceTitleString:U,resource:W,setextHeading:u(C),setextHeadingLineSequence:E,setextHeadingText:S,strong:u(),thematicBreak:u()}};eye(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(he){let Te={type:"root",children:[]};const Le={stack:[Te],tokenStack:[],config:t,enter:a,exit:l,buffer:s,resume:c,data:n},He=[];let lt=-1;for(;++lt<he.length;)if(he[lt][1].type==="listOrdered"||he[lt][1].type==="listUnordered")if(he[lt][0]==="enter")He.push(lt);else{const an=He.pop();lt=i(he,an,lt)}for(lt=-1;++lt<he.length;){const an=t[he[lt][0]];Z0e.call(an,he[lt][1].type)&&an[he[lt][1].type].call(Object.assign({sliceSerialize:he[lt][2].sliceSerialize},Le),he[lt][1])}if(Le.tokenStack.length>0){const an=Le.tokenStack[Le.tokenStack.length-1];(an[1]||kee).call(Le,void 0,an[0])}for(Te.position={start:sp(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:sp(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<t.transforms.length;)Te=t.transforms[lt](Te)||Te;return Te}function i(he,Te,Le){let He=Te-1,lt=-1,an=!1,$n,ct,$t,pt;for(;++He<=Le;){const Qt=he[He];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?lt++:lt--,pt=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&($n&&!pt&&!lt&&!$t&&($t=He),pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pt=void 0}if(!lt&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||lt===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if($n){let un=He;for(ct=void 0;un--;){const Jt=he[un];if(Jt[1].type==="lineEnding"||Jt[1].type==="lineEndingBlank"){if(Jt[0]==="exit")continue;ct&&(he[ct][1].type="lineEndingBlank",an=!0),Jt[1].type="lineEnding",ct=un}else if(!(Jt[1].type==="linePrefix"||Jt[1].type==="blockQuotePrefix"||Jt[1].type==="blockQuotePrefixWhitespace"||Jt[1].type==="blockQuoteMarker"||Jt[1].type==="listItemIndent"))break}$t&&(!ct||$t<ct)&&($n._spread=!0),$n.end=Object.assign({},ct?he[ct][1].start:Qt[1].end),he.splice(ct||He,0,["exit",$n,Qt[2]]),He++,Le++}if(Qt[1].type==="listItemPrefix"){const un={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};$n=un,he.splice(He,0,["enter",un,Qt[2]]),He++,Le++,$t=void 0,pt=!0}}}return he[Te][1]._spread=an,Le}function o(he,Te){return Le;function Le(He){a.call(this,he(He),He),Te&&Te.call(this,He)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(he,Te,Le){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Te,Le]),he.position={start:sp(Te.start),end:void 0}}function u(he){return Te;function Te(Le){he&&he.call(this,Le),l.call(this,Le)}}function l(he,Te){const Le=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==he.type&&(Te?Te.call(this,he,He[0]):(He[1]||kee).call(this,he,He[0]));else throw new Error("Cannot close `"+he.type+"` ("+Ix({start:he.start,end:he.end})+"): its not open");Le.position.end=sp(he.end)}function c(){return oVe(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(he){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function h(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=he}function p(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=he}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/(\r?\n|\r)$/g,"")}function v(he){const Te=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Te,Le.identifier=W1(this.sliceSerialize(he)).toLowerCase()}function b(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function _(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function w(he){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Le=this.sliceSerialize(he).length;Te.depth=Le}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function E(he){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function A(he){const Le=this.stack[this.stack.length-1].children;let He=Le[Le.length-1];(!He||He.type!=="text")&&(He=Xe(),He.position={start:sp(he.start),end:void 0},Le.push(He)),this.stack.push(He)}function k(he){const Te=this.stack.pop();Te.value+=this.sliceSerialize(he),Te.position.end=sp(he.end)}function P(he){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Le=Te.children[Te.children.length-1];Le.position.end=sp(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Te.type)&&(A.call(this,he),k.call(this,he))}function $(){this.data.atHardBreak=!0}function N(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function O(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function j(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function M(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function B(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function V(he){const Te=this.sliceSerialize(he),Le=this.stack[this.stack.length-2];Le.label=iqe(Te),Le.identifier=W1(Te).toLowerCase()}function q(){const he=this.stack[this.stack.length-1],Te=this.resume(),Le=this.stack[this.stack.length-1];if(this.data.inReference=!0,Le.type==="link"){const He=he.children;Le.children=He}else Le.alt=Te}function D(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function U(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function W(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function z(he){const Te=this.resume(),Le=this.stack[this.stack.length-1];Le.label=Te,Le.identifier=W1(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function G(he){this.data.characterReferenceType=he.type}function ee(he){const Te=this.sliceSerialize(he),Le=this.data.characterReferenceType;let He;Le?(He=V0e(Te,Le==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=Az(Te);const lt=this.stack[this.stack.length-1];lt.value+=He}function ce(he){const Te=this.stack.pop();Te.position.end=sp(he.end)}function le(he){k.call(this,he);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(he)}function se(he){k.call(this,he);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(he)}function ge(){return{type:"blockquote",children:[]}}function be(){return{type:"code",lang:null,meta:null,value:""}}function ve(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ue(){return{type:"emphasis",children:[]}}function ht(){return{type:"heading",depth:0,children:[]}}function Je(){return{type:"break"}}function ke(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function ut(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function Mt(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function qe(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function sp(e){return{line:e.line,column:e.column,offset:e.offset}}function eye(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?eye(e,r):uqe(e,r)}}function uqe(e,t){let n;for(n in t)if(Z0e.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kee(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ix({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ix({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ix({start:t.start,end:t.end})+") is still open")}function lqe(e){const t=this;t.parser=n;function n(r){return sqe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function cqe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fqe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function dqe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function hqe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function pqe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mqe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=F_(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const l={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,l),e.applyData(t,l)}function gqe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yqe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function tye(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function vqe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return tye(e,t);const i={src:F_(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function bqe(e,t){const n={src:F_(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function _qe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wqe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return tye(e,t);const i={href:F_(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function Eqe(e,t){const n={href:F_(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xqe(e,t,n){const r=e.all(t),i=n?Tqe(n):nye(t),o={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const l={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,l),e.applyData(t,l)}function Tqe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=nye(n[r])}return t}function nye(e){const t=e.spread;return t??e.children.length>1}function Sqe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function Cqe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Aqe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Iqe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kqe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=sd(t.children[1]),u=i$(t.children[t.children.length-1]);a&&u&&(s.position={start:a,end:u}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function Rqe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let u=-1;const l=[];for(;++u<a;){const f=t.children[u],d={},h=s?s[u]:void 0;h&&(d.align=h);let p={type:"element",tagName:o,properties:d,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),l.push(p)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Pqe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Ree=9,Pee=32;function Nqe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(Nee(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(Nee(t.slice(i),i>0,!1)),o.join("")}function Nee(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Ree||o===Pee;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Ree||o===Pee;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Dqe(e,t){const n={type:"text",value:Nqe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function $qe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Oqe={blockquote:cqe,break:fqe,code:dqe,delete:hqe,emphasis:pqe,footnoteReference:mqe,heading:gqe,html:yqe,imageReference:vqe,image:bqe,inlineCode:_qe,linkReference:wqe,link:Eqe,listItem:xqe,list:Sqe,paragraph:Cqe,root:Aqe,strong:Iqe,table:kqe,tableCell:Pqe,tableRow:Rqe,text:Dqe,thematicBreak:$qe,toml:hA,yaml:hA,definition:hA,footnoteDefinition:hA};function hA(){}const rye=-1,s$=0,AR=1,IR=2,Rz=3,Pz=4,Nz=5,Dz=6,iye=7,oye=8,Dee=typeof self=="object"?self:globalThis,Mqe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case s$:case rye:return n(s,i);case AR:{const a=n([],i);for(const u of s)a.push(r(u));return a}case IR:{const a=n({},i);for(const[u,l]of s)a[r(u)]=r(l);return a}case Rz:return n(new Date(s),i);case Pz:{const{source:a,flags:u}=s;return n(new RegExp(a,u),i)}case Nz:{const a=n(new Map,i);for(const[u,l]of s)a.set(r(u),r(l));return a}case Dz:{const a=n(new Set,i);for(const u of s)a.add(r(u));return a}case iye:{const{name:a,message:u}=s;return n(new Dee[a](u),i)}case oye:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new Dee[o](s),i)};return r},$ee=e=>Mqe(new Map,e)(0),Nv="",{toString:Lqe}={},{keys:Fqe}=Object,Gw=e=>{const t=typeof e;if(t!=="object"||!e)return[s$,t];const n=Lqe.call(e).slice(8,-1);switch(n){case"Array":return[AR,Nv];case"Object":return[IR,Nv];case"Date":return[Rz,Nv];case"RegExp":return[Pz,Nv];case"Map":return[Nz,Nv];case"Set":return[Dz,Nv]}return n.includes("Array")?[AR,n]:n.includes("Error")?[iye,n]:[IR,n]},pA=([e,t])=>e===s$&&(t==="function"||t==="symbol"),jqe=(e,t,n,r)=>{const i=(s,a)=>{const u=r.push(s)-1;return n.set(a,u),u},o=s=>{if(n.has(s))return n.get(s);let[a,u]=Gw(s);switch(a){case s$:{let c=s;switch(u){case"bigint":a=oye,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);c=null;break;case"undefined":return i([rye],s)}return i([a,c],s)}case AR:{if(u)return i([u,[...s]],s);const c=[],f=i([a,c],s);for(const d of s)c.push(o(d));return f}case IR:{if(u)switch(u){case"BigInt":return i([u,s.toString()],s);case"Boolean":case"Number":case"String":return i([u,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const c=[],f=i([a,c],s);for(const d of Fqe(s))(e||!pA(Gw(s[d])))&&c.push([o(d),o(s[d])]);return f}case Rz:return i([a,s.toISOString()],s);case Pz:{const{source:c,flags:f}=s;return i([a,{source:c,flags:f}],s)}case Nz:{const c=[],f=i([a,c],s);for(const[d,h]of s)(e||!(pA(Gw(d))||pA(Gw(h))))&&c.push([o(d),o(h)]);return f}case Dz:{const c=[],f=i([a,c],s);for(const d of s)(e||!pA(Gw(d)))&&c.push(o(d));return f}}const{message:l}=s;return i([a,{name:u,message:l}],s)};return o},Oee=(e,{json:t,lossy:n}={})=>{const r=[];return jqe(!(t||n),!!t,new Map,r)(e),r},Tb=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?$ee(Oee(e,t)):structuredClone(e):(e,t)=>$ee(Oee(e,t));function Bqe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Uqe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function zqe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Bqe,r=e.options.footnoteBackLabel||Uqe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<e.footnoteOrder.length;){const l=e.footnoteById.get(e.footnoteOrder[u]);if(!l)continue;const c=e.all(l),f=String(l.identifier).toUpperCase(),d=F_(f.toLowerCase());let h=0;const p=[],m=e.footnoteCounts.get(f);for(;m!==void 0&&++h<=m;){p.length>0&&p.push({type:"text",value:" "});let v=typeof n=="string"?n:n(u,h);typeof v=="string"&&(v={type:"text",value:v}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,h),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const g=c[c.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else c.push(...p);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(c,!0)};e.patch(l,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Tb(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const sye=function(e){if(e==null)return Wqe;if(typeof e=="function")return a$(e);if(typeof e=="object")return Array.isArray(e)?Vqe(e):Hqe(e);if(typeof e=="string")return qqe(e);throw new Error("Expected function, string, or object as test")};function Vqe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sye(e[n]);return a$(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function Hqe(e){const t=e;return a$(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function qqe(e){return a$(t);function t(n){return n&&n.type===e}}function a$(e){return t;function t(n,r,i){return!!(Gqe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Wqe(){return!0}function Gqe(e){return e!==null&&typeof e=="object"&&"type"in e}const aye=[],Yqe=!0,Mee=!1,Kqe="skip";function Xqe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=sye(i),s=r?-1:1;a(e,void 0,[])();function a(u,l,c){const f=u&&typeof u=="object"?u:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=aye,p,m,g;if((!t||o(u,l,c[c.length-1]||void 0))&&(h=Qqe(n(u,c)),h[0]===Mee))return h;if("children"in u&&u.children){const y=u;if(y.children&&h[0]!==Kqe)for(m=(r?y.children.length:-1)+s,g=c.concat(y);m>-1&&m<y.children.length;){const v=y.children[m];if(p=a(v,m,g)(),p[0]===Mee)return p;m=typeof p[1]=="number"?p[1]:m+s}}return h}}}function Qqe(e){return Array.isArray(e)?e:typeof e=="number"?[Yqe,e]:e==null?aye:[e]}function $z(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),Xqe(e,o,a,i);function a(u,l){const c=l[l.length-1],f=c?c.children.indexOf(u):void 0;return s(u,f,c)}}const j5={}.hasOwnProperty,Jqe={};function Zqe(e,t){const n=t||Jqe,r=new Map,i=new Map,o=new Map,s={...Oqe,...n.handlers},a={all:l,applyData:tWe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:u,options:n,patch:eWe,wrap:rWe};return $z(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,d=String(c.identifier).toUpperCase();f.has(d)||f.set(d,c)}}),a;function u(c,f){const d=c.type,h=a.handlers[d];if(j5.call(a.handlers,d)&&h)return h(a,c,f);if(a.options.passThrough&&a.options.passThrough.includes(d)){if("children"in c){const{children:m,...g}=c,y=Tb(g);return y.children=a.all(c),y}return Tb(c)}return(a.options.unknownHandler||nWe)(a,c,f)}function l(c){const f=[];if("children"in c){const d=c.children;let h=-1;for(;++h<d.length;){const p=a.one(d[h],c);if(p){if(h&&d[h-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=Lee(p.value)),!Array.isArray(p)&&p.type==="element")){const m=p.children[0];m&&m.type==="text"&&(m.value=Lee(m.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function eWe(e,t){e.position&&(t.position=Oze(e))}function tWe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,Tb(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nWe(e,t){const n=t.data||{},r="value"in t&&!(j5.call(n,"hProperties")||j5.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rWe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Lee(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Fee(e,t){const n=Zqe(e,t),r=n.one(e,void 0),i=zqe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function iWe(e,t){return e&&"run"in e?async function(n,r){const i=Fee(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Fee(n,{file:r,...t||e})}}function jee(e){if(e)throw e}var ZI=Object.prototype.hasOwnProperty,uye=Object.prototype.toString,Bee=Object.defineProperty,Uee=Object.getOwnPropertyDescriptor,zee=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uye.call(t)==="[object Array]"},Vee=function(t){if(!t||uye.call(t)!=="[object Object]")return!1;var n=ZI.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ZI.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ZI.call(t,i)},Hee=function(t,n){Bee&&n.name==="__proto__"?Bee(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},qee=function(t,n){if(n==="__proto__")if(ZI.call(t,n)){if(Uee)return Uee(t,n).value}else return;return t[n]},oWe=function e(){var t,n,r,i,o,s,a=arguments[0],u=1,l=arguments.length,c=!1;for(typeof a=="boolean"&&(c=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<l;++u)if(t=arguments[u],t!=null)for(n in t)r=qee(a,n),i=qee(t,n),a!==i&&(c&&i&&(Vee(i)||(o=zee(i)))?(o?(o=!1,s=r&&zee(r)?r:[]):s=r&&Vee(r)?r:{},Hee(a,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&Hee(a,{name:n,newValue:i}));return a};const kL=gn(oWe);function B5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sWe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(u,...l){const c=e[++o];let f=-1;if(u){s(u);return}for(;++f<i.length;)(l[f]===null||l[f]===void 0)&&(l[f]=i[f]);i=l,c?aWe(c,a)(...l):s(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function aWe(e,t){let n;return r;function r(...s){const a=e.length>s.length;let u;a&&s.push(i);try{u=e.apply(this,s)}catch(l){const c=l;if(a&&n)throw c;return i(c)}a||(u&&u.then&&typeof u.then=="function"?u.then(o,i):u instanceof Error?i(u):o(u))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const df={basename:uWe,dirname:lWe,extname:cWe,join:fWe,sep:"/"};function uWe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');dC(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function lWe(e){if(dC(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cWe(e){dC(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function fWe(...e){let t=-1,n;for(;++t<e.length;)dC(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dWe(n)}function dWe(e){dC(e);const t=e.codePointAt(0)===47;let n=hWe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function hWe(e,t){let n="",r=0,i=-1,o=0,s=-1,a,u;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function dC(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pWe={cwd:mWe};function mWe(){return"/"}function U5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function gWe(e){if(typeof e=="string")e=new URL(e);else if(!U5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return yWe(e)}function yWe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const RL=["history","path","basename","stem","extname","dirname"];class lye{constructor(t){let n;t?U5(t)?n={path:t}:typeof t=="string"||vWe(t)?n={value:t}:n=t:n={},this.cwd=pWe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<RL.length;){const o=RL[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)RL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?df.basename(this.path):void 0}set basename(t){NL(t,"basename"),PL(t,"basename"),this.path=df.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?df.dirname(this.path):void 0}set dirname(t){Wee(this.basename,"dirname"),this.path=df.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?df.extname(this.path):void 0}set extname(t){if(PL(t,"extname"),Wee(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=df.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){U5(t)&&(t=gWe(t)),NL(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?df.basename(this.path,this.extname):void 0}set stem(t){NL(t,"stem"),PL(t,"stem"),this.path=df.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gs(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function PL(e,t){if(e&&e.includes(df.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+df.sep+"`")}function NL(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Wee(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bWe=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};Object.setPrototypeOf(o,r);const s=Object.getOwnPropertyNames(i);for(const a of s){const u=Object.getOwnPropertyDescriptor(i,a);u&&Object.defineProperty(o,a,u)}return o},_We={}.hasOwnProperty;class Oz extends bWe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sWe()}copy(){const t=new Oz;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(kL(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(OL("data",this.frozen),this.namespace[t]=n,this):_We.call(this.namespace,t)&&this.namespace[t]||void 0:t?(OL("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mA(t),r=this.parser||this.Parser;return DL("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),DL("process",this.parser||this.Parser),$L("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=mA(t),u=r.parse(a);r.run(u,a,function(c,f,d){if(c||!f||!d)return l(c);const h=f,p=r.stringify(h,d);xWe(p)?d.value=p:d.result=p,l(c,d)});function l(c,f){c||!f?s(c):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),DL("processSync",this.parser||this.Parser),$L("processSync",this.compiler||this.Compiler),this.process(t,i),Yee("processSync","process",n),r;function i(o,s){n=!0,jee(o),r=s}}run(t,n,r){Gee(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const u=mA(n);i.run(t,u,l);function l(c,f,d){const h=f||t;c?a(c):s?s(h):r(void 0,h,d)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),Yee("runSync","run",r),i;function o(s,a){jee(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=mA(n),i=this.compiler||this.Compiler;return $L("stringify",i),Gee(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(OL("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(l){if(typeof l=="function")u(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[c,...f]=l;u(c,f)}else s(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function s(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(l.plugins),l.settings&&(i.settings=kL(!0,i.settings,l.settings))}function a(l){let c=-1;if(l!=null)if(Array.isArray(l))for(;++c<l.length;){const f=l[c];o(f)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function u(l,c){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===l){d=f;break}if(d===-1)r.push([l,...c]);else if(c.length>0){let[h,...p]=c;const m=r[d][1];B5(m)&&B5(h)&&(h=kL(!0,m,h)),r[d]=[l,h,...p]}}}}const wWe=new Oz().freeze();function DL(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $L(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function OL(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Gee(e){if(!B5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Yee(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mA(e){return EWe(e)?e:new lye(e)}function EWe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function xWe(e){return typeof e=="string"||TWe(e)}function TWe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const SWe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kee=[],Xee={allowDangerousHtml:!0},CWe=/^(https?|ircs?|mailto|xmpp)$/i,AWe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function IWe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,o=e.components,s=e.disallowedElements,a=e.rehypePlugins||Kee,u=e.remarkPlugins||Kee,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Xee}:Xee,c=e.skipHtml,f=e.unwrapDisallowed,d=e.urlTransform||kWe,h=wWe().use(lqe).use(u).use(iWe,l).use(a),p=new lye;typeof r=="string"&&(p.value=r);for(const v of AWe)Object.hasOwn(e,v.from)&&(""+v.from+(v.to?"use `"+v.to+"` instead":"remove it")+SWe+v.id,void 0);const m=h.parse(p);let g=h.runSync(m,p);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),$z(g,y),Uze(g,{Fragment:T.Fragment,components:o,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function y(v,b,_){if(v.type==="raw"&&_&&typeof b=="number")return c?_.children.splice(b,1):_.children[b]={type:"text",value:v.value},b;if(v.type==="element"){let w;for(w in CL)if(Object.hasOwn(CL,w)&&Object.hasOwn(v.properties,w)){const S=v.properties[w],E=CL[w];(E===null||E.includes(v.tagName))&&(v.properties[w]=d(String(S||""),w,v))}}if(v.type==="element"){let w=t?!t.includes(v.tagName):s?s.includes(v.tagName):!1;if(!w&&n&&typeof b=="number"&&(w=!n(v,b,_)),w&&_&&typeof b=="number")return f&&v.children?_.children.splice(b,1,...v.children):_.children.splice(b,1),b}}}function kWe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||CWe.test(e.slice(0,t))?e:""}const Qee=/[#.]/g;function RWe(e,t){const n=e||"",r={};let i=0,o,s;for(;i<n.length;){Qee.lastIndex=i;const a=Qee.exec(n),u=n.slice(i,a?a.index:n.length);u&&(o?o==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:s=u,i+=u.length),a&&(o=a[0],i++)}return{type:"element",tagName:s||t||"div",properties:r,children:[]}}const PWe=new Set(["button","menu","reset","submit"]),z5={}.hasOwnProperty;function cye(e,t,n){const r=n&&OWe(n);function i(o,s,...a){let u=-1,l;if(o==null){l={type:"root",children:[]};const c=s;a.unshift(c)}else if(l=RWe(o,t),l.tagName=l.tagName.toLowerCase(),r&&z5.call(r,l.tagName)&&(l.tagName=r[l.tagName]),NWe(s,l.tagName)){let c;for(c in s)z5.call(s,c)&&DWe(e,l.properties,c,s[c])}else a.unshift(s);for(;++u<a.length;)V5(l.children,a[u]);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function NWe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?PWe.has(e.type.toLowerCase()):!("value"in e)}function DWe(e,t,n,r){const i=r$(e,n);let o=-1,s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=cee(r):i.commaSeparated?s=oee(r):i.commaOrSpaceSeparated?s=cee(oee(r).join(" ")):s=Jee(i,i.property,r):Array.isArray(r)?s=r.concat():s=i.property==="style"?$We(r):String(r);if(Array.isArray(s)){const a=[];for(;++o<s.length;){const u=Jee(i,i.property,s[o]);a[o]=u}s=a}if(i.property==="className"&&Array.isArray(t.className)){const a=s;s=t.className.concat(a)}t[i.property]=s}}function V5(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)V5(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?V5(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function Jee(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||HT(n)===HT(t)))return!0}return n}function $We(e){const t=[];let n;for(n in e)z5.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function OWe(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const MWe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],LWe=cye(fC,"div"),FWe=cye(tg,"g",MWe),ML=/\r?\n|\r/g;function jWe(e){const t=String(e),n=[];for(ML.lastIndex=0;ML.test(t);)n.push(ML.lastIndex);return n.push(t.length+1),{toPoint:r,toOffset:i};function r(o){let s=-1;if(typeof o=="number"&&o>-1&&o<n[n.length-1]){for(;++s<n.length;)if(n[s]>o)return{line:s+1,column:o-(s>0?n[s-1]:0)+1,offset:o}}}function i(o){const s=o&&o.line,a=o&&o.column;if(typeof s=="number"&&typeof a=="number"&&!Number.isNaN(s)&&!Number.isNaN(a)&&s-1 in n){const u=(n[s-2]||0)+a-1||0;if(u>-1&&u<n[n.length-1])return u}}}const d0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fye={}.hasOwnProperty,BWe=Object.prototype;function UWe(e,t){const n=t||{};return Mz({file:n.file||void 0,location:!1,schema:n.space==="svg"?tg:fC,verbose:n.verbose||!1},e)}function Mz(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ek(e,r,n),n}case"#document":case"#document-fragment":{const r=t,i="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:dye(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const o=String(e.file),s=jWe(o),a=s.toPoint(0),u=s.toPoint(o.length);n.position={start:a,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ek(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ek(e,r,n),n}default:return n=zWe(e,t),n}}function dye(e,t){let n=-1;const r=[];for(;++n<t.length;){const i=Mz(e,t[n]);r.push(i)}return r}function zWe(e,t){const n=e.schema;e.schema=t.namespaceURI===d0.svg?tg:fC;let r=-1;const i={};for(;++r<t.attrs.length;){const a=t.attrs[r],u=(a.prefix?a.prefix+":":"")+a.name;fye.call(BWe,u)||(i[u]=a.value)}const s=(e.schema.space==="svg"?FWe:LWe)(t.tagName,i,dye(e,t.childNodes));if(ek(e,t,s),s.tagName==="template"){const a=t,u=a.sourceCodeLocation,l=u&&u.startTag&&x1(u.startTag),c=u&&u.endTag&&x1(u.endTag),f=Mz(e,a.content);l&&c&&e.file&&(f.position={start:l.end,end:c.start}),s.content=f}return e.schema=n,s}function ek(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=VWe(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function VWe(e,t,n){const r=x1(n);if(t.type==="element"){const i=t.children[t.children.length-1];if(r&&!n.endTag&&i&&i.position&&i.position.end&&(r.end=Object.assign({},i.position.end)),e.verbose){const o={};let s;if(n.attrs)for(s in n.attrs)fye.call(n.attrs,s)&&(o[r$(e.schema,s).property]=x1(n.attrs[s]));n.startTag;const a=x1(n.startTag),u=n.endTag?x1(n.endTag):void 0,l={opening:a};u&&(l.closing=u),l.properties=o,t.data={position:l}}}return r}function x1(e){const t=Zee({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=Zee({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function Zee(e){return e.line&&e.column?e:void 0}const ete={}.hasOwnProperty;function hye(e,t){const n=t||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&ete.call(i,e)){const u=String(i[e]);s=ete.call(a,u)?a[u]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const HWe={},qWe={}.hasOwnProperty,pye=hye("type",{handlers:{root:GWe,element:JWe,text:XWe,comment:QWe,doctype:KWe}});function WWe(e,t){const r=(t||HWe).space;return pye(e,r==="svg"?tg:fC)}function GWe(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=Lz(e.children,n,t),j_(e,n),n}function YWe(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=Lz(e.children,n,t),j_(e,n),n}function KWe(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return j_(e,t),t}function XWe(e){const t={nodeName:"#text",value:e.value,parentNode:null};return j_(e,t),t}function QWe(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return j_(e,t),t}function JWe(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=tg);const i=[];let o;if(e.properties){for(o in e.properties)if(o!=="children"&&qWe.call(e.properties,o)){const u=ZWe(r,o,e.properties[o]);u&&i.push(u)}}const s=r.space,a={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:d0[s],childNodes:[],parentNode:null};return a.childNodes=Lz(e.children,a,r),j_(e,a),e.tagName==="template"&&e.content&&(a.content=YWe(e.content,r)),a}function ZWe(e,t,n){const r=r$(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?C0e(n):O0e(n));const i={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=i.name.indexOf(":");o<0?i.prefix="":(i.name=i.name.slice(o+1),i.prefix=r.attribute.slice(0,o)),i.namespace=d0[r.space]}return i}function Lz(e,t,n){let r=-1;const i=[];if(e)for(;++r<e.length;){const o=pye(e[r],n);o.parentNode=t,i.push(o)}return i}function j_(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const eGe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],tGe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),si="";var X;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(X=X||(X={}));const Na={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function mye(e){return e>=55296&&e<=57343}function nGe(e){return e>=56320&&e<=57343}function rGe(e,t){return(e-55296)*1024+9216+t}function gye(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function yye(e){return e>=64976&&e<=65007||tGe.has(e)}var Re;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Re=Re||(Re={}));const iGe=65536;class oGe{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=iGe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){const{line:n,col:r,offset:i}=this;return{code:t,startLine:n,endLine:n,startCol:r,endCol:r,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(nGe(n))return this.pos++,this._addGap(),rGe(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,X.EOF;return this._err(Re.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;const r=this.html.charCodeAt(n);return r===X.CARRIAGE_RETURN?X.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;let t=this.html.charCodeAt(this.pos);return t===X.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,X.LINE_FEED):t===X.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,mye(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===X.LINE_FEED||t===X.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){gye(t)?this._err(Re.controlCharacterInInputStream):yye(t)&&this._err(Re.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var In;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(In=In||(In={}));function vye(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const dp=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),sGe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var LL;const aGe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),uGe=(LL=String.fromCodePoint)!==null&&LL!==void 0?LL:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function lGe(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=aGe.get(e))!==null&&t!==void 0?t:e}var Po;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Po||(Po={}));const cGe=32;var Af;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Af||(Af={}));function H5(e){return e>=Po.ZERO&&e<=Po.NINE}function fGe(e){return e>=Po.UPPER_A&&e<=Po.UPPER_F||e>=Po.LOWER_A&&e<=Po.LOWER_F}function dGe(e){return e>=Po.UPPER_A&&e<=Po.UPPER_Z||e>=Po.LOWER_A&&e<=Po.LOWER_Z||H5(e)}function hGe(e){return e===Po.EQUALS||dGe(e)}var Co;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Co||(Co={}));var Jg;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Jg||(Jg={}));class pGe{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Co.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Jg.Strict}startEntity(t){this.decodeMode=t,this.state=Co.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Co.EntityStart:return t.charCodeAt(n)===Po.NUM?(this.state=Co.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Co.NamedEntity,this.stateNamedEntity(t,n));case Co.NumericStart:return this.stateNumericStart(t,n);case Co.NumericDecimal:return this.stateNumericDecimal(t,n);case Co.NumericHex:return this.stateNumericHex(t,n);case Co.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|cGe)===Po.LOWER_X?(this.state=Co.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Co.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,i){if(n!==r){const o=r-n;this.result=this.result*Math.pow(i,o)+parseInt(t.substr(n,o),i),this.consumed+=o}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(H5(i)||fGe(i))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const i=t.charCodeAt(n);if(H5(i))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Po.SEMI)this.consumed+=1;else if(this.decodeMode===Jg.Strict)return 0;return this.emitCodePoint(lGe(this.result),this.consumed),this.errors&&(t!==Po.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let i=r[this.treeIndex],o=(i&Af.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=_ye(r,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Jg.Attribute&&(o===0||hGe(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],o=(i&Af.VALUE_LENGTH)>>14,o!==0){if(s===Po.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Jg.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,i=(r[n]&Af.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[t]&~Af.VALUE_LENGTH:i[t+1],r),n===3&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Co.NamedEntity:return this.result!==0&&(this.decodeMode!==Jg.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Co.NumericDecimal:return this.emitNumericEntity(0,2);case Co.NumericHex:return this.emitNumericEntity(0,3);case Co.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Co.EntityStart:return 0}}}function bye(e){let t="";const n=new pGe(e,r=>t+=uGe(r));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){t+=i.slice(s,a),n.startEntity(o);const l=n.write(i,a+1);if(l<0){s=a+n.end();break}s=a+l,a=l===0?s+1:s}const u=t+i.slice(s);return t="",u}}function _ye(e,t,n,r){const i=(t&Af.BRANCH_LENGTH)>>7,o=t&Af.JUMP_TABLE;if(i===0)return o!==0&&r===o?n:-1;if(o){const u=r-o;return u<0||u>=i?-1:e[n+u]-1}let s=n,a=s+i-1;for(;s<=a;){const u=s+a>>>1,l=e[u];if(l<r)s=u+1;else if(l>r)a=u-1;else return e[u+i]}return-1}bye(dp);bye(sGe);var Fe;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Fe=Fe||(Fe={}));var om;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(om=om||(om={}));var xu;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(xu=xu||(xu={}));var Ee;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Ee=Ee||(Ee={}));var R;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(R=R||(R={}));const mGe=new Map([[Ee.A,R.A],[Ee.ADDRESS,R.ADDRESS],[Ee.ANNOTATION_XML,R.ANNOTATION_XML],[Ee.APPLET,R.APPLET],[Ee.AREA,R.AREA],[Ee.ARTICLE,R.ARTICLE],[Ee.ASIDE,R.ASIDE],[Ee.B,R.B],[Ee.BASE,R.BASE],[Ee.BASEFONT,R.BASEFONT],[Ee.BGSOUND,R.BGSOUND],[Ee.BIG,R.BIG],[Ee.BLOCKQUOTE,R.BLOCKQUOTE],[Ee.BODY,R.BODY],[Ee.BR,R.BR],[Ee.BUTTON,R.BUTTON],[Ee.CAPTION,R.CAPTION],[Ee.CENTER,R.CENTER],[Ee.CODE,R.CODE],[Ee.COL,R.COL],[Ee.COLGROUP,R.COLGROUP],[Ee.DD,R.DD],[Ee.DESC,R.DESC],[Ee.DETAILS,R.DETAILS],[Ee.DIALOG,R.DIALOG],[Ee.DIR,R.DIR],[Ee.DIV,R.DIV],[Ee.DL,R.DL],[Ee.DT,R.DT],[Ee.EM,R.EM],[Ee.EMBED,R.EMBED],[Ee.FIELDSET,R.FIELDSET],[Ee.FIGCAPTION,R.FIGCAPTION],[Ee.FIGURE,R.FIGURE],[Ee.FONT,R.FONT],[Ee.FOOTER,R.FOOTER],[Ee.FOREIGN_OBJECT,R.FOREIGN_OBJECT],[Ee.FORM,R.FORM],[Ee.FRAME,R.FRAME],[Ee.FRAMESET,R.FRAMESET],[Ee.H1,R.H1],[Ee.H2,R.H2],[Ee.H3,R.H3],[Ee.H4,R.H4],[Ee.H5,R.H5],[Ee.H6,R.H6],[Ee.HEAD,R.HEAD],[Ee.HEADER,R.HEADER],[Ee.HGROUP,R.HGROUP],[Ee.HR,R.HR],[Ee.HTML,R.HTML],[Ee.I,R.I],[Ee.IMG,R.IMG],[Ee.IMAGE,R.IMAGE],[Ee.INPUT,R.INPUT],[Ee.IFRAME,R.IFRAME],[Ee.KEYGEN,R.KEYGEN],[Ee.LABEL,R.LABEL],[Ee.LI,R.LI],[Ee.LINK,R.LINK],[Ee.LISTING,R.LISTING],[Ee.MAIN,R.MAIN],[Ee.MALIGNMARK,R.MALIGNMARK],[Ee.MARQUEE,R.MARQUEE],[Ee.MATH,R.MATH],[Ee.MENU,R.MENU],[Ee.META,R.META],[Ee.MGLYPH,R.MGLYPH],[Ee.MI,R.MI],[Ee.MO,R.MO],[Ee.MN,R.MN],[Ee.MS,R.MS],[Ee.MTEXT,R.MTEXT],[Ee.NAV,R.NAV],[Ee.NOBR,R.NOBR],[Ee.NOFRAMES,R.NOFRAMES],[Ee.NOEMBED,R.NOEMBED],[Ee.NOSCRIPT,R.NOSCRIPT],[Ee.OBJECT,R.OBJECT],[Ee.OL,R.OL],[Ee.OPTGROUP,R.OPTGROUP],[Ee.OPTION,R.OPTION],[Ee.P,R.P],[Ee.PARAM,R.PARAM],[Ee.PLAINTEXT,R.PLAINTEXT],[Ee.PRE,R.PRE],[Ee.RB,R.RB],[Ee.RP,R.RP],[Ee.RT,R.RT],[Ee.RTC,R.RTC],[Ee.RUBY,R.RUBY],[Ee.S,R.S],[Ee.SCRIPT,R.SCRIPT],[Ee.SECTION,R.SECTION],[Ee.SELECT,R.SELECT],[Ee.SOURCE,R.SOURCE],[Ee.SMALL,R.SMALL],[Ee.SPAN,R.SPAN],[Ee.STRIKE,R.STRIKE],[Ee.STRONG,R.STRONG],[Ee.STYLE,R.STYLE],[Ee.SUB,R.SUB],[Ee.SUMMARY,R.SUMMARY],[Ee.SUP,R.SUP],[Ee.TABLE,R.TABLE],[Ee.TBODY,R.TBODY],[Ee.TEMPLATE,R.TEMPLATE],[Ee.TEXTAREA,R.TEXTAREA],[Ee.TFOOT,R.TFOOT],[Ee.TD,R.TD],[Ee.TH,R.TH],[Ee.THEAD,R.THEAD],[Ee.TITLE,R.TITLE],[Ee.TR,R.TR],[Ee.TRACK,R.TRACK],[Ee.TT,R.TT],[Ee.U,R.U],[Ee.UL,R.UL],[Ee.SVG,R.SVG],[Ee.VAR,R.VAR],[Ee.WBR,R.WBR],[Ee.XMP,R.XMP]]);function B_(e){var t;return(t=mGe.get(e))!==null&&t!==void 0?t:R.UNKNOWN}const et=R,gGe={[Fe.HTML]:new Set([et.ADDRESS,et.APPLET,et.AREA,et.ARTICLE,et.ASIDE,et.BASE,et.BASEFONT,et.BGSOUND,et.BLOCKQUOTE,et.BODY,et.BR,et.BUTTON,et.CAPTION,et.CENTER,et.COL,et.COLGROUP,et.DD,et.DETAILS,et.DIR,et.DIV,et.DL,et.DT,et.EMBED,et.FIELDSET,et.FIGCAPTION,et.FIGURE,et.FOOTER,et.FORM,et.FRAME,et.FRAMESET,et.H1,et.H2,et.H3,et.H4,et.H5,et.H6,et.HEAD,et.HEADER,et.HGROUP,et.HR,et.HTML,et.IFRAME,et.IMG,et.INPUT,et.LI,et.LINK,et.LISTING,et.MAIN,et.MARQUEE,et.MENU,et.META,et.NAV,et.NOEMBED,et.NOFRAMES,et.NOSCRIPT,et.OBJECT,et.OL,et.P,et.PARAM,et.PLAINTEXT,et.PRE,et.SCRIPT,et.SECTION,et.SELECT,et.SOURCE,et.STYLE,et.SUMMARY,et.TABLE,et.TBODY,et.TD,et.TEMPLATE,et.TEXTAREA,et.TFOOT,et.TH,et.THEAD,et.TITLE,et.TR,et.TRACK,et.UL,et.WBR,et.XMP]),[Fe.MATHML]:new Set([et.MI,et.MO,et.MN,et.MS,et.MTEXT,et.ANNOTATION_XML]),[Fe.SVG]:new Set([et.TITLE,et.FOREIGN_OBJECT,et.DESC]),[Fe.XLINK]:new Set,[Fe.XML]:new Set,[Fe.XMLNS]:new Set};function wye(e){return e===et.H1||e===et.H2||e===et.H3||e===et.H4||e===et.H5||e===et.H6}Ee.STYLE,Ee.SCRIPT,Ee.XMP,Ee.IFRAME,Ee.NOEMBED,Ee.NOFRAMES,Ee.PLAINTEXT;const yGe=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var Z;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(Z||(Z={}));const Bi={DATA:Z.DATA,RCDATA:Z.RCDATA,RAWTEXT:Z.RAWTEXT,SCRIPT_DATA:Z.SCRIPT_DATA,PLAINTEXT:Z.PLAINTEXT,CDATA_SECTION:Z.CDATA_SECTION};function Rx(e){return e>=X.DIGIT_0&&e<=X.DIGIT_9}function jE(e){return e>=X.LATIN_CAPITAL_A&&e<=X.LATIN_CAPITAL_Z}function vGe(e){return e>=X.LATIN_SMALL_A&&e<=X.LATIN_SMALL_Z}function hp(e){return vGe(e)||jE(e)}function q5(e){return hp(e)||Rx(e)}function Eye(e){return e>=X.LATIN_CAPITAL_A&&e<=X.LATIN_CAPITAL_F}function xye(e){return e>=X.LATIN_SMALL_A&&e<=X.LATIN_SMALL_F}function bGe(e){return Rx(e)||Eye(e)||xye(e)}function gA(e){return e+32}function Tye(e){return e===X.SPACE||e===X.LINE_FEED||e===X.TABULATION||e===X.FORM_FEED}function _Ge(e){return e===X.EQUALS_SIGN||q5(e)}function tte(e){return Tye(e)||e===X.SOLIDUS||e===X.GREATER_THAN_SIGN}class wGe{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Z.DATA,this.returnState=Z.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new oGe(n),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var n,r;(r=(n=this.handler).onParseError)===null||r===void 0||r.call(n,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,n){this.state=t,this._callState(n)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:In.START_TAG,tagName:"",tagID:R.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:In.END_TAG,tagName:"",tagID:R.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:In.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:In.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(vye(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const i=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Re.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=B_(t.tagName),t.type===In.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Re.endTagWithAttributes),t.selfClosing&&this._err(Re.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case In.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case In.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case In.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:In.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=n;return}this._createCharacterToken(t,n)}_emitCodePoint(t){const n=Tye(t)?In.WHITESPACE_CHARACTER:t===X.NULL?In.NULL_CHARACTER:In.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(In.CHARACTER,t)}_matchNamedCharacterReference(t){let n=null,r=0,i=!1;for(let o=0,s=dp[0];o>=0&&(o=_ye(dp,s,o+1,t),!(o<0));t=this._consume()){r+=1,s=dp[o];const a=s&Af.VALUE_LENGTH;if(a){const u=(a>>14)-1;if(t!==X.SEMICOLON&&this._isCharacterReferenceInAttribute()&&_Ge(this.preprocessor.peek(1))?(n=[X.AMPERSAND],o+=u):(n=u===0?[dp[o]&~Af.VALUE_LENGTH]:u===1?[dp[++o]]:[dp[++o],dp[++o]],r=0,i=t!==X.SEMICOLON),u===0){this._consume();break}}}return this._unconsume(r),i&&!this.preprocessor.endOfChunkHit&&this._err(Re.missingSemicolonAfterCharacterReference),this._unconsume(1),n}_isCharacterReferenceInAttribute(){return this.returnState===Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Z.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Z.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case Z.DATA:{this._stateData(t);break}case Z.RCDATA:{this._stateRcdata(t);break}case Z.RAWTEXT:{this._stateRawtext(t);break}case Z.SCRIPT_DATA:{this._stateScriptData(t);break}case Z.PLAINTEXT:{this._statePlaintext(t);break}case Z.TAG_OPEN:{this._stateTagOpen(t);break}case Z.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case Z.TAG_NAME:{this._stateTagName(t);break}case Z.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case Z.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case Z.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case Z.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case Z.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case Z.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case Z.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case Z.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case Z.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case Z.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case Z.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case Z.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case Z.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case Z.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case Z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case Z.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case Z.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case Z.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case Z.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case Z.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case Z.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case Z.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case Z.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case Z.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case Z.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case Z.BOGUS_COMMENT:{this._stateBogusComment(t);break}case Z.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case Z.COMMENT_START:{this._stateCommentStart(t);break}case Z.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case Z.COMMENT:{this._stateComment(t);break}case Z.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case Z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case Z.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case Z.COMMENT_END:{this._stateCommentEnd(t);break}case Z.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case Z.DOCTYPE:{this._stateDoctype(t);break}case Z.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case Z.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case Z.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case Z.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case Z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case Z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case Z.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case Z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case Z.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case Z.CDATA_SECTION:{this._stateCdataSection(t);break}case Z.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case Z.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case Z.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case Z.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case Z.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case Z.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case Z.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case Z.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case Z.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case Z.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case X.LESS_THAN_SIGN:{this.state=Z.TAG_OPEN;break}case X.AMPERSAND:{this.returnState=Z.DATA,this.state=Z.CHARACTER_REFERENCE;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitCodePoint(t);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case X.AMPERSAND:{this.returnState=Z.RCDATA,this.state=Z.CHARACTER_REFERENCE;break}case X.LESS_THAN_SIGN:{this.state=Z.RCDATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case X.LESS_THAN_SIGN:{this.state=Z.RAWTEXT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(hp(t))this._createStartTagToken(),this.state=Z.TAG_NAME,this._stateTagName(t);else switch(t){case X.EXCLAMATION_MARK:{this.state=Z.MARKUP_DECLARATION_OPEN;break}case X.SOLIDUS:{this.state=Z.END_TAG_OPEN;break}case X.QUESTION_MARK:{this._err(Re.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t);break}case X.EOF:{this._err(Re.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Re.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Z.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(hp(t))this._createEndTagToken(),this.state=Z.TAG_NAME,this._stateTagName(t);else switch(t){case X.GREATER_THAN_SIGN:{this._err(Re.missingEndTagName),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Re.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this.state=Z.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.tagName+=si;break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(jE(t)?gA(t):t)}}_stateRcdataLessThanSign(t){t===X.SOLIDUS?this.state=Z.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Z.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){hp(t)?(this.state=Z.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=Z.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Z.BEFORE_ATTRIBUTE_NAME,!1;case X.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Z.SELF_CLOSING_START_TAG,!1;case X.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Z.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===X.SOLIDUS?this.state=Z.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){hp(t)?(this.state=Z.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case X.SOLIDUS:{this.state=Z.SCRIPT_DATA_END_TAG_OPEN;break}case X.EXCLAMATION_MARK:{this.state=Z.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){hp(t)?(this.state=Z.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===X.HYPHEN_MINUS?(this.state=Z.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===X.HYPHEN_MINUS?(this.state=Z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Z.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case X.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case X.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_ESCAPED,this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.GREATER_THAN_SIGN:{this.state=Z.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_ESCAPED,this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===X.SOLIDUS?this.state=Z.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:hp(t)?(this._emitChars("<"),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){hp(t)?(this.state=Z.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Na.SCRIPT,!1)&&tte(this.preprocessor.peek(Na.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Na.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Z.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case X.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case X.HYPHEN_MINUS:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.GREATER_THAN_SIGN:{this.state=Z.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(si);break}case X.EOF:{this._err(Re.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===X.SOLIDUS?(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Na.SCRIPT,!1)&&tte(this.preprocessor.peek(Na.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<Na.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Z.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Z.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this.state=Z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case X.EQUALS_SIGN:{this._err(Re.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Z.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this._leaveAttrName(),this.state=Z.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case X.EQUALS_SIGN:{this._leaveAttrName(),this.state=Z.BEFORE_ATTRIBUTE_VALUE;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:{this._err(Re.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.currentAttr.name+=si;break}default:this.currentAttr.name+=String.fromCodePoint(jE(t)?gA(t):t)}}_stateAfterAttributeName(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:{this.state=Z.SELF_CLOSING_START_TAG;break}case X.EQUALS_SIGN:{this.state=Z.BEFORE_ATTRIBUTE_VALUE;break}case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Z.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{this.state=Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this.state=Z.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingAttributeValue),this.state=Z.DATA,this.emitCurrentTagToken();break}default:this.state=Z.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case X.QUOTATION_MARK:{this.state=Z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=Z.CHARACTER_REFERENCE;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.currentAttr.value+=si;break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case X.APOSTROPHE:{this.state=Z.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=Z.CHARACTER_REFERENCE;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.currentAttr.value+=si;break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case X.AMPERSAND:{this.returnState=Z.ATTRIBUTE_VALUE_UNQUOTED,this.state=Z.CHARACTER_REFERENCE;break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Z.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Re.unexpectedNullCharacter),this.currentAttr.value+=si;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:case X.EQUALS_SIGN:case X.GRAVE_ACCENT:{this._err(Re.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=Z.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this._leaveAttrValue(),this.state=Z.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Z.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this._err(Re.missingWhitespaceBetweenAttributes),this.state=Z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case X.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=Z.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Re.eofInTag),this._emitEOFToken();break}default:this._err(Re.unexpectedSolidusInTag),this.state=Z.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentComment(n);break}case X.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.data+=si;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Na.DASH_DASH,!0)?(this._createCommentToken(Na.DASH_DASH.length+1),this.state=Z.COMMENT_START):this._consumeSequenceIfMatch(Na.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Na.DOCTYPE.length+1),this.state=Z.DOCTYPE):this._consumeSequenceIfMatch(Na.CDATA_START,!0)?this.inForeignNode?this.state=Z.CDATA_SECTION:(this._err(Re.cdataInHtmlContent),this._createCommentToken(Na.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Z.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Re.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Z.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case X.HYPHEN_MINUS:{this.state=Z.COMMENT_START_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptClosingOfEmptyComment),this.state=Z.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=Z.COMMENT_END;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptClosingOfEmptyComment),this.state=Z.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Z.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=Z.COMMENT_END_DASH;break}case X.LESS_THAN_SIGN:{n.data+="<",this.state=Z.COMMENT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.data+=si;break}case X.EOF:{this._err(Re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case X.EXCLAMATION_MARK:{n.data+="!",this.state=Z.COMMENT_LESS_THAN_SIGN_BANG;break}case X.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===X.HYPHEN_MINUS?this.state=Z.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Z.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===X.HYPHEN_MINUS?this.state=Z.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Z.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==X.GREATER_THAN_SIGN&&t!==X.EOF&&this._err(Re.nestedComment),this.state=Z.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{this.state=Z.COMMENT_END;break}case X.EOF:{this._err(Re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentComment(n);break}case X.EXCLAMATION_MARK:{this.state=Z.COMMENT_END_BANG;break}case X.HYPHEN_MINUS:{n.data+="-";break}case X.EOF:{this._err(Re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=Z.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case X.HYPHEN_MINUS:{n.data+="--!",this.state=Z.COMMENT_END_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Re.incorrectlyClosedComment),this.state=Z.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Re.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=Z.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=Z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case X.EOF:{this._err(Re.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingWhitespaceBeforeDoctypeName),this.state=Z.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(jE(t))this._createDoctypeToken(String.fromCharCode(gA(t))),this.state=Z.DOCTYPE_NAME;else switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.NULL:{this._err(Re.unexpectedNullCharacter),this._createDoctypeToken(si),this.state=Z.DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=Z.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.AFTER_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.name+=si;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(jE(t)?gA(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Na.PUBLIC,!1)?this.state=Z.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Na.SYSTEM,!1)?this.state=Z.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Re.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Re.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Re.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.publicId="",this.state=Z.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case X.QUOTATION_MARK:{this.state=Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.publicId+=si;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case X.APOSTROPHE:{this.state=Z.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.publicId+=si;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case X.GREATER_THAN_SIGN:{this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.QUOTATION_MARK:{this._err(Re.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Re.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.QUOTATION_MARK:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Z.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Re.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Re.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=Z.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Re.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case X.QUOTATION_MARK:{this.state=Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.systemId+=si;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case X.APOSTROPHE:{this.state=Z.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Re.unexpectedNullCharacter),n.systemId+=si;break}case X.GREATER_THAN_SIGN:{this._err(Re.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.EOF:{this._err(Re.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Re.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Z.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Z.DATA;break}case X.NULL:{this._err(Re.unexpectedNullCharacter);break}case X.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case X.RIGHT_SQUARE_BRACKET:{this.state=Z.CDATA_SECTION_BRACKET;break}case X.EOF:{this._err(Re.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===X.RIGHT_SQUARE_BRACKET?this.state=Z.CDATA_SECTION_END:(this._emitChars("]"),this.state=Z.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case X.GREATER_THAN_SIGN:{this.state=Z.DATA;break}case X.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Z.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===X.NUMBER_SIGN?this.state=Z.NUMERIC_CHARACTER_REFERENCE:q5(t)?(this.state=Z.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){const n=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(n){for(let r=0;r<n.length;r++)this._flushCodePointConsumedAsCharacterReference(n[r]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this.state=Z.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){q5(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===X.SEMICOLON&&this._err(Re.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===X.LATIN_SMALL_X||t===X.LATIN_CAPITAL_X?this.state=Z.HEXADEMICAL_CHARACTER_REFERENCE_START:Rx(t)?(this.state=Z.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(Re.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(X.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){bGe(t)?(this.state=Z.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(Re.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(X.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Eye(t)?this.charRefCode=this.charRefCode*16+t-55:xye(t)?this.charRefCode=this.charRefCode*16+t-87:Rx(t)?this.charRefCode=this.charRefCode*16+t-48:t===X.SEMICOLON?this.state=Z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Re.missingSemicolonAfterCharacterReference),this.state=Z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){Rx(t)?this.charRefCode=this.charRefCode*10+t-48:t===X.SEMICOLON?this.state=Z.NUMERIC_CHARACTER_REFERENCE_END:(this._err(Re.missingSemicolonAfterCharacterReference),this.state=Z.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===X.NULL)this._err(Re.nullCharacterReference),this.charRefCode=X.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(Re.characterReferenceOutsideUnicodeRange),this.charRefCode=X.REPLACEMENT_CHARACTER;else if(mye(this.charRefCode))this._err(Re.surrogateCharacterReference),this.charRefCode=X.REPLACEMENT_CHARACTER;else if(yye(this.charRefCode))this._err(Re.noncharacterCharacterReference);else if(gye(this.charRefCode)||this.charRefCode===X.CARRIAGE_RETURN){this._err(Re.controlCharacterReference);const n=yGe.get(this.charRefCode);n!==void 0&&(this.charRefCode=n)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}}const Sye=new Set([R.DD,R.DT,R.LI,R.OPTGROUP,R.OPTION,R.P,R.RB,R.RP,R.RT,R.RTC]),nte=new Set([...Sye,R.CAPTION,R.COLGROUP,R.TBODY,R.TD,R.TFOOT,R.TH,R.THEAD,R.TR]),yA=new Map([[R.APPLET,Fe.HTML],[R.CAPTION,Fe.HTML],[R.HTML,Fe.HTML],[R.MARQUEE,Fe.HTML],[R.OBJECT,Fe.HTML],[R.TABLE,Fe.HTML],[R.TD,Fe.HTML],[R.TEMPLATE,Fe.HTML],[R.TH,Fe.HTML],[R.ANNOTATION_XML,Fe.MATHML],[R.MI,Fe.MATHML],[R.MN,Fe.MATHML],[R.MO,Fe.MATHML],[R.MS,Fe.MATHML],[R.MTEXT,Fe.MATHML],[R.DESC,Fe.SVG],[R.FOREIGN_OBJECT,Fe.SVG],[R.TITLE,Fe.SVG]]),EGe=[R.H1,R.H2,R.H3,R.H4,R.H5,R.H6],xGe=[R.TR,R.TEMPLATE,R.HTML],TGe=[R.TBODY,R.TFOOT,R.THEAD,R.TEMPLATE,R.HTML],SGe=[R.TABLE,R.TEMPLATE,R.HTML],CGe=[R.TD,R.TH];class AGe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=R.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===R.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Fe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const i=this._indexOf(t)+1;this.items.splice(i,0,n),this.tagIDs.splice(i,0,r),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Fe.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(EGe,Fe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(CGe,Fe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.includes(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(SGe,Fe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TGe,Fe.HTML)}clearBackToTableRowContext(){this.clearBackTo(xGe,Fe.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===R.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===R.HTML}hasInScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Fe.HTML)return!0;if(yA.get(r)===i)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(wye(n)&&r===Fe.HTML)return!0;if(yA.get(n)===r)return!1}return!0}hasInListItemScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Fe.HTML)return!0;if((r===R.UL||r===R.OL)&&i===Fe.HTML||yA.get(r)===i)return!1}return!0}hasInButtonScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n],i=this.treeAdapter.getNamespaceURI(this.items[n]);if(r===t&&i===Fe.HTML)return!0;if(r===R.BUTTON&&i===Fe.HTML||yA.get(r)===i)return!1}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Fe.HTML){if(r===t)return!0;if(r===R.TABLE||r===R.TEMPLATE||r===R.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===Fe.HTML){if(n===R.TBODY||n===R.THEAD||n===R.TFOOT)return!0;if(n===R.TABLE||n===R.HTML)return!1}}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];if(this.treeAdapter.getNamespaceURI(this.items[n])===Fe.HTML){if(r===t)return!0;if(r!==R.OPTION&&r!==R.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;Sye.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;nte.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&nte.has(this.currentTagId);)this.pop()}}const FL=3;var pc;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(pc=pc||(pc={}));const rte={type:pc.Marker};class IGe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let a=0;a<this.entries.length;a++){const u=this.entries[a];if(u.type===pc.Marker)break;const{element:l}=u;if(this.treeAdapter.getTagName(l)===o&&this.treeAdapter.getNamespaceURI(l)===s){const c=this.treeAdapter.getAttrList(l);c.length===i&&r.push({idx:a,attrs:c})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<FL)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<FL)return;const i=new Map(n.map(s=>[s.name,s.value]));let o=0;for(let s=0;s<r.length;s++){const a=r[s];a.attrs.every(u=>i.get(u.name)===u.value)&&(o+=1,o>=FL&&this.entries.splice(a.idx,1))}}insertMarker(){this.entries.unshift(rte)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:pc.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:pc.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(rte);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===pc.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===pc.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===pc.Element&&n.element===t)}}function ite(e){return{nodeName:"#text",value:e,parentNode:null}}const t1={createDocument(){return{nodeName:"#document",mode:xu.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const i=e.childNodes.find(o=>o.nodeName==="#documentType");if(i)i.name=t,i.publicId=n,i.systemId=r;else{const o={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};t1.appendChild(e,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(t1.isTextNode(n)){n.value+=t;return}}t1.appendChild(e,ite(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&t1.isTextNode(r)?r.value+=t:t1.insertBefore(e,ite(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Cye="html",kGe="about:legacy-compat",RGe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Aye=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],PGe=[...Aye,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],NGe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Iye=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],DGe=[...Iye,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function ote(e,t){return t.some(n=>e.startsWith(n))}function $Ge(e){return e.name===Cye&&e.publicId===null&&(e.systemId===null||e.systemId===kGe)}function OGe(e){if(e.name!==Cye)return xu.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===RGe)return xu.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),NGe.has(n))return xu.QUIRKS;let r=t===null?PGe:Aye;if(ote(n,r))return xu.QUIRKS;if(r=t===null?Iye:DGe,ote(n,r))return xu.LIMITED_QUIRKS}return xu.NO_QUIRKS}const ste={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},MGe="definitionurl",LGe="definitionURL",FGe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),jGe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Fe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Fe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Fe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Fe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Fe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Fe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Fe.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:Fe.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:Fe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Fe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Fe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Fe.XMLNS}]]),BGe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),UGe=new Set([R.B,R.BIG,R.BLOCKQUOTE,R.BODY,R.BR,R.CENTER,R.CODE,R.DD,R.DIV,R.DL,R.DT,R.EM,R.EMBED,R.H1,R.H2,R.H3,R.H4,R.H5,R.H6,R.HEAD,R.HR,R.I,R.IMG,R.LI,R.LISTING,R.MENU,R.META,R.NOBR,R.OL,R.P,R.PRE,R.RUBY,R.S,R.SMALL,R.SPAN,R.STRONG,R.STRIKE,R.SUB,R.SUP,R.TABLE,R.TT,R.U,R.UL,R.VAR]);function zGe(e){const t=e.tagID;return t===R.FONT&&e.attrs.some(({name:r})=>r===om.COLOR||r===om.SIZE||r===om.FACE)||UGe.has(t)}function kye(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===MGe){e.attrs[t].name=LGe;break}}function Rye(e){for(let t=0;t<e.attrs.length;t++){const n=FGe.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function Fz(e){for(let t=0;t<e.attrs.length;t++){const n=jGe.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function VGe(e){const t=BGe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=B_(e.tagName))}function HGe(e,t){return t===Fe.MATHML&&(e===R.MI||e===R.MO||e===R.MN||e===R.MS||e===R.MTEXT)}function qGe(e,t,n){if(t===Fe.MATHML&&e===R.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===om.ENCODING){const i=n[r].value.toLowerCase();return i===ste.TEXT_HTML||i===ste.APPLICATION_XML}}return t===Fe.SVG&&(e===R.FOREIGN_OBJECT||e===R.DESC||e===R.TITLE)}function WGe(e,t,n,r){return(!r||r===Fe.HTML)&&qGe(e,t,n)||(!r||r===Fe.MATHML)&&HGe(e,t)}const GGe="hidden",YGe=8,KGe=3;var ne;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ne||(ne={}));const XGe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},Pye=new Set([R.TABLE,R.TBODY,R.TFOOT,R.THEAD,R.TR]),ate={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:t1,onParseError:null};let ute=class{constructor(t,n,r=null,i=null){this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ne.INITIAL,this.originalInsertionMode=ne.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...ate,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new wGe(this.options,this),this.activeFormattingElements=new IGe(this.treeAdapter),this.fragmentContextID=r?B_(this.treeAdapter.getTagName(r)):R.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new AGe(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...ate,...n};t??(t=r.treeAdapter.createElement(Ee.TEMPLATE,Fe.HTML,[]));const i=r.treeAdapter.createElement("documentmock",Fe.HTML,[]),o=new this(r,i,t);return o.fragmentContextID===R.TEMPLATE&&o.tmplInsertionModeStack.unshift(ne.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var i;if(!this.onParseError)return;const o=(i=t.location)!==null&&i!==void 0?i:XGe,s={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(s)}onItemPush(t,n,r){var i,o;(o=(i=this.treeAdapter).onItemPush)===null||o===void 0||o.call(i,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(r=this.treeAdapter).onItemPop)===null||i===void 0||i.call(r,t,this.openElements.current),n){let o,s;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,s=this.fragmentContextID):{current:o,currentTagId:s}=this.openElements,this._setContextModes(o,s)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===Fe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,Fe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=ne.TEXT}switchToPlaintextParsing(){this.insertionMode=ne.TEXT,this.originalInsertionMode=ne.IN_BODY,this.tokenizer.state=Bi.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Ee.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Fe.HTML))switch(this.fragmentContextID){case R.TITLE:case R.TEXTAREA:{this.tokenizer.state=Bi.RCDATA;break}case R.STYLE:case R.XMP:case R.IFRAME:case R.NOEMBED:case R.NOFRAMES:case R.NOSCRIPT:{this.tokenizer.state=Bi.RAWTEXT;break}case R.SCRIPT:{this.tokenizer.state=Bi.SCRIPT_DATA;break}case R.PLAINTEXT:{this.tokenizer.state=Bi.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(a=>this.treeAdapter.isDocumentTypeNode(a));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,Fe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,Fe.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Ee.HTML,Fe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,R.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(n),o=r?i.lastIndexOf(r):i.length,s=i[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:u,endCol:l,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:u,endCol:l,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,i=this.treeAdapter.getTagName(t),o=n.type===In.END_TAG&&i===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,o)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===R.SVG&&this.treeAdapter.getTagName(n)===Ee.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Fe.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===R.MGLYPH||t.tagID===R.MALIGNMARK)&&!this._isIntegrationPoint(r,n,Fe.HTML)}_processToken(t){switch(t.type){case In.CHARACTER:{this.onCharacter(t);break}case In.NULL_CHARACTER:{this.onNullCharacter(t);break}case In.COMMENT:{this.onComment(t);break}case In.DOCTYPE:{this.onDoctype(t);break}case In.START_TAG:{this._processStartTag(t);break}case In.END_TAG:{this.onEndTag(t);break}case In.EOF:{this.onEof(t);break}case In.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const i=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return WGe(t,i,o,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(i=>i.type===pc.Marker||this.openElements.contains(i.element)),r=n<0?t-1:n-1;for(let i=r;i>=0;i--){const o=this.activeFormattingElements.entries[i];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ne.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(R.P),this.openElements.popUntilTagNamePopped(R.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case R.TR:{this.insertionMode=ne.IN_ROW;return}case R.TBODY:case R.THEAD:case R.TFOOT:{this.insertionMode=ne.IN_TABLE_BODY;return}case R.CAPTION:{this.insertionMode=ne.IN_CAPTION;return}case R.COLGROUP:{this.insertionMode=ne.IN_COLUMN_GROUP;return}case R.TABLE:{this.insertionMode=ne.IN_TABLE;return}case R.BODY:{this.insertionMode=ne.IN_BODY;return}case R.FRAMESET:{this.insertionMode=ne.IN_FRAMESET;return}case R.SELECT:{this._resetInsertionModeForSelect(t);return}case R.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case R.HTML:{this.insertionMode=this.headElement?ne.AFTER_HEAD:ne.BEFORE_HEAD;return}case R.TD:case R.TH:{if(t>0){this.insertionMode=ne.IN_CELL;return}break}case R.HEAD:{if(t>0){this.insertionMode=ne.IN_HEAD;return}break}}this.insertionMode=ne.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===R.TEMPLATE)break;if(r===R.TABLE){this.insertionMode=ne.IN_SELECT_IN_TABLE;return}}this.insertionMode=ne.IN_SELECT}_isElementCausesFosterParenting(t){return Pye.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case R.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Fe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case R.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return gGe[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){CKe(this,t);return}switch(this.insertionMode){case ne.INITIAL:{Yw(this,t);break}case ne.BEFORE_HTML:{Px(this,t);break}case ne.BEFORE_HEAD:{Nx(this,t);break}case ne.IN_HEAD:{Dx(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{$x(this,t);break}case ne.AFTER_HEAD:{Ox(this,t);break}case ne.IN_BODY:case ne.IN_CAPTION:case ne.IN_CELL:case ne.IN_TEMPLATE:{Dye(this,t);break}case ne.TEXT:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{jL(this,t);break}case ne.IN_TABLE_TEXT:{jye(this,t);break}case ne.IN_COLUMN_GROUP:{kR(this,t);break}case ne.AFTER_BODY:{RR(this,t);break}case ne.AFTER_AFTER_BODY:{tk(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){SKe(this,t);return}switch(this.insertionMode){case ne.INITIAL:{Yw(this,t);break}case ne.BEFORE_HTML:{Px(this,t);break}case ne.BEFORE_HEAD:{Nx(this,t);break}case ne.IN_HEAD:{Dx(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{$x(this,t);break}case ne.AFTER_HEAD:{Ox(this,t);break}case ne.TEXT:{this._insertCharacters(t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{jL(this,t);break}case ne.IN_COLUMN_GROUP:{kR(this,t);break}case ne.AFTER_BODY:{RR(this,t);break}case ne.AFTER_AFTER_BODY:{tk(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){W5(this,t);return}switch(this.insertionMode){case ne.INITIAL:case ne.BEFORE_HTML:case ne.BEFORE_HEAD:case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:case ne.IN_BODY:case ne.IN_TABLE:case ne.IN_CAPTION:case ne.IN_COLUMN_GROUP:case ne.IN_TABLE_BODY:case ne.IN_ROW:case ne.IN_CELL:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:case ne.IN_TEMPLATE:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:{W5(this,t);break}case ne.IN_TABLE_TEXT:{Kw(this,t);break}case ne.AFTER_BODY:{rYe(this,t);break}case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{iYe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ne.INITIAL:{oYe(this,t);break}case ne.BEFORE_HEAD:case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:{this._err(t,Re.misplacedDoctype);break}case ne.IN_TABLE_TEXT:{Kw(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Re.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?AKe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ne.INITIAL:{Yw(this,t);break}case ne.BEFORE_HTML:{sYe(this,t);break}case ne.BEFORE_HEAD:{uYe(this,t);break}case ne.IN_HEAD:{Vc(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{fYe(this,t);break}case ne.AFTER_HEAD:{hYe(this,t);break}case ne.IN_BODY:{Ys(this,t);break}case ne.IN_TABLE:{Sb(this,t);break}case ne.IN_TABLE_TEXT:{Kw(this,t);break}case ne.IN_CAPTION:{lKe(this,t);break}case ne.IN_COLUMN_GROUP:{Uz(this,t);break}case ne.IN_TABLE_BODY:{c$(this,t);break}case ne.IN_ROW:{f$(this,t);break}case ne.IN_CELL:{dKe(this,t);break}case ne.IN_SELECT:{zye(this,t);break}case ne.IN_SELECT_IN_TABLE:{pKe(this,t);break}case ne.IN_TEMPLATE:{gKe(this,t);break}case ne.AFTER_BODY:{vKe(this,t);break}case ne.IN_FRAMESET:{bKe(this,t);break}case ne.AFTER_FRAMESET:{wKe(this,t);break}case ne.AFTER_AFTER_BODY:{xKe(this,t);break}case ne.AFTER_AFTER_FRAMESET:{TKe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?IKe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ne.INITIAL:{Yw(this,t);break}case ne.BEFORE_HTML:{aYe(this,t);break}case ne.BEFORE_HEAD:{lYe(this,t);break}case ne.IN_HEAD:{cYe(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{dYe(this,t);break}case ne.AFTER_HEAD:{pYe(this,t);break}case ne.IN_BODY:{l$(this,t);break}case ne.TEXT:{ZYe(this,t);break}case ne.IN_TABLE:{WT(this,t);break}case ne.IN_TABLE_TEXT:{Kw(this,t);break}case ne.IN_CAPTION:{cKe(this,t);break}case ne.IN_COLUMN_GROUP:{fKe(this,t);break}case ne.IN_TABLE_BODY:{G5(this,t);break}case ne.IN_ROW:{Uye(this,t);break}case ne.IN_CELL:{hKe(this,t);break}case ne.IN_SELECT:{Vye(this,t);break}case ne.IN_SELECT_IN_TABLE:{mKe(this,t);break}case ne.IN_TEMPLATE:{yKe(this,t);break}case ne.AFTER_BODY:{qye(this,t);break}case ne.IN_FRAMESET:{_Ke(this,t);break}case ne.AFTER_FRAMESET:{EKe(this,t);break}case ne.AFTER_AFTER_BODY:{tk(this,t);break}}}onEof(t){switch(this.insertionMode){case ne.INITIAL:{Yw(this,t);break}case ne.BEFORE_HTML:{Px(this,t);break}case ne.BEFORE_HEAD:{Nx(this,t);break}case ne.IN_HEAD:{Dx(this,t);break}case ne.IN_HEAD_NO_SCRIPT:{$x(this,t);break}case ne.AFTER_HEAD:{Ox(this,t);break}case ne.IN_BODY:case ne.IN_TABLE:case ne.IN_CAPTION:case ne.IN_COLUMN_GROUP:case ne.IN_TABLE_BODY:case ne.IN_ROW:case ne.IN_CELL:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:{Lye(this,t);break}case ne.TEXT:{eKe(this,t);break}case ne.IN_TABLE_TEXT:{Kw(this,t);break}case ne.IN_TEMPLATE:{Hye(this,t);break}case ne.AFTER_BODY:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{Bz(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===X.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ne.IN_HEAD:case ne.IN_HEAD_NO_SCRIPT:case ne.AFTER_HEAD:case ne.TEXT:case ne.IN_COLUMN_GROUP:case ne.IN_SELECT:case ne.IN_SELECT_IN_TABLE:case ne.IN_FRAMESET:case ne.AFTER_FRAMESET:{this._insertCharacters(t);break}case ne.IN_BODY:case ne.IN_CAPTION:case ne.IN_CELL:case ne.IN_TEMPLATE:case ne.AFTER_BODY:case ne.AFTER_AFTER_BODY:case ne.AFTER_AFTER_FRAMESET:{Nye(this,t);break}case ne.IN_TABLE:case ne.IN_TABLE_BODY:case ne.IN_ROW:{jL(this,t);break}case ne.IN_TABLE_TEXT:{Fye(this,t);break}}}};function QGe(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):Mye(e,t),n}function JGe(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function ZGe(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,s=i;s!==n;o++,s=i){i=e.openElements.getCommonAncestor(s);const a=e.activeFormattingElements.getElementEntry(s),u=a&&o>=KGe;!a||u?(u&&e.activeFormattingElements.removeEntry(a),e.openElements.remove(s)):(s=eYe(e,a),r===t&&(e.activeFormattingElements.bookmark=a),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(s,r),r=s)}return r}function eYe(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function tYe(e,t,n){const r=e.treeAdapter.getTagName(t),i=B_(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const o=e.treeAdapter.getNamespaceURI(t);i===R.TEMPLATE&&o===Fe.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function nYe(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function jz(e,t){for(let n=0;n<YGe;n++){const r=QGe(e,t);if(!r)break;const i=JGe(e,r);if(!i)break;e.activeFormattingElements.bookmark=r;const o=ZGe(e,i,r.element),s=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(o),s&&tYe(e,s,o),nYe(e,i,r)}}function W5(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function rYe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function iYe(e,t){e._appendCommentNode(t,e.document)}function Bz(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(r);if(i&&!i.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const o=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(o);s&&!s.endTag&&e._setEndLocation(o,t)}}}}function oYe(e,t){e._setDocumentType(t);const n=t.forceQuirks?xu.QUIRKS:OGe(t);$Ge(t)||e._err(t,Re.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ne.BEFORE_HTML}function Yw(e,t){e._err(t,Re.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,xu.QUIRKS),e.insertionMode=ne.BEFORE_HTML,e._processToken(t)}function sYe(e,t){t.tagID===R.HTML?(e._insertElement(t,Fe.HTML),e.insertionMode=ne.BEFORE_HEAD):Px(e,t)}function aYe(e,t){const n=t.tagID;(n===R.HTML||n===R.HEAD||n===R.BODY||n===R.BR)&&Px(e,t)}function Px(e,t){e._insertFakeRootElement(),e.insertionMode=ne.BEFORE_HEAD,e._processToken(t)}function uYe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.HEAD:{e._insertElement(t,Fe.HTML),e.headElement=e.openElements.current,e.insertionMode=ne.IN_HEAD;break}default:Nx(e,t)}}function lYe(e,t){const n=t.tagID;n===R.HEAD||n===R.BODY||n===R.HTML||n===R.BR?Nx(e,t):e._err(t,Re.endTagWithoutMatchingOpenElement)}function Nx(e,t){e._insertFakeElement(Ee.HEAD,R.HEAD),e.headElement=e.openElements.current,e.insertionMode=ne.IN_HEAD,e._processToken(t)}function Vc(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.BASE:case R.BASEFONT:case R.BGSOUND:case R.LINK:case R.META:{e._appendElement(t,Fe.HTML),t.ackSelfClosing=!0;break}case R.TITLE:{e._switchToTextParsing(t,Bi.RCDATA);break}case R.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Bi.RAWTEXT):(e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_HEAD_NO_SCRIPT);break}case R.NOFRAMES:case R.STYLE:{e._switchToTextParsing(t,Bi.RAWTEXT);break}case R.SCRIPT:{e._switchToTextParsing(t,Bi.SCRIPT_DATA);break}case R.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ne.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ne.IN_TEMPLATE);break}case R.HEAD:{e._err(t,Re.misplacedStartTagForHeadElement);break}default:Dx(e,t)}}function cYe(e,t){switch(t.tagID){case R.HEAD:{e.openElements.pop(),e.insertionMode=ne.AFTER_HEAD;break}case R.BODY:case R.BR:case R.HTML:{Dx(e,t);break}case R.TEMPLATE:{Hy(e,t);break}default:e._err(t,Re.endTagWithoutMatchingOpenElement)}}function Hy(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==R.TEMPLATE&&e._err(t,Re.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(R.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Re.endTagWithoutMatchingOpenElement)}function Dx(e,t){e.openElements.pop(),e.insertionMode=ne.AFTER_HEAD,e._processToken(t)}function fYe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.BASEFONT:case R.BGSOUND:case R.HEAD:case R.LINK:case R.META:case R.NOFRAMES:case R.STYLE:{Vc(e,t);break}case R.NOSCRIPT:{e._err(t,Re.nestedNoscriptInHead);break}default:$x(e,t)}}function dYe(e,t){switch(t.tagID){case R.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ne.IN_HEAD;break}case R.BR:{$x(e,t);break}default:e._err(t,Re.endTagWithoutMatchingOpenElement)}}function $x(e,t){const n=t.type===In.EOF?Re.openElementsLeftAfterEof:Re.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ne.IN_HEAD,e._processToken(t)}function hYe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.BODY:{e._insertElement(t,Fe.HTML),e.framesetOk=!1,e.insertionMode=ne.IN_BODY;break}case R.FRAMESET:{e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_FRAMESET;break}case R.BASE:case R.BASEFONT:case R.BGSOUND:case R.LINK:case R.META:case R.NOFRAMES:case R.SCRIPT:case R.STYLE:case R.TEMPLATE:case R.TITLE:{e._err(t,Re.abandonedHeadElementChild),e.openElements.push(e.headElement,R.HEAD),Vc(e,t),e.openElements.remove(e.headElement);break}case R.HEAD:{e._err(t,Re.misplacedStartTagForHeadElement);break}default:Ox(e,t)}}function pYe(e,t){switch(t.tagID){case R.BODY:case R.HTML:case R.BR:{Ox(e,t);break}case R.TEMPLATE:{Hy(e,t);break}default:e._err(t,Re.endTagWithoutMatchingOpenElement)}}function Ox(e,t){e._insertFakeElement(Ee.BODY,R.BODY),e.insertionMode=ne.IN_BODY,u$(e,t)}function u$(e,t){switch(t.type){case In.CHARACTER:{Dye(e,t);break}case In.WHITESPACE_CHARACTER:{Nye(e,t);break}case In.COMMENT:{W5(e,t);break}case In.START_TAG:{Ys(e,t);break}case In.END_TAG:{l$(e,t);break}case In.EOF:{Lye(e,t);break}}}function Nye(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Dye(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function mYe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function gYe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function yYe(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_FRAMESET)}function vYe(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML)}function bYe(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),wye(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Fe.HTML)}function _Ye(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function wYe(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML),n||(e.formElement=e.openElements.current))}function EYe(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const i=e.openElements.tagIDs[r];if(n===R.LI&&i===R.LI||(n===R.DD||n===R.DT)&&(i===R.DD||i===R.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==R.ADDRESS&&i!==R.DIV&&i!==R.P&&e._isSpecialElement(e.openElements.items[r],i))break}e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML)}function xYe(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML),e.tokenizer.state=Bi.PLAINTEXT}function TYe(e,t){e.openElements.hasInScope(R.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(R.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML),e.framesetOk=!1}function SYe(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(Ee.A);n&&(jz(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function CYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function AYe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(R.NOBR)&&(jz(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Fe.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function IYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function kYe(e,t){e.treeAdapter.getDocumentMode(e.document)!==xu.QUIRKS&&e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._insertElement(t,Fe.HTML),e.framesetOk=!1,e.insertionMode=ne.IN_TABLE}function $ye(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Oye(e){const t=vye(e,om.TYPE);return t!=null&&t.toLowerCase()===GGe}function RYe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Fe.HTML),Oye(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function PYe(e,t){e._appendElement(t,Fe.HTML),t.ackSelfClosing=!0}function NYe(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._appendElement(t,Fe.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function DYe(e,t){t.tagName=Ee.IMG,t.tagID=R.IMG,$ye(e,t)}function $Ye(e,t){e._insertElement(t,Fe.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Bi.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ne.TEXT}function OYe(e,t){e.openElements.hasInButtonScope(R.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Bi.RAWTEXT)}function MYe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Bi.RAWTEXT)}function lte(e,t){e._switchToTextParsing(t,Bi.RAWTEXT)}function LYe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ne.IN_TABLE||e.insertionMode===ne.IN_CAPTION||e.insertionMode===ne.IN_TABLE_BODY||e.insertionMode===ne.IN_ROW||e.insertionMode===ne.IN_CELL?ne.IN_SELECT_IN_TABLE:ne.IN_SELECT}function FYe(e,t){e.openElements.currentTagId===R.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML)}function jYe(e,t){e.openElements.hasInScope(R.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Fe.HTML)}function BYe(e,t){e.openElements.hasInScope(R.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(R.RTC),e._insertElement(t,Fe.HTML)}function UYe(e,t){e._reconstructActiveFormattingElements(),kye(t),Fz(t),t.selfClosing?e._appendElement(t,Fe.MATHML):e._insertElement(t,Fe.MATHML),t.ackSelfClosing=!0}function zYe(e,t){e._reconstructActiveFormattingElements(),Rye(t),Fz(t),t.selfClosing?e._appendElement(t,Fe.SVG):e._insertElement(t,Fe.SVG),t.ackSelfClosing=!0}function cte(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Fe.HTML)}function Ys(e,t){switch(t.tagID){case R.I:case R.S:case R.B:case R.U:case R.EM:case R.TT:case R.BIG:case R.CODE:case R.FONT:case R.SMALL:case R.STRIKE:case R.STRONG:{CYe(e,t);break}case R.A:{SYe(e,t);break}case R.H1:case R.H2:case R.H3:case R.H4:case R.H5:case R.H6:{bYe(e,t);break}case R.P:case R.DL:case R.OL:case R.UL:case R.DIV:case R.DIR:case R.NAV:case R.MAIN:case R.MENU:case R.ASIDE:case R.CENTER:case R.FIGURE:case R.FOOTER:case R.HEADER:case R.HGROUP:case R.DIALOG:case R.DETAILS:case R.ADDRESS:case R.ARTICLE:case R.SECTION:case R.SUMMARY:case R.FIELDSET:case R.BLOCKQUOTE:case R.FIGCAPTION:{vYe(e,t);break}case R.LI:case R.DD:case R.DT:{EYe(e,t);break}case R.BR:case R.IMG:case R.WBR:case R.AREA:case R.EMBED:case R.KEYGEN:{$ye(e,t);break}case R.HR:{NYe(e,t);break}case R.RB:case R.RTC:{jYe(e,t);break}case R.RT:case R.RP:{BYe(e,t);break}case R.PRE:case R.LISTING:{_Ye(e,t);break}case R.XMP:{OYe(e,t);break}case R.SVG:{zYe(e,t);break}case R.HTML:{mYe(e,t);break}case R.BASE:case R.LINK:case R.META:case R.STYLE:case R.TITLE:case R.SCRIPT:case R.BGSOUND:case R.BASEFONT:case R.TEMPLATE:{Vc(e,t);break}case R.BODY:{gYe(e,t);break}case R.FORM:{wYe(e,t);break}case R.NOBR:{AYe(e,t);break}case R.MATH:{UYe(e,t);break}case R.TABLE:{kYe(e,t);break}case R.INPUT:{RYe(e,t);break}case R.PARAM:case R.TRACK:case R.SOURCE:{PYe(e,t);break}case R.IMAGE:{DYe(e,t);break}case R.BUTTON:{TYe(e,t);break}case R.APPLET:case R.OBJECT:case R.MARQUEE:{IYe(e,t);break}case R.IFRAME:{MYe(e,t);break}case R.SELECT:{LYe(e,t);break}case R.OPTION:case R.OPTGROUP:{FYe(e,t);break}case R.NOEMBED:{lte(e,t);break}case R.FRAMESET:{yYe(e,t);break}case R.TEXTAREA:{$Ye(e,t);break}case R.NOSCRIPT:{e.options.scriptingEnabled?lte(e,t):cte(e,t);break}case R.PLAINTEXT:{xYe(e,t);break}case R.COL:case R.TH:case R.TD:case R.TR:case R.HEAD:case R.FRAME:case R.TBODY:case R.TFOOT:case R.THEAD:case R.CAPTION:case R.COLGROUP:break;default:cte(e,t)}}function VYe(e,t){if(e.openElements.hasInScope(R.BODY)&&(e.insertionMode=ne.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function HYe(e,t){e.openElements.hasInScope(R.BODY)&&(e.insertionMode=ne.AFTER_BODY,qye(e,t))}function qYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function WYe(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(R.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(R.FORM):n&&e.openElements.remove(n))}function GYe(e){e.openElements.hasInButtonScope(R.P)||e._insertFakeElement(Ee.P,R.P),e._closePElement()}function YYe(e){e.openElements.hasInListItemScope(R.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(R.LI),e.openElements.popUntilTagNamePopped(R.LI))}function KYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function XYe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function QYe(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function JYe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Ee.BR,R.BR),e.openElements.pop(),e.framesetOk=!1}function Mye(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const o=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==R.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(o,s))break}}function l$(e,t){switch(t.tagID){case R.A:case R.B:case R.I:case R.S:case R.U:case R.EM:case R.TT:case R.BIG:case R.CODE:case R.FONT:case R.NOBR:case R.SMALL:case R.STRIKE:case R.STRONG:{jz(e,t);break}case R.P:{GYe(e);break}case R.DL:case R.UL:case R.OL:case R.DIR:case R.DIV:case R.NAV:case R.PRE:case R.MAIN:case R.MENU:case R.ASIDE:case R.BUTTON:case R.CENTER:case R.FIGURE:case R.FOOTER:case R.HEADER:case R.HGROUP:case R.DIALOG:case R.ADDRESS:case R.ARTICLE:case R.DETAILS:case R.SECTION:case R.SUMMARY:case R.LISTING:case R.FIELDSET:case R.BLOCKQUOTE:case R.FIGCAPTION:{qYe(e,t);break}case R.LI:{YYe(e);break}case R.DD:case R.DT:{KYe(e,t);break}case R.H1:case R.H2:case R.H3:case R.H4:case R.H5:case R.H6:{XYe(e);break}case R.BR:{JYe(e);break}case R.BODY:{VYe(e,t);break}case R.HTML:{HYe(e,t);break}case R.FORM:{WYe(e);break}case R.APPLET:case R.OBJECT:case R.MARQUEE:{QYe(e,t);break}case R.TEMPLATE:{Hy(e,t);break}default:Mye(e,t)}}function Lye(e,t){e.tmplInsertionModeStack.length>0?Hye(e,t):Bz(e,t)}function ZYe(e,t){var n;t.tagID===R.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function eKe(e,t){e._err(t,Re.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function jL(e,t){if(Pye.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ne.IN_TABLE_TEXT,t.type){case In.CHARACTER:{jye(e,t);break}case In.WHITESPACE_CHARACTER:{Fye(e,t);break}}else hC(e,t)}function tKe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_CAPTION}function nKe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_COLUMN_GROUP}function rKe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ee.COLGROUP,R.COLGROUP),e.insertionMode=ne.IN_COLUMN_GROUP,Uz(e,t)}function iKe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_TABLE_BODY}function oKe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Ee.TBODY,R.TBODY),e.insertionMode=ne.IN_TABLE_BODY,c$(e,t)}function sKe(e,t){e.openElements.hasInTableScope(R.TABLE)&&(e.openElements.popUntilTagNamePopped(R.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function aKe(e,t){Oye(t)?e._appendElement(t,Fe.HTML):hC(e,t),t.ackSelfClosing=!0}function uKe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Fe.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function Sb(e,t){switch(t.tagID){case R.TD:case R.TH:case R.TR:{oKe(e,t);break}case R.STYLE:case R.SCRIPT:case R.TEMPLATE:{Vc(e,t);break}case R.COL:{rKe(e,t);break}case R.FORM:{uKe(e,t);break}case R.TABLE:{sKe(e,t);break}case R.TBODY:case R.TFOOT:case R.THEAD:{iKe(e,t);break}case R.INPUT:{aKe(e,t);break}case R.CAPTION:{tKe(e,t);break}case R.COLGROUP:{nKe(e,t);break}default:hC(e,t)}}function WT(e,t){switch(t.tagID){case R.TABLE:{e.openElements.hasInTableScope(R.TABLE)&&(e.openElements.popUntilTagNamePopped(R.TABLE),e._resetInsertionMode());break}case R.TEMPLATE:{Hy(e,t);break}case R.BODY:case R.CAPTION:case R.COL:case R.COLGROUP:case R.HTML:case R.TBODY:case R.TD:case R.TFOOT:case R.TH:case R.THEAD:case R.TR:break;default:hC(e,t)}}function hC(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,u$(e,t),e.fosterParentingEnabled=n}function Fye(e,t){e.pendingCharacterTokens.push(t)}function jye(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Kw(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)hC(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Bye=new Set([R.CAPTION,R.COL,R.COLGROUP,R.TBODY,R.TD,R.TFOOT,R.TH,R.THEAD,R.TR]);function lKe(e,t){const n=t.tagID;Bye.has(n)?e.openElements.hasInTableScope(R.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(R.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_TABLE,Sb(e,t)):Ys(e,t)}function cKe(e,t){const n=t.tagID;switch(n){case R.CAPTION:case R.TABLE:{e.openElements.hasInTableScope(R.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(R.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_TABLE,n===R.TABLE&&WT(e,t));break}case R.BODY:case R.COL:case R.COLGROUP:case R.HTML:case R.TBODY:case R.TD:case R.TFOOT:case R.TH:case R.THEAD:case R.TR:break;default:l$(e,t)}}function Uz(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.COL:{e._appendElement(t,Fe.HTML),t.ackSelfClosing=!0;break}case R.TEMPLATE:{Vc(e,t);break}default:kR(e,t)}}function fKe(e,t){switch(t.tagID){case R.COLGROUP:{e.openElements.currentTagId===R.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne.IN_TABLE);break}case R.TEMPLATE:{Hy(e,t);break}case R.COL:break;default:kR(e,t)}}function kR(e,t){e.openElements.currentTagId===R.COLGROUP&&(e.openElements.pop(),e.insertionMode=ne.IN_TABLE,e._processToken(t))}function c$(e,t){switch(t.tagID){case R.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_ROW;break}case R.TH:case R.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Ee.TR,R.TR),e.insertionMode=ne.IN_ROW,f$(e,t);break}case R.CAPTION:case R.COL:case R.COLGROUP:case R.TBODY:case R.TFOOT:case R.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE,Sb(e,t));break}default:Sb(e,t)}}function G5(e,t){const n=t.tagID;switch(t.tagID){case R.TBODY:case R.TFOOT:case R.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE);break}case R.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE,WT(e,t));break}case R.BODY:case R.CAPTION:case R.COL:case R.COLGROUP:case R.HTML:case R.TD:case R.TH:case R.TR:break;default:WT(e,t)}}function f$(e,t){switch(t.tagID){case R.TH:case R.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Fe.HTML),e.insertionMode=ne.IN_CELL,e.activeFormattingElements.insertMarker();break}case R.CAPTION:case R.COL:case R.COLGROUP:case R.TBODY:case R.TFOOT:case R.THEAD:case R.TR:{e.openElements.hasInTableScope(R.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,c$(e,t));break}default:Sb(e,t)}}function Uye(e,t){switch(t.tagID){case R.TR:{e.openElements.hasInTableScope(R.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY);break}case R.TABLE:{e.openElements.hasInTableScope(R.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,G5(e,t));break}case R.TBODY:case R.TFOOT:case R.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(R.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ne.IN_TABLE_BODY,G5(e,t));break}case R.BODY:case R.CAPTION:case R.COL:case R.COLGROUP:case R.HTML:case R.TD:case R.TH:break;default:WT(e,t)}}function dKe(e,t){const n=t.tagID;Bye.has(n)?(e.openElements.hasInTableScope(R.TD)||e.openElements.hasInTableScope(R.TH))&&(e._closeTableCell(),f$(e,t)):Ys(e,t)}function hKe(e,t){const n=t.tagID;switch(n){case R.TD:case R.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ne.IN_ROW);break}case R.TABLE:case R.TBODY:case R.TFOOT:case R.THEAD:case R.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),Uye(e,t));break}case R.BODY:case R.CAPTION:case R.COL:case R.COLGROUP:case R.HTML:break;default:l$(e,t)}}function zye(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.OPTION:{e.openElements.currentTagId===R.OPTION&&e.openElements.pop(),e._insertElement(t,Fe.HTML);break}case R.OPTGROUP:{e.openElements.currentTagId===R.OPTION&&e.openElements.pop(),e.openElements.currentTagId===R.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Fe.HTML);break}case R.INPUT:case R.KEYGEN:case R.TEXTAREA:case R.SELECT:{e.openElements.hasInSelectScope(R.SELECT)&&(e.openElements.popUntilTagNamePopped(R.SELECT),e._resetInsertionMode(),t.tagID!==R.SELECT&&e._processStartTag(t));break}case R.SCRIPT:case R.TEMPLATE:{Vc(e,t);break}}}function Vye(e,t){switch(t.tagID){case R.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===R.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===R.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===R.OPTGROUP&&e.openElements.pop();break}case R.OPTION:{e.openElements.currentTagId===R.OPTION&&e.openElements.pop();break}case R.SELECT:{e.openElements.hasInSelectScope(R.SELECT)&&(e.openElements.popUntilTagNamePopped(R.SELECT),e._resetInsertionMode());break}case R.TEMPLATE:{Hy(e,t);break}}}function pKe(e,t){const n=t.tagID;n===R.CAPTION||n===R.TABLE||n===R.TBODY||n===R.TFOOT||n===R.THEAD||n===R.TR||n===R.TD||n===R.TH?(e.openElements.popUntilTagNamePopped(R.SELECT),e._resetInsertionMode(),e._processStartTag(t)):zye(e,t)}function mKe(e,t){const n=t.tagID;n===R.CAPTION||n===R.TABLE||n===R.TBODY||n===R.TFOOT||n===R.THEAD||n===R.TR||n===R.TD||n===R.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(R.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Vye(e,t)}function gKe(e,t){switch(t.tagID){case R.BASE:case R.BASEFONT:case R.BGSOUND:case R.LINK:case R.META:case R.NOFRAMES:case R.SCRIPT:case R.STYLE:case R.TEMPLATE:case R.TITLE:{Vc(e,t);break}case R.CAPTION:case R.COLGROUP:case R.TBODY:case R.TFOOT:case R.THEAD:{e.tmplInsertionModeStack[0]=ne.IN_TABLE,e.insertionMode=ne.IN_TABLE,Sb(e,t);break}case R.COL:{e.tmplInsertionModeStack[0]=ne.IN_COLUMN_GROUP,e.insertionMode=ne.IN_COLUMN_GROUP,Uz(e,t);break}case R.TR:{e.tmplInsertionModeStack[0]=ne.IN_TABLE_BODY,e.insertionMode=ne.IN_TABLE_BODY,c$(e,t);break}case R.TD:case R.TH:{e.tmplInsertionModeStack[0]=ne.IN_ROW,e.insertionMode=ne.IN_ROW,f$(e,t);break}default:e.tmplInsertionModeStack[0]=ne.IN_BODY,e.insertionMode=ne.IN_BODY,Ys(e,t)}}function yKe(e,t){t.tagID===R.TEMPLATE&&Hy(e,t)}function Hye(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(R.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):Bz(e,t)}function vKe(e,t){t.tagID===R.HTML?Ys(e,t):RR(e,t)}function qye(e,t){var n;if(t.tagID===R.HTML){if(e.fragmentContext||(e.insertionMode=ne.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===R.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else RR(e,t)}function RR(e,t){e.insertionMode=ne.IN_BODY,u$(e,t)}function bKe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.FRAMESET:{e._insertElement(t,Fe.HTML);break}case R.FRAME:{e._appendElement(t,Fe.HTML),t.ackSelfClosing=!0;break}case R.NOFRAMES:{Vc(e,t);break}}}function _Ke(e,t){t.tagID===R.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==R.FRAMESET&&(e.insertionMode=ne.AFTER_FRAMESET))}function wKe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.NOFRAMES:{Vc(e,t);break}}}function EKe(e,t){t.tagID===R.HTML&&(e.insertionMode=ne.AFTER_AFTER_FRAMESET)}function xKe(e,t){t.tagID===R.HTML?Ys(e,t):tk(e,t)}function tk(e,t){e.insertionMode=ne.IN_BODY,u$(e,t)}function TKe(e,t){switch(t.tagID){case R.HTML:{Ys(e,t);break}case R.NOFRAMES:{Vc(e,t);break}}}function SKe(e,t){t.chars=si,e._insertCharacters(t)}function CKe(e,t){e._insertCharacters(t),e.framesetOk=!1}function Wye(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Fe.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function AKe(e,t){if(zGe(t))Wye(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===Fe.MATHML?kye(t):r===Fe.SVG&&(VGe(t),Rye(t)),Fz(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function IKe(e,t){if(t.tagID===R.P||t.tagID===R.BR){Wye(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===Fe.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}Ee.AREA,Ee.BASE,Ee.BASEFONT,Ee.BGSOUND,Ee.BR,Ee.COL,Ee.EMBED,Ee.FRAME,Ee.HR,Ee.IMG,Ee.INPUT,Ee.KEYGEN,Ee.LINK,Ee.META,Ee.PARAM,Ee.SOURCE,Ee.TRACK,Ee.WBR;const kKe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),fte={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function Gye(e,t){const n=jKe(e),r=hye("type",{handlers:{root:RKe,element:PKe,text:NKe,comment:Kye,doctype:DKe,raw:OKe},unknown:MKe}),i={parser:n?new ute(fte):ute.getFragmentParser(void 0,fte),handle(a){r(a,i)},stitches:!1,options:t||{}};r(e,i),U_(i,sd());const o=n?i.parser.document:i.parser.getFragment(),s=UWe(o,{file:i.options.file});return i.stitches&&$z(s,"comment",function(a,u,l){const c=a;if(c.value.stitch&&l&&u!==void 0){const f=l.children;return f[u]=c.value.stitch,u}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function Yye(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function RKe(e,t){Yye(e.children,t)}function PKe(e,t){LKe(e,t),Yye(e.children,t),FKe(e,t)}function NKe(e,t){const n={type:In.CHARACTER,chars:e.value,location:pC(e)};U_(t,sd(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function DKe(e,t){const n={type:In.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:pC(e)};U_(t,sd(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function $Ke(e,t){t.stitches=!0;const n=BKe(e);if("children"in e&&"children"in n){const r=Gye({type:"root",children:e.children},t.options);n.children=r.children}Kye({type:"comment",value:{stitch:n}},t)}function Kye(e,t){const n=e.value,r={type:In.COMMENT,data:n,location:pC(e)};U_(t,sd(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function OKe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,Xye(t,sd(e)),t.parser.tokenizer.write(e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function MKe(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))$Ke(n,t);else{let r="";throw kKe.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function U_(e,t){Xye(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Bi.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function Xye(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function LKe(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Bi.PLAINTEXT)return;U_(t,sd(e));const r=t.parser.openElements.current;let i="namespaceURI"in r?r.namespaceURI:d0.html;i===d0.html&&n==="svg"&&(i=d0.svg);const o=WWe({...e,children:[]},{space:i===d0.svg?"svg":"html"}),s={type:In.START_TAG,tagName:n,tagID:B_(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:pC(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function FKe(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&eGe.includes(n)||t.parser.tokenizer.state===Bi.PLAINTEXT)return;U_(t,i$(e));const r={type:In.END_TAG,tagName:n,tagID:B_(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:pC(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Bi.RCDATA||t.parser.tokenizer.state===Bi.RAWTEXT||t.parser.tokenizer.state===Bi.SCRIPT_DATA)&&(t.parser.tokenizer.state=Bi.DATA)}function jKe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function pC(e){const t=sd(e)||{line:void 0,column:void 0,offset:void 0},n=i$(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function BKe(e){return"children"in e?Tb({...e,children:[]}):Tb(e)}function UKe(e){return function(t,n){return Gye(t,{...e,file:n})}}function va({text:e,required:t}){const n={img({node:i,width:o,height:s,...a}){return T.jsx(Zm,{...a,h:s,w:o,ref:void 0})},p({node:i,...o}){return T.jsx(Tt,{...o,pb:8,fw:"inherit",ref:void 0})},h1({node:i,...o}){return T.jsx(yi,{...o,order:1,...o,pb:12})},h2({node:i,...o}){return T.jsx(yi,{...o,order:2,...o,pb:12})},h3({node:i,...o}){return T.jsx(yi,{...o,order:3,...o,pb:12})},h4({node:i,...o}){return T.jsx(yi,{...o,order:4,...o,pb:12})},h5({node:i,...o}){return T.jsx(yi,{...o,order:5,...o,pb:12})},h6({node:i,...o}){return T.jsx(yi,{...o,order:6,...o,pb:12})},a({node:i,...o}){return T.jsx(k_,{...o,ref:void 0})},ul({node:i,...o}){return T.jsx(kc,{withPadding:!0,...o,pb:8})},ol({node:i,type:o,...s}){return T.jsx(kc,{type:"ordered",withPadding:!0,...s,pb:8})}};return T.jsx(IWe,{components:n,rehypePlugins:[UKe],children:e+(t?'<span style="color: #fa5252; margin-left: 4px">*</span>':"")})}function Y5({issues:e,type:t}){const n=`
    ${t==="error"?"There was an issue loading the study config. Please check the following issues:":"There were some warnings while loading the study config. Please check the following warnings:"}

    ${e.map(r=>`- You have an error at ${r.instancePath||"root"}: ${r.message} - ${JSON.stringify(r.params)}  `).join(`
`)}
  `.replace(/\n\s+/g,`
`);return T.jsx(va,{text:n})}const zKe="https://github.com/revisit-studies/study/tree/main/public/";function VKe({globalConfig:e,studyConfigs:t}){const{configsList:n}=e,r=eg();return T.jsx(Ri.Main,{children:T.jsxs(Pl,{size:"xs",px:"xs",children:[T.jsx(Zm,{maw:150,mx:"auto",mb:"xl",radius:"md",src:`${od}revisitAssets/revisitLogoSquare.svg`,alt:"reVISit"}),T.jsx(Tt,{children:"Select an experiment to launch:"}),n.map(i=>{const o=t[i];if(!o)return null;const s=S0e(i);return T.jsx(po,{onClick:()=>{r(`/${s}`)},my:"sm",style:{width:"100%"},children:T.jsxs(jy,{shadow:"sm",radius:"md",withBorder:!0,children:[o.errors.length>0?T.jsxs(T.Fragment,{children:[T.jsx(Tt,{fw:"bold",children:i}),T.jsxs(Zt,{align:"center",direction:"row",children:[T.jsx(iee,{color:"red"}),T.jsx(Tt,{fw:"bold",ml:8,color:"red",children:"Errors"})]}),T.jsx(Y5,{issues:o.errors,type:"error"})]}):T.jsxs(T.Fragment,{children:[T.jsx(Tt,{fw:"bold",children:o.studyMetadata.title}),T.jsxs(Tt,{c:"dimmed",children:[T.jsx(Tt,{span:!0,fw:500,children:"Authors: "}),o.studyMetadata.authors]}),T.jsx(Tt,{c:"dimmed",children:o.studyMetadata.description}),T.jsx(Tt,{c:"dimmed",ta:"right",style:{paddingRight:5},children:T.jsxs(k_,{target:"_blank",onClick:a=>a.stopPropagation(),href:`${zKe}${s}`,children:["View source:"," ",s]})})]}),o.warnings.length>0&&T.jsxs(T.Fragment,{children:[T.jsxs(Zt,{align:"center",direction:"row",children:[T.jsx(iee,{color:"orange"}),T.jsx(Tt,{fw:"bold",ml:8,color:"orange",children:"Warnings"})]}),T.jsx(Y5,{issues:o.warnings,type:"warning"})]})]})},i)})]})})}var Qye={exports:{}},Jye={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=I;function HKe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qKe=typeof Object.is=="function"?Object.is:HKe,WKe=mC.useSyncExternalStore,GKe=mC.useRef,YKe=mC.useEffect,KKe=mC.useMemo,XKe=mC.useDebugValue;Jye.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=GKe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=KKe(function(){function u(h){if(!l){if(l=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,qKe(c,h))return p;var m=r(h);return i!==void 0&&i(p,m)?p:(c=h,f=m)}var l=!1,c,f,d=n===void 0?null:n;return[function(){return u(t())},d===null?void 0:function(){return u(d())}]},[t,n,r,i]);var a=WKe(e,o[0],o[1]);return YKe(function(){s.hasValue=!0,s.value=a},[a]),XKe(a),a};Qye.exports=Jye;var QKe=Qye.exports,Ru="default"in gT?ue:gT,dte=Symbol.for("react-redux-context"),hte=typeof globalThis<"u"?globalThis:{};function JKe(){if(!Ru.createContext)return{};const e=hte[dte]??(hte[dte]=new Map);let t=e.get(Ru.createContext);return t||(t=Ru.createContext(null),e.set(Ru.createContext,t)),t}var Tm=JKe(),ZKe=()=>{throw new Error("uSES not initialized!")};function zz(e=Tm){return function(){return Ru.useContext(e)}}var Zye=zz(),eve=ZKe,eXe=e=>{eve=e},tXe=(e,t)=>e===t;function nXe(e=Tm){const t=e===Tm?Zye:zz(e),n=(r,i={})=>{const{equalityFn:o=tXe,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:l,stabilityCheck:c,identityFunctionCheck:f}=t();Ru.useRef(!0);const d=Ru.useCallback({[r.name](p){return r(p)}}[r.name],[r,c,s.stabilityCheck]),h=eve(u.addNestedSub,a.getState,l||a.getState,d,o);return Ru.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var rXe=nXe();function iXe(e){e()}function oXe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iXe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var pte={notify(){},get:()=>[]};function sXe(e,t){let n,r=pte,i=0,o=!1;function s(m){c();const g=r.subscribe(m);let y=!1;return()=>{y||(y=!0,g(),f())}}function a(){r.notify()}function u(){p.onStateChange&&p.onStateChange()}function l(){return o}function c(){i++,n||(n=e.subscribe(u),r=oXe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=pte)}function d(){o||(o=!0,c())}function h(){o&&(o=!1,f())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>r};return p}var aXe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uXe=typeof navigator<"u"&&navigator.product==="ReactNative",lXe=aXe||uXe?Ru.useLayoutEffect:Ru.useEffect;function cXe({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=Ru.useMemo(()=>{const l=sXe(e);return{store:e,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[e,r,i,o]),a=Ru.useMemo(()=>e.getState(),[e]);lXe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const u=t||Tm;return Ru.createElement(u.Provider,{value:s},n)}var fXe=cXe;function tve(e=Tm){const t=e===Tm?Zye:zz(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var dXe=tve();function hXe(e=Tm){const t=e===Tm?dXe:tve(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var nve=hXe();eXe(QKe.useSyncExternalStoreWithSelector);function es(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pXe=typeof Symbol=="function"&&Symbol.observable||"@@observable",mte=pXe,BL=()=>Math.random().toString(36).substring(7).split("").join("."),mXe={INIT:`@@redux/INIT${BL()}`,REPLACE:`@@redux/REPLACE${BL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${BL()}`},PR=mXe;function Vz(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rve(e,t,n){if(typeof e!="function")throw new Error(es(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(es(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(es(1));return n(rve)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,u=!1;function l(){s===o&&(s=new Map,o.forEach((g,y)=>{s.set(y,g)}))}function c(){if(u)throw new Error(es(3));return i}function f(g){if(typeof g!="function")throw new Error(es(4));if(u)throw new Error(es(5));let y=!0;l();const v=a++;return s.set(v,g),function(){if(y){if(u)throw new Error(es(6));y=!1,l(),s.delete(v),o=null}}}function d(g){if(!Vz(g))throw new Error(es(7));if(typeof g.type>"u")throw new Error(es(8));if(typeof g.type!="string")throw new Error(es(17));if(u)throw new Error(es(9));try{u=!0,i=r(i,g)}finally{u=!1}return(o=s).forEach(v=>{v()}),g}function h(g){if(typeof g!="function")throw new Error(es(10));r=g,d({type:PR.REPLACE})}function p(){const g=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(es(11));function v(){const _=y;_.next&&_.next(c())}return v(),{unsubscribe:g(v)}},[mte](){return this}}}return d({type:PR.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:h,[mte]:p}}function gXe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:PR.INIT})>"u")throw new Error(es(12));if(typeof n(void 0,{type:PR.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(es(13))})}function yXe(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{gXe(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let u=!1;const l={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],h=s[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(es(14));l[f]=p,u=u||p!==h}return u=u||r.length!==Object.keys(s).length,u?l:s}}function NR(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function vXe(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(es(15))};const s={getState:i.getState,dispatch:(u,...l)=>o(u,...l)},a=e.map(u=>u(s));return o=NR(...a)(i.dispatch),{...i,dispatch:o}}}function bXe(e){return Vz(e)&&"type"in e&&typeof e.type=="string"}var ive=Symbol.for("immer-nothing"),gte=Symbol.for("immer-draftable"),Hu=Symbol.for("immer-state");function yc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cb=Object.getPrototypeOf;function Sm(e){return!!e&&!!e[Hu]}function Ah(e){var t;return e?ove(e)||Array.isArray(e)||!!e[gte]||!!((t=e.constructor)!=null&&t[gte])||h$(e)||p$(e):!1}var _Xe=Object.prototype.constructor.toString();function ove(e){if(!e||typeof e!="object")return!1;const t=Cb(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_Xe}function DR(e,t){d$(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function d$(e){const t=e[Hu];return t?t.type_:Array.isArray(e)?1:h$(e)?2:p$(e)?3:0}function K5(e,t){return d$(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sve(e,t,n){const r=d$(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wXe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function h$(e){return e instanceof Map}function p$(e){return e instanceof Set}function zg(e){return e.copy_||e.base_}function X5(e,t){if(h$(e))return new Map(e);if(p$(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ove(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Hu];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Cb(e),r)}else{const r=Cb(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Hz(e,t=!1){return m$(e)||Sm(e)||!Ah(e)||(d$(e)>1&&(e.set=e.add=e.clear=e.delete=EXe),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Hz(r,!0))),e}function EXe(){yc(2)}function m$(e){return Object.isFrozen(e)}var xXe={};function G0(e){const t=xXe[e];return t||yc(0,e),t}var GT;function ave(){return GT}function TXe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yte(e,t){t&&(G0("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Q5(e){J5(e),e.drafts_.forEach(SXe),e.drafts_=null}function J5(e){e===GT&&(GT=e.parent_)}function vte(e){return GT=TXe(GT,e)}function SXe(e){const t=e[Hu];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bte(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Hu].modified_&&(Q5(t),yc(4)),Ah(e)&&(e=$R(t,e),t.parent_||OR(t,e)),t.patches_&&G0("Patches").generateReplacementPatches_(n[Hu].base_,e,t.patches_,t.inversePatches_)):e=$R(t,n,[]),Q5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ive?e:void 0}function $R(e,t,n){if(m$(t))return t;const r=t[Hu];if(!r)return DR(t,(i,o)=>_te(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return OR(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),DR(o,(a,u)=>_te(e,r,i,a,u,n,s)),OR(e,i,!1),n&&e.patches_&&G0("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function _te(e,t,n,r,i,o,s){if(Sm(i)){const a=o&&t&&t.type_!==3&&!K5(t.assigned_,r)?o.concat(r):void 0,u=$R(e,i,a);if(sve(n,r,u),Sm(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ah(i)&&!m$(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$R(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&OR(e,i)}}function OR(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hz(t,n)}function CXe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ave(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=qz;n&&(i=[r],o=YT);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var qz={get(e,t){if(t===Hu)return e;const n=zg(e);if(!K5(n,t))return AXe(e,n,t);const r=n[t];return e.finalized_||!Ah(r)?r:r===UL(e.base_,t)?(zL(e),e.copy_[t]=e8(r,e)):r},has(e,t){return t in zg(e)},ownKeys(e){return Reflect.ownKeys(zg(e))},set(e,t,n){const r=uve(zg(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=UL(zg(e),t),o=i==null?void 0:i[Hu];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(wXe(n,i)&&(n!==void 0||K5(e.base_,t)))return!0;zL(e),Z5(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return UL(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zL(e),Z5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zg(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){yc(11)},getPrototypeOf(e){return Cb(e.base_)},setPrototypeOf(){yc(12)}},YT={};DR(qz,(e,t)=>{YT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});YT.deleteProperty=function(e,t){return YT.set.call(this,e,t,void 0)};YT.set=function(e,t,n){return qz.set.call(this,e[0],t,n,e[0])};function UL(e,t){const n=e[Hu];return(n?zg(n):e)[t]}function AXe(e,t,n){var i;const r=uve(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function uve(e,t){if(!(t in e))return;let n=Cb(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cb(n)}}function Z5(e){e.modified_||(e.modified_=!0,e.parent_&&Z5(e.parent_))}function zL(e){e.copy_||(e.copy_=X5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IXe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(u=o,...l){return s.produce(u,c=>n.call(this,c,...l))}}typeof n!="function"&&yc(6),r!==void 0&&typeof r!="function"&&yc(7);let i;if(Ah(t)){const o=vte(this),s=e8(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?Q5(o):J5(o)}return yte(o,r),bte(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===ive&&(i=void 0),this.autoFreeze_&&Hz(i,!0),r){const o=[],s=[];G0("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else yc(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,u=>t(u,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ah(e)||yc(8),Sm(e)&&(e=lve(e));const t=vte(this),n=e8(e,void 0);return n[Hu].isManual_=!0,J5(t),n}finishDraft(e,t){const n=e&&e[Hu];(!n||!n.isManual_)&&yc(9);const{scope_:r}=n;return yte(r,t),bte(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=G0("Patches").applyPatches_;return Sm(e)?r(e,t):this.produce(e,i=>r(i,t))}};function e8(e,t){const n=h$(e)?G0("MapSet").proxyMap_(e,t):p$(e)?G0("MapSet").proxySet_(e,t):CXe(e,t);return(t?t.scope_:ave()).drafts_.push(n),n}function lve(e){return Sm(e)||yc(10,e),cve(e)}function cve(e){if(!Ah(e)||m$(e))return e;const t=e[Hu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=X5(e,t.scope_.immer_.useStrictShallowCopy_)}else n=X5(e,!0);return DR(n,(r,i)=>{sve(n,r,cve(i))}),t&&(t.finalized_=!1),n}var qu=new IXe,fve=qu.produce;qu.produceWithPatches.bind(qu);qu.setAutoFreeze.bind(qu);qu.setUseStrictShallowCopy.bind(qu);qu.applyPatches.bind(qu);qu.createDraft.bind(qu);qu.finishDraft.bind(qu);function kXe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function RXe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PXe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var wte=e=>Array.isArray(e)?e:[e];function NXe(e){const t=Array.isArray(e[0])?e[0]:e;return PXe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function DXe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var $Xe=class{constructor(e){this.value=e}deref(){return this.value}},OXe=typeof WeakRef<"u"?WeakRef:$Xe,MXe=0,Ete=1;function vA(){return{s:MXe,v:void 0,o:null,p:null}}function Wz(e,t={}){let n=vA();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var f;let a=n;const{length:u}=arguments;for(let d=0,h=u;d<h;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=a.o;m===null&&(a.o=m=new WeakMap);const g=m.get(p);g===void 0?(a=vA(),m.set(p,a)):a=g}else{let m=a.p;m===null&&(a.p=m=new Map);const g=m.get(p);g===void 0?(a=vA(),m.set(p,a)):a=g}}const l=a;let c;if(a.s===Ete)c=a.v;else if(c=e.apply(null,arguments),o++,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new OXe(c):c}return l.s=Ete,l.v=c,c}return s.clearCache=()=>{n=vA(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function dve(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),kXe(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...n,...u},{memoize:f,memoizeOptions:d=[],argsMemoize:h=Wz,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=wte(d),y=wte(p),v=NXe(i),b=f(function(){return o++,l.apply(null,arguments)},...g),_=h(function(){s++;const S=DXe(v,arguments);return a=b.apply(null,S),a},...y);return Object.assign(_,{resultFunc:l,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var LXe=dve(Wz),FXe=Object.assign((e,t=LXe)=>{RXe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,u)=>(s[n[u]]=a,s),{}))},{withTypes:()=>FXe});function hve(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var jXe=hve(),BXe=hve,UXe=(...e)=>{const t=dve(...e),n=Object.assign((...r)=>{const i=t(...r),o=(s,...a)=>i(Sm(s)?lve(s):s,...a);return Object.assign(o,i),o},{withTypes:()=>n});return n};UXe(Wz);var zXe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?NR:NR.apply(null,arguments)};function Ab(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(nu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>bXe(r)&&r.type===e,n}var pve=class BE extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,BE.prototype)}static get[Symbol.species](){return BE}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new BE(...t[0].concat(this)):new BE(...t.concat(this))}};function xte(e){return Ah(e)?fve(e,()=>{}):e}function Tte(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(nu(10));const r=n.insert(t,e);return e.set(t,r),r}function VXe(e){return typeof e=="boolean"}var HXe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new pve;return n&&(VXe(n)?s.push(jXe):s.push(BXe(n.extraArgument))),s},qXe="RTK_autoBatch",mve=e=>t=>{setTimeout(t,e)},WXe=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mve(10),GXe=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?WXe:e.type==="callback"?e.queueNotification:mve(e.timeout),l=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[qXe]),o=!i,o&&(s||(s=!0,u(l))),r.dispatch(c)}finally{i=!0}}})},YXe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new pve(e);return r&&i.push(GXe(typeof r=="object"?r:void 0)),i},KXe=!0;function XXe(e){const t=HXe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(Vz(n))a=yXe(n);else throw new Error(nu(1));let u;typeof r=="function"?u=r(t):u=t();let l=NR;i&&(l=zXe({trace:!KXe,...typeof i=="object"&&i}));const c=vXe(...u),f=YXe(c);let d=typeof s=="function"?s(f):f();const h=l(...d);return rve(a,o,h)}function gve(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(nu(28));if(a in t)throw new Error(nu(29));return t[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function QXe(e){return typeof e=="function"}function JXe(e,t){let[n,r,i]=gve(t),o;if(QXe(e))o=()=>xte(e());else{const a=xte(e);o=()=>a}function s(a=o(),u){let l=[n[u.type],...r.filter(({matcher:c})=>c(u)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,f)=>{if(f)if(Sm(c)){const h=f(c,u);return h===void 0?c:h}else{if(Ah(c))return fve(c,d=>f(d,u));{const d=f(c,u);if(d===void 0){if(c===null)return c;throw new Error(nu(9))}return d}}return c},a)}return s.getInitialState=o,s}var ZXe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eQe=(e=21)=>{let t="",n=e;for(;n--;)t+=ZXe[Math.random()*64|0];return t},tQe=Symbol.for("rtk-slice-createasyncthunk");function nQe(e,t){return`${e}/${t}`}function rQe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[tQe];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(nu(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(sQe()):i.reducers)||{},u=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,_){const w=typeof b=="string"?b:b.type;if(!w)throw new Error(nu(12));if(w in l.sliceCaseReducersByType)throw new Error(nu(13));return l.sliceCaseReducersByType[w]=_,c},addMatcher(b,_){return l.sliceMatchers.push({matcher:b,reducer:_}),c},exposeAction(b,_){return l.actionCreators[b]=_,c},exposeCaseReducer(b,_){return l.sliceCaseReducersByName[b]=_,c}};u.forEach(b=>{const _=a[b],w={reducerName:b,type:nQe(o,b),createNotation:typeof i.reducers=="function"};uQe(_)?cQe(w,_,c,t):aQe(w,_,c)});function f(){const[b={},_=[],w=void 0]=typeof i.extraReducers=="function"?gve(i.extraReducers):[i.extraReducers],S={...b,...l.sliceCaseReducersByType};return JXe(i.initialState,E=>{for(let C in S)E.addCase(C,S[C]);for(let C of l.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of _)E.addMatcher(C.matcher,C.reducer);w&&E.addDefaultCase(w)})}const d=b=>b,h=new Map;let p;function m(b,_){return p||(p=f()),p(b,_)}function g(){return p||(p=f()),p.getInitialState()}function y(b,_=!1){function w(E){let C=E[b];return typeof C>"u"&&_&&(C=g()),C}function S(E=d){const C=Tte(h,_,{insert:()=>new WeakMap});return Tte(C,E,{insert:()=>{const A={};for(const[k,P]of Object.entries(i.selectors??{}))A[k]=iQe(P,E,g,_);return A}})}return{reducerPath:b,getSelectors:S,get selectors(){return S(w)},selectSlice:w}}const v={name:o,reducer:m,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:g,...y(s),injectInto(b,{reducerPath:_,...w}={}){const S=_??s;return b.inject({reducerPath:S,reducer:m},w),{...v,...y(S,!0)}}};return v}}function iQe(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var oQe=rQe();function sQe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function aQe({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!lQe(r))throw new Error(nu(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Ab(e,s):Ab(e))}function uQe(e){return e._reducerDefinitionType==="asyncThunk"}function lQe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function cQe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(nu(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:u,settled:l,options:c}=n,f=i(e,o,c);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),l&&r.addMatcher(f.settled,l),r.exposeCaseReducer(t,{fulfilled:s||bA,pending:a||bA,rejected:u||bA,settled:l||bA})}function bA(){}var fQe=(e,t)=>{if(typeof e!="function")throw new Error(nu(32))},Gz="listenerMiddleware",dQe=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Ab(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(nu(21));return fQe(o),{predicate:i,type:t,effect:o}},hQe=Object.assign(e=>{const{type:t,predicate:n,effect:r}=dQe(e);return{id:eQe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(nu(22))}}},{withTypes:()=>hQe}),pQe=Object.assign(Ab(`${Gz}/add`),{withTypes:()=>pQe});Ab(`${Gz}/removeAll`);var mQe=Object.assign(Ab(`${Gz}/remove`),{withTypes:()=>mQe});function nu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}function Y0(e){return e.components.flatMap(t=>typeof t=="string"?t:Y0(t))}function yve(e){var t;return[...e.components.flatMap(n=>typeof n=="string"?n:yve(n)),...((t=e.interruptions)==null?void 0:t.flatMap(n=>n.components))||[]]}function vve(e,t,n){let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string"){if(typeof t=="number"&&t===n+r)return[{currentBlock:e,firstIndex:n,lastIndex:n+Y0(e).length-1}];if(typeof t=="string"&&e.orderPath===t)return[{currentBlock:e,firstIndex:n,lastIndex:n+Y0(e).length-1}];r+=1}else{const s=vve(o,t,n+r);if(typeof s=="number")r+=s;else{const a={currentBlock:e,firstIndex:n,lastIndex:s[0].lastIndex};return[...s,a]}}}return r}function bve(e,t){const n=vve(e,t,0);return typeof n=="number"?null:n}function _ve(e,t,n){if(e.id===t)return{found:!0,distance:n};let r=0;for(let i=0;i<e.components.length;i+=1){const o=e.components[i];if(typeof o=="string")r+=1;else{const s=_ve(o,t,n+r);if(s.found)return s;r+=s.distance}}return{found:!1,distance:r}}function gQe(e,t){const n=_ve(e,t,0);return n.found?n.distance:-1}function wve(e,t="root"){const n=[],r={};return e.components.forEach((i,o)=>{typeof i=="string"?(n.push({componentName:i,orderPath:t,timesSeenInBlock:r[i]||0}),r[i]=r[i]?r[i]+1:1):n.push(...wve(i,`${t}-${o}`))}),n}async function yQe(e,t,n,r,i){const o=Y0(n),s=Object.fromEntries(o.filter(d=>d!=="end").map((d,h)=>[`${d}_${h}`,{answer:{}}])),a=Object.assign({},...o.map((d,h)=>({[`${d}_${h}`]:{aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}}}}))),u=Object.assign({},...o.map((d,h)=>({[`${d}_${h}`]:{aboveStimulus:!0,belowStimulus:!0,sidebar:!0,values:{}}}))),l={studyId:e,answers:Object.keys(i).length>0?i:s,sequence:n,config:t,showStudyBrowser:!0,showHelpText:!1,alertModal:{show:!1,message:""},trialValidation:i?u:a,iframeAnswers:{},iframeProvenance:null,metadata:r},c=oQe({name:"storeSlice",initialState:l,reducers:{setConfig(d,h){d.config=h.payload},toggleStudyBrowser:d=>{d.showStudyBrowser=!d.showStudyBrowser},toggleShowHelpText:d=>{d.showHelpText=!d.showHelpText},setAlertModal:(d,h)=>{d.alertModal=h.payload},setIframeAnswers:(d,h)=>{d.iframeAnswers=h.payload},setIframeProvenance:(d,h)=>{d.iframeProvenance=h.payload},updateResponseBlockValidation:(d,{payload:h})=>{d.trialValidation[h.identifier]||(d.trialValidation[h.identifier]={aboveStimulus:{valid:!1,values:{}},belowStimulus:{valid:!1,values:{}},sidebar:{valid:!1,values:{}},provenanceGraph:void 0}),d.trialValidation[h.identifier][h.location]={valid:h.status,values:h.values},h.provenanceGraph&&(d.trialValidation[h.identifier].provenanceGraph=h.provenanceGraph)},saveTrialAnswer(d,{payload:h}){const{identifier:p,answer:m,startTime:g,endTime:y,provenanceGraph:v,windowEvents:b}=h;d.answers[p]={answer:m,startTime:g,endTime:y,provenanceGraph:v,windowEvents:b}}}});return{store:XXe({reducer:c.reducer,preloadedState:l}),actions:c.actions}}const Eve=I.createContext(null);function Wh(){return I.useContext(Eve).actions}const Gh=nve,Hc=rXe;function vQe(e){return Hc(t=>{if(e.includes("reviewer-"))return!0;const n=Object.values(t.trialValidation[e]).every(r=>typeof r=="object"&&"valid"in r?r.valid:!0);return n?Object.values(n).every(r=>r):!1})}function Yz(){return Hc(e=>Y0(e.sequence))}function gC(){const{studyId:e}=W0();return`${e}`}function rg(){const{index:e}=W0(),t=parseInt(e||"0",10);return Number.isNaN(t)?e:t}function qy(){const e=rg(),t=Yz();return typeof e=="number"?t[e]:e.replace("reviewer-","")}var MR={exports:{}};MR.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",m="[object Map]",g="[object Number]",y="[object Null]",v="[object Object]",b="[object Proxy]",_="[object RegExp]",w="[object Set]",S="[object String]",E="[object Undefined]",C="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",P="[object Float32Array]",$="[object Float64Array]",N="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",M="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",q="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,F={};F[P]=F[$]=F[N]=F[O]=F[j]=F[M]=F[B]=F[V]=F[q]=!0,F[a]=F[u]=F[A]=F[c]=F[k]=F[f]=F[d]=F[h]=F[m]=F[g]=F[v]=F[_]=F[w]=F[S]=F[C]=!1;var z=typeof ki=="object"&&ki&&ki.Object===Object&&ki,G=typeof self=="object"&&self&&self.Object===Object&&self,ee=z||G||Function("return this")(),ce=t&&!t.nodeType&&t,le=ce&&!0&&e&&!e.nodeType&&e,se=le&&le.exports===ce,ge=se&&z.process,be=function(){try{var K=le&&le.require&&le.require("util").types;return K||ge&&ge.binding&&ge.binding("util")}catch{}}(),ve=be&&be.isTypedArray;function Ye(K,re,_e){switch(_e.length){case 0:return K.call(re);case 1:return K.call(re,_e[0]);case 2:return K.call(re,_e[0],_e[1]);case 3:return K.call(re,_e[0],_e[1],_e[2])}return K.apply(re,_e)}function Ue(K,re){for(var _e=-1,kt=Array(K);++_e<K;)kt[_e]=re(_e);return kt}function ht(K){return function(re){return K(re)}}function Je(K,re){return K==null?void 0:K[re]}function ke(K,re){return function(_e){return K(re(_e))}}var Ne=Array.prototype,ze=Function.prototype,ut=Object.prototype,Mt=ee["__core-js_shared__"],qe=ze.toString,me=ut.hasOwnProperty,Xe=function(){var K=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}(),vt=ut.toString,he=qe.call(Object),Te=RegExp("^"+qe.call(me).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=se?ee.Buffer:void 0,He=ee.Symbol,lt=ee.Uint8Array;Le&&Le.allocUnsafe;var an=ke(Object.getPrototypeOf,Object),$n=Object.create,ct=ut.propertyIsEnumerable,$t=Ne.splice,pt=He?He.toStringTag:void 0,Qt=function(){try{var K=Ke(Object,"defineProperty");return K({},"",{}),K}catch{}}(),un=Le?Le.isBuffer:void 0,Jt=Math.max,Yi=Date.now,ii=Ke(ee,"Map"),ln=Ke(Object,"create"),ir=function(){function K(){}return function(re){if(!nl(re))return{};if($n)return $n(re);K.prototype=re;var _e=new K;return K.prototype=void 0,_e}}();function dr(K){var re=-1,_e=K==null?0:K.length;for(this.clear();++re<_e;){var kt=K[re];this.set(kt[0],kt[1])}}function qr(){this.__data__=ln?ln(null):{},this.size=0}function Ia(K){var re=this.has(K)&&delete this.__data__[K];return this.size-=re?1:0,re}function Ks(K){var re=this.__data__;if(ln){var _e=re[K];return _e===r?void 0:_e}return me.call(re,K)?re[K]:void 0}function el(K){var re=this.__data__;return ln?re[K]!==void 0:me.call(re,K)}function En(K,re){var _e=this.__data__;return this.size+=this.has(K)?0:1,_e[K]=ln&&re===void 0?r:re,this}dr.prototype.clear=qr,dr.prototype.delete=Ia,dr.prototype.get=Ks,dr.prototype.has=el,dr.prototype.set=En;function Mr(K){var re=-1,_e=K==null?0:K.length;for(this.clear();++re<_e;){var kt=K[re];this.set(kt[0],kt[1])}}function Jn(){this.__data__=[],this.size=0}function Wo(K){var re=this.__data__,_e=Cn(re,K);if(_e<0)return!1;var kt=re.length-1;return _e==kt?re.pop():$t.call(re,_e,1),--this.size,!0}function Eo(K){var re=this.__data__,_e=Cn(re,K);return _e<0?void 0:re[_e][1]}function Ki(K){return Cn(this.__data__,K)>-1}function oe(K,re){var _e=this.__data__,kt=Cn(_e,K);return kt<0?(++this.size,_e.push([K,re])):_e[kt][1]=re,this}Mr.prototype.clear=Jn,Mr.prototype.delete=Wo,Mr.prototype.get=Eo,Mr.prototype.has=Ki,Mr.prototype.set=oe;function te(K){var re=-1,_e=K==null?0:K.length;for(this.clear();++re<_e;){var kt=K[re];this.set(kt[0],kt[1])}}function ae(){this.size=0,this.__data__={hash:new dr,map:new(ii||Mr),string:new dr}}function Se(K){var re=We(this,K).delete(K);return this.size-=re?1:0,re}function xe(K){return We(this,K).get(K)}function ot(K){return We(this,K).has(K)}function Pt(K,re){var _e=We(this,K),kt=_e.size;return _e.set(K,re),this.size+=_e.size==kt?0:1,this}te.prototype.clear=ae,te.prototype.delete=Se,te.prototype.get=xe,te.prototype.has=ot,te.prototype.set=Pt;function Wt(K){var re=this.__data__=new Mr(K);this.size=re.size}function yn(){this.__data__=new Mr,this.size=0}function Sn(K){var re=this.__data__,_e=re.delete(K);return this.size=re.size,_e}function cn(K){return this.__data__.get(K)}function Bn(K){return this.__data__.has(K)}function Zn(K,re){var _e=this.__data__;if(_e instanceof Mr){var kt=_e.__data__;if(!ii||kt.length<n-1)return kt.push([K,re]),this.size=++_e.size,this;_e=this.__data__=new te(kt)}return _e.set(K,re),this.size=_e.size,this}Wt.prototype.clear=yn,Wt.prototype.delete=Sn,Wt.prototype.get=cn,Wt.prototype.has=Bn,Wt.prototype.set=Zn;function Et(K,re){var _e=Ql(K),kt=!_e&&Ko(K),vn=!_e&&!kt&&Jl(K),Un=!_e&&!kt&&!vn&&wv(K),zn=_e||kt||vn||Un,Xt=zn?Ue(K.length,String):[],sr=Xt.length;for(var Pr in K)zn&&(Pr=="length"||vn&&(Pr=="offset"||Pr=="parent")||Un&&(Pr=="buffer"||Pr=="byteLength"||Pr=="byteOffset")||At(Pr,sr))||Xt.push(Pr);return Xt}function xn(K,re,_e){(_e!==void 0&&!ka(K[re],_e)||_e===void 0&&!(re in K))&&Lr(K,re,_e)}function wr(K,re,_e){var kt=K[re];(!(me.call(K,re)&&ka(kt,_e))||_e===void 0&&!(re in K))&&Lr(K,re,_e)}function Cn(K,re){for(var _e=K.length;_e--;)if(ka(K[_e][0],re))return _e;return-1}function Lr(K,re,_e){re=="__proto__"&&Qt?Qt(K,re,{configurable:!0,enumerable:!0,value:_e,writable:!0}):K[re]=_e}var Xi=$e();function br(K){return K==null?K===void 0?E:y:pt&&pt in Object(K)?Ge(K):To(K)}function Ar(K){return bs(K)&&br(K)==a}function Er(K){if(!nl(K)||Rn(K))return!1;var re=Sg(K)?Te:U;return re.test(_v(K))}function oi(K){return bs(K)&&tf(K.length)&&!!F[br(K)]}function xo(K){if(!nl(K))return hr(K);var re=or(K),_e=[];for(var kt in K)kt=="constructor"&&(re||!me.call(K,kt))||_e.push(kt);return _e}function Go(K,re,_e,kt,vn){K!==re&&Xi(re,function(Un,zn){if(vn||(vn=new Wt),nl(Un))hi(K,re,zn,_e,Go,kt,vn);else{var Xt=kt?kt(Xl(K,zn),Un,zn+"",K,re,vn):void 0;Xt===void 0&&(Xt=Un),xn(K,zn,Xt)}},Sd)}function hi(K,re,_e,kt,vn,Un,zn){var Xt=Xl(K,_e),sr=Xl(re,_e),Pr=zn.get(sr);if(Pr){xn(K,_e,Pr);return}var So=Un?Un(Xt,sr,_e+"",K,re,zn):void 0,Cg=So===void 0;if(Cg){var Ad=Ql(sr),Ev=!Ad&&Jl(sr),xv=!Ad&&!Ev&&wv(sr);So=sr,Ad||Ev||xv?Ql(Xt)?So=Xt:Ra(Xt)?So=de(Xt):Ev?(Cg=!1,So=Y(sr)):xv?(Cg=!1,So=J(sr)):So=[]:Dw(sr)||Ko(sr)?(So=Xt,Ko(Xt)?So=Td(Xt):(!nl(Xt)||Sg(Xt))&&(So=it(sr))):Cg=!1}Cg&&(zn.set(sr,So),vn(So,sr,kt,Un,zn),zn.delete(sr)),xn(K,_e,So)}function Wr(K,re){return Tg(tl(K,re,xt),K+"")}var Yo=Qt?function(K,re){return Qt(K,"toString",{configurable:!0,enumerable:!1,value:Cd(re),writable:!0})}:xt;function Y(K,re){return K.slice()}function ie(K){var re=new K.constructor(K.byteLength);return new lt(re).set(new lt(K)),re}function J(K,re){var _e=ie(K.buffer);return new K.constructor(_e,K.byteOffset,K.length)}function de(K,re){var _e=-1,kt=K.length;for(re||(re=Array(kt));++_e<kt;)re[_e]=K[_e];return re}function ye(K,re,_e,kt){var vn=!_e;_e||(_e={});for(var Un=-1,zn=re.length;++Un<zn;){var Xt=re[Un],sr=void 0;sr===void 0&&(sr=K[Xt]),vn?Lr(_e,Xt,sr):wr(_e,Xt,sr)}return _e}function fe(K){return Wr(function(re,_e){var kt=-1,vn=_e.length,Un=vn>1?_e[vn-1]:void 0,zn=vn>2?_e[2]:void 0;for(Un=K.length>3&&typeof Un=="function"?(vn--,Un):void 0,zn&&nn(_e[0],_e[1],zn)&&(Un=vn<3?void 0:Un,vn=1),re=Object(re);++kt<vn;){var Xt=_e[kt];Xt&&K(re,Xt,kt,Un)}return re})}function $e(K){return function(re,_e,kt){for(var vn=-1,Un=Object(re),zn=kt(re),Xt=zn.length;Xt--;){var sr=zn[++vn];if(_e(Un[sr],sr,Un)===!1)break}return re}}function We(K,re){var _e=K.__data__;return Lt(re)?_e[typeof re=="string"?"string":"hash"]:_e.map}function Ke(K,re){var _e=Je(K,re);return Er(_e)?_e:void 0}function Ge(K){var re=me.call(K,pt),_e=K[pt];try{K[pt]=void 0;var kt=!0}catch{}var vn=vt.call(K);return kt&&(re?K[pt]=_e:delete K[pt]),vn}function it(K){return typeof K.constructor=="function"&&!or(K)?ir(an(K)):{}}function At(K,re){var _e=typeof K;return re=re??s,!!re&&(_e=="number"||_e!="symbol"&&W.test(K))&&K>-1&&K%1==0&&K<re}function nn(K,re,_e){if(!nl(_e))return!1;var kt=typeof re;return(kt=="number"?ef(_e)&&At(re,_e.length):kt=="string"&&re in _e)?ka(_e[re],K):!1}function Lt(K){var re=typeof K;return re=="string"||re=="number"||re=="symbol"||re=="boolean"?K!=="__proto__":K===null}function Rn(K){return!!Xe&&Xe in K}function or(K){var re=K&&K.constructor,_e=typeof re=="function"&&re.prototype||ut;return K===_e}function hr(K){var re=[];if(K!=null)for(var _e in Object(K))re.push(_e);return re}function To(K){return vt.call(K)}function tl(K,re,_e){return re=Jt(re===void 0?K.length-1:re,0),function(){for(var kt=arguments,vn=-1,Un=Jt(kt.length-re,0),zn=Array(Un);++vn<Un;)zn[vn]=kt[re+vn];vn=-1;for(var Xt=Array(re+1);++vn<re;)Xt[vn]=kt[vn];return Xt[re]=_e(zn),Ye(K,this,Xt)}}function Xl(K,re){if(!(re==="constructor"&&typeof K[re]=="function")&&re!="__proto__")return K[re]}var Tg=xd(Yo);function xd(K){var re=0,_e=0;return function(){var kt=Yi(),vn=o-(kt-_e);if(_e=kt,vn>0){if(++re>=i)return arguments[0]}else re=0;return K.apply(void 0,arguments)}}function _v(K){if(K!=null){try{return qe.call(K)}catch{}try{return K+""}catch{}}return""}function ka(K,re){return K===re||K!==K&&re!==re}var Ko=Ar(function(){return arguments}())?Ar:function(K){return bs(K)&&me.call(K,"callee")&&!ct.call(K,"callee")},Ql=Array.isArray;function ef(K){return K!=null&&tf(K.length)&&!Sg(K)}function Ra(K){return bs(K)&&ef(K)}var Jl=un||mt;function Sg(K){if(!nl(K))return!1;var re=br(K);return re==h||re==p||re==l||re==b}function tf(K){return typeof K=="number"&&K>-1&&K%1==0&&K<=s}function nl(K){var re=typeof K;return K!=null&&(re=="object"||re=="function")}function bs(K){return K!=null&&typeof K=="object"}function Dw(K){if(!bs(K)||br(K)!=v)return!1;var re=an(K);if(re===null)return!0;var _e=me.call(re,"constructor")&&re.constructor;return typeof _e=="function"&&_e instanceof _e&&qe.call(_e)==he}var wv=ve?ht(ve):oi;function Td(K){return ye(K,Sd(K))}function Sd(K){return ef(K)?Et(K):xo(K)}var nf=fe(function(K,re,_e){Go(K,re,_e)});function Cd(K){return function(){return K}}function xt(K){return K}function mt(){return!1}e.exports=nf})(MR,MR.exports);var bQe=MR.exports;const Kz=gn(bQe);function Xz(e){return structuredClone(e)}function Qz(){const{answers:e}=Hc(i=>i),t=rg(),r=`${qy()}_${t}`;return e[r]}const xve=I.createContext(null);function _Qe(){const e=I.useContext(xve);if(!e)throw new Error("useWindowEvents must be used within a WindowEventsProvider");return e}function K0(){return Hc(e=>e.config)}function Ste(e,t,n,r){const i=t.slice(0,t.lastIndexOf("_")),o=Object.entries(r.components).find(([a])=>a===i),s=o?o[1]:null;if(!s)throw new Error(`Component ${i} could not be found in the study components.`);return s.correctAnswer?s.correctAnswer.every(a=>e[a.id]===a.answer):!0}function wQe(){const e=rg(),t=Yz(),r=`${qy()}_${e}`,{trialValidation:i,sequence:o,answers:s}=Hc(S=>S),a=Gh(),{saveTrialAnswer:u,setIframeAnswers:l}=Wh(),{storageEngine:c}=bo(),f=gC(),[d,h]=I.useState(!0);I.useEffect(()=>{(async()=>{if(c){const E=await c.getModes(f);h(E.dataCollectionEnabled)}})()},[c,f]);const p=vQe(r),m=typeof e!="number"||!p,g=Qz(),y=eg(),v=K0(),b=I.useMemo(()=>Date.now(),[]),_=_Qe(),w=I.useCallback(()=>{if(typeof e!="number")return;const S=Xz(i[r]),E=Object.values(S).reduce((j,M)=>Object.hasOwn(M,"values")?{...j,...M.values}:j,{}),{provenanceGraph:C}=S,A=Date.now(),k=_&&"current"in _&&_.current?_.current.splice(0,_.current.length):[];d&&!g.endTime&&(a(u({identifier:r,answer:E,startTime:b,endTime:A,provenanceGraph:C,windowEvents:k})),c&&c.saveAnswers({...s,[r]:{answer:E,startTime:b,endTime:A,provenanceGraph:C,windowEvents:k}}),a(l({})));let P=e+1;const $=bve(o,e),N=$!==null&&$.some(j=>Object.hasOwn(j.currentBlock,"skip")&&j.currentBlock.skip!==void 0),O={...s,[r]:{answer:E,startTime:b,endTime:A,provenanceGraph:C,windowEvents:k}};N&&[...$.flatMap(M=>M.currentBlock.skip?M.currentBlock.skip.map(B=>({...B,firstIndex:M.firstIndex,lastIndex:M.lastIndex})):[])].some(M=>{let B=!1;const V=Object.fromEntries(Object.entries(O).filter(([D])=>{const U=parseInt(D.slice(D.lastIndexOf("_")+1),10);return U>=M.firstIndex&&U<=e})),q=M.check!=="block"?Object.entries(V).filter(([D])=>D.slice(0,D.lastIndexOf("_"))===M.name):Object.entries(V);if(q.length===0)return!1;if(q.some(([D,U])=>!U))throw new Error(`There are components with missing response objects for the skip condition: ${JSON.stringify(M,null,2)}`);if(M.check==="response"||M.check==="responses"){const[D,U]=q[0];M.check==="response"?B=M.value!==U.answer[M.responseId]:B=!Ste(U.answer,D,v.components[D.slice(0,D.lastIndexOf("_"))],v)}else if(M.check==="block"||M.check==="repeatedComponent"){if(q.length<M.value)return!1;const D=q.map(([F,z])=>Ste(z.answer,F,v.components[F.slice(0,F.lastIndexOf("_"))],v)),U=D.filter(F=>F).length,W=D.length-U;B=M.condition==="numCorrect"&&U===M.value||M.condition==="numIncorrect"&&W===M.value}if(B){const D=t.indexOf(M.to),U=D===-1?gQe(o,M.to):-1;return P=D===-1?U:D,!0}return!1}),y(`/${f}/${P}${window.location.search}`)},[i,r,_,g,e,o,s,b,y,f,a,u,c,l,v,t]);return{isNextDisabled:m,goToNextStep:w}}function EQe({label:e="Next",disabled:t=!1,setCheckClicked:n=()=>{},onClick:r}){const{isNextDisabled:i,goToNextStep:o}=wQe(),s=I.useCallback(()=>{n(!1),r&&r(),o()},[o,r,n]);return T.jsx(Xn,{type:"submit",disabled:t||i,onClick:s,children:e})}function xQe(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const TQe=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Qo(e,t){TQe(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function SQe(e,t){e&&xQe(e),Qo(`mantine-form:${e}:set-field-value`,n=>t.setFieldValue(n.detail.path,n.detail.value)),Qo(`mantine-form:${e}:set-values`,n=>t.setValues(n.detail)),Qo(`mantine-form:${e}:set-initial-values`,n=>t.setInitialValues(n.detail)),Qo(`mantine-form:${e}:set-errors`,n=>t.setErrors(n.detail)),Qo(`mantine-form:${e}:set-field-error`,n=>t.setFieldError(n.detail.path,n.detail.error)),Qo(`mantine-form:${e}:clear-field-error`,n=>t.clearFieldError(n.detail)),Qo(`mantine-form:${e}:clear-errors`,t.clearErrors),Qo(`mantine-form:${e}:reset`,t.reset),Qo(`mantine-form:${e}:validate`,t.validate),Qo(`mantine-form:${e}:validate-field`,n=>t.validateField(n.detail)),Qo(`mantine-form:${e}:reorder-list-item`,n=>t.reorderListItem(n.detail.path,n.detail.payload)),Qo(`mantine-form:${e}:remove-list-item`,n=>t.removeListItem(n.detail.path,n.detail.index)),Qo(`mantine-form:${e}:insert-list-item`,n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Qo(`mantine-form:${e}:set-dirty`,n=>t.setDirty(n.detail)),Qo(`mantine-form:${e}:set-touched`,n=>t.setTouched(n.detail)),Qo(`mantine-form:${e}:reset-dirty`,n=>t.resetDirty(n.detail)),Qo(`mantine-form:${e}:reset-touched`,t.resetTouched)}function CQe(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function t8(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const r=e[n];return r!=null&&r!==!1&&(t[n]=r),t},{})}function AQe(e){const[t,n]=I.useState(t8(e)),r=I.useRef(t),i=I.useCallback(u=>{n(l=>{const c=t8(typeof u=="function"?u(l):u);return r.current=c,c})},[]),o=I.useCallback(()=>i({}),[]),s=I.useCallback(u=>{r.current[u]!==void 0&&i(l=>{const c={...l};return delete c[u],c})},[t]),a=I.useCallback((u,l)=>{l==null||l===!1?s(u):r.current[u]!==l&&i(c=>({...c,[u]:l}))},[t]);return{errorsState:t,setErrors:i,clearErrors:o,setFieldError:a,clearFieldError:s}}function Tve(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(r=>{r.includes(`${String(e)}.`)&&delete n[r]}),n}function Cte(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function Ate(e,t,n,r){if(t===void 0)return n;const i=`${String(e)}`;let o=n;r===-1&&(o=Tve(`${i}.${t}`,o));const s={...o},a=new Set;return Object.entries(o).filter(([u])=>{if(!u.startsWith(`${i}.`))return!1;const l=Cte(u,i);return Number.isNaN(l)?!1:l>=t}).forEach(([u,l])=>{const c=Cte(u,i),f=u.replace(`${i}.${c}`,`${i}.${c+r}`);s[f]=l,a.add(f),a.has(u)||delete s[u]}),s}function IQe(e,{from:t,to:n},r){const i=`${e}.${t}`,o=`${e}.${n}`,s={...r};return Object.keys(r).every(a=>{let u,l;if(a.startsWith(i)&&(u=a,l=a.replace(i,o)),a.startsWith(o)&&(u=a.replace(o,i),l=a),u&&l){const c=s[u],f=s[l];return f===void 0?delete s[u]:s[u]=f,c===void 0?delete s[l]:s[l]=c,!1}return!0}),s}function Ite(e,t,n){typeof n.value=="object"&&(n.value=T1(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function T1(e){if(typeof e!="object")return e;var t=0,n,r,i,o=Object.prototype.toString.call(e);if(o==="[object Object]"?i=Object.create(e.__proto__||null):o==="[object Array]"?i=Array(e.length):o==="[object Set]"?(i=new Set,e.forEach(function(s){i.add(T1(s))})):o==="[object Map]"?(i=new Map,e.forEach(function(s,a){i.set(T1(a),T1(s))})):o==="[object Date]"?i=new Date(+e):o==="[object RegExp]"?i=new RegExp(e.source,e.flags):o==="[object DataView]"?i=new e.constructor(T1(e.buffer)):o==="[object ArrayBuffer]"?i=e.slice(0):o.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)Ite(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||Ite(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}function Sve(e){return typeof e!="string"?[]:e.split(".")}function Ga(e,t){const n=Sve(e);if(n.length===0||typeof t!="object"||t===null)return;let r=t[n[0]];for(let i=1;i<n.length&&r!==void 0;i+=1)r=r[n[i]];return r}function g$(e,t,n){const r=Sve(e);if(r.length===0)return n;const i=T1(n);if(r.length===1)return i[r[0]]=t,i;let o=i[r[0]];for(let s=1;s<r.length-1;s+=1){if(o===void 0)return i;o=o[r[s]]}return o[r[r.length-1]]=t,i}function kQe(e,{from:t,to:n},r){const i=Ga(e,r);if(!Array.isArray(i))return r;const o=[...i],s=i[t];return o.splice(t,1),o.splice(n,0,s),g$(e,o,r)}function RQe(e,t,n,r){const i=Ga(e,r);if(!Array.isArray(i))return r;const o=[...i];return o.splice(typeof n=="number"?n:o.length,0,t),g$(e,o,r)}function PQe(e,t,n){const r=Ga(e,n);return Array.isArray(r)?g$(e,r.filter((i,o)=>o!==t),n):n}function NQe({$values:e,$errors:t,$status:n}){const r=I.useCallback((s,a)=>{n.clearFieldDirty(s),t.setErrors(u=>IQe(s,a,u)),e.setValues({values:kQe(s,a,e.refValues.current),updateState:!0})},[]),i=I.useCallback((s,a)=>{n.clearFieldDirty(s),t.setErrors(u=>Ate(s,a,u,-1)),e.setValues({values:PQe(s,a,e.refValues.current),updateState:!0})},[]),o=I.useCallback((s,a,u)=>{n.clearFieldDirty(s),t.setErrors(l=>Ate(s,u,l,1)),e.setValues({values:RQe(s,a,u,e.refValues.current),updateState:!0})},[]);return{reorderListItem:r,removeListItem:i,insertListItem:o}}var Jz=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const nk=gn(Jz);function _A(e,t){const n=Object.keys(e);if(typeof t=="string"){const r=n.filter(i=>i.startsWith(`${t}.`));return e[t]||r.some(i=>e[i])||!1}return n.some(r=>e[r])}function DQe({initialDirty:e,initialTouched:t,mode:n,$values:r}){const[i,o]=I.useState(t),[s,a]=I.useState(e),u=I.useRef(t),l=I.useRef(e),c=I.useCallback(w=>{const S=typeof w=="function"?w(u.current):w;u.current=S,n==="controlled"&&o(S)},[]),f=I.useCallback(w=>{const S=typeof w=="function"?w(l.current):w;l.current=S,n==="controlled"&&a(S)},[]),d=I.useCallback(()=>c({}),[]),h=w=>{const S=w?{...w,...r.refValues.current}:r.refValues.current;r.setValuesSnapshot(S),f({})},p=I.useCallback((w,S)=>{c(E=>_A(E,w)===S?E:{...E,[w]:S})},[]),m=I.useCallback((w,S)=>{f(E=>_A(E,w)===S?E:{...E,[w]:S})},[]),g=I.useCallback(w=>_A(u.current,w),[]),y=I.useCallback(w=>f(S=>{if(typeof w!="string")return S;const E=Tve(w,S);return delete E[w],nk(E,S)?S:E}),[]),v=I.useCallback(w=>{if(w){const E=Ga(w,l.current);if(typeof E=="boolean")return E;const C=Ga(w,r.refValues.current),A=Ga(w,r.valuesSnapshot.current);return!nk(C,A)}return Object.keys(l.current).length>0?_A(l.current):!nk(r.refValues.current,r.valuesSnapshot.current)},[]),b=I.useCallback(()=>l.current,[]),_=I.useCallback(()=>u.current,[]);return{touchedState:i,dirtyState:s,touchedRef:u,dirtyRef:l,setTouched:c,setDirty:f,resetDirty:h,resetTouched:d,isTouched:g,setFieldTouched:p,setFieldDirty:m,setTouchedState:o,setDirtyState:a,clearFieldDirty:y,isDirty:v,getDirty:b,getTouched:_}}function $Qe({initialValues:e,onValuesChange:t,mode:n}){const r=I.useRef(!1),[i,o]=I.useState(e||{}),s=I.useRef(i),a=I.useRef(i),u=I.useCallback(({values:p,subscribers:m,updateState:g=!0,mergeWithPreviousValues:y=!0})=>{const v=s.current,b=p instanceof Function?p(s.current):p,_=y?{...v,...b}:b;s.current=_,g&&o(_),t==null||t(_,v),m==null||m.filter(Boolean).forEach(w=>w({updatedValues:_,previousValues:v}))},[t]),l=I.useCallback(p=>{var y;const m=Ga(p.path,s.current),g=p.value instanceof Function?p.value(m):p.value;if(m!==g){const v=s.current,b=g$(p.path,g,s.current);u({values:b,updateState:p.updateState}),(y=p.subscribers)==null||y.filter(Boolean).forEach(_=>_({path:p.path,updatedValues:b,previousValues:v}))}},[]),c=I.useCallback(p=>{a.current=p},[]),f=I.useCallback((p,m)=>{r.current||(r.current=!0,u({values:p,updateState:n==="controlled"}),c(p),m())},[]),d=I.useCallback(()=>{u({values:a.current,updateState:!0,mergeWithPreviousValues:!1})},[]),h=I.useCallback(()=>s.current,[]);return{initialized:r,stateValues:i,refValues:s,valuesSnapshot:a,setValues:u,setFieldValue:l,resetValues:d,setValuesSnapshot:c,initialize:f,getValues:h}}function OQe({$status:e}){const t=I.useRef({}),n=I.useCallback((i,o)=>{I.useEffect(()=>(t.current[i]=t.current[i]||[],t.current[i].push(o),()=>{t.current[i]=t.current[i].filter(s=>s!==o)}),[o])},[]),r=I.useCallback(i=>t.current[i]?t.current[i].map(o=>s=>o({previousValue:Ga(i,s.previousValues),value:Ga(i,s.updatedValues),touched:e.isTouched(i),dirty:e.isDirty(i)})):[],[]);return{subscribers:t,watch:n,getFieldSubscribers:r}}function kte(e,t){return e?`${e}-${t.toString()}`:t.toString()}function Rte(e){const t=t8(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function n8(e,t,n="",r={}){return typeof e!="object"||e===null?r:Object.keys(e).reduce((i,o)=>{const s=e[o],a=`${n===""?"":`${n}.`}${o}`,u=Ga(a,t);let l=!1;return typeof s=="function"&&(i[a]=s(u,t,a)),typeof s=="object"&&Array.isArray(u)&&(l=!0,u.forEach((c,f)=>n8(s,t,`${a}.${f}`,i))),typeof s=="object"&&typeof u=="object"&&u!==null&&(l||n8(s,t,a,i)),i},r)}function r8(e,t){return Rte(typeof e=="function"?e(t):n8(e,t))}function wA(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const r=r8(t,n),i=Object.keys(r.errors).find(o=>e.split(".").every((s,a)=>s===o.split(".")[a]));return{hasError:!!i,error:i?r.errors[i]:null}}const MQe="__MANTINE_FORM_INDEX__";function Pte(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,`.${MQe}`)):!1:!1}function Cve({name:e,mode:t="controlled",initialValues:n,initialErrors:r={},initialDirty:i={},initialTouched:o={},clearInputErrorOnChange:s=!0,validateInputOnChange:a=!1,validateInputOnBlur:u=!1,onValuesChange:l,transformValues:c=h=>h,enhanceGetInputProps:f,validate:d}={}){const h=AQe(r),p=$Qe({initialValues:n,onValuesChange:l,mode:t}),m=DQe({initialDirty:i,initialTouched:o,$values:p,mode:t}),g=NQe({$values:p,$errors:h,$status:m}),y=OQe({$status:m}),[v,b]=I.useState(0),[_,w]=I.useState({}),S=I.useCallback(()=>{p.resetValues(),h.clearErrors(),m.resetDirty(),m.resetTouched(),t==="uncontrolled"&&b(D=>D+1)},[]),E=I.useCallback(D=>{p.initialize(D,()=>t==="uncontrolled"&&b(U=>U+1))},[]),C=I.useCallback((D,U,W)=>{const F=Pte(D,a);m.clearFieldDirty(D),m.setFieldTouched(D,!0),!F&&s&&h.clearFieldError(D),p.setFieldValue({path:D,value:U,updateState:t==="controlled",subscribers:[...y.getFieldSubscribers(D),F?z=>{const G=wA(D,d,z.updatedValues);G.hasError?h.setFieldError(D,G.error):h.clearFieldError(D)}:null,(W==null?void 0:W.forceUpdate)!==!1&&t!=="controlled"?()=>w(z=>({...z,[D]:(z[D]||0)+1})):null]})},[l,d]),A=I.useCallback(D=>{const U=p.refValues.current;p.setValues({values:D,updateState:t==="controlled"}),s&&h.clearErrors(),t==="uncontrolled"&&b(W=>W+1),Object.keys(y.subscribers.current).forEach(W=>{const F=Ga(W,p.refValues.current),z=Ga(W,U);F!==z&&y.getFieldSubscribers(W).forEach(G=>G({previousValues:U,updatedValues:p.refValues.current}))})},[l,s]),k=I.useCallback(()=>{const D=r8(d,p.refValues.current);return h.setErrors(D.errors),D},[d]),P=I.useCallback(D=>{const U=wA(D,d,p.refValues.current);return U.hasError?h.setFieldError(D,U.error):h.clearFieldError(D),U},[d]),$=(D,{type:U="input",withError:W=!0,withFocus:F=!0,...z}={})=>{const ee={onChange:CQe(ce=>C(D,ce,{forceUpdate:!1})),"data-path":kte(e,D)};return W&&(ee.error=h.errorsState[D]),U==="checkbox"?ee[t==="controlled"?"checked":"defaultChecked"]=Ga(D,p.refValues.current):ee[t==="controlled"?"value":"defaultValue"]=Ga(D,p.refValues.current),F&&(ee.onFocus=()=>m.setFieldTouched(D,!0),ee.onBlur=()=>{if(Pte(D,u)){const ce=wA(D,d,p.refValues.current);ce.hasError?h.setFieldError(D,ce.error):h.clearFieldError(D)}}),Object.assign(ee,f==null?void 0:f({inputProps:ee,field:D,options:{type:U,withError:W,withFocus:F,...z},form:q}))},N=(D,U)=>W=>{W==null||W.preventDefault();const F=k();F.hasErrors?U==null||U(F.errors,p.refValues.current,W):D==null||D(c(p.refValues.current),W)},O=D=>c(D||p.refValues.current),j=I.useCallback(D=>{D.preventDefault(),S()},[]),M=I.useCallback(D=>D?!wA(D,d,p.refValues.current).hasError:!r8(d,p.refValues.current).hasErrors,[d]),B=D=>`${v}-${D}-${_[D]||0}`,V=I.useCallback(D=>document.querySelector(`[data-path="${kte(e,D)}"]`),[]),q={watch:y.watch,initialized:p.initialized.current,values:p.stateValues,getValues:p.getValues,setInitialValues:p.setValuesSnapshot,initialize:E,setValues:A,setFieldValue:C,errors:h.errorsState,setErrors:h.setErrors,setFieldError:h.setFieldError,clearFieldError:h.clearFieldError,clearErrors:h.clearErrors,resetDirty:m.resetDirty,setTouched:m.setTouched,setDirty:m.setDirty,isTouched:m.isTouched,resetTouched:m.resetTouched,isDirty:m.isDirty,getTouched:m.getTouched,getDirty:m.getDirty,reorderListItem:g.reorderListItem,insertListItem:g.insertListItem,removeListItem:g.removeListItem,reset:S,validate:k,validateField:P,getInputProps:$,onSubmit:N,onReset:j,isValid:M,getTransformedValues:O,key:B,getInputNode:V};return SQe(e,q),q}function LQe(e,t){const n=t||!0;return r=>typeof r!="string"?n:e.test(r)?null:n}function FQe(e){return LQe(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,e)}const jQe=new URLSearchParams(window.location.search),BQe=(e,t)=>{let n={};return e.forEach(r=>{const i=t?t[r.id]:{};if(i)n={...n,[r.id]:i};else{const o=r.paramCapture?jQe.get(r.paramCapture):"";n={...n,[r.id]:r.type==="iframe"?[]:o}}}),{...n}},UQe=e=>{let t={};return e.forEach(n=>{n.required&&(t={...t,[n.id]:r=>{if(Array.isArray(r)){if(n.requiredValue!=null&&!Array.isArray(n.requiredValue))return"Incorrect required value";if(n.requiredValue!=null&&Array.isArray(n.requiredValue)){if(n.requiredValue.length!==r.length)return"Incorrect input";const i=[...n.requiredValue].sort(),o=[...r].sort();return i.every((s,a)=>s===o[a])?null:"Incorrect input"}return r.length===0?"Empty input":null}return n.required&&n.requiredValue!=null&&r!=null?r.toString()!==n.requiredValue.toString()?"Incorrect input":null:n.required?r==null||r===""?"Empty input":null:r===null?"Empty input":null}})}),t};function zQe(e,t,n){const[r,i]=I.useState(null),o=Cve({initialValues:BQe(e,n),validate:UQe(e)});return I.useEffect(()=>{r!==t&&(i(t),o.reset())},[r,o,t]),o}function Wy(e,t,n){var s;const{requiredValue:r,requiredLabel:i}=e;let o="";return t.checked&&Array.isArray(r)?o=r&&[...r].sort().toString()!==[...t.checked].sort().toString()?`Please ${n?"select":"enter"} ${i||r.toString()} to continue.`:null:o=t.value&&r&&r.toString()!==t.value.toString()?`Please ${n?"select":"enter"} ${i||(n?(s=n.find(a=>a.value===r))==null?void 0:s.label:r.toString())} to continue.`:null,o}function VQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:u}=e;return T.jsx(Sh.Group,{label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:o,required:s})})]}),description:u,...n,error:Wy(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:T.jsx(zu,{mt:"xs",children:a.map(l=>T.jsx(Sh,{disabled:t,value:l.value,label:l.label},l.value))})})}function HQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,options:u,secondaryText:l}=e;return T.jsx(sC,{disabled:t,label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:s,required:a})})]}),description:l,placeholder:o,data:u,radius:"md",size:"md",...n,error:Wy(e,n,u)})}function qQe({response:e,answer:t,index:n,enumerateQuestions:r}){const{prompt:i,required:o,secondaryText:s}=e;return T.jsx(ti.Wrapper,{label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[r&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${n}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:i,required:o})})]}),description:s,size:"md",children:T.jsx(kc,{children:Array.isArray(t.value)?t.value.map(a=>T.jsx(kc.Item,{children:a},a)):T.jsx(kc.Item,{children:t.value})})})}function Ave({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,leftLabel:u,rightLabel:l,secondaryText:c}=e;return T.jsx(q0.Group,{name:`radioInput${e.id}`,label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:o,required:s})})]}),description:c,...n,error:Wy(e,n,a),style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:T.jsxs(zu,{mt:"xs",children:[u?T.jsx(Tt,{style:{textAlign:"center"},children:u}):null,a.map(f=>T.jsx(q0,{disabled:t,value:f.value,label:f.label},f.label)),T.jsx(Tt,{children:l})]})},e.id)}function WQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{numItems:o}=e,s=[];for(let u=1;u<=+o;u+=1)s.push({label:`${u}`,value:`${u}`});const a={...e,type:"radio",options:s};return T.jsx(Ave,{disabled:t,response:a,answer:n,index:r,enumerateQuestions:i})}function GQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,min:a,max:u,placeholder:l,secondaryText:c}=e;return T.jsx(tz,{disabled:t,placeholder:l,label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:o,required:s})})]}),description:c,radius:"md",size:"md",min:a,max:u,...n,error:Wy(e,n)})}function YQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{prompt:o,required:s,options:a,secondaryText:u}=e,l=Wy(e,n);return T.jsx(ti.Wrapper,{label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:o,required:s})})]}),description:u,error:l,style:{"--input-description-size":"calc(var(--mantine-font-size-md) - calc(0.125rem * var(--mantine-scale)))"},children:T.jsx(az,{disabled:t,marks:a,...n,h:40})})}function KQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:u}=e;return T.jsx(T0,{disabled:t,placeholder:o,label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:s,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:Wy(e,n)})}function XQe({response:e,disabled:t,answer:n,index:r,enumerateQuestions:i}){const{placeholder:o,prompt:s,required:a,secondaryText:u}=e;return T.jsx(VU,{disabled:t,placeholder:o,label:T.jsxs(Zt,{direction:"row",wrap:"nowrap",gap:4,children:[i&&T.jsx(Ce,{style:{minWidth:"fit-content"},children:`${r}. `}),T.jsx(Ce,{style:{display:"block"},className:"no-last-child-bottom-padding",children:T.jsx(va,{text:s,required:a})})]}),description:u,radius:"md",size:"md",...n,value:n.value||"",error:Wy(e,n)})}function QQe({response:e,answer:t,storedAnswer:n,index:r}){const i=(n?{value:n}:t)||{value:void 0},o=!!n,[s]=_z(),u=K0().uiConfig.enumerateQuestions??!1,l=I.useMemo(()=>{if(e.paramCapture){const c=s.get(e.paramCapture);return o||!!c}return o},[o,e.paramCapture,s]);return T.jsxs(Ce,{mb:"md",children:[e.type==="numerical"&&T.jsx(GQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="shortText"&&T.jsx(KQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="longText"&&T.jsx(XQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="likert"&&T.jsx(WQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="dropdown"&&T.jsx(HQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="slider"&&T.jsx(YQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="radio"&&T.jsx(Ave,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="checkbox"&&T.jsx(VQe,{response:e,disabled:l,answer:i,index:r,enumerateQuestions:u}),e.type==="iframe"&&T.jsx(qQe,{response:e,answer:i,index:r,enumerateQuestions:u})]})}function LR({config:e,location:t,status:n,style:r}){var _;const i=rg(),o=qy(),s=n==null?void 0:n.answer,a=e,u=I.useMemo(()=>{var w;return((w=a==null?void 0:a.response)==null?void 0:w.filter(S=>S.location?S.location===t:t==="belowStimulus"))||[]},[a==null?void 0:a.response,t]),l=Gh(),{updateResponseBlockValidation:c}=Wh(),f=zQe(u,i,s||{}),[d,h]=I.useState(void 0),[p,m]=I.useState(!1),{iframeAnswers:g,iframeProvenance:y}=Hc(w=>w),v=(a==null?void 0:a.provideFeedback)&&(((_=a==null?void 0:a.correctAnswer)==null?void 0:_.length)||0)>0,b=t===((a==null?void 0:a.nextButtonLocation)||"belowStimulus");return I.useEffect(()=>{const w=u.find(S=>S.type==="iframe");if(g&&w){const S=w.id;f.setValues({...f.values,[S]:g[S]})}},[g]),I.useEffect(()=>{y&&h(y)},[y]),I.useEffect(()=>{l(c({location:t,identifier:`${o}_${i}`,status:f.isValid(),values:Xz(f.values),provenanceGraph:d}))},[f.values,o,i,t,l,c,d]),T.jsxs("div",{style:r,children:[u.map((w,S)=>{var E,C;return T.jsx(ue.Fragment,{children:w.hidden?"":T.jsxs(T.Fragment,{children:[T.jsx(QQe,{storedAnswer:s?s[w.id]:void 0,answer:{...f.getInputProps(w.id,{type:w.type==="checkbox"?"checkbox":"input"})},response:w,index:S+1}),v&&p&&T.jsx(Tt,{children:`The correct answer is: ${(C=(E=a.correctAnswer)==null?void 0:E.find(A=>A.id===w.id))==null?void 0:C.answer}`})]})},`${w.id}-${i}`)}),T.jsxs(zu,{justify:"right",gap:"xs",children:[v&&b&&T.jsx(Xn,{onClick:()=>m(!0),disabled:!f.isValid(),children:"Check Answer"}),b&&T.jsx(EQe,{disabled:v&&!p,setCheckClicked:m,label:a.nextButtonText||"Next"})]})]})}const Xw="@REVISIT_COMMS",JQe={minHeight:"500px",width:"100%",border:0};function ZQe({currentConfig:e}){const{setIframeAnswers:t,setIframeProvenance:n}=Wh(),r=Gh(),i=nve(),o=I.useRef(null),s=I.useMemo(()=>crypto.randomUUID?crypto.randomUUID():`testID-${Date.now()}`,[]),a=qy(),u=eg(),l=I.useCallback((c,f)=>{var d,h;(h=(d=o.current)==null?void 0:d.contentWindow)==null||h.postMessage({error:!1,type:`${Xw}/${c}`,iframeId:s,message:f},"*")},[o,s]);return I.useEffect(()=>{const c=f=>{const{data:d}=f;if(typeof d=="object"&&s===d.iframeId)switch(d.type){case`${Xw}/WINDOW_READY`:e.parameters&&l("STUDY_DATA",e.parameters);break;case`${Xw}/READY`:o.current&&(o.current.style.height=`${d.message.documentHeight}px`);break;case`${Xw}/ANSWERS`:r(t(d.message));break;case`${Xw}/PROVENANCE`:r(n(d.message));break}};return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},[r,i,s,u,e,l,t,n]),T.jsx("iframe",{ref:o,src:`${od}${e.path}?trialid=${a}&id=${s}`,style:JQe})}async function Zz(e){const n=await(await fetch(`${od}${e}`)).text();if(!n.includes("<title>reVISit</title>"))return n}function X0({email:e,path:t}){const n=zy();return T.jsxs(Pl,{fluid:!0,my:50,maw:800,mx:"auto",children:[T.jsx(yi,{order:2,children:T.jsx(Tt,{span:!0,c:"orange",children:"404"})}),T.jsxs(Tt,{children:[T.jsx(Tt,{span:!0,fw:700,children:t||n.pathname})," ","not Found."]}),T.jsx(xl,{h:"lg"}),T.jsxs(kc,{children:[T.jsx(kc.Item,{children:T.jsx(Tt,{children:"If you're trying to access your study please check the URL and verify that the global config file is correctly configured. Then try again."})}),T.jsx(kc.Item,{children:T.jsxs(Tt,{children:["If you're a participant, please contact the study administrator"," ",e&&T.jsxs(T.Fragment,{children:["at"," ",T.jsxs(k_,{c:"blue",href:`mailto:${e}`,children:[e," "]})]}),"."]})})]})]})}const eJe={maxWidth:"100%"};function tJe({currentConfig:e}){const t={...eJe,...e.style},[n,r]=I.useState(!0),[i,o]=I.useState(!1);return I.useEffect(()=>{async function s(){const a=await Zz(e.path);o(!!a),r(!1)}s()},[e]),n||i?T.jsx(Zm,{mx:"auto",src:`${od}${e.path}`,style:t}):T.jsx(X0,{path:e.path})}function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(null,arguments)}function jn(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Ive={exports:{}},nJe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rJe=nJe,iJe=rJe;function kve(){}function Rve(){}Rve.resetWarningCache=kve;var oJe=function(){function e(r,i,o,s,a,u){if(u!==iJe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Rve,resetWarningCache:kve};return n.PropTypes=n,n};Ive.exports=oJe();var Pve=Ive.exports;const pe=gn(Pve);var VL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Nte;function y$(){return Nte||(Nte=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(VL)),VL.exports}var sJe=y$();const Tl=gn(sJe);function aJe(e){return e}var v$=aJe,uJe=typeof ki=="object"&&ki&&ki.Object===Object&&ki,Nve=uJe,lJe=Nve,cJe=typeof self=="object"&&self&&self.Object===Object&&self,fJe=lJe||cJe||Function("return this")(),pu=fJe,dJe=pu,hJe=dJe.Symbol,z_=hJe,Dte=z_,Dve=Object.prototype,pJe=Dve.hasOwnProperty,mJe=Dve.toString,Qw=Dte?Dte.toStringTag:void 0;function gJe(e){var t=pJe.call(e,Qw),n=e[Qw];try{e[Qw]=void 0;var r=!0}catch{}var i=mJe.call(e);return r&&(t?e[Qw]=n:delete e[Qw]),i}var yJe=gJe,vJe=Object.prototype,bJe=vJe.toString;function _Je(e){return bJe.call(e)}var wJe=_Je,$te=z_,EJe=yJe,xJe=wJe,TJe="[object Null]",SJe="[object Undefined]",Ote=$te?$te.toStringTag:void 0;function CJe(e){return e==null?e===void 0?SJe:TJe:Ote&&Ote in Object(e)?EJe(e):xJe(e)}var ig=CJe;function AJe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yh=AJe,IJe=ig,kJe=Yh,RJe="[object AsyncFunction]",PJe="[object Function]",NJe="[object GeneratorFunction]",DJe="[object Proxy]";function $Je(e){if(!kJe(e))return!1;var t=IJe(e);return t==PJe||t==NJe||t==RJe||t==DJe}var eV=$Je;const Gd=gn(eV);var OJe=pu,MJe=OJe["__core-js_shared__"],LJe=MJe,HL=LJe,Mte=function(){var e=/[^.]+$/.exec(HL&&HL.keys&&HL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FJe(e){return!!Mte&&Mte in e}var jJe=FJe,BJe=Function.prototype,UJe=BJe.toString;function zJe(e){if(e!=null){try{return UJe.call(e)}catch{}try{return e+""}catch{}}return""}var $ve=zJe,VJe=eV,HJe=jJe,qJe=Yh,WJe=$ve,GJe=/[\\^$.*+?()[\]{}|]/g,YJe=/^\[object .+?Constructor\]$/,KJe=Function.prototype,XJe=Object.prototype,QJe=KJe.toString,JJe=XJe.hasOwnProperty,ZJe=RegExp("^"+QJe.call(JJe).replace(GJe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eZe(e){if(!qJe(e)||HJe(e))return!1;var t=VJe(e)?ZJe:YJe;return t.test(WJe(e))}var tZe=eZe;function nZe(e,t){return e==null?void 0:e[t]}var rZe=nZe,iZe=tZe,oZe=rZe;function sZe(e,t){var n=oZe(e,t);return iZe(n)?n:void 0}var Gy=sZe,aZe=Gy,uZe=pu,lZe=aZe(uZe,"WeakMap"),Ove=lZe,Lte=Ove,cZe=Lte&&new Lte,Mve=cZe,fZe=v$,Fte=Mve,dZe=Fte?function(e,t){return Fte.set(e,t),e}:fZe,Lve=dZe,hZe=Yh,jte=Object.create,pZe=function(){function e(){}return function(t){if(!hZe(t))return{};if(jte)return jte(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),b$=pZe,mZe=b$,gZe=Yh;function yZe(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mZe(e.prototype),r=e.apply(n,t);return gZe(r)?r:n}}var _$=yZe,vZe=_$,bZe=pu,_Ze=1;function wZe(e,t,n){var r=t&_Ze,i=vZe(e);function o(){var s=this&&this!==bZe&&this instanceof o?i:e;return s.apply(r?n:this,arguments)}return o}var EZe=wZe;function xZe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var tV=xZe,TZe=Math.max;function SZe(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,u=t.length,l=TZe(o-s,0),c=Array(u+l),f=!r;++a<u;)c[a]=t[a];for(;++i<s;)(f||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}var Fve=SZe,CZe=Math.max;function AZe(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,u=-1,l=t.length,c=CZe(o-a,0),f=Array(c+l),d=!r;++i<c;)f[i]=e[i];for(var h=i;++u<l;)f[h+u]=t[u];for(;++s<a;)(d||i<o)&&(f[h+n[s]]=e[i++]);return f}var jve=AZe;function IZe(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var kZe=IZe;function RZe(){}var nV=RZe,PZe=b$,NZe=nV,DZe=4294967295;function FR(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=DZe,this.__views__=[]}FR.prototype=PZe(NZe.prototype);FR.prototype.constructor=FR;var rV=FR;function $Ze(){}var OZe=$Ze,Bte=Mve,MZe=OZe,LZe=Bte?function(e){return Bte.get(e)}:MZe,Bve=LZe,FZe={},jZe=FZe,Ute=jZe,BZe=Object.prototype,UZe=BZe.hasOwnProperty;function zZe(e){for(var t=e.name+"",n=Ute[t],r=UZe.call(Ute,t)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==e)return i.name}return t}var VZe=zZe,HZe=b$,qZe=nV;function jR(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}jR.prototype=HZe(qZe.prototype);jR.prototype.constructor=jR;var Uve=jR,WZe=Array.isArray,Sa=WZe;const GZe=gn(Sa);function YZe(e){return e!=null&&typeof e=="object"}var qc=YZe;function KZe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var iV=KZe,XZe=rV,QZe=Uve,JZe=iV;function ZZe(e){if(e instanceof XZe)return e.clone();var t=new QZe(e.__wrapped__,e.__chain__);return t.__actions__=JZe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var eet=ZZe,tet=rV,zte=Uve,net=nV,ret=Sa,iet=qc,oet=eet,set=Object.prototype,aet=set.hasOwnProperty;function BR(e){if(iet(e)&&!ret(e)&&!(e instanceof tet)){if(e instanceof zte)return e;if(aet.call(e,"__wrapped__"))return oet(e)}return new zte(e)}BR.prototype=net.prototype;BR.prototype.constructor=BR;var uet=BR,cet=rV,fet=Bve,det=VZe,het=uet;function pet(e){var t=det(e),n=het[t];if(typeof n!="function"||!(t in cet.prototype))return!1;if(e===n)return!0;var r=fet(n);return!!r&&e===r[0]}var met=pet,get=800,yet=16,vet=Date.now;function bet(e){var t=0,n=0;return function(){var r=vet(),i=yet-(r-n);if(n=r,i>0){if(++t>=get)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var zve=bet,_et=Lve,wet=zve,Eet=wet(_et),Vve=Eet,xet=/\{\n\/\* \[wrapped with (.+)\] \*/,Tet=/,? & /;function Cet(e){var t=e.match(xet);return t?t[1].split(Tet):[]}var Aet=Cet,Iet=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function ket(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Iet,`{
/* [wrapped with `+t+`] */
`)}var Ret=ket;function Pet(e){return function(){return e}}var Net=Pet,Det=Gy,$et=function(){try{var e=Det(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Hve=$et,Oet=Net,Vte=Hve,Met=v$,Let=Vte?function(e,t){return Vte(e,"toString",{configurable:!0,enumerable:!1,value:Oet(t),writable:!0})}:Met,Fet=Let,jet=Fet,Bet=zve,Uet=Bet(jet),qve=Uet;function zet(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var oV=zet;function Vet(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var Wve=Vet;function Het(e){return e!==e}var qet=Het;function Wet(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var Get=Wet,Yet=Wve,Ket=qet,Xet=Get;function Qet(e,t,n){return t===t?Xet(e,t,n):Yet(e,Ket,n)}var w$=Qet,Jet=w$;function Zet(e,t){var n=e==null?0:e.length;return!!n&&Jet(e,t,0)>-1}var ett=Zet,ttt=oV,ntt=ett,rtt=1,itt=2,ott=8,stt=16,att=32,utt=64,ltt=128,ctt=256,ftt=512,dtt=[["ary",ltt],["bind",rtt],["bindKey",itt],["curry",ott],["curryRight",stt],["flip",ftt],["partial",att],["partialRight",utt],["rearg",ctt]];function htt(e,t){return ttt(dtt,function(n){var r="_."+n[0];t&n[1]&&!ntt(e,r)&&e.push(r)}),e.sort()}var ptt=htt,mtt=Aet,gtt=Ret,ytt=qve,vtt=ptt;function btt(e,t,n){var r=t+"";return ytt(e,gtt(r,vtt(mtt(r),n)))}var Gve=btt,_tt=met,wtt=Vve,Ett=Gve,xtt=1,Ttt=2,Stt=4,Ctt=8,Hte=32,qte=64;function Att(e,t,n,r,i,o,s,a,u,l){var c=t&Ctt,f=c?s:void 0,d=c?void 0:s,h=c?o:void 0,p=c?void 0:o;t|=c?Hte:qte,t&=~(c?qte:Hte),t&Stt||(t&=~(xtt|Ttt));var m=[e,t,i,h,f,p,d,a,u,l],g=n.apply(void 0,m);return _tt(e)&&wtt(g,m),g.placeholder=r,Ett(g,e,t)}var Yve=Att;function Itt(e){var t=e;return t.placeholder}var Kve=Itt,ktt=9007199254740991,Rtt=/^(?:0|[1-9]\d*)$/;function Ptt(e,t){var n=typeof e;return t=t??ktt,!!t&&(n=="number"||n!="symbol"&&Rtt.test(e))&&e>-1&&e%1==0&&e<t}var yC=Ptt,Ntt=iV,Dtt=yC,$tt=Math.min;function Ott(e,t){for(var n=e.length,r=$tt(t.length,n),i=Ntt(e);r--;){var o=t[r];e[r]=Dtt(o,n)?i[o]:void 0}return e}var Mtt=Ott,Wte="__lodash_placeholder__";function Ltt(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];(s===t||s===Wte)&&(e[n]=Wte,o[i++]=n)}return o}var sV=Ltt,Ftt=Fve,jtt=jve,Btt=kZe,Gte=_$,Utt=Yve,ztt=Kve,Vtt=Mtt,Htt=sV,qtt=pu,Wtt=1,Gtt=2,Ytt=8,Ktt=16,Xtt=128,Qtt=512;function Xve(e,t,n,r,i,o,s,a,u,l){var c=t&Xtt,f=t&Wtt,d=t&Gtt,h=t&(Ytt|Ktt),p=t&Qtt,m=d?void 0:Gte(e);function g(){for(var y=arguments.length,v=Array(y),b=y;b--;)v[b]=arguments[b];if(h)var _=ztt(g),w=Btt(v,_);if(r&&(v=Ftt(v,r,i,h)),o&&(v=jtt(v,o,s,h)),y-=w,h&&y<l){var S=Htt(v,_);return Utt(e,t,Xve,g.placeholder,n,v,S,a,u,l-y)}var E=f?n:this,C=d?E[e]:e;return y=v.length,a?v=Vtt(v,a):p&&y>1&&v.reverse(),c&&u<y&&(v.length=u),this&&this!==qtt&&this instanceof g&&(C=m||Gte(C)),C.apply(E,v)}return g}var Qve=Xve,Jtt=tV,Ztt=_$,ent=Qve,tnt=Yve,nnt=Kve,rnt=sV,int=pu;function ont(e,t,n){var r=Ztt(e);function i(){for(var o=arguments.length,s=Array(o),a=o,u=nnt(i);a--;)s[a]=arguments[a];var l=o<3&&s[0]!==u&&s[o-1]!==u?[]:rnt(s,u);if(o-=l.length,o<n)return tnt(e,t,ent,i.placeholder,void 0,s,l,void 0,void 0,n-o);var c=this&&this!==int&&this instanceof i?r:e;return Jtt(c,this,s)}return i}var snt=ont,ant=tV,unt=_$,lnt=pu,cnt=1;function fnt(e,t,n,r){var i=t&cnt,o=unt(e);function s(){for(var a=-1,u=arguments.length,l=-1,c=r.length,f=Array(c+u),d=this&&this!==lnt&&this instanceof s?o:e;++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++a];return ant(d,i?n:this,f)}return s}var dnt=fnt,hnt=Fve,pnt=jve,Yte=sV,Kte="__lodash_placeholder__",qL=1,mnt=2,gnt=4,Xte=8,Jw=128,Qte=256,ynt=Math.min;function vnt(e,t){var n=e[1],r=t[1],i=n|r,o=i<(qL|mnt|Jw),s=r==Jw&&n==Xte||r==Jw&&n==Qte&&e[7].length<=t[8]||r==(Jw|Qte)&&t[7].length<=t[8]&&n==Xte;if(!(o||s))return e;r&qL&&(e[2]=t[2],i|=n&qL?0:gnt);var a=t[3];if(a){var u=e[3];e[3]=u?hnt(u,a,t[4]):a,e[4]=u?Yte(e[3],Kte):t[4]}return a=t[5],a&&(u=e[5],e[5]=u?pnt(u,a,t[6]):a,e[6]=u?Yte(e[5],Kte):t[6]),a=t[7],a&&(e[7]=a),r&Jw&&(e[8]=e[8]==null?t[8]:ynt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var bnt=vnt,_nt=/\s/;function wnt(e){for(var t=e.length;t--&&_nt.test(e.charAt(t)););return t}var Ent=wnt,xnt=Ent,Tnt=/^\s+/;function Snt(e){return e&&e.slice(0,xnt(e)+1).replace(Tnt,"")}var Jve=Snt,Cnt=ig,Ant=qc,Int="[object Symbol]";function knt(e){return typeof e=="symbol"||Ant(e)&&Cnt(e)==Int}var vC=knt,Rnt=Jve,Jte=Yh,Pnt=vC,Zte=NaN,Nnt=/^[-+]0x[0-9a-f]+$/i,Dnt=/^0b[01]+$/i,$nt=/^0o[0-7]+$/i,Ont=parseInt;function Mnt(e){if(typeof e=="number")return e;if(Pnt(e))return Zte;if(Jte(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Jte(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Rnt(e);var n=Dnt.test(e);return n||$nt.test(e)?Ont(e.slice(2),n?2:8):Nnt.test(e)?Zte:+e}var Lnt=Mnt,Fnt=Lnt,ene=1/0,jnt=17976931348623157e292;function Bnt(e){if(!e)return e===0?e:0;if(e=Fnt(e),e===ene||e===-ene){var t=e<0?-1:1;return t*jnt}return e===e?e:0}var Unt=Bnt,znt=Unt;function Vnt(e){var t=znt(e),n=t%1;return t===t?n?t-n:t:0}var aV=Vnt,Hnt=Lve,qnt=EZe,Wnt=snt,Gnt=Qve,Ynt=dnt,Knt=Bve,Xnt=bnt,Qnt=Vve,Jnt=Gve,tne=aV,Znt="Expected a function",nne=1,ert=2,WL=8,GL=16,YL=32,rne=64,ine=Math.max;function trt(e,t,n,r,i,o,s,a){var u=t&ert;if(!u&&typeof e!="function")throw new TypeError(Znt);var l=r?r.length:0;if(l||(t&=~(YL|rne),r=i=void 0),s=s===void 0?s:ine(tne(s),0),a=a===void 0?a:tne(a),l-=i?i.length:0,t&rne){var c=r,f=i;r=i=void 0}var d=u?void 0:Knt(e),h=[e,t,n,r,i,c,f,o,s,a];if(d&&Xnt(h,d),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],a=h[9]=h[9]===void 0?u?0:e.length:ine(h[9]-l,0),!a&&t&(WL|GL)&&(t&=~(WL|GL)),!t||t==nne)var p=qnt(e,t,n);else t==WL||t==GL?p=Wnt(e,t,a):(t==YL||t==(nne|YL))&&!i.length?p=Ynt(e,t,n,r):p=Gnt.apply(void 0,h);var m=d?Hnt:Qnt;return Jnt(m(p,h),e,t)}var nrt=trt,KL,one;function Zve(){if(one)return KL;one=1;var e=nrt,t=8;function n(r,i,o){i=o?void 0:i;var s=e(r,t,void 0,void 0,void 0,void 0,void 0,i);return s.placeholder=n.placeholder,s}return n.placeholder={},KL=n,KL}var rrt=Zve();const e1e=gn(rrt);function rk(e,t){return!e||!t?"":Array.isArray(t)?Tl(t.filter(function(n){return!!n}).map(function(n){return e+"-"+n})):e[e.length-1]==="-"?""+e+t:e+"-"+t}e1e(rk);function Ib(e,t,n,r){return r===void 0&&(r=!1),e.addEventListener(t,n,r),{off:function(){e.removeEventListener(t,n,r)}}}var irt=void 0;function E$(e){return function(){return e}}function Yy(){}Yy.thatReturns=E$;Yy.thatReturnsFalse=E$(!1);Yy.thatReturnsTrue=E$(!0);Yy.thatReturnsNull=E$(null);Yy.thatReturnsThis=function(){return irt};Yy.thatReturnsArgument=function(e){return e};var og=!!(typeof window<"u"&&window.document&&window.document.createElement);og&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","");function uV(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("unable to locate global object")}var t1e=uV(),sne=0;function ort(e){var t=Date.now(),n=Math.max(0,16-(t-sne));return sne=t+n,t1e.setTimeout(function(){e(Date.now())},n)}var srt=t1e.requestAnimationFrame||ort;srt(Yy);var ane=uV();ane.cancelAnimationFrame||ane.clearTimeout;function art(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function urt(e,t){return t&&(e.classList?e.classList.add(t):art(e,t)||(e.className=e.className+" "+t)),e}function lrt(e,t){return t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")),e}function kb(e){return e&&e.ownerDocument||document}function bC(e){return e===(e==null?void 0:e.window)?e:(e==null?void 0:e.nodeType)===9?(e==null?void 0:e.defaultView)||(e==null?void 0:e.parentWindow):null}function crt(e,t){return e=typeof e=="function"?e():e,e||t}var n1e=function(t,n){if(!n)return!1;do if(n===t)return!0;while(n.parentNode&&(n=n.parentNode));return!1},frt=function(t,n){return n?t.contains?t.contains(n):t.compareDocumentPosition?t===n||!!(t.compareDocumentPosition(n)&16):n1e(t,n):!1};const UR=function(){return og?frt:n1e}();function sm(e,t){var n=bC(e),r=e.scrollTop,i=0;return n&&(r=n.pageYOffset,i=n.pageXOffset),t!==void 0&&(n?n.scrollTo(i,t):e.scrollTop=t),r}function Mx(e,t){var n=bC(e),r=e.scrollLeft;return n&&(r=n.pageXOffset,n.pageYOffset),r}function sh(e){var t=kb(e),n=bC(t),r=t&&t.documentElement,i={top:0,left:0,height:0,width:0};return t?(UR(r,e)&&((e==null?void 0:e.getBoundingClientRect)!==void 0&&(i=e.getBoundingClientRect()),(i.width||i.height)&&r&&n&&(i={top:i.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(i.width===null?e.offsetWidth:i.width)||0,height:(i.height===null?e.offsetHeight:i.height)||0})),i):null}function lV(e){var t;return(e==null?void 0:e.nodeName)&&(e==null||(t=e.nodeName)===null||t===void 0?void 0:t.toLowerCase())}function r1e(e){return e.replace(/\-(\w)/g,function(t){return t.slice(1).toUpperCase()})}function drt(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}var hrt=/^-ms-/;function prt(e){return r1e(e.replace(hrt,"ms-"))}const une=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):null};var mrt=/^ms-/;const i8=function(e){return drt(e).replace(mrt,"-ms-")};function bf(e,t){if(t){var n=e.style[prt(t)];if(n)return n;var r=une(e);if(r)return r.getPropertyValue(i8(t))}return e.style||une(e)}function grt(e){for(var t=kb(e),n=e==null?void 0:e.offsetParent;n&&lV(e)!=="html"&&bf(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}function o8(){return o8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o8.apply(null,arguments)}function i1e(e,t,n){n===void 0&&(n=!0);var r={top:0,left:0},i=null;if(bf(e,"position")==="fixed")i=e.getBoundingClientRect();else{if(t=t||grt(e),i=sh(e),lV(t)!=="html"){var o=sh(t);o&&(r.top=o.top,r.left=o.left)}r.top+=parseInt(bf(t,"borderTopWidth"),10)-sm(t)||0,r.left+=parseInt(bf(t,"borderLeftWidth"),10)-Mx(t)||0}if(i){var s=n&&parseInt(bf(e,"marginTop"),10)||0,a=n&&parseInt(bf(e,"marginLeft"),10)||0;return o8({},i,{top:i.top-r.top-s,left:i.left-r.left-a})}return null}function o1e(e,t){var n=bC(e);return n?n.innerHeight:sh(e).height}function s1e(e,t){var n=bC(e);if(n)return n.innerWidth;var r=sh(e);return r?r.width:0}function lne(e,t){var n,r;(n=e.style)===null||n===void 0||(r=n.removeProperty)===null||r===void 0||r.call(n,t)}function yrt(e,t){typeof t=="string"?lne(e,t):Array.isArray(t)&&t.forEach(function(n){return lne(e,n)})}function a1e(e,t,n){var r="",i=t;if(typeof t=="string"){if(n===void 0)throw new Error("value is undefined");(i={})[t]=n}if(typeof i=="object")for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(!i[o]&&i[o]!==0?yrt(e,i8(o)):r+=i8(o)+":"+i[o]+";");e.style.cssText+=";"+r}var XL={},s8=["Webkit","ms","Moz","O"],vrt=new RegExp("^("+s8.join("|")+")"),u1e=og?document.createElement("div").style:{};function brt(e){for(var t=0;t<s8.length;t+=1){var n=s8[t]+e;if(n in u1e)return n}return null}function S1(e){var t=r1e(e);if(XL[t]===void 0){var n=t.charAt(0).toUpperCase()+t.slice(1);if(vrt.test(n))throw new Error(`getVendorPrefixedName must only be called with unprefixed
          CSS property names. It was called with `+e);XL[t]=t in u1e?t:brt(n)}return XL[t]||t}const cne={hasCSSAnimations:function(){return!!S1("animationName")},hasCSSTransforms:function(){return!!S1("transform")},hasCSS3DTransforms:function(){return!!S1("perspective")},hasCSSTransitions:function(){return!!S1("transition")}};var fne=uV(),l1e=S1("transform"),_rt=S1("backfaceVisibility"),wrt=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t.left=n+"px",t.top=r+"px",t},dne=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t[l1e]="translate("+n+"px,"+r+"px)",t},hne=function(t,n,r){return n===void 0&&(n=0),r===void 0&&(r=0),t[l1e]="translate3d("+n+"px,"+r+"px,0)",t[_rt]="hidden",t},Ert=function(t){var n={},r=n.enableTransform,i=r===void 0?!0:r,o=n.enable3DTransform,s=o===void 0?!0:o,a=n.forceUseTransform;if(a)return t.enable3DTransform?hne:dne;if(cne.hasCSSTransforms()&&i){var u=fne.window?fne.window.navigator.userAgent:"UNKNOWN",l=/Safari\//.test(u)&&!/Chrome\//.test(u);return!l&&cne.hasCSS3DTransforms()&&s?hne:dne}return wrt};Ert();var xrt=function(t){return(t==null?void 0:t.nodeType)===1&&typeof(t==null?void 0:t.nodeName)=="string"};function Trt(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}var Srt=Trt;function Crt(e){return function(t){return e==null?void 0:e[t]}}var Art=Crt,Irt=Art,krt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Rrt=Irt(krt),Prt=Rrt;function Nrt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var x$=Nrt,pne=z_,Drt=x$,$rt=Sa,Ort=vC,Mrt=1/0,mne=pne?pne.prototype:void 0,gne=mne?mne.toString:void 0;function c1e(e){if(typeof e=="string")return e;if($rt(e))return Drt(e,c1e)+"";if(Ort(e))return gne?gne.call(e):"";var t=e+"";return t=="0"&&1/e==-Mrt?"-0":t}var f1e=c1e,Lrt=f1e;function Frt(e){return e==null?"":Lrt(e)}var _C=Frt,jrt=Prt,Brt=_C,Urt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zrt="\\u0300-\\u036f",Vrt="\\ufe20-\\ufe2f",Hrt="\\u20d0-\\u20ff",qrt=zrt+Vrt+Hrt,Wrt="["+qrt+"]",Grt=RegExp(Wrt,"g");function Yrt(e){return e=Brt(e),e&&e.replace(Urt,jrt).replace(Grt,"")}var Krt=Yrt,Xrt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Qrt(e){return e.match(Xrt)||[]}var Jrt=Qrt,Zrt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function eit(e){return Zrt.test(e)}var tit=eit,d1e="\\ud800-\\udfff",nit="\\u0300-\\u036f",rit="\\ufe20-\\ufe2f",iit="\\u20d0-\\u20ff",oit=nit+rit+iit,h1e="\\u2700-\\u27bf",p1e="a-z\\xdf-\\xf6\\xf8-\\xff",sit="\\xac\\xb1\\xd7\\xf7",ait="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",uit="\\u2000-\\u206f",lit=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",m1e="A-Z\\xc0-\\xd6\\xd8-\\xde",cit="\\ufe0e\\ufe0f",g1e=sit+ait+uit+lit,y1e="[']",yne="["+g1e+"]",fit="["+oit+"]",v1e="\\d+",dit="["+h1e+"]",b1e="["+p1e+"]",_1e="[^"+d1e+g1e+v1e+h1e+p1e+m1e+"]",hit="\\ud83c[\\udffb-\\udfff]",pit="(?:"+fit+"|"+hit+")",mit="[^"+d1e+"]",w1e="(?:\\ud83c[\\udde6-\\uddff]){2}",E1e="[\\ud800-\\udbff][\\udc00-\\udfff]",n1="["+m1e+"]",git="\\u200d",vne="(?:"+b1e+"|"+_1e+")",yit="(?:"+n1+"|"+_1e+")",bne="(?:"+y1e+"(?:d|ll|m|re|s|t|ve))?",_ne="(?:"+y1e+"(?:D|LL|M|RE|S|T|VE))?",x1e=pit+"?",T1e="["+cit+"]?",vit="(?:"+git+"(?:"+[mit,w1e,E1e].join("|")+")"+T1e+x1e+")*",bit="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_it="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wit=T1e+x1e+vit,Eit="(?:"+[dit,w1e,E1e].join("|")+")"+wit,xit=RegExp([n1+"?"+b1e+"+"+bne+"(?="+[yne,n1,"$"].join("|")+")",yit+"+"+_ne+"(?="+[yne,n1+vne,"$"].join("|")+")",n1+"?"+vne+"+"+bne,n1+"+"+_ne,_it,bit,v1e,Eit].join("|"),"g");function Tit(e){return e.match(xit)||[]}var Sit=Tit,Cit=Jrt,Ait=tit,Iit=_C,kit=Sit;function Rit(e,t,n){return e=Iit(e),t=n?void 0:t,t===void 0?Ait(e)?kit(e):Cit(e):e.match(t)||[]}var Pit=Rit,Nit=Srt,Dit=Krt,$it=Pit,Oit="[']",Mit=RegExp(Oit,"g");function Lit(e){return function(t){return Nit($it(Dit(t).replace(Mit,"")),e,"")}}var Fit=Lit,jit=Fit,Bit=jit(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Uit=Bit;const S1e=gn(Uit);function a8(e,t){return a8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},a8(e,t)}function zit(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a8(e,t)}function Vit(){if(!og)return{};for(var e={O:function(l){return"o"+l.toLowerCase()},Moz:function(l){return l.toLowerCase()},Webkit:function(l){return"webkit"+l},ms:function(l){return"MS"+l}},t=Object.keys(e),n=document.createElement("div").style,r,i="",o=0;o<t.length;o+=1){var s=t[o];if(s+"TransitionProperty"in n){i="-"+s.toLowerCase(),r=e[s]("TransitionEnd");break}}!r&&"transitionProperty"in n&&(r="transitionend"),n=null;var a=function(l){return i+"-"+l};return{end:r,backfaceVisibility:a("backface-visibility"),transform:a("transform"),property:a("transition-property"),timing:a("transition-timing-function"),delay:a("transition-delay"),duration:a("transition-duration")}}function Hit(){return Vit().end}function qit(){this.__data__=[],this.size=0}var Wit=qit;function Git(e,t){return e===t||e!==e&&t!==t}var cV=Git,Yit=cV;function Kit(e,t){for(var n=e.length;n--;)if(Yit(e[n][0],t))return n;return-1}var T$=Kit,Xit=T$,Qit=Array.prototype,Jit=Qit.splice;function Zit(e){var t=this.__data__,n=Xit(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Jit.call(t,n,1),--this.size,!0}var eot=Zit,tot=T$;function not(e){var t=this.__data__,n=tot(t,e);return n<0?void 0:t[n][1]}var rot=not,iot=T$;function oot(e){return iot(this.__data__,e)>-1}var sot=oot,aot=T$;function uot(e,t){var n=this.__data__,r=aot(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var lot=uot,cot=Wit,fot=eot,dot=rot,hot=sot,pot=lot;function V_(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V_.prototype.clear=cot;V_.prototype.delete=fot;V_.prototype.get=dot;V_.prototype.has=hot;V_.prototype.set=pot;var S$=V_,mot=S$;function got(){this.__data__=new mot,this.size=0}var yot=got;function vot(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var bot=vot;function _ot(e){return this.__data__.get(e)}var wot=_ot;function Eot(e){return this.__data__.has(e)}var xot=Eot,Tot=Gy,Sot=pu,Cot=Tot(Sot,"Map"),fV=Cot,Aot=Gy,Iot=Aot(Object,"create"),C$=Iot,wne=C$;function kot(){this.__data__=wne?wne(null):{},this.size=0}var Rot=kot;function Pot(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Not=Pot,Dot=C$,$ot="__lodash_hash_undefined__",Oot=Object.prototype,Mot=Oot.hasOwnProperty;function Lot(e){var t=this.__data__;if(Dot){var n=t[e];return n===$ot?void 0:n}return Mot.call(t,e)?t[e]:void 0}var Fot=Lot,jot=C$,Bot=Object.prototype,Uot=Bot.hasOwnProperty;function zot(e){var t=this.__data__;return jot?t[e]!==void 0:Uot.call(t,e)}var Vot=zot,Hot=C$,qot="__lodash_hash_undefined__";function Wot(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Hot&&t===void 0?qot:t,this}var Got=Wot,Yot=Rot,Kot=Not,Xot=Fot,Qot=Vot,Jot=Got;function H_(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}H_.prototype.clear=Yot;H_.prototype.delete=Kot;H_.prototype.get=Xot;H_.prototype.has=Qot;H_.prototype.set=Jot;var Zot=H_,Ene=Zot,est=S$,tst=fV;function nst(){this.size=0,this.__data__={hash:new Ene,map:new(tst||est),string:new Ene}}var rst=nst;function ist(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ost=ist,sst=ost;function ast(e,t){var n=e.__data__;return sst(t)?n[typeof t=="string"?"string":"hash"]:n.map}var A$=ast,ust=A$;function lst(e){var t=ust(this,e).delete(e);return this.size-=t?1:0,t}var cst=lst,fst=A$;function dst(e){return fst(this,e).get(e)}var hst=dst,pst=A$;function mst(e){return pst(this,e).has(e)}var gst=mst,yst=A$;function vst(e,t){var n=yst(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var bst=vst,_st=rst,wst=cst,Est=hst,xst=gst,Tst=bst;function q_(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q_.prototype.clear=_st;q_.prototype.delete=wst;q_.prototype.get=Est;q_.prototype.has=xst;q_.prototype.set=Tst;var dV=q_,Sst=S$,Cst=fV,Ast=dV,Ist=200;function kst(e,t){var n=this.__data__;if(n instanceof Sst){var r=n.__data__;if(!Cst||r.length<Ist-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ast(r)}return n.set(e,t),this.size=n.size,this}var Rst=kst,Pst=S$,Nst=yot,Dst=bot,$st=wot,Ost=xot,Mst=Rst;function W_(e){var t=this.__data__=new Pst(e);this.size=t.size}W_.prototype.clear=Nst;W_.prototype.delete=Dst;W_.prototype.get=$st;W_.prototype.has=Ost;W_.prototype.set=Mst;var hV=W_,xne=Hve;function Lst(e,t,n){t=="__proto__"&&xne?xne(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var pV=Lst,Fst=pV,jst=cV,Bst=Object.prototype,Ust=Bst.hasOwnProperty;function zst(e,t,n){var r=e[t];(!(Ust.call(e,t)&&jst(r,n))||n===void 0&&!(t in e))&&Fst(e,t,n)}var mV=zst,Vst=mV,Hst=pV;function qst(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;u===void 0&&(u=e[a]),i?Hst(n,a,u):Vst(n,a,u)}return n}var wC=qst;function Wst(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Gst=Wst,Yst=ig,Kst=qc,Xst="[object Arguments]";function Qst(e){return Kst(e)&&Yst(e)==Xst}var Jst=Qst,Tne=Jst,Zst=qc,C1e=Object.prototype,eat=C1e.hasOwnProperty,tat=C1e.propertyIsEnumerable,nat=Tne(function(){return arguments}())?Tne:function(e){return Zst(e)&&eat.call(e,"callee")&&!tat.call(e,"callee")},gV=nat,zR={exports:{}};function rat(){return!1}var iat=rat;zR.exports;(function(e,t){var n=pu,r=iat,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;e.exports=l})(zR,zR.exports);var yV=zR.exports,oat=9007199254740991;function sat(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oat}var vV=sat,aat=ig,uat=vV,lat=qc,cat="[object Arguments]",fat="[object Array]",dat="[object Boolean]",hat="[object Date]",pat="[object Error]",mat="[object Function]",gat="[object Map]",yat="[object Number]",vat="[object Object]",bat="[object RegExp]",_at="[object Set]",wat="[object String]",Eat="[object WeakMap]",xat="[object ArrayBuffer]",Tat="[object DataView]",Sat="[object Float32Array]",Cat="[object Float64Array]",Aat="[object Int8Array]",Iat="[object Int16Array]",kat="[object Int32Array]",Rat="[object Uint8Array]",Pat="[object Uint8ClampedArray]",Nat="[object Uint16Array]",Dat="[object Uint32Array]",Yr={};Yr[Sat]=Yr[Cat]=Yr[Aat]=Yr[Iat]=Yr[kat]=Yr[Rat]=Yr[Pat]=Yr[Nat]=Yr[Dat]=!0;Yr[cat]=Yr[fat]=Yr[xat]=Yr[dat]=Yr[Tat]=Yr[hat]=Yr[pat]=Yr[mat]=Yr[gat]=Yr[yat]=Yr[vat]=Yr[bat]=Yr[_at]=Yr[wat]=Yr[Eat]=!1;function $at(e){return lat(e)&&uat(e.length)&&!!Yr[aat(e)]}var Oat=$at;function Mat(e){return function(t){return e(t)}}var bV=Mat,VR={exports:{}};VR.exports;(function(e,t){var n=Nve,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(VR,VR.exports);var _V=VR.exports,Lat=Oat,Fat=bV,Sne=_V,Cne=Sne&&Sne.isTypedArray,jat=Cne?Fat(Cne):Lat,A1e=jat,Bat=Gst,Uat=gV,zat=Sa,Vat=yV,Hat=yC,qat=A1e,Wat=Object.prototype,Gat=Wat.hasOwnProperty;function Yat(e,t){var n=zat(e),r=!n&&Uat(e),i=!n&&!r&&Vat(e),o=!n&&!r&&!i&&qat(e),s=n||r||i||o,a=s?Bat(e.length,String):[],u=a.length;for(var l in e)(t||Gat.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Hat(l,u)))&&a.push(l);return a}var I1e=Yat,Kat=Object.prototype;function Xat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Kat;return e===n}var wV=Xat;function Qat(e,t){return function(n){return e(t(n))}}var k1e=Qat,Jat=k1e,Zat=Jat(Object.keys,Object),eut=Zat,tut=wV,nut=eut,rut=Object.prototype,iut=rut.hasOwnProperty;function out(e){if(!tut(e))return nut(e);var t=[];for(var n in Object(e))iut.call(e,n)&&n!="constructor"&&t.push(n);return t}var sut=out,aut=eV,uut=vV;function lut(e){return e!=null&&uut(e.length)&&!aut(e)}var EC=lut,cut=I1e,fut=sut,dut=EC;function hut(e){return dut(e)?cut(e):fut(e)}var Ky=hut,put=wC,mut=Ky;function gut(e,t){return e&&put(t,mut(t),e)}var yut=gut;function vut(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var but=vut,_ut=Yh,wut=wV,Eut=but,xut=Object.prototype,Tut=xut.hasOwnProperty;function Sut(e){if(!_ut(e))return Eut(e);var t=wut(e),n=[];for(var r in e)r=="constructor"&&(t||!Tut.call(e,r))||n.push(r);return n}var Cut=Sut,Aut=I1e,Iut=Cut,kut=EC;function Rut(e){return kut(e)?Aut(e,!0):Iut(e)}var EV=Rut,Put=wC,Nut=EV;function Dut(e,t){return e&&Put(t,Nut(t),e)}var $ut=Dut,HR={exports:{}};HR.exports;(function(e,t){var n=pu,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function u(l,c){if(c)return l.slice();var f=l.length,d=a?a(f):new l.constructor(f);return l.copy(d),d}e.exports=u})(HR,HR.exports);var Out=HR.exports;function Mut(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var Lut=Mut;function Fut(){return[]}var R1e=Fut,jut=Lut,But=R1e,Uut=Object.prototype,zut=Uut.propertyIsEnumerable,Ane=Object.getOwnPropertySymbols,Vut=Ane?function(e){return e==null?[]:(e=Object(e),jut(Ane(e),function(t){return zut.call(e,t)}))}:But,xV=Vut,Hut=wC,qut=xV;function Wut(e,t){return Hut(e,qut(e),t)}var Gut=Wut;function Yut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var TV=Yut,Kut=k1e,Xut=Kut(Object.getPrototypeOf,Object),SV=Xut,Qut=TV,Jut=SV,Zut=xV,elt=R1e,tlt=Object.getOwnPropertySymbols,nlt=tlt?function(e){for(var t=[];e;)Qut(t,Zut(e)),e=Jut(e);return t}:elt,P1e=nlt,rlt=wC,ilt=P1e;function olt(e,t){return rlt(e,ilt(e),t)}var slt=olt,alt=TV,ult=Sa;function llt(e,t,n){var r=t(e);return ult(e)?r:alt(r,n(e))}var N1e=llt,clt=N1e,flt=xV,dlt=Ky;function hlt(e){return clt(e,dlt,flt)}var D1e=hlt,plt=N1e,mlt=P1e,glt=EV;function ylt(e){return plt(e,glt,mlt)}var CV=ylt,vlt=Gy,blt=pu,_lt=vlt(blt,"DataView"),wlt=_lt,Elt=Gy,xlt=pu,Tlt=Elt(xlt,"Promise"),Slt=Tlt,Clt=Gy,Alt=pu,Ilt=Clt(Alt,"Set"),klt=Ilt,u8=wlt,l8=fV,c8=Slt,f8=klt,d8=Ove,$1e=ig,G_=$ve,Ine="[object Map]",Rlt="[object Object]",kne="[object Promise]",Rne="[object Set]",Pne="[object WeakMap]",Nne="[object DataView]",Plt=G_(u8),Nlt=G_(l8),Dlt=G_(c8),$lt=G_(f8),Olt=G_(d8),Vg=$1e;(u8&&Vg(new u8(new ArrayBuffer(1)))!=Nne||l8&&Vg(new l8)!=Ine||c8&&Vg(c8.resolve())!=kne||f8&&Vg(new f8)!=Rne||d8&&Vg(new d8)!=Pne)&&(Vg=function(e){var t=$1e(e),n=t==Rlt?e.constructor:void 0,r=n?G_(n):"";if(r)switch(r){case Plt:return Nne;case Nlt:return Ine;case Dlt:return kne;case $lt:return Rne;case Olt:return Pne}return t});var I$=Vg,Mlt=Object.prototype,Llt=Mlt.hasOwnProperty;function Flt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Llt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var jlt=Flt,Blt=pu,Ult=Blt.Uint8Array,O1e=Ult,Dne=O1e;function zlt(e){var t=new e.constructor(e.byteLength);return new Dne(t).set(new Dne(e)),t}var AV=zlt,Vlt=AV;function Hlt(e,t){var n=t?Vlt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var qlt=Hlt,Wlt=/\w*$/;function Glt(e){var t=new e.constructor(e.source,Wlt.exec(e));return t.lastIndex=e.lastIndex,t}var Ylt=Glt,$ne=z_,One=$ne?$ne.prototype:void 0,Mne=One?One.valueOf:void 0;function Klt(e){return Mne?Object(Mne.call(e)):{}}var Xlt=Klt,Qlt=AV;function Jlt(e,t){var n=t?Qlt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Zlt=Jlt,ect=AV,tct=qlt,nct=Ylt,rct=Xlt,ict=Zlt,oct="[object Boolean]",sct="[object Date]",act="[object Map]",uct="[object Number]",lct="[object RegExp]",cct="[object Set]",fct="[object String]",dct="[object Symbol]",hct="[object ArrayBuffer]",pct="[object DataView]",mct="[object Float32Array]",gct="[object Float64Array]",yct="[object Int8Array]",vct="[object Int16Array]",bct="[object Int32Array]",_ct="[object Uint8Array]",wct="[object Uint8ClampedArray]",Ect="[object Uint16Array]",xct="[object Uint32Array]";function Tct(e,t,n){var r=e.constructor;switch(t){case hct:return ect(e);case oct:case sct:return new r(+e);case pct:return tct(e,n);case mct:case gct:case yct:case vct:case bct:case _ct:case wct:case Ect:case xct:return ict(e,n);case act:return new r;case uct:case fct:return new r(e);case lct:return nct(e);case cct:return new r;case dct:return rct(e)}}var Sct=Tct,Cct=b$,Act=SV,Ict=wV;function kct(e){return typeof e.constructor=="function"&&!Ict(e)?Cct(Act(e)):{}}var Rct=kct,Pct=I$,Nct=qc,Dct="[object Map]";function $ct(e){return Nct(e)&&Pct(e)==Dct}var Oct=$ct,Mct=Oct,Lct=bV,Lne=_V,Fne=Lne&&Lne.isMap,Fct=Fne?Lct(Fne):Mct,jct=Fct,Bct=I$,Uct=qc,zct="[object Set]";function Vct(e){return Uct(e)&&Bct(e)==zct}var Hct=Vct,qct=Hct,Wct=bV,jne=_V,Bne=jne&&jne.isSet,Gct=Bne?Wct(Bne):qct,Yct=Gct,Kct=hV,Xct=oV,Qct=mV,Jct=yut,Zct=$ut,eft=Out,tft=iV,nft=Gut,rft=slt,ift=D1e,oft=CV,sft=I$,aft=jlt,uft=Sct,lft=Rct,cft=Sa,fft=yV,dft=jct,hft=Yh,pft=Yct,mft=Ky,gft=EV,yft=1,vft=2,bft=4,M1e="[object Arguments]",_ft="[object Array]",wft="[object Boolean]",Eft="[object Date]",xft="[object Error]",L1e="[object Function]",Tft="[object GeneratorFunction]",Sft="[object Map]",Cft="[object Number]",F1e="[object Object]",Aft="[object RegExp]",Ift="[object Set]",kft="[object String]",Rft="[object Symbol]",Pft="[object WeakMap]",Nft="[object ArrayBuffer]",Dft="[object DataView]",$ft="[object Float32Array]",Oft="[object Float64Array]",Mft="[object Int8Array]",Lft="[object Int16Array]",Fft="[object Int32Array]",jft="[object Uint8Array]",Bft="[object Uint8ClampedArray]",Uft="[object Uint16Array]",zft="[object Uint32Array]",Fr={};Fr[M1e]=Fr[_ft]=Fr[Nft]=Fr[Dft]=Fr[wft]=Fr[Eft]=Fr[$ft]=Fr[Oft]=Fr[Mft]=Fr[Lft]=Fr[Fft]=Fr[Sft]=Fr[Cft]=Fr[F1e]=Fr[Aft]=Fr[Ift]=Fr[kft]=Fr[Rft]=Fr[jft]=Fr[Bft]=Fr[Uft]=Fr[zft]=!0;Fr[xft]=Fr[L1e]=Fr[Pft]=!1;function ik(e,t,n,r,i,o){var s,a=t&yft,u=t&vft,l=t&bft;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!hft(e))return e;var c=cft(e);if(c){if(s=aft(e),!a)return tft(e,s)}else{var f=sft(e),d=f==L1e||f==Tft;if(fft(e))return eft(e,a);if(f==F1e||f==M1e||d&&!i){if(s=u||d?{}:lft(e),!a)return u?rft(e,Zct(s,e)):nft(e,Jct(s,e))}else{if(!Fr[f])return i?e:{};s=uft(e,f,a)}}o||(o=new Kct);var h=o.get(e);if(h)return h;o.set(e,s),pft(e)?e.forEach(function(g){s.add(ik(g,t,n,g,e,o))}):dft(e)&&e.forEach(function(g,y){s.set(y,ik(g,t,n,y,e,o))});var p=l?u?oft:ift:u?gft:mft,m=c?void 0:p(e);return Xct(m||e,function(g,y){m&&(y=g,g=e[y]),Qct(s,y,ik(g,t,n,y,e,o))}),s}var j1e=ik,Vft=Sa,Hft=vC,qft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wft=/^\w*$/;function Gft(e,t){if(Vft(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Hft(e)?!0:Wft.test(e)||!qft.test(e)||t!=null&&e in Object(t)}var IV=Gft,B1e=dV,Yft="Expected a function";function kV(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Yft);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(kV.Cache||B1e),n}kV.Cache=B1e;var Kft=kV,Xft=Kft,Qft=500;function Jft(e){var t=Xft(e,function(r){return n.size===Qft&&n.clear(),r}),n=t.cache;return t}var Zft=Jft,edt=Zft,tdt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ndt=/\\(\\)?/g,rdt=edt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tdt,function(n,r,i,o){t.push(i?o.replace(ndt,"$1"):r||n)}),t}),idt=rdt,odt=Sa,sdt=IV,adt=idt,udt=_C;function ldt(e,t){return odt(e)?e:sdt(e,t)?[e]:adt(udt(e))}var Y_=ldt;function cdt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fdt=cdt,ddt=vC,hdt=1/0;function pdt(e){if(typeof e=="string"||ddt(e))return e;var t=e+"";return t=="0"&&1/e==-hdt?"-0":t}var K_=pdt,mdt=Y_,gdt=K_;function ydt(e,t){t=mdt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[gdt(t[n++])];return n&&n==r?e:void 0}var k$=ydt;function vdt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var U1e=vdt,bdt=k$,_dt=U1e;function wdt(e,t){return t.length<2?e:bdt(e,_dt(t,0,-1))}var Edt=wdt,xdt=Y_,Tdt=fdt,Sdt=Edt,Cdt=K_;function Adt(e,t){return t=xdt(t,e),e=Sdt(e,t),e==null||delete e[Cdt(Tdt(t))]}var z1e=Adt,Idt=ig,kdt=SV,Rdt=qc,Pdt="[object Object]",Ndt=Function.prototype,Ddt=Object.prototype,V1e=Ndt.toString,$dt=Ddt.hasOwnProperty,Odt=V1e.call(Object);function Mdt(e){if(!Rdt(e)||Idt(e)!=Pdt)return!1;var t=kdt(e);if(t===null)return!0;var n=$dt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&V1e.call(n)==Odt}var Ldt=Mdt,Fdt=Ldt;function jdt(e){return Fdt(e)?void 0:e}var Bdt=jdt,Une=z_,Udt=gV,zdt=Sa,zne=Une?Une.isConcatSpreadable:void 0;function Vdt(e){return zdt(e)||Udt(e)||!!(zne&&e&&e[zne])}var Hdt=Vdt,qdt=TV,Wdt=Hdt;function H1e(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Wdt),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?H1e(a,t-1,n,r,i):qdt(i,a):r||(i[i.length]=a)}return i}var Gdt=H1e,Ydt=Gdt;function Kdt(e){var t=e==null?0:e.length;return t?Ydt(e,1):[]}var Xdt=Kdt,Qdt=tV,Vne=Math.max;function Jdt(e,t,n){return t=Vne(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Vne(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Qdt(e,this,a)}}var Zdt=Jdt,eht=Xdt,tht=Zdt,nht=qve;function rht(e){return nht(tht(e,void 0,eht),e+"")}var q1e=rht,iht=x$,oht=j1e,sht=z1e,aht=Y_,uht=wC,lht=Bdt,cht=q1e,fht=CV,dht=1,hht=2,pht=4,mht=cht(function(e,t){var n={};if(e==null)return n;var r=!1;t=iht(t,function(o){return o=aht(o,e),r||(r=o.length>1),o}),uht(e,fht(e),n),r&&(n=oht(n,dht|hht|pht,lht));for(var i=t.length;i--;)sht(n,t[i]);return n}),ght=mht;const R$=gn(ght);var h8=function(){return og&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent)},yht=function(){if(og){var t=window.navigator.userAgent.match(/Chrom(e|ium)\/([\d\.]+)\./);return t?parseFloat(t[2]):!1}return!1},vht=function(){if(og){var t=window.navigator.userAgent.match(/Version\/([\d\.]+).*Safari/);return t?parseFloat(t[1]):!1}return!1},bht=function(){if(typeof CSS<"u"&&typeof CSS.supports<"u")return CSS.supports("(gap: 1px)");if(h8())return!1;var t=yht(),n=vht();return t?t>=84:n?n>=14.1:!0};function _ht(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(n(o[u],u,o)===!1)break}return t}}var wht=_ht,Eht=wht,xht=Eht(),Tht=xht,Sht=Tht,Cht=Ky;function Aht(e,t){return e&&Sht(e,t,Cht)}var Iht=Aht,kht=EC;function Rht(e,t){return function(n,r){if(n==null)return n;if(!kht(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Pht=Rht,Nht=Iht,Dht=Pht,$ht=Dht(Nht),W1e=$ht,Oht=v$;function Mht(e){return typeof e=="function"?e:Oht}var Lht=Mht,Fht=oV,jht=W1e,Bht=Lht,Uht=Sa;function zht(e,t){var n=Uht(e)?Fht:jht;return n(e,Bht(t))}var Vht=zht;const Hht=gn(Vht);var qht=ig,Wht=Sa,Ght=qc,Yht="[object String]";function Kht(e){return typeof e=="string"||!Wht(e)&&Ght(e)&&qht(e)==Yht}var G1e=Kht;const Xht=gn(G1e);var Qht=x$;function Jht(e,t){return Qht(t,function(n){return e[n]})}var Zht=Jht,ept=Zht,tpt=Ky;function npt(e){return e==null?[]:ept(e,tpt(e))}var rpt=npt,ipt=w$,opt=EC,spt=G1e,apt=aV,upt=rpt,lpt=Math.max;function cpt(e,t,n,r){e=opt(e)?e:upt(e),n=n&&!r?apt(n):0;var i=e.length;return n<0&&(n=lpt(i+n,0)),spt(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&ipt(e,t,n)>-1}var fpt=cpt;const dpt=gn(fpt);var hpt=["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],ppt=["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],mpt=[].concat(hpt,ppt),Y1e=function(t,n){n===void 0&&(n={});var r=n,i=r.htmlProps,o=i===void 0?mpt:i,s=r.includeAria,a=s===void 0?!0:s,u={},l={};return Hht(t,function(c,f){var d=a&&(/^aria-.*$/.test(f)||f==="role"),h=dpt(o,f)||d?u:l;h[f]=c}),[u,l]};function K1e(e){var t=[],n=function r(i){ue.Children.forEach(i.props.children,function(o){ue.isValidElement(o)?r(o):typeof o=="string"&&t.push(o)})};return n(e),t}function gpt(e){if(typeof e=="string")return e;if(ue.isValidElement(e)){var t=K1e(e);return t.join("")}return""}function ypt(e){return e.replace(/([\^\$\.\|\*\+\?\{\\\[\(\)])/g,"\\$1")}function vpt(e){return e&&"setState"in e?Ipe.findDOMNode(e):e??null}var bpt=function(t){return t&&("current"in t?t.current:t)};function ah(e){var t=(e==null?void 0:e.root)||(e==null?void 0:e.child)||bpt(e);return t!=null&&t.nodeType&&typeof(t==null?void 0:t.nodeName)=="string"?t:vpt(t)}function _pt(){return"_"+Math.random().toString(36).substring(2,12)}function ia(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r!==null&&typeof r<"u"}).reduce(function(r,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return r===void 0?i:function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];r.apply(this,a),i.apply(this,a)}},void 0)}function al(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}function wpt(e){if(typeof e=="object"&&e!==null)return e.type||e.$$typeof}function X1e(e){return ue.Children.count(e)===1&&wpt(e)===Symbol.for("react.fragment")}function P$(e){return ue.Children.toArray(ue.Children.map(e,function(t){if(X1e(t)){var n;return ue.Children.toArray(((n=t.props)===null||n===void 0?void 0:n.children)||[])}return t}))}function Ept(e,t,n){var r=0,i;return ue.Children.forEach(P$(e),function(o){i||(r+=1,t.call(n,o,r)&&(i=o))}),i}function Q1e(e,t,n){var r=0;return ue.Children.map(P$(e),function(i){if(!ue.isValidElement(i))return i;var o=t.call(n,i,r);return r+=1,o})}function xpt(e,t,n){return Q1e(e,function(r,i){return ue.cloneElement(r,yt({key:i},t(r,i)))},n)}function Tpt(e){return ue.Children.count(P$(e))}function Spt(e,t,n){var r=0,i=!1;return ue.Children.forEach(P$(e),function(o){i||ue.isValidElement(o)&&t.call(n,o,r+=1)&&(i=!0)}),i}var Hne={mapCloneElement:xpt,count:Tpt,some:Spt,map:Q1e,find:Ept},qne=function(t,n){return typeof t<"u"?ue.createElement("span",{key:n},t):null};function Cpt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.split(/\{(\d+)\}/).map(function(i,o){return o%2?qne(n[+i],o):qne(i,o)}).filter(function(i){return i!==""})}function J1e(e,t){return t===void 0&&(t=!1),typeof e=="string"?(t&&(e=e.replace(/left|right/,function(n){return n==="left"?"right":"left"})),e.replace(/Left|Top/,"Start").replace(/Right|Bottom/,"End")):e}var Wne=function(t){return!t||typeof t=="function"?t:function(n){t.current=n}};function Mu(e,t){var n=Wne(e),r=Wne(t);return function(i){typeof n=="function"&&n(i),typeof r=="function"&&r(i)}}var Apt=Object.prototype.hasOwnProperty;function Gne(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cl(e,t){if(Gne(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i+=1)if(!Apt.call(t,n[i])||!Gne(e[n[i]],t[n[i]]))return!1;return!0}function Ipt(e,t,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}var kpt=Ipt,Rpt=W1e;function Ppt(e,t,n,r){return Rpt(e,function(i,o,s){t(r,i,n(i),s)}),r}var Npt=Ppt,Dpt="__lodash_hash_undefined__";function $pt(e){return this.__data__.set(e,Dpt),this}var Opt=$pt;function Mpt(e){return this.__data__.has(e)}var Lpt=Mpt,Fpt=dV,jpt=Opt,Bpt=Lpt;function qR(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Fpt;++t<n;)this.add(e[t])}qR.prototype.add=qR.prototype.push=jpt;qR.prototype.has=Bpt;var Upt=qR;function zpt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Vpt=zpt;function Hpt(e,t){return e.has(t)}var qpt=Hpt,Wpt=Upt,Gpt=Vpt,Ypt=qpt,Kpt=1,Xpt=2;function Qpt(e,t,n,r,i,o){var s=n&Kpt,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(e),c=o.get(t);if(l&&c)return l==t&&c==e;var f=-1,d=!0,h=n&Xpt?new Wpt:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],m=t[f];if(r)var g=s?r(m,p,f,t,e,o):r(p,m,f,e,t,o);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!Gpt(t,function(y,v){if(!Ypt(h,v)&&(p===y||i(p,y,n,r,o)))return h.push(v)})){d=!1;break}}else if(!(p===m||i(p,m,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}var Z1e=Qpt;function Jpt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Zpt=Jpt;function emt(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var tmt=emt,Yne=z_,Kne=O1e,nmt=cV,rmt=Z1e,imt=Zpt,omt=tmt,smt=1,amt=2,umt="[object Boolean]",lmt="[object Date]",cmt="[object Error]",fmt="[object Map]",dmt="[object Number]",hmt="[object RegExp]",pmt="[object Set]",mmt="[object String]",gmt="[object Symbol]",ymt="[object ArrayBuffer]",vmt="[object DataView]",Xne=Yne?Yne.prototype:void 0,QL=Xne?Xne.valueOf:void 0;function bmt(e,t,n,r,i,o,s){switch(n){case vmt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ymt:return!(e.byteLength!=t.byteLength||!o(new Kne(e),new Kne(t)));case umt:case lmt:case dmt:return nmt(+e,+t);case cmt:return e.name==t.name&&e.message==t.message;case hmt:case mmt:return e==t+"";case fmt:var a=imt;case pmt:var u=r&smt;if(a||(a=omt),e.size!=t.size&&!u)return!1;var l=s.get(e);if(l)return l==t;r|=amt,s.set(e,t);var c=rmt(a(e),a(t),r,i,o,s);return s.delete(e),c;case gmt:if(QL)return QL.call(e)==QL.call(t)}return!1}var _mt=bmt,Qne=D1e,wmt=1,Emt=Object.prototype,xmt=Emt.hasOwnProperty;function Tmt(e,t,n,r,i,o){var s=n&wmt,a=Qne(e),u=a.length,l=Qne(t),c=l.length;if(u!=c&&!s)return!1;for(var f=u;f--;){var d=a[f];if(!(s?d in t:xmt.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=s;++f<u;){d=a[f];var y=e[d],v=t[d];if(r)var b=s?r(v,y,d,t,e,o):r(y,v,d,e,t,o);if(!(b===void 0?y===v||i(y,v,n,r,o):b)){m=!1;break}g||(g=d=="constructor")}if(m&&!g){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(m=!1)}return o.delete(e),o.delete(t),m}var Smt=Tmt,JL=hV,Cmt=Z1e,Amt=_mt,Imt=Smt,Jne=I$,Zne=Sa,ere=yV,kmt=A1e,Rmt=1,tre="[object Arguments]",nre="[object Array]",EA="[object Object]",Pmt=Object.prototype,rre=Pmt.hasOwnProperty;function Nmt(e,t,n,r,i,o){var s=Zne(e),a=Zne(t),u=s?nre:Jne(e),l=a?nre:Jne(t);u=u==tre?EA:u,l=l==tre?EA:l;var c=u==EA,f=l==EA,d=u==l;if(d&&ere(e)){if(!ere(t))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new JL),s||kmt(e)?Cmt(e,t,n,r,i,o):Amt(e,t,u,n,r,i,o);if(!(n&Rmt)){var h=c&&rre.call(e,"__wrapped__"),p=f&&rre.call(t,"__wrapped__");if(h||p){var m=h?e.value():e,g=p?t.value():t;return o||(o=new JL),i(m,g,n,r,o)}}return d?(o||(o=new JL),Imt(e,t,n,r,i,o)):!1}var Dmt=Nmt,$mt=Dmt,ire=qc;function ebe(e,t,n,r,i){return e===t?!0:e==null||t==null||!ire(e)&&!ire(t)?e!==e&&t!==t:$mt(e,t,n,r,ebe,i)}var tbe=ebe,Omt=hV,Mmt=tbe,Lmt=1,Fmt=2;function jmt(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var u=a[0],l=e[u],c=a[1];if(s&&a[2]){if(l===void 0&&!(u in e))return!1}else{var f=new Omt;if(r)var d=r(l,c,u,e,t,f);if(!(d===void 0?Mmt(c,l,Lmt|Fmt,r,f):d))return!1}}return!0}var Bmt=jmt,Umt=Yh;function zmt(e){return e===e&&!Umt(e)}var nbe=zmt,Vmt=nbe,Hmt=Ky;function qmt(e){for(var t=Hmt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Vmt(i)]}return t}var Wmt=qmt;function Gmt(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var rbe=Gmt,Ymt=Bmt,Kmt=Wmt,Xmt=rbe;function Qmt(e){var t=Kmt(e);return t.length==1&&t[0][2]?Xmt(t[0][0],t[0][1]):function(n){return n===e||Ymt(n,e,t)}}var Jmt=Qmt,Zmt=k$;function egt(e,t,n){var r=e==null?void 0:Zmt(e,t);return r===void 0?n:r}var ibe=egt;const obe=gn(ibe);function tgt(e,t){return e!=null&&t in Object(e)}var ngt=tgt,rgt=Y_,igt=gV,ogt=Sa,sgt=yC,agt=vV,ugt=K_;function lgt(e,t,n){t=rgt(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=ugt(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&agt(i)&&sgt(s,i)&&(ogt(e)||igt(e)))}var cgt=lgt,fgt=ngt,dgt=cgt;function hgt(e,t){return e!=null&&dgt(e,t,fgt)}var sbe=hgt,pgt=tbe,mgt=ibe,ggt=sbe,ygt=IV,vgt=nbe,bgt=rbe,_gt=K_,wgt=1,Egt=2;function xgt(e,t){return ygt(e)&&vgt(t)?bgt(_gt(e),t):function(n){var r=mgt(n,e);return r===void 0&&r===t?ggt(n,e):pgt(t,r,wgt|Egt)}}var Tgt=xgt;function Sgt(e){return function(t){return t==null?void 0:t[e]}}var Cgt=Sgt,Agt=k$;function Igt(e){return function(t){return Agt(t,e)}}var kgt=Igt,Rgt=Cgt,Pgt=kgt,Ngt=IV,Dgt=K_;function $gt(e){return Ngt(e)?Rgt(Dgt(e)):Pgt(e)}var Ogt=$gt,Mgt=Jmt,Lgt=Tgt,Fgt=v$,jgt=Sa,Bgt=Ogt;function Ugt(e){return typeof e=="function"?e:e==null?Fgt:typeof e=="object"?jgt(e)?Lgt(e[0],e[1]):Mgt(e):Bgt(e)}var Xy=Ugt,zgt=kpt,Vgt=Npt,Hgt=Xy,qgt=Sa;function Wgt(e,t){return function(n,r){var i=qgt(n)?zgt:Vgt,o=t?t():{};return i(n,e,Hgt(r),o)}}var Ggt=Wgt,Ygt=pV,Kgt=Ggt,Xgt=Object.prototype,Qgt=Xgt.hasOwnProperty,Jgt=Kgt(function(e,t,n){Qgt.call(e,n)?e[n].push(t):Ygt(e,n,[t])}),Zgt=Jgt;const e0t=gn(Zgt);function t0t(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=n0t(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n0t(e,t){if(e){if(typeof e=="string")return ore(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ore(e,t)}}function ore(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ok=function(e){return e[e.DFS=0]="DFS",e[e.BFS=1]="BFS",e}({});function r0t(e,t,n){n===void 0&&(n=ok.BFS);var r=[];return n===ok.BFS?i0t(e,t,function(i){return r.push(i)}):n===ok.DFS&&abe(e,t,function(i){return r.push(i)}),r}function i0t(e,t,n){for(var r=[].concat(e);r.length>0;){var i=r.shift();n(i);var o=t(i);o&&r.push.apply(r,o)}}function abe(e,t,n){for(var r=t0t(e),i;!(i=r()).done;){var o=i.value;n(o);var s=t(o);s&&abe(s,t,n)}}var o0t=Symbol.for("rsuite.picker"),r1=Symbol.for("rsuite.picker_group_key"),p8="groupTitle";function s0t(e,t,n){var r=e0t(e,t),i=typeof n=="function",o=Object.entries(r).map(function(s){var a,u=s[0],l=s[1];return a={children:i?l.sort(n(!1)):l},a[p8]=u,a[r1]=!0,a});return i&&o.sort(n(!0)),r0t(o,function(s){return s.children},ok.DFS)}function a0t(){var e=document.createElement("div").style;return"webkitAnimation"in e?"webkitAnimationEnd":"animationend"}var ube={onEnter:pe.func,onEntering:pe.func,onEntered:pe.func,onExit:pe.func,onExiting:pe.func,onExited:pe.func},u0t=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],Mi=function(e){return e[e.UNMOUNTED=0]="UNMOUNTED",e[e.EXITED=1]="EXITED",e[e.ENTERING=2]="ENTERING",e[e.ENTERED=3]="ENTERED",e[e.EXITING=4]="EXITING",e}({}),lbe=yt({},ube,{animation:pe.bool,children:pe.oneOfType([pe.node,pe.func]),className:pe.string,in:pe.bool,unmountOnExit:pe.bool,transitionAppear:pe.bool,timeout:pe.number,exitedClassName:pe.string,exitingClassName:pe.string,enteredClassName:pe.string,enteringClassName:pe.string}),xC=function(e){function t(r){var i;i=e.call(this,r)||this,i.animationEventListener=null,i.instanceElement=null,i.nextCallback=null,i.needsUpdate=null,i.childRef=void 0;var o;return r.in?o=r.transitionAppear?Mi.EXITED:Mi.ENTERED:o=r.unmountOnExit?Mi.UNMOUNTED:Mi.EXITED,i.state={status:o},i.nextCallback=null,i.childRef=ue.createRef(),i}zit(t,e),t.getDerivedStateFromProps=function(i,o){return i.in&&i.unmountOnExit&&o.status===Mi.UNMOUNTED?{status:Mi.EXITED}:null};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){return(!this.props.in||!this.props.unmountOnExit)&&(this.needsUpdate=!0),null},n.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},n.componentDidUpdate=function(){var i=this.state.status,o=this.props.unmountOnExit;if(o&&i===Mi.EXITED){this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:Mi.UNMOUNTED});return}this.needsUpdate&&(this.needsUpdate=!1,this.props.in?(i===Mi.EXITING||i===Mi.EXITED)&&this.performEnter(this.props):(i===Mi.ENTERING||i===Mi.ENTERED)&&this.performExit(this.props))},n.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},n.onTransitionEnd=function(i,o){var s;if(this.setNextCallback(o),(s=this.animationEventListener)===null||s===void 0||s.off(),!!this.nextCallback)if(i){var a=this.props,u=a.timeout,l=a.animation;this.animationEventListener=Ib(i,l?a0t():Hit(),this.nextCallback),u!==null&&setTimeout(this.nextCallback,u)}else setTimeout(this.nextCallback,0)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){if(s){if(a){o.instanceElement===a.target&&(i(a),s=!1,o.nextCallback=null);return}i(a),s=!1,o.nextCallback=null}},this.nextCallback&&(this.nextCallback.cancel=function(){s=!1}),this.nextCallback},n.getChildElement=function(){return this.childRef.current?ah(this.childRef.current):ah(this)},n.performEnter=function(i){var o=this,s=i||this.props,a=s.onEnter,u=s.onEntering,l=s.onEntered;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,a==null||a(c),this.safeSetState({status:Mi.ENTERING},function(){u==null||u(c),o.onTransitionEnd(c,function(){o.safeSetState({status:Mi.ENTERED},function(){l==null||l(c)})})})},n.performExit=function(i){var o=this,s=i||this.props,a=s.onExit,u=s.onExiting,l=s.onExited;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,a==null||a(c),this.safeSetState({status:Mi.EXITING},function(){u==null||u(c),o.onTransitionEnd(c,function(){o.safeSetState({status:Mi.EXITED},function(){l==null||l(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){if(this.instanceElement){var s=this.setNextCallback(o);this.setState(i,function(){return s==null?void 0:s()})}},n.render=function(){var i,o=this.state.status;if(o===Mi.UNMOUNTED)return null;var s=this.props,a=s.children,u=s.className,l=s.exitedClassName,c=s.enteringClassName,f=s.enteredClassName,d=s.exitingClassName,h=jn(s,u0t),p=R$(h,Object.keys(lbe)),m;if(o===Mi.EXITED?m=l:o===Mi.ENTERING?m=c:o===Mi.ENTERED?m=f:o===Mi.EXITING&&(m=d),Gd(a))return p.className=Tl(u,m),a(p,this.childRef);var g=ue.Children.only(a);return ue.cloneElement(g,yt({},p,{ref:this.childRef,className:Tl(u,(i=g.props)===null||i===void 0?void 0:i.className,m)}))},t}(ue.Component);xC.propTypes=lbe;xC.displayName="Transition";xC.defaultProps={timeout:1e3};var cbe=ue.createContext({});function Or(e){var t=I.useContext(cbe)||{},n=t.classPrefix,r=n===void 0?"rs":n,i=rk(r,e),o=I.useCallback(function(){var u=arguments.length?Tl.apply(void 0,arguments).split(" ").map(function(l){return rk(i,l)}):[];return u.filter(function(l){return l}).join(" ")},[i]),s=I.useCallback(function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var f=o(l);return f?i+" "+f:i},[i,o]),a=function(){var l=arguments.length?Tl.apply(void 0,arguments).split(" ").map(function(c){return rk(r,c)}):[];return l.filter(function(c){return c}).join(" ")};return{withClassPrefix:s,merge:Tl,prefix:o,rootPrefix:a}}function WR(e,t){var n=I.useRef(!1);n.current=e!==void 0;var r=I.useState(t),i=r[0],o=r[1],s=n.current?e:i,a=I.useCallback(function(u){n.current||o(u)},[n]);return[s,a,n.current]}function au(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function io(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Vs(e){io(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ih(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function l0t(e,t){io(2,arguments);var n=Vs(e).getTime(),r=au(t);return new Date(n+r)}var c0t={};function X_(){return c0t}function f0t(e){return io(1,arguments),e instanceof Date||Ih(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fbe(e){if(io(1,arguments),!f0t(e)&&typeof e!="number")return!1;var t=Vs(e);return!isNaN(Number(t))}function dbe(e,t){io(2,arguments);var n=au(t);return l0t(e,-n)}var d0t=864e5;function h0t(e){io(1,arguments);var t=Vs(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/d0t)+1}function Rb(e){io(1,arguments);var t=1,n=Vs(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function hbe(e){io(1,arguments);var t=Vs(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Rb(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Rb(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function p0t(e){io(1,arguments);var t=hbe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Rb(n);return r}var m0t=6048e5;function pbe(e){io(1,arguments);var t=Vs(e),n=Rb(t).getTime()-p0t(t).getTime();return Math.round(n/m0t)+1}function Q0(e,t){var n,r,i,o,s,a,u,l;io(1,arguments);var c=X_(),f=au((n=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Vs(e),h=d.getUTCDay(),p=(h<f?7:0)+h-f;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function RV(e,t){var n,r,i,o,s,a,u,l;io(1,arguments);var c=Vs(e),f=c.getUTCFullYear(),d=X_(),h=au((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,h),p.setUTCHours(0,0,0,0);var m=Q0(p,t),g=new Date(0);g.setUTCFullYear(f,0,h),g.setUTCHours(0,0,0,0);var y=Q0(g,t);return c.getTime()>=m.getTime()?f+1:c.getTime()>=y.getTime()?f:f-1}function g0t(e,t){var n,r,i,o,s,a,u,l;io(1,arguments);var c=X_(),f=au((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),d=RV(e,t),h=new Date(0);h.setUTCFullYear(d,0,f),h.setUTCHours(0,0,0,0);var p=Q0(h,t);return p}var y0t=6048e5;function mbe(e,t){io(1,arguments);var n=Vs(e),r=Q0(n,t).getTime()-g0t(n,t).getTime();return Math.round(r/y0t)+1}function xr(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var ap={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return xr(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):xr(r+1,2)},d:function(t,n){return xr(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return xr(t.getUTCHours()%12||12,n.length)},H:function(t,n){return xr(t.getUTCHours(),n.length)},m:function(t,n){return xr(t.getUTCMinutes(),n.length)},s:function(t,n){return xr(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return xr(o,n.length)}},Dv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v0t={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return ap.y(t,n)},Y:function(t,n,r,i){var o=RV(t,i),s=o>0?o:1-o;if(n==="YY"){var a=s%100;return xr(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,n.length)},R:function(t,n){var r=hbe(t);return xr(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return xr(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return xr(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return xr(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return ap.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return xr(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var o=mbe(t,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):xr(o,n.length)},I:function(t,n,r){var i=pbe(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):xr(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):ap.d(t,n)},D:function(t,n,r){var i=h0t(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):xr(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var o=t.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var o=t.getUTCDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return xr(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return xr(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),o;switch(i===12?o=Dv.noon:i===0?o=Dv.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),o;switch(i>=17?o=Dv.evening:i>=12?o=Dv.afternoon:i>=4?o=Dv.morning:o=Dv.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ap.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ap.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):xr(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):xr(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ap.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ap.s(t,n)},S:function(t,n){return ap.S(t,n)},X:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return are(s);case"XXXX":case"XX":return Hg(s);case"XXXXX":case"XXX":default:return Hg(s,":")}},x:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"x":return are(s);case"xxxx":case"xx":return Hg(s);case"xxxxx":case"xxx":default:return Hg(s,":")}},O:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+sre(s,":");case"OOOO":default:return"GMT"+Hg(s,":")}},z:function(t,n,r,i){var o=i._originalDate||t,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+sre(s,":");case"zzzz":default:return"GMT"+Hg(s,":")}},t:function(t,n,r,i){var o=i._originalDate||t,s=Math.floor(o.getTime()/1e3);return xr(s,n.length)},T:function(t,n,r,i){var o=i._originalDate||t,s=o.getTime();return xr(s,n.length)}};function sre(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var s=t;return n+String(i)+s+xr(o,2)}function are(e,t){if(e%60===0){var n=e>0?"-":"+";return n+xr(Math.abs(e)/60,2)}return Hg(e,t)}function Hg(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=xr(Math.floor(i/60),2),s=xr(i%60,2);return r+o+n+s}var ure=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},gbe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},b0t=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return ure(t,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",ure(i,n)).replace("{{time}}",gbe(o,n))},m8={p:gbe,P:b0t};function ybe(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var _0t=["D","DD"],w0t=["YY","YYYY"];function vbe(e){return _0t.indexOf(e)!==-1}function bbe(e){return w0t.indexOf(e)!==-1}function GR(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var E0t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_be=function(t,n,r){var i,o=E0t[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function G1(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var x0t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T0t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S0t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C0t={date:G1({formats:x0t,defaultWidth:"full"}),time:G1({formats:T0t,defaultWidth:"full"}),dateTime:G1({formats:S0t,defaultWidth:"full"})},A0t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wbe=function(t,n,r,i){return A0t[t]};function Zw(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;i=e.formattingValues[s]||e.formattingValues[o]}else{var a=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[a]}var l=e.argumentCallback?e.argumentCallback(t):t;return i[l]}}var I0t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k0t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R0t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P0t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N0t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D0t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$0t=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ebe={ordinalNumber:$0t,era:Zw({values:I0t,defaultWidth:"wide"}),quarter:Zw({values:k0t,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zw({values:R0t,defaultWidth:"wide"}),day:Zw({values:P0t,defaultWidth:"wide"}),dayPeriod:Zw({values:N0t,defaultWidth:"wide",formattingValues:D0t,defaultFormattingWidth:"wide"})};function eE(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(a)?M0t(a,function(f){return f.test(s)}):O0t(a,function(f){return f.test(s)}),l;l=e.valueCallback?e.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;var c=t.slice(s.length);return{value:l,rest:c}}}function O0t(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function M0t(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function L0t(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(i.length);return{value:s,rest:a}}}var F0t=/^(\d+)(th|st|nd|rd)?/i,j0t=/\d+/i,B0t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U0t={any:[/^b/i,/^(a|c)/i]},z0t={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V0t={any:[/1/i,/2/i,/3/i,/4/i]},H0t={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q0t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W0t={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G0t={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y0t={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K0t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xbe={ordinalNumber:L0t({matchPattern:F0t,parsePattern:j0t,valueCallback:function(t){return parseInt(t,10)}}),era:eE({matchPatterns:B0t,defaultMatchWidth:"wide",parsePatterns:U0t,defaultParseWidth:"any"}),quarter:eE({matchPatterns:z0t,defaultMatchWidth:"wide",parsePatterns:V0t,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:eE({matchPatterns:H0t,defaultMatchWidth:"wide",parsePatterns:q0t,defaultParseWidth:"any"}),day:eE({matchPatterns:W0t,defaultMatchWidth:"wide",parsePatterns:G0t,defaultParseWidth:"any"}),dayPeriod:eE({matchPatterns:Y0t,defaultMatchWidth:"any",parsePatterns:K0t,defaultParseWidth:"any"})},Tbe={code:"en-US",formatDistance:_be,formatLong:C0t,formatRelative:wbe,localize:Ebe,match:xbe,options:{weekStartsOn:0,firstWeekContainsDate:1}},X0t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q0t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J0t=/^'([^]*?)'?$/,Z0t=/''/g,eyt=/[a-zA-Z]/;function tyt(e,t,n){var r,i,o,s,a,u,l,c,f,d,h,p,m,g,y,v,b,_;io(2,arguments);var w=String(t),S=X_(),E=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:S.locale)!==null&&r!==void 0?r:Tbe,C=au((o=(s=(a=(u=n==null?void 0:n.firstWeekContainsDate)!==null&&u!==void 0?u:n==null||(l=n.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=au((h=(p=(m=(g=n==null?void 0:n.weekStartsOn)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&m!==void 0?m:S.weekStartsOn)!==null&&p!==void 0?p:(b=S.locale)===null||b===void 0||(_=b.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var k=Vs(e);if(!fbe(k))throw new RangeError("Invalid time value");var P=ybe(k),$=dbe(k,P),N={firstWeekContainsDate:C,weekStartsOn:A,locale:E,_originalDate:k},O=w.match(Q0t).map(function(j){var M=j[0];if(M==="p"||M==="P"){var B=m8[M];return B(j,E.formatLong)}return j}).join("").match(X0t).map(function(j){if(j==="''")return"'";var M=j[0];if(M==="'")return nyt(j);var B=v0t[M];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&bbe(j)&&GR(j,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&vbe(j)&&GR(j,t,String(e)),B($,j,E.localize,N);if(M.match(eyt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return j}).join("");return O}function nyt(e){var t=e.match(J0t);return t?t[1].replace(Z0t,"'"):e}function lre(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ryt(e,t){if(e){if(typeof e=="string")return lre(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lre(e,t):void 0}}function cre(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ryt(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function iyt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Nt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g8(e,t){return g8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},g8(e,t)}function nr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g8(e,t)}function YR(e){return YR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},YR(e)}function Sbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sbe=function(){return!!e})()}function oyt(e,t){if(t&&(Ih(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function rr(e){var t=Sbe();return function(){var n,r=YR(e);if(t){var i=YR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oyt(this,n)}}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function syt(e,t){if(Ih(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cbe(e){var t=syt(e,"string");return Ih(t)=="symbol"?t:t+""}function ayt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cbe(r.key),r)}}function Yn(e,t,n){return t&&ayt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ct(e,t,n){return(t=Cbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uyt=10,Abe=function(){function e(){Gn(this,e),Ct(this,"priority",void 0),Ct(this,"subPriority",0)}return Yn(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),lyt=function(e){nr(n,e);var t=rr(n);function n(r,i,o,s,a){var u;return Gn(this,n),u=t.call(this),u.value=r,u.validateValue=i,u.setValue=o,u.priority=s,a&&(u.subPriority=a),u}return Yn(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,s){return this.setValue(i,o,this.value,s)}}]),n}(Abe),cyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",uyt),Ct(Nt(r),"subPriority",-1),r}return Yn(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}}]),n}(Abe),vr=function(){function e(){Gn(this,e),Ct(this,"incompatibleTokens",void 0),Ct(this,"priority",void 0),Ct(this,"subPriority",void 0)}return Yn(e,[{key:"run",value:function(n,r,i,o){var s=this.parse(n,r,i,o);return s?{setter:new lyt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),e}(),fyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",140),Ct(Nt(r),"incompatibleTokens",["R","u","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"});case"GGGGG":return s.era(i,{width:"narrow"});case"GGGG":default:return s.era(i,{width:"wide"})||s.era(i,{width:"abbreviated"})||s.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,s){return o.era=s,i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),dyt=6e4,hyt=36e5,pyt=1e3,Ui={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_f={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zi(e,t){return e&&{value:t(e.value),rest:e.rest}}function vi(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function wf(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(i*hyt+o*dyt+s*pyt),rest:t.slice(n[0].length)}}function Ibe(e){return vi(Ui.anyDigitsSigned,e)}function Di(e,t){switch(e){case 1:return vi(Ui.singleDigit,t);case 2:return vi(Ui.twoDigits,t);case 3:return vi(Ui.threeDigits,t);case 4:return vi(Ui.fourDigits,t);default:return vi(new RegExp("^\\d{1,"+e+"}"),t)}}function KR(e,t){switch(e){case 1:return vi(Ui.singleDigitSigned,t);case 2:return vi(Ui.twoDigitsSigned,t);case 3:return vi(Ui.threeDigitsSigned,t);case 4:return vi(Ui.fourDigitsSigned,t);default:return vi(new RegExp("^-?\\d{1,"+e+"}"),t)}}function PV(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function kbe(e,t){var n=t>0,r=n?t:1-t,i;if(r<=50)i=e||100;else{var o=r+50,s=Math.floor(o/100)*100,a=e>=o%100;i=e+s-(a?100:0)}return n?i:1-i}function Rbe(e){return e%400===0||e%4===0&&e%100!==0}var myt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",130),Ct(Nt(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="yy"}};switch(o){case"y":return zi(Di(4,i),a);case"yo":return zi(s.ordinalNumber(i,{unit:"year"}),a);default:return zi(Di(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s){var a=i.getUTCFullYear();if(s.isTwoDigitYear){var u=kbe(s.year,a);return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}var l=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),gyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",130),Ct(Nt(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){var a=function(l){return{year:l,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return zi(Di(4,i),a);case"Yo":return zi(s.ordinalNumber(i,{unit:"year"}),a);default:return zi(Di(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,s,a){var u=RV(i,a);if(s.isTwoDigitYear){var l=kbe(s.year,u);return i.setUTCFullYear(l,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Q0(i,a)}var c=!("era"in o)||o.era===1?s.year:1-s.year;return i.setUTCFullYear(c,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),Q0(i,a)}}]),n}(vr),yyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",130),Ct(Nt(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o){return KR(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Rb(a)}}]),n}(vr),vyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",130),Ct(Nt(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o){return KR(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,s){return i.setUTCFullYear(s,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),byt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",120),Ct(Nt(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"Q":case"QQ":return Di(o.length,i);case"Qo":return s.ordinalNumber(i,{unit:"quarter"});case"QQQ":return s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(i,{width:"wide",context:"formatting"})||s.quarter(i,{width:"abbreviated",context:"formatting"})||s.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),_yt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",120),Ct(Nt(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"q":case"qq":return Di(o.length,i);case"qo":return s.ordinalNumber(i,{unit:"quarter"});case"qqq":return s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(i,{width:"wide",context:"standalone"})||s.quarter(i,{width:"abbreviated",context:"standalone"})||s.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,s){return i.setUTCMonth((s-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),wyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ct(Nt(r),"priority",110),r}return Yn(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"M":return zi(vi(Ui.month,i),a);case"MM":return zi(Di(2,i),a);case"Mo":return zi(s.ordinalNumber(i,{unit:"month"}),a);case"MMM":return s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(i,{width:"wide",context:"formatting"})||s.month(i,{width:"abbreviated",context:"formatting"})||s.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr),Eyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",110),Ct(Nt(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l-1};switch(o){case"L":return zi(vi(Ui.month,i),a);case"LL":return zi(Di(2,i),a);case"Lo":return zi(s.ordinalNumber(i,{unit:"month"}),a);case"LLL":return s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(i,{width:"wide",context:"standalone"})||s.month(i,{width:"abbreviated",context:"standalone"})||s.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){return i.setUTCMonth(s,1),i.setUTCHours(0,0,0,0),i}}]),n}(vr);function xyt(e,t,n){io(2,arguments);var r=Vs(e),i=au(t),o=mbe(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var Tyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",100),Ct(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"w":return vi(Ui.week,i);case"wo":return s.ordinalNumber(i,{unit:"week"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s,a){return Q0(xyt(i,s,a),a)}}]),n}(vr);function Syt(e,t){io(2,arguments);var n=Vs(e),r=au(t),i=pbe(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var Cyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",100),Ct(Nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"I":return vi(Ui.week,i);case"Io":return s.ordinalNumber(i,{unit:"week"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,s){return Rb(Syt(i,s))}}]),n}(vr),Ayt=[31,28,31,30,31,30,31,31,30,31,30,31],Iyt=[31,29,31,30,31,30,31,31,30,31,30,31],kyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"subPriority",1),Ct(Nt(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"d":return vi(Ui.date,i);case"do":return s.ordinalNumber(i,{unit:"date"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=Rbe(s),u=i.getUTCMonth();return a?o>=1&&o<=Iyt[u]:o>=1&&o<=Ayt[u]}},{key:"set",value:function(i,o,s){return i.setUTCDate(s),i.setUTCHours(0,0,0,0),i}}]),n}(vr),Ryt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"subpriority",1),Ct(Nt(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"D":case"DD":return vi(Ui.dayOfYear,i);case"Do":return s.ordinalNumber(i,{unit:"date"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){var s=i.getUTCFullYear(),a=Rbe(s);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,s){return i.setUTCMonth(0,s),i.setUTCHours(0,0,0,0),i}}]),n}(vr);function NV(e,t,n){var r,i,o,s,a,u,l,c;io(2,arguments);var f=X_(),d=au((r=(i=(o=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(u=a.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Vs(e),p=au(t),m=h.getUTCDay(),g=p%7,y=(g+7)%7,v=(y<d?7:0)+p-m;return h.setUTCDate(h.getUTCDate()+v),h}var Pyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=NV(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(vr),Nyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s,a){var u=function(c){var f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(o){case"e":case"ee":return zi(Di(o.length,i),u);case"eo":return zi(s.ordinalNumber(i,{unit:"day"}),u);case"eee":return s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=NV(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(vr),Dyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s,a){var u=function(c){var f=Math.floor((c-1)/7)*7;return(c+a.weekStartsOn+6)%7+f};switch(o){case"c":case"cc":return zi(Di(o.length,i),u);case"co":return zi(s.ordinalNumber(i,{unit:"day"}),u);case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})||s.day(i,{width:"abbreviated",context:"standalone"})||s.day(i,{width:"short",context:"standalone"})||s.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,s,a){return i=NV(i,s,a),i.setUTCHours(0,0,0,0),i}}]),n}(vr);function $yt(e,t){io(2,arguments);var n=au(t);n%7===0&&(n=n-7);var r=1,i=Vs(e),o=i.getUTCDay(),s=n%7,a=(s+7)%7,u=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+u),i}var Oyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",90),Ct(Nt(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){var a=function(l){return l===0?7:l};switch(o){case"i":case"ii":return Di(o.length,i);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return zi(s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return zi(s.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return zi(s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return zi(s.day(i,{width:"wide",context:"formatting"})||s.day(i,{width:"abbreviated",context:"formatting"})||s.day(i,{width:"short",context:"formatting"})||s.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,s){return i=$yt(i,s),i.setUTCHours(0,0,0,0),i}}]),n}(vr),Myt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",80),Ct(Nt(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(PV(s),0,0,0),i}}]),n}(vr),Lyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",80),Ct(Nt(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(PV(s),0,0,0),i}}]),n}(vr),Fyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",80),Ct(Nt(r),"incompatibleTokens",["a","b","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})||s.dayPeriod(i,{width:"abbreviated",context:"formatting"})||s.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,s){return i.setUTCHours(PV(s),0,0,0),i}}]),n}(vr),jyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",70),Ct(Nt(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"h":return vi(Ui.hour12h,i);case"ho":return s.ordinalNumber(i,{unit:"hour"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):!a&&s===12?i.setUTCHours(0,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(vr),Byt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",70),Ct(Nt(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"H":return vi(Ui.hour23h,i);case"Ho":return s.ordinalNumber(i,{unit:"hour"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,s){return i.setUTCHours(s,0,0,0),i}}]),n}(vr),Uyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",70),Ct(Nt(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"K":return vi(Ui.hour11h,i);case"Ko":return s.ordinalNumber(i,{unit:"hour"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,s){var a=i.getUTCHours()>=12;return a&&s<12?i.setUTCHours(s+12,0,0,0):i.setUTCHours(s,0,0,0),i}}]),n}(vr),zyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",70),Ct(Nt(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"k":return vi(Ui.hour24h,i);case"ko":return s.ordinalNumber(i,{unit:"hour"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,s){var a=s<=24?s%24:s;return i.setUTCHours(a,0,0,0),i}}]),n}(vr),Vyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",60),Ct(Nt(r),"incompatibleTokens",["t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"m":return vi(Ui.minute,i);case"mo":return s.ordinalNumber(i,{unit:"minute"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCMinutes(s,0,0),i}}]),n}(vr),Hyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",50),Ct(Nt(r),"incompatibleTokens",["t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o,s){switch(o){case"s":return vi(Ui.second,i);case"so":return s.ordinalNumber(i,{unit:"second"});default:return Di(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,s){return i.setUTCSeconds(s,0),i}}]),n}(vr),qyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",30),Ct(Nt(r),"incompatibleTokens",["t","T"]),r}return Yn(n,[{key:"parse",value:function(i,o){var s=function(u){return Math.floor(u*Math.pow(10,-o.length+3))};return zi(Di(o.length,i),s)}},{key:"set",value:function(i,o,s){return i.setUTCMilliseconds(s),i}}]),n}(vr),Wyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",10),Ct(Nt(r),"incompatibleTokens",["t","T","x"]),r}return Yn(n,[{key:"parse",value:function(i,o){switch(o){case"X":return wf(_f.basicOptionalMinutes,i);case"XX":return wf(_f.basic,i);case"XXXX":return wf(_f.basicOptionalSeconds,i);case"XXXXX":return wf(_f.extendedOptionalSeconds,i);case"XXX":default:return wf(_f.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(vr),Gyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",10),Ct(Nt(r),"incompatibleTokens",["t","T","X"]),r}return Yn(n,[{key:"parse",value:function(i,o){switch(o){case"x":return wf(_f.basicOptionalMinutes,i);case"xx":return wf(_f.basic,i);case"xxxx":return wf(_f.basicOptionalSeconds,i);case"xxxxx":return wf(_f.extendedOptionalSeconds,i);case"xxx":default:return wf(_f.extended,i)}}},{key:"set",value:function(i,o,s){return o.timestampIsSet?i:new Date(i.getTime()-s)}}]),n}(vr),Yyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",40),Ct(Nt(r),"incompatibleTokens","*"),r}return Yn(n,[{key:"parse",value:function(i){return Ibe(i)}},{key:"set",value:function(i,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(vr),Kyt=function(e){nr(n,e);var t=rr(n);function n(){var r;Gn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),Ct(Nt(r),"priority",20),Ct(Nt(r),"incompatibleTokens","*"),r}return Yn(n,[{key:"parse",value:function(i){return Ibe(i)}},{key:"set",value:function(i,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(vr),Xyt={G:new fyt,y:new myt,Y:new gyt,R:new yyt,u:new vyt,Q:new byt,q:new _yt,M:new wyt,L:new Eyt,w:new Tyt,I:new Cyt,d:new kyt,D:new Ryt,E:new Pyt,e:new Nyt,c:new Dyt,i:new Oyt,a:new Myt,b:new Lyt,B:new Fyt,h:new jyt,H:new Byt,K:new Uyt,k:new zyt,m:new Vyt,s:new Hyt,S:new qyt,X:new Wyt,x:new Gyt,t:new Yyt,T:new Kyt},Qyt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jyt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zyt=/^'([^]*?)'?$/,evt=/''/g,tvt=/\S/,nvt=/[a-zA-Z]/;function rvt(e,t,n,r){var i,o,s,a,u,l,c,f,d,h,p,m,g,y,v,b,_,w;io(3,arguments);var S=String(e),E=String(t),C=X_(),A=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:C.locale)!==null&&i!==void 0?i:Tbe;if(!A.match)throw new RangeError("locale must contain match property");var k=au((s=(a=(u=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(f=c.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&u!==void 0?u:C.firstWeekContainsDate)!==null&&a!==void 0?a:(d=C.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=au((p=(m=(g=(y=r==null?void 0:r.weekStartsOn)!==null&&y!==void 0?y:r==null||(v=r.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:C.weekStartsOn)!==null&&m!==void 0?m:(_=C.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&p!==void 0?p:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Vs(n):new Date(NaN);var $={firstWeekContainsDate:k,weekStartsOn:P,locale:A},N=[new cyt],O=E.match(Jyt).map(function(le){var se=le[0];if(se in m8){var ge=m8[se];return ge(le,A.formatLong)}return le}).join("").match(Qyt),j=[],M=cre(O),B;try{var V=function(){var se=B.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&bbe(se)&&GR(se,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&vbe(se)&&GR(se,E,e);var ge=se[0],be=Xyt[ge];if(be){var ve=be.incompatibleTokens;if(Array.isArray(ve)){var Ye=j.find(function(ht){return ve.includes(ht.token)||ht.token===ge});if(Ye)throw new RangeError("The format string mustn't contain `".concat(Ye.fullToken,"` and `").concat(se,"` at the same time"))}else if(be.incompatibleTokens==="*"&&j.length>0)throw new RangeError("The format string mustn't contain `".concat(se,"` and any other token at the same time"));j.push({token:ge,fullToken:se});var Ue=be.run(S,se,A.match,$);if(!Ue)return{v:new Date(NaN)};N.push(Ue.setter),S=Ue.rest}else{if(ge.match(nvt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ge+"`");if(se==="''"?se="'":ge==="'"&&(se=ivt(se)),S.indexOf(se)===0)S=S.slice(se.length);else return{v:new Date(NaN)}}};for(M.s();!(B=M.n()).done;){var q=V();if(Ih(q)==="object")return q.v}}catch(le){M.e(le)}finally{M.f()}if(S.length>0&&tvt.test(S))return new Date(NaN);var D=N.map(function(le){return le.priority}).sort(function(le,se){return se-le}).filter(function(le,se,ge){return ge.indexOf(le)===se}).map(function(le){return N.filter(function(se){return se.priority===le}).sort(function(se,ge){return ge.subPriority-se.subPriority})}).map(function(le){return le[0]}),U=Vs(n);if(isNaN(U.getTime()))return new Date(NaN);var W=dbe(U,ybe(U)),F={},z=cre(D),G;try{for(z.s();!(G=z.n()).done;){var ee=G.value;if(!ee.validate(W,$))return new Date(NaN);var ce=ee.set(W,F,$);Array.isArray(ce)?(W=ce[0],iyt(F,ce[1])):W=ce}}catch(le){z.e(le)}finally{z.f()}return W}function ivt(e){return e.match(Zyt)[1].replace(evt,"'")}var ovt=mV,svt=Y_,avt=yC,fre=Yh,uvt=K_;function lvt(e,t,n,r){if(!fre(e))return e;t=svt(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var u=uvt(t[i]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var c=a[u];l=r?r(c,u,a):void 0,l===void 0&&(l=fre(c)?c:avt(t[i+1])?[]:{})}ovt(a,u,l),a=a[u]}return e}var cvt=lvt,fvt=k$,dvt=cvt,hvt=Y_;function pvt(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=fvt(e,s);n(a,s)&&dvt(o,hvt(s,e),a)}return o}var Pbe=pvt,mvt=x$,gvt=Xy,yvt=Pbe,vvt=CV;function bvt(e,t){if(e==null)return{};var n=mvt(vvt(e),function(r){return[r]});return t=gvt(t),yvt(e,n,function(r,i){return t(r,i[0])})}var _vt=bvt;const wvt=gn(_vt);var Evt=Pbe,xvt=sbe;function Tvt(e,t){return Evt(e,t,function(n,r){return xvt(e,r)})}var Svt=Tvt,Cvt=Svt,Avt=q1e,Ivt=Avt(function(e,t){return e==null?{}:Cvt(e,t)}),kvt=Ivt;const Nbe=gn(kvt);var Rvt={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},Pvt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nvt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dvt={date:G1({formats:Rvt,defaultWidth:"full"}),time:G1({formats:Pvt,defaultWidth:"full"}),dateTime:G1({formats:Nvt,defaultWidth:"full"})},$vt={code:"en-GB",formatDistance:_be,formatLong:Dvt,formatRelative:wbe,localize:Ebe,match:xbe,options:{weekStartsOn:1,firstWeekContainsDate:4}},ZL={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM yyyy",formattedDayPattern:"dd MMM yyyy",dateLocale:$vt};const Ovt={common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},Calendar:ZL,DatePicker:yt({},ZL),DateRangePicker:yt({},ZL,{last7Days:"Last 7 Days"}),Picker:{noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},InputPicker:{newItem:"New item",createOption:'Create option "{0}"'},Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}};var dre=function(t){return t.reduce(function(n,r){return n=yt({},n,r),n},{})},Mvt=function(){return typeof document<"u"&&(document.body.getAttribute("dir")||document.dir)==="rtl"};function ad(e,t){var n,r,i=I.useContext(cbe),o=i.locale,s=o===void 0?Ovt:o,a=i.rtl,u=a===void 0?Mvt():a,l=i.formatDate,c=i.parseDate,f=i.toasters,d=i.disableRipple,h=yt({},s==null?void 0:s.common,typeof e=="string"?s==null?void 0:s[e]:typeof e=="object"?dre(e.map(function(g){return s==null?void 0:s[g]})):{});t&&(h=dre([h,t]));var p=I.useCallback(function(g,y,v){try{var b;return l?l(g,y,v):tyt(fbe(g)?g:new Date,y,yt({locale:s==null||(b=s.Calendar)===null||b===void 0?void 0:b.dateLocale},v))}catch{return"Error: Invalid date format"}},[l,s==null||(n=s.Calendar)===null||n===void 0?void 0:n.dateLocale]),m=I.useCallback(function(g,y,v,b){var _;return c?c(g,y,v,b):rvt(g,y,v||new Date,yt({locale:s==null||(_=s.Calendar)===null||_===void 0?void 0:_.dateLocale},b))},[c,s==null||(r=s.Calendar)===null||r===void 0?void 0:r.dateLocale]);return{locale:h,rtl:u,toasters:f,disableRipple:d,formatDate:p,parseDate:m}}var S0=[],Lvt=function(){return S0.some(function(e){return e.activeTargets.length>0})},Fvt=function(){return S0.some(function(e){return e.skippedTargets.length>0})},hre="ResizeObserver loop completed with undelivered notifications.",jvt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:hre}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=hre),window.dispatchEvent(e)},KT;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(KT||(KT={}));var C0=function(e){return Object.freeze(e)},Bvt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,C0(this)}return e}(),Dbe=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,C0(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,o=t.right,s=t.bottom,a=t.left,u=t.width,l=t.height;return{x:n,y:r,top:i,right:o,bottom:s,left:a,width:u,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),DV=function(e){return e instanceof SVGElement&&"getBBox"in e},$be=function(e){if(DV(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,s=i.offsetHeight;return!(o||s||e.getClientRects().length)},pre=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Uvt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Lx=typeof window<"u"?window:{},xA=new WeakMap,mre=/auto|scroll/,zvt=/^tb|vertical/,Vvt=/msie|trident/i.test(Lx.navigator&&Lx.navigator.userAgent),of=function(e){return parseFloat(e||"0")},Y1=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Bvt((n?t:e)||0,(n?e:t)||0)},gre=C0({devicePixelContentBoxSize:Y1(),borderBoxSize:Y1(),contentBoxSize:Y1(),contentRect:new Dbe(0,0,0,0)}),Obe=function(e,t){if(t===void 0&&(t=!1),xA.has(e)&&!t)return xA.get(e);if($be(e))return xA.set(e,gre),gre;var n=getComputedStyle(e),r=DV(e)&&e.ownerSVGElement&&e.getBBox(),i=!Vvt&&n.boxSizing==="border-box",o=zvt.test(n.writingMode||""),s=!r&&mre.test(n.overflowY||""),a=!r&&mre.test(n.overflowX||""),u=r?0:of(n.paddingTop),l=r?0:of(n.paddingRight),c=r?0:of(n.paddingBottom),f=r?0:of(n.paddingLeft),d=r?0:of(n.borderTopWidth),h=r?0:of(n.borderRightWidth),p=r?0:of(n.borderBottomWidth),m=r?0:of(n.borderLeftWidth),g=f+l,y=u+c,v=m+h,b=d+p,_=a?e.offsetHeight-b-e.clientHeight:0,w=s?e.offsetWidth-v-e.clientWidth:0,S=i?g+v:0,E=i?y+b:0,C=r?r.width:of(n.width)-S-w,A=r?r.height:of(n.height)-E-_,k=C+g+w+v,P=A+y+_+b,$=C0({devicePixelContentBoxSize:Y1(Math.round(C*devicePixelRatio),Math.round(A*devicePixelRatio),o),borderBoxSize:Y1(k,P,o),contentBoxSize:Y1(C,A,o),contentRect:new Dbe(f,u,C,A)});return xA.set(e,$),$},Mbe=function(e,t,n){var r=Obe(e,n),i=r.borderBoxSize,o=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case KT.DEVICE_PIXEL_CONTENT_BOX:return s;case KT.BORDER_BOX:return i;default:return o}},Hvt=function(){function e(t){var n=Obe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=C0([n.borderBoxSize]),this.contentBoxSize=C0([n.contentBoxSize]),this.devicePixelContentBoxSize=C0([n.devicePixelContentBoxSize])}return e}(),Lbe=function(e){if($be(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},qvt=function(){var e=1/0,t=[];S0.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(l){var c=new Hvt(l.target),f=Lbe(l.target);a.push(c),l.lastReportedSize=Mbe(l.target,l.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},yre=function(e){S0.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Lbe(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},Wvt=function(){var e=0;for(yre(e);Lvt();)e=qvt(),yre(e);return Fvt()&&jvt(),e>0},e6,Fbe=[],Gvt=function(){return Fbe.splice(0).forEach(function(e){return e()})},Yvt=function(e){if(!e6){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Gvt()}).observe(n,r),e6=function(){n.textContent="".concat(t?t--:t++)}}Fbe.push(e),e6()},Kvt=function(e){Yvt(function(){requestAnimationFrame(e)})},sk=0,Xvt=function(){return!!sk},Qvt=250,Jvt={attributes:!0,characterData:!0,childList:!0,subtree:!0},vre=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],bre=function(e){return e===void 0&&(e=0),Date.now()+e},t6=!1,Zvt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Qvt),!t6){t6=!0;var r=bre(t);Kvt(function(){var i=!1;try{i=Wvt()}finally{if(t6=!1,t=r-bre(),!Xvt())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,Jvt)};document.body?n():Lx.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),vre.forEach(function(n){return Lx.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),vre.forEach(function(n){return Lx.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),y8=new Zvt,_re=function(e){!sk&&e>0&&y8.start(),sk+=e,!sk&&y8.stop()},e1t=function(e){return!DV(e)&&!Uvt(e)&&getComputedStyle(e).display==="inline"},t1t=function(){function e(t,n){this.target=t,this.observedBox=n||KT.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=Mbe(this.target,this.observedBox,!0);return e1t(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),n1t=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),TA=new WeakMap,wre=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},SA=function(){function e(){}return e.connect=function(t,n){var r=new n1t(t,n);TA.set(t,r)},e.observe=function(t,n,r){var i=TA.get(t),o=i.observationTargets.length===0;wre(i.observationTargets,n)<0&&(o&&S0.push(i),i.observationTargets.push(new t1t(n,r&&r.box)),_re(1),y8.schedule())},e.unobserve=function(t,n){var r=TA.get(t),i=wre(r.observationTargets,n),o=r.observationTargets.length===1;i>=0&&(o&&S0.splice(S0.indexOf(r),1),r.observationTargets.splice(i,1),_re(-1))},e.disconnect=function(t){var n=this,r=TA.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),jbe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");SA.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!pre(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");SA.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!pre(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");SA.unobserve(this,t)},e.prototype.disconnect=function(){SA.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Bbe(e,t){var n=I.useRef();I.useEffect(function(){if(!n.current){var r=typeof e=="function"?e():e;r&&(n.current=new jbe(t),n.current.observe(r))}return function(){var i;(i=n.current)===null||i===void 0||i.disconnect()}},[e,t])}function hn(e){var t=I.useRef(e);return I.useEffect(function(){t.current=e}),I.useCallback(function(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(i))},[])}var r1t=_C,i1t=0;function o1t(e){var t=++i1t;return r1t(e)+t}var s1t=o1t;const a1t=gn(s1t);var $V=function(t){var n=I.useRef(t);n.current=t,I.useEffect(function(){var r;(r=n.current)===null||r===void 0||r.call(n)},[])},u1t=ue.memo(function(e){var t=e.children,n=e.container,r=I.useState(!1),i=r[0],o=r[1];return I.useEffect(function(){return o(!0)},[]),n&&i?Ny.createPortal(t,n):null});function l1t(e){e===void 0&&(e={});var t=e,n=t.container,r=t.waitMount,i=r===void 0?!1:r,o=typeof n=="function"?n():n,s=I.useMemo(function(){return og?o||document.body:null},[o]),a=I.useCallback(function(l){var c=l.children;return s!=null?Ny.createPortal(c,s):null},[s]),u=I.useCallback(function(l){return ue.createElement(u1t,yt({container:s},l))},[s]);return{target:s,Portal:i?u:a}}var c1t=["top","bottom","right","left"],f1t=["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"],d1t=["auto","autoVertical","autoVerticalStart","autoVerticalEnd","autoHorizontal","autoHorizontalStart","autoHorizontalEnd"],h1t=[].concat(c1t,f1t,d1t),ns={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",ENTER:"Enter",TAB:"Tab",SPACE:" ",BACKSPACE:"Backspace",DELETE:"Delete",COMMA:",",ESC:"Escape"};function p1t(e){return(e==null?void 0:e.button)===0}function m1t(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e!=null&&e.shiftKey)}function g1t(e,t){var n=t.disabled,r=t.triggerTarget,i=t.overlayTarget,o=t.listenEscape,s=o===void 0?!0:o,a=I.useCallback(function(l){s&&l.key===ns.ESC&&(e==null||e(l))},[s,e]),u=I.useCallback(function(l){var c=ah(r),f=ah(i);c&&UR(c,l.target)||f&&UR(f,l.target)||m1t(l)||!p1t(l)||e==null||e(l)},[e,r,i]);I.useEffect(function(){var l=ah(r);if(!(n||!l)){var c=kb(l),f=Ib(c,"mousedown",u,!0),d=Ib(c,"keyup",a);return function(){f==null||f.off(),d==null||d.off()}}},[r,n,e,u,a])}var Ube={},v8={exports:{}},zbe={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(zbe);var Wl=zbe.exports,CA={exports:{}},n6={exports:{}},Ere;function Vbe(){return Ere||(Ere=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(n6)),n6.exports}var AA={exports:{}},r6={exports:{}},xre;function y1t(){return xre||(xre=1,function(e){function t(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.includes(o))continue;i[o]=n[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(r6)),r6.exports}var i6={},tc={},Tre;function OV(){if(Tre)return tc;Tre=1;var e=Wl;tc.__esModule=!0,tc.prefix=tc.defaultClassPrefix=tc.getClassNamePrefix=tc.globalKey=void 0;var t=e(Zve()),n=e(y$()),r="rs-";tc.globalKey=r;var i=function(){return r};tc.getClassNamePrefix=i;var o=function(u){return u?""+i()+u:void 0};tc.defaultClassPrefix=o;var s=(0,t.default)(function(a,u){return!a||!u?"":Array.isArray(u)?(0,n.default)(u.filter(function(l){return!!l}).map(function(l){return a+"-"+l})):a+"-"+u});return tc.prefix=s,tc}var IA={exports:{}},Sre;function v1t(){return Sre||(Sre=1,function(e,t){var n=Wl;t.__esModule=!0,t.default=s;var r=OV(),i=n(y$()),o=I;function s(a){var u=(0,r.defaultClassPrefix)("icon"),l=(0,o.useCallback)(function(c){return(0,r.prefix)(u,c)},[]);return[(0,i.default)(u,(0,r.defaultClassPrefix)(a)),l]}e.exports=t.default}(IA,IA.exports)),IA.exports}var kA={exports:{}},Cre;function b1t(){return Cre||(Cre=1,function(e,t){t.__esModule=!0,t.default=n;function n(){return typeof document<"u"&&typeof window<"u"&&typeof document.createElement=="function"}e.exports=t.default}(kA,kA.exports)),kA.exports}var RA={exports:{}},PA={exports:{}},Are;function Hbe(){if(Are)return PA.exports;Are=1;var e=[],t=[],n="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function r(o,s){if(s=s||{},o===void 0)throw new Error(n);var a=s.prepend===!0?"prepend":"append",u=s.container!==void 0?s.container:document.querySelector("head"),l=e.indexOf(u);l===-1&&(l=e.push(u)-1,t[l]={});var c;return t[l]!==void 0&&t[l][a]!==void 0?c=t[l][a]:(c=t[l][a]=i(),a==="prepend"?u.insertBefore(c,u.childNodes[0]):u.appendChild(c)),o.charCodeAt(0)===65279&&(o=o.substr(1,o.length)),c.styleSheet?c.styleSheet.cssText+=o:c.textContent+=o,c}function i(){var o=document.createElement("style");return o.setAttribute("type","text/css"),o}return PA.exports=r,PA.exports.insertCss=r,PA.exports}var Ire;function _1t(){return Ire||(Ire=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=Hbe(),r=OV(),i=I,o=(0,r.getClassNamePrefix)(),s="."+o+`icon {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  vertical-align: middle;
}
.`+o+`icon[tabindex] {
  cursor: pointer;
}
.`+o+`icon-spin {
  -webkit-animation: icon-spin 2s infinite linear;
          animation: icon-spin 2s infinite linear;
}
.`+o+`icon-pulse {
  -webkit-animation: icon-spin 1s infinite steps(8);
          animation: icon-spin 1s infinite steps(8);
}
.`+o+`icon-flip-horizontal {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}
.`+o+`icon-flip-vertical {
  -webkit-transform: scaleY(-1);
      -ms-transform: scaleY(-1);
          transform: scaleY(-1);
}
@-webkit-keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}`,a=!1,u=function(f){f===void 0&&(f=s),(0,i.useEffect)(function(){a||((0,n.insertCss)(f,{prepend:!0}),a=!0)},[])},l=u;t.default=l,e.exports=t.default}(RA,RA.exports)),RA.exports}var kre;function w1t(){return kre||(kre=1,function(e){var t=Wl;e.__esModule=!0;var n={useClassNames:!0,inBrowserEnv:!0,useInsertStyles:!0};e.useInsertStyles=e.inBrowserEnv=e.useClassNames=void 0;var r=OV();Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(n,a)||a in e&&e[a]===r[a]||(e[a]=r[a])});var i=t(v1t());e.useClassNames=i.default;var o=t(b1t());e.inBrowserEnv=o.default;var s=t(_1t());e.useInsertStyles=s.default}(i6)),i6}var Rre;function E1t(){return Rre||(Rre=1,function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Vbe()),i=n(y1t()),o=n(I),s=n(y$()),a=n(Pve),u=w1t(),l={as:"svg",fill:"currentColor",width:"1em",height:"1em"};function c(h){var p={};return Object.entries(h).forEach(function(m){var g=m[0],y=m[1];typeof y<"u"&&(p[g]=y)}),p}var f=o.default.forwardRef(function(h,p){var m,g=h.as,y=h.spin,v=h.pulse,b=h.flip,_=h.fill,w=h.className,S=h.rotate,E=h.children,C=h.viewBox,A=h.width,k=h.height,P=h.style,$=(0,i.default)(h,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),N=(0,u.useClassNames)(),O=N[0],j=N[1],M=(0,s.default)(w,O,(m={},m[j("spin")]=y,m[j("pulse")]=v,m[j("flip-"+b)]=!!b,m)),B={msTransform:"rotate("+S+"deg)",transform:"rotate("+S+"deg)"};(0,u.useInsertStyles)();var V=c({width:A,height:k,fill:_,viewBox:C,className:M,style:S?(0,r.default)({},B,P):P});return o.default.createElement(g,(0,r.default)({"aria-hidden":!0,focusable:!1,ref:p},V,$),E)});f.displayName="Icon",f.defaultProps=l,f.propTypes={spin:a.default.bool,pulse:a.default.bool,rotate:a.default.number,viewBox:a.default.string,as:a.default.oneOfType([a.default.elementType,a.default.string]),flip:a.default.oneOf(["horizontal","vertical"]),fill:a.default.string};var d=f;t.default=d,e.exports=t.default}(AA,AA.exports)),AA.exports}var Pre;function Qy(){return Pre||(Pre=1,function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Vbe()),i=n(I),o=n(E1t());function s(u){var l=u.as,c=u.ariaLabel,f=u.displayName,d=u.category,h=i.default.forwardRef(function(p,m){return i.default.createElement(o.default,(0,r.default)({"aria-label":c,"data-category":d,ref:m,as:l},p))});return h.displayName=f,h}var a=s;t.default=a,e.exports=t.default}(CA,CA.exports)),CA.exports}var o6={},Nre;function x1t(){return Nre||(Nre=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 21 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M19.196 13.143a.612.612 0 01-.179.411l-8.321 8.321c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-8.321-8.321c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l.893-.893a.582.582 0 01.411-.179c.143 0 .304.071.411.179l7.018 7.018 7.018-7.018c.107-.107.268-.179.411-.179s.304.071.411.179l.893.893a.617.617 0 01.179.411z"}))}var a=n.forwardRef(s),u=a;e.default=u}(o6)),o6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(x1t()),o=(0,r.default)({as:i.default,ariaLabel:"angle down",category:"legacy",displayName:"AngleDown"}),s=o;t.default=s,e.exports=t.default})(v8,v8.exports);var T1t=v8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(T1t);function n(r){return r&&r.__esModule?r:{default:r}}})(Ube);const S1t=gn(Ube);var qbe={},b8={exports:{}},s6={},Dre;function C1t(){return Dre||(Dre=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 21 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M19.196 21.143a.612.612 0 01-.179.411l-.893.893a.582.582 0 01-.411.179.612.612 0 01-.411-.179l-7.018-7.018-7.018 7.018c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-.893-.893c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l8.321-8.321c.107-.107.268-.179.411-.179s.304.071.411.179l8.321 8.321a.617.617 0 01.179.411z"}))}var a=n.forwardRef(s),u=a;e.default=u}(s6)),s6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(C1t()),o=(0,r.default)({as:i.default,ariaLabel:"angle up",category:"legacy",displayName:"AngleUp"}),s=o;t.default=s,e.exports=t.default})(b8,b8.exports);var A1t=b8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(A1t);function n(r){return r&&r.__esModule?r:{default:r}}})(qbe);const I1t=gn(qbe);var Wbe={},_8={exports:{}},a6={},$re;function k1t(){return $re||($re=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 12 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M11.196 9.714a.612.612 0 01-.179.411l-7.018 7.018 7.018 7.018c.107.107.179.268.179.411s-.071.304-.179.411l-.893.893c-.107.107-.268.179-.411.179s-.304-.071-.411-.179L.981 17.555c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l8.321-8.321c.107-.107.268-.179.411-.179s.304.071.411.179l.893.893c.107.107.179.25.179.411z"}))}var a=n.forwardRef(s),u=a;e.default=u}(a6)),a6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(k1t()),o=(0,r.default)({as:i.default,ariaLabel:"angle left",category:"legacy",displayName:"AngleLeft"}),s=o;t.default=s,e.exports=t.default})(_8,_8.exports);var R1t=_8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(R1t);function n(r){return r&&r.__esModule?r:{default:r}}})(Wbe);const Ore=gn(Wbe);var Gbe={},w8={exports:{}},u6={},Mre;function P1t(){return Mre||(Mre=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 11 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M10.625 17.143a.612.612 0 01-.179.411l-8.321 8.321c-.107.107-.268.179-.411.179s-.304-.071-.411-.179l-.893-.893a.582.582 0 01-.179-.411c0-.143.071-.304.179-.411l7.018-7.018L.41 10.124c-.107-.107-.179-.268-.179-.411s.071-.304.179-.411l.893-.893c.107-.107.268-.179.411-.179s.304.071.411.179l8.321 8.321a.617.617 0 01.179.411z"}))}var a=n.forwardRef(s),u=a;e.default=u}(u6)),u6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(P1t()),o=(0,r.default)({as:i.default,ariaLabel:"angle right",category:"legacy",displayName:"AngleRight"}),s=o;t.default=s,e.exports=t.default})(w8,w8.exports);var N1t=w8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(N1t);function n(r){return r&&r.__esModule?r:{default:r}}})(Gbe);const Lre=gn(Gbe);function D1t(e){var t=ad("Dropdown"),n=t.rtl;return I.useMemo(function(){switch(!0){case/^top/.test(e):return I1t;case/^right/.test(e):return n?Ore:Lre;case/^left/.test(e):return n?Lre:Ore;case/^bottom/.test(e):default:return S1t}},[e,n])}var Fre=gT.useId;function MV(e,t){var n=I.useRef();return Fre!==void 0?t??""+e+Fre():(n.current||(n.current=a1t(e)),t??n.current)}var $1t=function(t,n){var r=I.useRef(!0);I.useEffect(function(){if(r.current){r.current=!1;return}t()},n)},Ya=function(t){var n=pe.oneOf(t);return n._argType_={type:"oneOf",value:t},n},O1t=pe.oneOfType([pe.func,pe.any]);function M1t(e,t){var n=t.query,r=t.renderMark;if(!n||!e)return e;for(var i=Array.isArray(n)?n:[n],o=new RegExp(i.map(function(c){return ypt(c)}).join("|"),"ig"),s=[],a=e.split(o),u=e.match(o),l=0;l<a.length;l++)a[l]&&s.push(a[l]),u!=null&&u[l]&&s.push(r(u[l],l));return s}var L1t=["as","classPrefix","className","children","query","renderMark"];function F1t(e,t){return ue.createElement("mark",{key:t,className:"rs-highlight-mark"},e)}var LV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"highlight":i,s=e.className,a=e.children,u=e.query,l=e.renderMark,c=l===void 0?F1t:l,f=jn(e,L1t),d=Or(o),h=d.withClassPrefix,p=d.merge,m=p(s,h()),g=gpt(a);return ue.createElement(r,yt({ref:t,className:m},f),M1t(g,{query:u,renderMark:c}))});LV.displayName="Highlight";LV.propTypes={className:pe.string,classPrefix:pe.string,as:pe.elementType};var j1t=["as","href","disabled","onClick"];function jre(e){return!e||e.trim()==="#"}var FV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"a":n,i=e.href,o=e.disabled,s=e.onClick,a=jn(e,j1t),u=I.useCallback(function(c){if((o||jre(i))&&c.preventDefault(),o){c.stopPropagation();return}s==null||s(c)},[o,i,s]),l=jre(i)?{role:"button",href:"#"}:null;return o&&(a.tabIndex=-1,a["aria-disabled"]=!0),ue.createElement(r,yt({ref:t,href:i},l,a,{onClick:u}))});FV.displayName="SafeAnchor";FV.propTypes={href:pe.string,disabled:pe.bool,as:pe.elementType};function Vi(e,t){return t||(t=e.slice(0)),e.raw=t,e}var B1t=["as","className","classPrefix","onMouseDown"],U1t=["className"],z1t=function(t,n){var r=sh(t),i=(n.pageX||0)-r.left,o=(n.pageY||0)-r.top,s=Math.max(r.width-i,i),a=Math.max(r.height-o,o),u=Math.sqrt(Math.pow(s,2)+Math.pow(a,2));return{width:u*2,height:u*2,left:i-u,top:o-u}},jV=ue.forwardRef(function(e,t){var n=ad(),r=n.disableRipple,i=e.as,o=i===void 0?"span":i,s=e.className,a=e.classPrefix,u=a===void 0?"ripple":a,l=e.onMouseDown,c=jn(e,B1t),f=Or(u),d=f.merge,h=f.prefix,p=f.withClassPrefix,m=d(s,h("pond")),g=I.useRef(null),y=I.useState(!1),v=y[0],b=y[1],_=I.useState(),w=_[0],S=_[1],E=function(){b(!1)},C=I.useCallback(function(A){if(g.current){var k=z1t(g.current,A);b(!0),S(k),l==null||l(k,A)}},[l]);return I.useEffect(function(){var A,k=(A=g.current)===null||A===void 0?void 0:A.parentNode;if(k){var P=Ib(k,"mousedown",C);return function(){P==null||P.off()}}},[C]),r?null:ue.createElement(o,yt({},c,{className:m,ref:Mu(g,t)}),ue.createElement(xC,{in:v,enteringClassName:h("rippling"),onEntered:E},function(A,k){var P=A.className,$=jn(A,U1t);return ue.createElement("span",yt({},$,{ref:k,className:d(p(),P),style:w}))}))});jV.displayName="Ripple";jV.propTypes={classPrefix:pe.string,className:pe.string,onMouseDown:pe.func};var V1t=ue.createContext(null),Bre,Ure,zre,H1t=["as","active","appearance","block","className","children","classPrefix","color","disabled","loading","ripple","size","startIcon","endIcon","type"],N$=ue.forwardRef(function(e,t){var n=e.as,r=e.active,i=e.appearance,o=i===void 0?"default":i,s=e.block,a=e.className,u=e.children,l=e.classPrefix,c=l===void 0?"btn":l,f=e.color,d=e.disabled,h=e.loading,p=e.ripple,m=p===void 0?!0:p,g=e.size,y=e.startIcon,v=e.endIcon,b=e.type,_=jn(e,H1t),w=I.useContext(V1t),S=g??(w==null?void 0:w.size),E=Or(c),C=E.withClassPrefix,A=E.prefix,k=E.merge,P=k(a,C(o,f,S,{active:r,disabled:d,loading:h,block:s})),$=I.useCallback(function(){var M=ue.createElement("span",{className:A(Bre||(Bre=Vi(["spin"])))}),B=m&&!al(o,["link","ghost"])?ue.createElement(jV,null):null;return ue.createElement(ue.Fragment,null,h&&M,y?ue.createElement("span",{className:A(Ure||(Ure=Vi(["start-icon"])))},y):null,u,v?ue.createElement("span",{className:A(zre||(zre=Vi(["end-icon"])))},v):null,B)},[o,u,v,h,A,m,y]);if(_.href)return ue.createElement(FV,yt({},_,{as:n,ref:t,"aria-disabled":d,disabled:d,className:P}),$());var N=n||"button",O=b||(N==="button"?"button":void 0),j=_.role||(N!=="button"?"button":void 0);return ue.createElement(N,yt({},_,{role:j,type:O,ref:t,disabled:d,"aria-disabled":d,className:P}),$())});N$.displayName="Button";N$.propTypes={as:pe.elementType,active:pe.bool,appearance:Ya(["default","primary","link","subtle","ghost"]),block:pe.bool,children:pe.node,color:Ya(["red","orange","yellow","green","cyan","blue","violet"]),disabled:pe.bool,href:pe.string,loading:pe.bool,ripple:pe.bool,size:Ya(["lg","md","sm","xs"]),type:Ya(["button","reset","submit"])};var q1t=["as","style","className","alignSelf","flex","grow","shrink","order","basis"];function TC(e){var t=e.as,n=t===void 0?"div":t,r=e.style,i=e.className,o=e.alignSelf,s=e.flex,a=e.grow,u=e.shrink,l=e.order,c=e.basis,f=jn(e,q1t);return ue.createElement(n,yt({className:i,style:yt({alignSelf:o,order:l},s?{flex:s}:{flexGrow:a,flexShrink:u,flexBasis:c},r)},f))}TC.displayName="StackItem";TC.propTypes={className:pe.string,children:pe.node,alignSelf:Ya(["flex-start","flex-end","center","baseline","stretch"]),flex:pe.oneOfType([pe.string,pe.number]),grow:pe.number,shrink:pe.number,order:pe.number,basis:pe.string};var W1t=["as","alignItems","classPrefix","childrenRenderMode","className","children","direction","justifyContent","spacing","divider","style","wrap"];function G1t(e){var t;return e.type===TC||((t=e.type)===null||t===void 0?void 0:t.displayName)==="StackItem"}var Fp=ue.forwardRef(function(e,t){var n,r=e.as,i=r===void 0?"div":r,o=e.alignItems,s=o===void 0?"center":o,a=e.classPrefix,u=a===void 0?"stack":a,l=e.childrenRenderMode,c=l===void 0?"wrap":l,f=e.className,d=e.children,h=e.direction,p=e.justifyContent,m=e.spacing,g=e.divider,y=e.style,v=e.wrap,b=jn(e,W1t),_=ad("Stack"),w=_.rtl,S=Or(u),E=S.withClassPrefix,C=S.merge,A=S.prefix,k=C(f,E()),P=bht(),$=Array.isArray(m)?m:[m,m],N=(n={},n[w?"marginLeft":"marginRight"]=$[0],n.marginBottom=$[1],n),O=yt({alignItems:s,justifyContent:p,flexDirection:h,flexWrap:v?"wrap":void 0,gap:P?m:void 0},y),j=ue.Children.toArray(d),M=Hne.count(j);return ue.createElement(i,yt({},b,{ref:t,className:k,style:O}),Hne.map(j,function(B,V){var q=c==="wrap"&&!G1t(B)?ue.createElement(TC,{key:V,className:A("item"),style:P?void 0:N},B):ue.cloneElement(B,{className:C(A("item"),B.props.className),style:P?B.props.style:yt({},N,B.props.style)});return[q,V<M-1?g:null]}))});Fp.Item=TC;Fp.displayName="Stack";Fp.propTypes={className:pe.string,children:pe.node,classPrefix:pe.string,direction:Ya(["row","row-reverse","column","column-reverse"]),alignItems:Ya(["flex-start","center","flex-end","stretch","baseline"]),justifyContent:Ya(["flex-start","center","flex-end","space-between","space-around"]),spacing:pe.oneOfType([pe.number,pe.string,pe.array]),divider:pe.node,wrap:pe.bool};function Y1t(e){return e===void 0}var K1t=Y1t;const Yd=gn(K1t);function X1t(e){return e==null}var Q1t=X1t;const ul=gn(Q1t);var J1t=vC;function Z1t(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(s!=null&&(a===void 0?s===s&&!J1t(s):n(s,a)))var a=s,u=o}return u}var Ybe=Z1t;function ebt(e,t){return e>t}var tbt=ebt,nbt=Ybe,rbt=tbt,ibt=Xy;function obt(e,t){return e&&e.length?nbt(e,ibt(t),rbt):void 0}var sbt=obt;const l6=gn(sbt);function abt(e,t){return e<t}var ubt=abt,lbt=Ybe,cbt=Xy,fbt=ubt;function dbt(e,t){return e&&e.length?lbt(e,cbt(t),fbt):void 0}var hbt=dbt;const Vre=gn(hbt);var pbt={left:"Start",right:"End",top:"Start",bottom:"End"};function $v(e){var t,n,r,i;if(e.tagName==="BODY")t=window.innerWidth,n=window.innerHeight,i=sm(kb(e).documentElement)||sm(e),r=Mx(kb(e).documentElement)||Mx(e);else{var o=sh(e);t=o.width,n=o.height,i=sm(e),r=Mx(e)}return{width:t,height:n,scrollX:r,scrollY:i}}const mbt=function(e){var t=e.placement,n=e.preventOverflow,r=e.padding;function i(u,l,c){if(!n)return 0;var f=$v(c),d=f.height,h=f.scrollY,p=u-r-h,m=u+r+l-h;return p<0?-p:m>d?d-m:0}function o(u,l,c){if(!n)return 0;var f=$v(c),d=f.scrollX,h=f.width,p=u-r-d,m=u+r+l-d;return p<0?-p:m>h?h-m:0}function s(u,l,c){if(!n)return c;var f=$v(u),d=f.scrollY,h=f.height;return l+c>h+d?h-l+d:Math.max(d,c)}function a(u,l,c){if(!n)return c;var f=$v(u),d=f.scrollX,h=f.width;return l+c>h+d?h-l+d:Math.max(d,c)}return{getPosition:function(l,c){var f=c.tagName==="BODY"?sh(l):i1e(l,c,!1);return f},getCursorOffsetPosition:function(l,c,f){var d=f.left,h=f.top,p=f.clientLeft,m=f.clientTop,g={left:d,top:h,width:10,height:10};if(bf(l,"position")==="fixed")return g.left=p,g.top=m,g;if(c.tagName==="BODY")return g;var y={top:0,left:0};if(lV(c)!=="html"){var v=sh(c);v&&(y.top=v.top,y.left=v.left)}return y.top+=parseInt(bf(c,"borderTopWidth"),10)-sm(c)||0,y.left+=parseInt(bf(c,"borderLeftWidth"),10)-Mx(c)||0,g.left=d-y.left,g.top=h-y.top,g},calcAutoPlacement:function(l,c,f){var d=$v(c),h=d.width,p=d.height,m=d.scrollX,g=d.scrollY,y=l.left-m-f.width,v=l.top-g-f.height,b=h-l.left-l.width+m-f.width,_=p-l.top-l.height+g-f.height,w=[{key:"left",value:y},{key:"right",value:b}],S=[{key:"top",value:v},{key:"bottom",value:_}],E="autoVertical",C="autoHorizontal",A,k;return t.indexOf(E)!==-1?(A=l6(S,function(P){return P.value}),t===E?A.key:""+A.key+t.replace(E,"")):t.indexOf(C)!==-1?(A=l6(w,function(P){return P.value}),t===C?A.key:""+A.key+t.replace(C,"")):(A=l6([].concat(S,w),function(P){return P.value}),A.key==="left"||A.key==="right"?k=Vre(S,function(P){return P.value}):k=Vre(w,function(P){return P.value}),""+A.key+pbt[k.key])},calcOverlayPosition:function(l,c,f,d){var h=d?this.getCursorOffsetPosition(c,f,d):this.getPosition(c,f),p=sh(l),m=p.height,g=p.width,y=h.top,v=h.left,b=t;t&&t.indexOf("auto")>=0&&(b=this.calcAutoPlacement(h,f,{height:m,width:g}));var _,w,S,E;if(b==="left"||b==="right"){w=h.top+(h.height-m)/2;var C=i(w,m,f);w+=C,E=50*(1-2*C/m)+"%",S=void 0}else if(b==="top"||b==="bottom"){_=v+(h.width-g)/2;var A=o(_,g,f);_+=A,S=50*(1-2*A/g)+"%",E=void 0}if((b==="top"||b==="topStart"||b==="topEnd")&&(w=s(f,m,h.top-m)),(b==="bottom"||b==="bottomStart"||b==="bottomEnd")&&(w=s(f,m,h.top+h.height)),(b==="left"||b==="leftStart"||b==="leftEnd")&&(_=a(f,g,h.left-g)),(b==="right"||b==="rightStart"||b==="rightEnd")&&(_=a(f,g,h.left+h.width)),document.dir==="rtl"&&(b==="left"||b==="leftStart"||b==="leftEnd"||b==="right"||b==="rightStart"||b==="rightEnd")){var k=$v(f),P=k.width;f.scrollWidth>P&&(_=P+_-f.scrollWidth)}if(b==="topStart"||b==="bottomStart")if(document.dir==="rtl"){var $=v+(h.width-g);_=$+o($,g,f)}else _=v+o(v,g,f);if(b==="topEnd"||b==="bottomEnd")if(document.dir==="rtl")_=v+o(v,g,f);else{var N=v+(h.width-g);_=N+o(N,g,f)}if((b==="leftStart"||b==="rightStart")&&(w=y+i(y,m,f)),b==="leftEnd"||b==="rightEnd"){var O=y+(h.height-m);w=O+i(O,m,f)}return{positionLeft:_,positionTop:w,arrowOffsetLeft:S,arrowOffsetTop:E,positionClassName:"placement-"+S1e(b)}}}};var gbt=function(t,n){var r=t.placement,i=r===void 0?"right":r,o=t.preventOverflow,s=o===void 0?!1:o,a=t.containerPadding,u=a===void 0?0:a,l=t.container,c=t.triggerTarget,f=t.followCursor,d=t.cursorPosition,h=I.useRef(null),p=I.useRef(null),m=I.useRef(),g={positionLeft:0,positionTop:0,arrowOffsetLeft:void 0,arrowOffsetTop:void 0},y=I.useState(g),v=y[0],b=y[1],_=I.useMemo(function(){return mbt({placement:i,preventOverflow:s,padding:u})},[i,s,u]),w=I.useCallback(function(S,E){if(S===void 0&&(S=!0),!!(c!=null&&c.current)){var C=ah(c);if(!xrt(C))throw new Error("`target` should return an HTMLElement");if(!(C===p.current&&!S)){var A=ah(n.current),k=crt(typeof l=="function"?l():l??null,kb(n.current).body),P=_.calcOverlayPosition(A,C,k,f?d:void 0);if(E&&A){var $,N,O=A==null||($=A.className)===null||$===void 0||(N=$.match(/(placement-\S+)/))===null||N===void 0?void 0:N[0];lrt(A,O),P.positionClassName&&urt(A,P.positionClassName),a1e(A,{left:P.positionLeft+"px",top:P.positionTop+"px"})}else b(P);h.current=k,p.current=C}}},[l,n,c,_,f,d]);return I.useEffect(function(){w(!1);var S=ah(n.current),E;if(h.current&&s){var C;E=Ib(((C=h.current)===null||C===void 0?void 0:C.tagName)==="BODY"?window:h.current,"scroll",function(){return w(!0,!0)})}var A=Ib(window,"resize",function(){return w(!0,!0)});return S&&(m.current=new jbe(function(){return w(!0,!0)}),m.current.observe(S)),function(){var k,P;p.current=null,(k=E)===null||k===void 0||k.off(),A==null||A.off(),(P=m.current)===null||P===void 0||P.disconnect()}},[s,n,w]),$1t(function(){return w()},[w,i]),[v,w]},BV=ue.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.followCursor,o=e.cursorPosition,s=ue.useRef(null),a=gbt(e,s),u=a[0],l=a[1],c=u.positionClassName,f=u.arrowOffsetLeft,d=u.arrowOffsetTop,h=u.positionLeft,p=u.positionTop;if(I.useImperativeHandle(t,function(){return{get child(){return s.current},updatePosition:l}}),I.useEffect(function(){!i||!o||l()},[i,o,l]),typeof n=="function"){var m={className:Tl(r,c),arrowOffsetLeft:f,arrowOffsetTop:d,left:h,top:p};return n(m,s)}return n});BV.displayName="Position";BV.propTypes={className:pe.string,children:pe.func.isRequired,container:pe.oneOfType([pe.func,pe.any]),containerPadding:pe.number,placement:pe.any,preventOverflow:pe.bool,triggerTarget:pe.any};var ybt=["timeout","className"],Kbe=ue.forwardRef(function(e,t){var n=e.timeout,r=n===void 0?300:n,i=e.className,o=jn(e,ybt),s=Or("anim"),a=s.prefix,u=s.merge;return ue.createElement(xC,yt({},o,{ref:t,timeout:r,className:u(i,a("fade")),enteredClassName:a("in"),enteringClassName:a("in")}))});Kbe.displayName="Fade";var UV=ue.createContext({});UV.displayName="OverlayContext";var vbt={container:pe.any,children:pe.any,childrenProps:pe.object,className:pe.string,containerPadding:pe.number,placement:pe.any,preventOverflow:pe.bool,open:pe.bool,rootClose:pe.bool,transition:pe.any,triggerTarget:pe.any,onClose:pe.func,onEnter:pe.func,onEntering:pe.func,onEntered:pe.func,onExit:pe.func,onExiting:pe.func,onExited:pe.func},zV=ue.forwardRef(function(e,t){var n=I.useContext(UV),r=n.overlayContainer,i=e.container,o=i===void 0?r:i,s=e.containerPadding,a=e.placement,u=e.rootClose,l=e.children,c=e.childrenProps,f=e.transition,d=f===void 0?Kbe:f,h=e.open,p=e.preventOverflow,m=e.triggerTarget,g=e.onClose,y=e.onExited,v=e.onExit,b=e.onExiting,_=e.onEnter,w=e.onEntering,S=e.onEntered,E=e.followCursor,C=e.cursorPosition,A=I.useState(!h),k=A[0],P=A[1],$=I.useRef(null);h?k&&P(!1):!d&&!k&&P(!0);var N=h||d&&!k,O=I.useCallback(function(B){P(!0),y==null||y(B)},[y]);if(g1t(g,{triggerTarget:m,overlayTarget:$,disabled:!u||!N}),!N)return null;var j={container:o,containerPadding:s,triggerTarget:m,placement:a,preventOverflow:p,followCursor:E,cursorPosition:C},M=function(V,q){return ue.createElement(BV,yt({},j,V,{ref:Mu(t,q)}),function(D,U){if(typeof l=="function")return l(Object.assign(D,c),Mu(U,$));var W=D.left,F=D.top,z=D.className;return ue.cloneElement(l,yt({},c,l.props,{className:Tl(z,l.props.className),style:yt({left:W,top:F},l.props.style),ref:Mu(U,$)}))})};return d?ue.createElement(d,{in:h,transitionAppear:!0,onExit:v,onExiting:b,onExited:O,onEnter:_,onEntering:w,onEntered:S},M):M()});zV.displayName="Overlay";zV.propTypes=vbt;var bbt=["children","container","controlId","defaultOpen","trigger","disabled","followCursor","readOnly","plaintext","open","delay","delayOpen","delayClose","enterable","placement","speaker","rootClose","onClick","onMouseOver","onMouseMove","onMouseOut","onContextMenu","onFocus","onBlur","onOpen","onClose","onExited"];function _bt(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};return Object.keys(e).forEach(function(r){if(e[r]){var i;n[r]=ia(e[r],(i=t)===null||i===void 0?void 0:i[r])}}),n}var c6=function(e){return e[e.ClickOutside=0]="ClickOutside",e[e.ImperativeHandle=1]="ImperativeHandle",e}({});function Hre(e,t,n){var r=t.currentTarget,i=t.relatedTarget||obe(t,["nativeEvent","toElement"]);(!i||i!==r)&&!UR(r,i)&&e(t,n)}var wbt=["hover","focus"],Xbe=ue.forwardRef(function(e,t){var n=I.useContext(UV),r=n.overlayContainer,i=e.children,o=e.container,s=o===void 0?r:o,a=e.controlId,u=e.defaultOpen,l=e.trigger,c=l===void 0?wbt:l,f=e.disabled,d=e.followCursor,h=e.readOnly,p=e.plaintext,m=e.open,g=e.delay,y=e.delayOpen,v=e.delayClose,b=e.enterable,_=e.placement,w=_===void 0?"bottomStart":_,S=e.speaker,E=e.rootClose,C=E===void 0?!0:E,A=e.onClick,k=e.onMouseOver,P=e.onMouseMove,$=e.onMouseOut,N=e.onContextMenu,O=e.onFocus,j=e.onBlur,M=e.onOpen,B=e.onClose,V=e.onExited,q=jn(e,bbt),D=l1t({container:s}),U=D.Portal,W=D.target,F=I.useRef(null),z=I.useRef(),G=WR(m,u),ee=G[0],ce=G[1],le=I.useState(null),se=le[0],ge=le[1],be=I.useRef(null),ve=I.useRef(null),Ye=ul(y)?g:y,Ue=ul(v)?g:v,ht=I.useRef(!1),Je=I.useRef(!1);I.useEffect(function(){return function(){ul(be.current)||clearTimeout(be.current),ul(ve.current)||clearTimeout(ve.current)}},[]);var ke=I.useRef(!1),Ne=I.useCallback(function(ct,$t){ct!==ee&&(ct?M==null||M():B==null||B($t),ce(ct))},[ee,M,B,ce]),ze=I.useCallback(function(ct){var $t=Yd(ct)?Ye:ct;if($t&&typeof $t=="number")return be.current=setTimeout(function(){be.current=null,ke.current&&Ne(!0)},$t);Ne(!0)},[Ye,Ne]),ut=I.useCallback(function(ct,$t){var pt=Yd(ct)?Ue:ct;if(pt&&typeof pt=="number")return ve.current=setTimeout(function(){ve.current=null,Ne(!1,$t)},pt);Ne(!1,$t)},[Ue,Ne]),Mt=I.useCallback(function(){ge(null)},[]);I.useImperativeHandle(t,function(){return{get root(){return F.current},get overlay(){var ct;return(ct=z.current)===null||ct===void 0?void 0:ct.child},getState:function(){return{open:ee}},open:ze,close:function($t){return ut($t,c6.ImperativeHandle)},updatePosition:function(){var $t,pt;($t=z.current)===null||$t===void 0||(pt=$t.updatePosition)===null||pt===void 0||pt.call($t)}}});var qe=I.useCallback(function(){!ht.current&&!Je.current&&ut(void 0,c6.ClickOutside)},[ut]),me=I.useCallback(function(){if(ke.current=!0,!b)return ze();if(Je.current=!0,!ul(ve.current))return clearTimeout(ve.current),ve.current=null,ze();ee||ze()},[b,ee,ze]),Xe=I.useCallback(function(){ee?qe():me()},[ee,qe,me]),vt=I.useCallback(function(){if(ke.current=!1,!b)return ut();if(Je.current=!1,!ul(be.current)){clearTimeout(be.current),be.current=null;return}!ee||!ul(ve.current)||(ve.current=setTimeout(function(){ul(ve.current)||(clearTimeout(ve.current),ve.current=null),qe()},200))},[b,ee,ut,qe]),he=I.useCallback(function(){ht.current=!0},[]),Te=I.useCallback(function(){ht.current=!1,!al("click",c)&&!al("contextMenu",c)&&!al("active",c)&&qe()},[qe,c]),Le=I.useCallback(function(ct){ge(function(){return{top:ct.pageY,left:ct.pageX,clientTop:ct.clientX,clientLeft:ct.clientY}})},[]),He=I.useCallback(function(ct){ct.preventDefault()},[]),lt=I.useMemo(function(){var ct={onClick:A,onContextMenu:N,onMouseOver:k,onMouseOut:$,onFocus:O,onBlur:j,onMouseMove:P};if(f||h||p||c==="none")return ct;if(d&&(ct.onMouseMove=ia(Le,P)),al("click",c))return ct.onClick=ia(Xe,ct.onClick),ct;if(al("active",c))return ct.onClick=ia(me,ct.onClick),ct;if(al("hover",c)){var $t=function(un){return Hre(me,un)},pt=function(un){return Hre(vt,un)};ct.onMouseOver=ia($t,ct.onMouseOver),ct.onMouseOut=ia(pt,ct.onMouseOut)}return al("focus",c)&&(ct.onFocus=ia(me,ct.onFocus),ct.onBlur=ia(vt,ct.onBlur)),al("contextMenu",c)&&(ct.onContextMenu=ia(He,Xe,ct.onContextMenu)),ct},[f,d,vt,me,Xe,Le,j,A,N,O,P,$,k,p,He,h,c]),an=function(){var $t=yt({},q,{rootClose:C,triggerTarget:F,onClose:c!=="none"?function(){return ut(void 0,c6.ClickOutside)}:void 0,onExited:ia(d?Mt:void 0,V),placement:w,container:W,open:ee}),pt={id:a};return c!=="none"&&b&&(pt.onMouseEnter=he,pt.onMouseLeave=Te),ue.createElement(zV,yt({},$t,{ref:z,childrenProps:pt,followCursor:d,cursorPosition:se}),typeof S=="function"?function(Qt,un){return S(yt({},Qt,{onClose:ut}),un)}:S)},$n=I.useMemo(function(){return typeof i=="function"?i(lt,F):X1e(i)||!I.isValidElement(i)?ue.createElement("span",yt({ref:F,"aria-describedby":a},lt),i):I.cloneElement(i,yt({ref:F,"aria-describedby":a},_bt(lt,i.props)))},[i,a,lt]);return ue.createElement(ue.Fragment,null,$n,ue.createElement(U,null,an()))});Xbe.displayName="OverlayTrigger";var Qbe={},E8={exports:{}},f6={},qre;function Ebt(){return qre||(qre=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M2.784 2.089l.069.058 5.146 5.147 5.146-5.147a.5.5 0 01.765.638l-.058.069L8.705 8l5.147 5.146a.5.5 0 01-.638.765l-.069-.058-5.146-5.147-5.146 5.147a.5.5 0 01-.765-.638l.058-.069L7.293 8 2.146 2.854a.5.5 0 01.638-.765z"}))}var a=n.forwardRef(s),u=a;e.default=u}(f6)),f6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(Ebt()),o=(0,r.default)({as:i.default,ariaLabel:"close",category:"application",displayName:"Close"}),s=o;t.default=s,e.exports=t.default})(E8,E8.exports);var xbt=E8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(xbt);function n(r){return r&&r.__esModule?r:{default:r}}})(Qbe);const Tbt=gn(Qbe);var Sbt=["as","classPrefix","className","locale"],VV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"button":n,i=e.classPrefix,o=i===void 0?"btn-close":i,s=e.className,a=e.locale,u=jn(e,Sbt),l=Or(o),c=l.withClassPrefix,f=l.merge,d=ad("CloseButton",a),h=d.locale,p=f(s,c());return ue.createElement(r,yt({type:"button",ref:t,className:p,"aria-label":h==null?void 0:h.closeLabel},u),ue.createElement(Tbt,null))});VV.displayName="CloseButton";var Cbt=z1e,Abt=yC,Ibt=Array.prototype,kbt=Ibt.splice;function Rbt(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Abt(i)?kbt.call(e,i,1):Cbt(e,i)}}return e}var Pbt=Rbt,Nbt=Xy,Dbt=Pbt;function $bt(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],o=e.length;for(t=Nbt(t);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Dbt(e,i),n}var Obt=$bt;const d6=gn(Obt);var Mbt=U1e;function Lbt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Mbt(e,t,n)}var Fbt=Lbt,jbt="\\ud800-\\udfff",Bbt="\\u0300-\\u036f",Ubt="\\ufe20-\\ufe2f",zbt="\\u20d0-\\u20ff",Vbt=Bbt+Ubt+zbt,Hbt="\\ufe0e\\ufe0f",qbt="\\u200d",Wbt=RegExp("["+qbt+jbt+Vbt+Hbt+"]");function Gbt(e){return Wbt.test(e)}var Ybt=Gbt;function Kbt(e){return e.split("")}var Xbt=Kbt,Jbe="\\ud800-\\udfff",Qbt="\\u0300-\\u036f",Jbt="\\ufe20-\\ufe2f",Zbt="\\u20d0-\\u20ff",e_t=Qbt+Jbt+Zbt,t_t="\\ufe0e\\ufe0f",n_t="["+Jbe+"]",x8="["+e_t+"]",T8="\\ud83c[\\udffb-\\udfff]",r_t="(?:"+x8+"|"+T8+")",Zbe="[^"+Jbe+"]",e_e="(?:\\ud83c[\\udde6-\\uddff]){2}",t_e="[\\ud800-\\udbff][\\udc00-\\udfff]",i_t="\\u200d",n_e=r_t+"?",r_e="["+t_t+"]?",o_t="(?:"+i_t+"(?:"+[Zbe,e_e,t_e].join("|")+")"+r_e+n_e+")*",s_t=r_e+n_e+o_t,a_t="(?:"+[Zbe+x8+"?",x8,e_e,t_e,n_t].join("|")+")",u_t=RegExp(T8+"(?="+T8+")|"+a_t+s_t,"g");function l_t(e){return e.match(u_t)||[]}var c_t=l_t,f_t=Xbt,d_t=Ybt,h_t=c_t;function p_t(e){return d_t(e)?h_t(e):f_t(e)}var m_t=p_t,g_t=["as","classPrefix","className","inverse","backdrop","speed","center","vertical","content","size"],HV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"loader":i,s=e.className,a=e.inverse,u=e.backdrop,l=e.speed,c=l===void 0?"normal":l,f=e.center,d=e.vertical,h=e.content,p=e.size,m=jn(e,g_t),g=Or(o),y=g.merge,v=g.withClassPrefix,b=g.prefix,_=MV("loader-label-"),w=y(s,b("wrapper","speed-"+c,p,{"backdrop-wrapper":u,vertical:d,inverse:a,center:f}));return ue.createElement(r,yt({role:"status","aria-labelledby":h?_:void 0},m,{ref:t,className:w}),u&&ue.createElement("div",{className:b("backdrop")}),ue.createElement("div",{className:v()},ue.createElement("span",{className:b("spin")}),h&&ue.createElement("span",{id:_,className:b("content")},h)))});HV.displayName="Loader";HV.propTypes={as:pe.elementType,className:pe.string,classPrefix:pe.string,center:pe.bool,backdrop:pe.bool,inverse:pe.bool,vertical:pe.bool,content:pe.node,size:Ya(["lg","md","sm","xs"]),speed:Ya(["normal","fast","slow","paused"])};var y_t=["as","classPrefix","className","disabled"],qV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"span":n,i=e.classPrefix,o=i===void 0?"input-group-addon":i,s=e.className,a=e.disabled,u=jn(e,y_t),l=Or(o),c=l.withClassPrefix,f=l.merge,d=f(s,c({disabled:a}));return ue.createElement(r,yt({},u,{ref:t,className:d}))});qV.displayName="InputGroupAddon";qV.propTypes={className:pe.string,classPrefix:pe.string,disabled:pe.bool};var v_t=["classPrefix","className"],i_e=ue.forwardRef(function(e,t){var n=e.classPrefix,r=n===void 0?"input-group-btn":n,i=e.className,o=jn(e,v_t),s=Or(r),a=s.withClassPrefix,u=s.merge,l=Or("input-group-addon"),c=l.withClassPrefix,f=u(c(),i,a());return ue.createElement(N$,yt({},o,{ref:t,className:f}))});i_e.displayName="InputGroupButton";var b_t=["as","classPrefix","className","disabled","inside","size","children"],__t=ue.createContext(null),J0=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"input-group":i,s=e.className,a=e.disabled,u=e.inside,l=e.size,c=e.children,f=jn(e,b_t),d=I.useState(!1),h=d[0],p=d[1],m=I.useCallback(function(){p(!0)},[]),g=I.useCallback(function(){p(!1)},[]),y=Or(o),v=y.withClassPrefix,b=y.merge,_=b(s,v(l,{inside:u,focus:h,disabled:a})),w=I.useCallback(function(){return ue.Children.map(c,function(E){return ue.isValidElement(E)&&ue.isValidElement(E)&&a?ue.cloneElement(E,{disabled:a}):E})},[c,a]),S=I.useMemo(function(){return{onFocus:m,onBlur:g}},[m,g]);return ue.createElement(__t.Provider,{value:S},ue.createElement(r,yt({},f,{ref:t,className:_}),w()))});J0.displayName="InputGroup";J0.propTypes={className:pe.string,classPrefix:pe.string,children:pe.node,disabled:pe.bool,inside:pe.bool,size:Ya(["lg","md","sm","xs"])};J0.Addon=qV;J0.Button=i_e;var w_t=["as","classPrefix","className","children","localeKey","placeholder"],WV=ue.forwardRef(function(e,t){var n=ad("Plaintext"),r=n.locale,i=e.as,o=i===void 0?"div":i,s=e.classPrefix,a=s===void 0?"plaintext":s,u=e.className,l=e.children,c=e.localeKey,f=c===void 0?"":c,d=e.placeholder,h=d===void 0?r[f]:d,p=jn(e,w_t),m=Or(a),g=m.withClassPrefix,y=m.merge,v=y(u,g({empty:!l}));return ue.createElement(o,yt({role:"text"},p,{ref:t,className:v}),l||h)});WV.displayName="Plaintext";var E_t=["pickerProps","speaker","placement","trigger","id","multiple","popupType"],o_e=["onEntered","onExited","onEnter","onEntering","onExit","onExiting","open","onOpen","defaultOpen","onClose","container","containerPadding","preventOverflow"],s_e=[].concat(o_e,["disabled","plaintext","readOnly","loading","label"]),a_e=ue.createContext({popupType:"listbox"}),u_e=ue.forwardRef(function(e,t){var n=e.pickerProps,r=e.speaker,i=e.placement,o=e.trigger,s=o===void 0?"click":o,a=e.id,u=e.multiple,l=e.popupType,c=l===void 0?"listbox":l,f=jn(e,E_t),d=Nbe(n,s_e),h=MV("rs-",a),p=ad(),m=p.rtl;return ue.createElement(a_e.Provider,{value:{id:h,hasLabel:typeof d.label<"u",multiple:u,popupType:c}},ue.createElement(Xbe,yt({},d,f,{disabled:d.disabled||d.loading,ref:t,trigger:s,placement:J1e(i,m),speaker:r})))});u_e.displayName="PickerToggleTrigger";var x_t=ig,T_t=qc,S_t="[object Number]";function C_t(e){return typeof e=="number"||T_t(e)&&x_t(e)==S_t}var A_t=C_t;const I_t=gn(A_t);var k_t=Wve,R_t=Xy,P_t=aV,N_t=Math.max;function D_t(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:P_t(n);return i<0&&(i=N_t(r+i,0)),k_t(e,R_t(t),i)}var l_e=D_t;const $_t=gn(l_e);var O_t=["children","className","disableHeight","disableWidth","defaultHeight","defaultWidth","style","onResize"],M_t=ue.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.disableHeight,o=e.disableWidth,s=e.defaultHeight,a=e.defaultWidth,u=e.style,l=e.onResize,c=jn(e,O_t),f=I.useState(s||0),d=f[0],h=f[1],p=I.useState(a||0),m=p[0],g=p[1],y=I.useRef(null),v=I.useCallback(function(){var S;return(S=y.current)!==null&&S!==void 0&&S.parentNode&&y.current.parentNode.ownerDocument&&y.current.parentNode.ownerDocument.defaultView&&y.current.parentNode instanceof y.current.parentNode.ownerDocument.defaultView.HTMLElement?y.current.parentNode:null},[]),b=I.useCallback(function(){var S=v();if(S){var E=S.offsetHeight||0,C=S.offsetWidth||0,A=bf(S),k=parseInt(A.paddingLeft,10)||0,P=parseInt(A.paddingRight,10)||0,$=parseInt(A.paddingTop,10)||0,N=parseInt(A.paddingBottom,10)||0,O=E-$-N,j=C-k-P;(!i&&d!==O||!o&&m!==j)&&(h(E-$-N),g(C-k-P),l==null||l({height:E,width:C}))}},[i,o,v,d,l,m]);$V(b),Bbe(v(),b);var _={overflow:"visible"},w={width:0,height:0};return i||(_.height=0,w.height=d),o||(_.width=0,w.width=m),ue.createElement("div",yt({className:r,ref:Mu(y,t),style:yt({},_,u)},c),n(w))});function S8(){return S8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S8.apply(null,arguments)}function Wre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C8(e,t){return C8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},C8(e,t)}function L_t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C8(e,t)}var Gre=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function F_t(e,t){return!!(e===t||Gre(e)&&Gre(t))}function j_t(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!F_t(e[n],t[n]))return!1;return!0}function h6(e,t){t===void 0&&(t=j_t);var n,r=[],i,o=!1;function s(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var B_t=typeof performance=="object"&&typeof performance.now=="function",Yre=B_t?function(){return performance.now()}:function(){return Date.now()};function Kre(e){cancelAnimationFrame(e.id)}function U_t(e,t){var n=Yre();function r(){Yre()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var p6=-1;function Xre(e){if(e===void 0&&(e=!1),p6===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),p6=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return p6}var Ov=null;function Qre(e){if(e===void 0&&(e=!1),Ov===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Ov="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Ov="negative":Ov="positive-ascending"),document.body.removeChild(t),Ov}return Ov}var z_t=150,V_t=function(t,n){return t};function H_t(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,u=e.initInstanceProps,l=e.shouldResetStyleCacheOnItemSizeChange,c=e.validateProps;return t=function(f){L_t(d,f);function d(p){var m;return m=f.call(this,p)||this,m._instanceProps=u(m.props,Wre(m)),m._outerRef=void 0,m._resetIsScrollingTimeoutId=null,m.state={instance:Wre(m),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof m.props.initialScrollOffset=="number"?m.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},m._callOnItemsRendered=void 0,m._callOnItemsRendered=h6(function(g,y,v,b){return m.props.onItemsRendered({overscanStartIndex:g,overscanStopIndex:y,visibleStartIndex:v,visibleStopIndex:b})}),m._callOnScroll=void 0,m._callOnScroll=h6(function(g,y,v){return m.props.onScroll({scrollDirection:g,scrollOffset:y,scrollUpdateWasRequested:v})}),m._getItemStyle=void 0,m._getItemStyle=function(g){var y=m.props,v=y.direction,b=y.itemSize,_=y.layout,w=m._getItemStyleCache(l&&b,l&&_,l&&v),S;if(w.hasOwnProperty(g))S=w[g];else{var E=n(m.props,g,m._instanceProps),C=i(m.props,g,m._instanceProps),A=v==="horizontal"||_==="horizontal",k=v==="rtl",P=A?E:0;w[g]=S={position:"absolute",left:k?void 0:P,right:k?P:void 0,top:A?0:E,height:A?"100%":C,width:A?C:"100%"}}return S},m._getItemStyleCache=void 0,m._getItemStyleCache=h6(function(g,y,v){return{}}),m._onScrollHorizontal=function(g){var y=g.currentTarget,v=y.clientWidth,b=y.scrollLeft,_=y.scrollWidth;m.setState(function(w){if(w.scrollOffset===b)return null;var S=m.props.direction,E=b;if(S==="rtl")switch(Qre()){case"negative":E=-b;break;case"positive-descending":E=_-v-b;break}return E=Math.max(0,Math.min(E,_-v)),{isScrolling:!0,scrollDirection:w.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._onScrollVertical=function(g){var y=g.currentTarget,v=y.clientHeight,b=y.scrollHeight,_=y.scrollTop;m.setState(function(w){if(w.scrollOffset===_)return null;var S=Math.max(0,Math.min(_,b-v));return{isScrolling:!0,scrollDirection:w.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},m._resetIsScrollingDebounced)},m._outerRefSetter=function(g){var y=m.props.outerRef;m._outerRef=g,typeof y=="function"?y(g):y!=null&&typeof y=="object"&&y.hasOwnProperty("current")&&(y.current=g)},m._resetIsScrollingDebounced=function(){m._resetIsScrollingTimeoutId!==null&&Kre(m._resetIsScrollingTimeoutId),m._resetIsScrollingTimeoutId=U_t(m._resetIsScrolling,z_t)},m._resetIsScrolling=function(){m._resetIsScrollingTimeoutId=null,m.setState({isScrolling:!1},function(){m._getItemStyleCache(-1,null)})},m}d.getDerivedStateFromProps=function(m,g){return q_t(m,g),c(m),null};var h=d.prototype;return h.scrollTo=function(m){m=Math.max(0,m),this.setState(function(g){return g.scrollOffset===m?null:{scrollDirection:g.scrollOffset<m?"forward":"backward",scrollOffset:m,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},h.scrollToItem=function(m,g){g===void 0&&(g="auto");var y=this.props,v=y.itemCount,b=y.layout,_=this.state.scrollOffset;m=Math.max(0,Math.min(m,v-1));var w=0;if(this._outerRef){var S=this._outerRef;b==="vertical"?w=S.scrollWidth>S.clientWidth?Xre():0:w=S.scrollHeight>S.clientHeight?Xre():0}this.scrollTo(o(this.props,m,g,_,this._instanceProps,w))},h.componentDidMount=function(){var m=this.props,g=m.direction,y=m.initialScrollOffset,v=m.layout;if(typeof y=="number"&&this._outerRef!=null){var b=this._outerRef;g==="horizontal"||v==="horizontal"?b.scrollLeft=y:b.scrollTop=y}this._callPropsCallbacks()},h.componentDidUpdate=function(){var m=this.props,g=m.direction,y=m.layout,v=this.state,b=v.scrollOffset,_=v.scrollUpdateWasRequested;if(_&&this._outerRef!=null){var w=this._outerRef;if(g==="horizontal"||y==="horizontal")if(g==="rtl")switch(Qre()){case"negative":w.scrollLeft=-b;break;case"positive-ascending":w.scrollLeft=b;break;default:var S=w.clientWidth,E=w.scrollWidth;w.scrollLeft=E-S-b;break}else w.scrollLeft=b;else w.scrollTop=b}this._callPropsCallbacks()},h.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Kre(this._resetIsScrollingTimeoutId)},h.render=function(){var m=this.props,g=m.children,y=m.className,v=m.direction,b=m.height,_=m.innerRef,w=m.innerElementType,S=m.innerTagName,E=m.itemCount,C=m.itemData,A=m.itemKey,k=A===void 0?V_t:A,P=m.layout,$=m.outerElementType,N=m.outerTagName,O=m.style,j=m.useIsScrolling,M=m.width,B=this.state.isScrolling,V=v==="horizontal"||P==="horizontal",q=V?this._onScrollHorizontal:this._onScrollVertical,D=this._getRangeToRender(),U=D[0],W=D[1],F=[];if(E>0)for(var z=U;z<=W;z++)F.push(I.createElement(g,{data:C,key:k(z,C),index:z,isScrolling:j?B:void 0,style:this._getItemStyle(z)}));var G=r(this.props,this._instanceProps);return I.createElement($||N||"div",{className:y,onScroll:q,ref:this._outerRefSetter,style:S8({position:"relative",height:b,width:M,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},O)},I.createElement(w||S||"div",{children:F,ref:_,style:{height:V?"100%":G,pointerEvents:B?"none":void 0,width:V?G:"100%"}}))},h._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var m=this.props.itemCount;if(m>0){var g=this._getRangeToRender(),y=g[0],v=g[1],b=g[2],_=g[3];this._callOnItemsRendered(y,v,b,_)}}if(typeof this.props.onScroll=="function"){var w=this.state,S=w.scrollDirection,E=w.scrollOffset,C=w.scrollUpdateWasRequested;this._callOnScroll(S,E,C)}},h._getRangeToRender=function(){var m=this.props,g=m.itemCount,y=m.overscanCount,v=this.state,b=v.isScrolling,_=v.scrollDirection,w=v.scrollOffset;if(g===0)return[0,0,0,0];var S=s(this.props,w,this._instanceProps),E=a(this.props,S,w,this._instanceProps),C=!b||_==="backward"?Math.max(1,y):1,A=!b||_==="forward"?Math.max(1,y):1;return[Math.max(0,S-C),Math.max(0,Math.min(g-1,E+A)),S,E]},d}(I.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var q_t=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},W_t=50,C1=function(t,n,r){var i=t,o=i.itemSize,s=r.itemMetadataMap,a=r.lastMeasuredIndex;if(n>a){var u=0;if(a>=0){var l=s[a];u=l.offset+l.size}for(var c=a+1;c<=n;c++){var f=o(c);s[c]={offset:u,size:f},u+=f}r.lastMeasuredIndex=n}return s[n]},G_t=function(t,n,r){var i=n.itemMetadataMap,o=n.lastMeasuredIndex,s=o>0?i[o].offset:0;return s>=r?c_e(t,n,o,0,r):Y_t(t,n,Math.max(0,o),r)},c_e=function(t,n,r,i,o){for(;i<=r;){var s=i+Math.floor((r-i)/2),a=C1(t,s,n).offset;if(a===o)return s;a<o?i=s+1:a>o&&(r=s-1)}return i>0?i-1:0},Y_t=function(t,n,r,i){for(var o=t.itemCount,s=1;r<o&&C1(t,r,n).offset<i;)r+=s,s*=2;return c_e(t,n,Math.min(r,o-1),Math.floor(r/2),i)},Jre=function(t,n){var r=t.itemCount,i=n.itemMetadataMap,o=n.estimatedItemSize,s=n.lastMeasuredIndex,a=0;if(s>=r&&(s=r-1),s>=0){var u=i[s];a=u.offset+u.size}var l=r-s-1,c=l*o;return a+c},A8=H_t({getItemOffset:function(t,n,r){return C1(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:Jre,getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,u=t.height,l=t.layout,c=t.width,f=a==="horizontal"||l==="horizontal",d=f?c:u,h=C1(t,n,o),p=Jre(t,o),m=Math.max(0,Math.min(p-d,h.offset)),g=Math.max(0,h.offset-d+h.size+s);switch(r==="smart"&&(i>=g-d&&i<=m+d?r="auto":r="center"),r){case"start":return m;case"end":return g;case"center":return Math.round(g+(m-g)/2);case"auto":default:return i>=g&&i<=m?i:i<g?g:m}},getStartIndexForOffset:function(t,n,r){return G_t(t,r,n)},getStopIndexForStartIndex:function(t,n,r,i){for(var o=t.direction,s=t.height,a=t.itemCount,u=t.layout,l=t.width,c=o==="horizontal"||u==="horizontal",f=c?l:s,d=C1(t,n,i),h=r+f,p=d.offset+d.size,m=n;m<a-1&&p<h;)m++,p+=C1(t,m,i).size;return m},initInstanceProps:function(t,n){var r=t,i=r.estimatedItemSize,o={itemMetadataMap:{},estimatedItemSize:i||W_t,lastMeasuredIndex:-1};return n.resetAfterIndex=function(s,a){a===void 0&&(a=!0),o.lastMeasuredIndex=Math.min(o.lastMeasuredIndex,s-1),n._getItemStyleCache(-1),a&&n.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});function m6(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return n<=r?null:t===0?"top":t+r===n?"bottom":"middle"}function K_t(e){var t=I.useRef(null),n=I.useState(null),r=n[0],i=n[1];$V(function(){var s;if(t.current&&e){var a=t.current;i(m6(a));var u=a.scrollHeight;s=new MutationObserver(function(){var l=a==null?void 0:a.scrollHeight;l&&l!==u&&(i(m6(a)),u=l)}),s.observe(a,{attributes:!0,childList:!0,subtree:!0})}return function(){var l;(l=s)===null||l===void 0||l.disconnect()}});var o=hn(function(s){var a=s.currentTarget;i(m6(a))});return{scrollState:r,handleScroll:e?o:void 0,bodyRef:t}}var X_t=["as","classPrefix","className","children","scrollShadow","customScrollbar","height","width","style","onScroll","data-testid"],f_e=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"scroll-view":i,s=e.className,a=e.children,u=e.scrollShadow,l=e.customScrollbar,c=e.height,f=e.width,d=e.style,h=e.onScroll,p=e["data-testid"],m=jn(e,X_t),g=Or(o),y=g.merge,v=g.withClassPrefix,b=K_t(u),_=b.scrollState,w=b.handleScroll,S=b.bodyRef,E=yt({height:c,width:f},d),C=y(s,v({shadow:u,"thumb-top":_==="top","thumb-middle":_==="middle","thumb-bottom":_==="bottom","custom-scrollbar":l}));return ue.createElement(r,yt({},m,{ref:Mu(t,S),className:C,style:E,onScroll:ia(w,h),"data-testid":p||"scroll-view"}),a)});f_e.displayName="ScrollView";var Q_t=["rowHeight","as","itemSize","scrollShadow"],J_t=ue.forwardRef(function(e,t){return ue.createElement(f_e,yt({scrollShadow:!0,ref:t},e))}),Z_t=ue.forwardRef(function(e,t){var n=e.rowHeight,r=e.as,i=r===void 0?A8:r,o=e.itemSize,s=e.scrollShadow,a=jn(e,Q_t),u=I.useRef(null),l=ad(),c=l.rtl;I.useImperativeHandle(t,function(){return{resetAfterIndex:function(m,g){var y,v;(y=u.current)===null||y===void 0||(v=y.resetAfterIndex)===null||v===void 0||v.call(y,m,g)},scrollTo:function(m){var g,y;(g=u.current)===null||g===void 0||(y=g.scrollTo)===null||y===void 0||y.call(g,m)},scrollToItem:function(m,g){var y,v;(y=u.current)===null||y===void 0||(v=y.scrollToItem)===null||v===void 0||v.call(y,m,g)},scrollToRow:function(m){var g,y;(g=u.current)===null||g===void 0||(y=g.scrollToItem)===null||y===void 0||y.call(g,m)}}});var f=I.useCallback(function(p){return typeof n=="function"?n({index:p}):n||0},[n]),d=I.useMemo(function(){return typeof o=="function"?o:function(){return o}},[o]),h=yt({itemSize:d},a);return n&&(h.itemSize=i===A8?f:n),ue.createElement(i,yt({ref:u,direction:c?"rtl":"ltr"},h,{outerElementType:s?J_t:void 0}))}),d_e={},I8={exports:{}},g6={},Zre;function ewt(){return Zre||(Zre=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 14 14",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M0 3.5l7 7 7-7z"}))}var a=n.forwardRef(s),u=a;e.default=u}(g6)),g6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(ewt()),o=(0,r.default)({as:i.default,ariaLabel:"arrow down",category:"legacy",displayName:"ArrowDown"}),s=o;t.default=s,e.exports=t.default})(I8,I8.exports);var twt=I8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n(twt);function n(r){return r&&r.__esModule?r:{default:r}}})(d_e);const nwt=gn(d_e);var eie,tie,rwt=["as","classPrefix","children","className"],h_e=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"dropdown-menu-group":i,s=e.children,a=e.className,u=jn(e,rwt),l=Or(o),c=l.withClassPrefix,f=l.prefix,d=l.merge,h=d(a,c());return ue.createElement(r,yt({role:"group"},u,{ref:t,className:h}),ue.createElement("div",{className:f(eie||(eie=Vi(["title"]))),tabIndex:-1},ue.createElement("span",null,s),ue.createElement(nwt,{"aria-hidden":!0,className:f(tie||(tie=Vi(["caret"])))})))});h_e.displayName="ListItemGroup";function SC(){var e=I.useContext(a_e),t=e.id,n=e.hasLabel,r=e.popupType,i=e.multiple;return{id:t,popupType:r,multiple:i,labelId:n?t+"-label":void 0}}var iwt=["data","groupBy","maxHeight","activeItemValues","disabledItemValues","classPrefix","valueKey","labelKey","virtualized","listProps","listRef","className","style","focusItemValue","listItemClassPrefix","listItemAs","listItemProps","rowHeight","rowGroupHeight","query","renderMenuGroup","renderMenuItem","onGroupTitleClick","onSelect"],owt=void 0,p_e=ue.forwardRef(function(e,t){var n=e.data,r=n===void 0?[]:n,i=e.groupBy,o=e.maxHeight,s=o===void 0?320:o,a=e.activeItemValues,u=a===void 0?[]:a,l=e.disabledItemValues,c=l===void 0?[]:l,f=e.classPrefix,d=f===void 0?"listbox":f,h=e.valueKey,p=h===void 0?"value":h,m=e.labelKey,g=m===void 0?"label":m,y=e.virtualized,v=e.listProps,b=e.listRef,_=e.className,w=e.style,S=e.focusItemValue,E=e.listItemClassPrefix,C=e.listItemAs,A=e.listItemProps,k=e.rowHeight,P=k===void 0?36:k,$=e.rowGroupHeight,N=$===void 0?48:$,O=e.query,j=e.renderMenuGroup,M=e.renderMenuItem,B=e.onGroupTitleClick,V=e.onSelect,q=jn(e,iwt),D=Or(d),U=D.withClassPrefix,W=D.prefix,F=D.merge,z=typeof i<"u",G=F(_,U("items",{grouped:z})),ee=SC(),ce=ee.id,le=ee.labelId,se=ee.popupType,ge=ee.multiple,be=I.useRef(null),ve=I.useRef(null),Ye=I.useState([]),Ue=Ye[0],ht=Ye[1],Je=hn(function(qe,me){var Xe=Ue.filter(function(vt){return vt!==qe});Xe.length===Ue.length&&Xe.push(qe),ht(Xe),B==null||B(me)}),ke=hn(function(qe,me,Xe,vt){V==null||V(me,qe,Xe,vt)}),Ne=function(me,Xe){var vt=me[Xe];return z&&vt[r1]&&Xe!==0?N:P};I.useEffect(function(){var qe=be.current;if(qe){var me=qe.querySelector("."+W("item-focus"));if(me||(me=qe.querySelector("."+W("item-active"))),!!me){var Xe=i1e(me,qe),vt=sm(qe),he=o1e(qe);vt>Xe.top?sm(qe,Math.max(0,Xe.top-20)):Xe.top>vt+he&&sm(qe,Math.max(0,Xe.top-he+32))}}},[S,be,W]);var ze=z?r.filter(function(qe){var me;if(qe[r1])return!0;var Xe=obe(qe,i,"")||((me=qe.parent)===null||me===void 0?void 0:me[p8]);return!Ue.includes(Xe)}):r,ut=ze.length,Mt=function(me){var Xe=me.index,vt=Xe===void 0?0:Xe,he=me.style,Te=me.data,Le=me.item,He=Le||Te[vt],lt=He[p],an=He[g],$n=O?ue.createElement(LV,{query:O,as:"span"},an):an;if(Yd($n)&&!He[r1])throw Error('labelKey "'+g+'" is not defined in "data" : '+vt);var ct=Xht(lt)||I_t(lt)?lt:vt;if(z&&He[r1]){var $t=He[p8];return ue.createElement(h_e,{style:he,classPrefix:"picker-menu-group",className:Tl({folded:Ue.some(function(Jt){return Jt===$t})}),key:"group-"+$t,onClick:Je.bind(null,$t)},j?j($t,He):$t)}else if(Yd(lt)&&!Yd(He[r1]))throw Error('valueKey "'+p+'" is not defined in "data" : '+vt+" ");var pt=c==null?void 0:c.some(function(Jt){return cl(Jt,lt)}),Qt=u==null?void 0:u.some(function(Jt){return cl(Jt,lt)}),un=!Yd(S)&&cl(S,lt);return ue.createElement(C,yt({"aria-posinset":vt+1,"aria-setsize":ut,style:he,key:ct,disabled:pt,active:Qt,focus:un,value:lt,classPrefix:E,onSelect:ke.bind(null,He)},wvt(A,function(Jt){return Jt!==void 0})),M?M($n,He):$n)};return $V(function(){var qe,me,Xe=$_t(ze,function(vt){return vt[p]===(u==null?void 0:u[0])});(qe=ve.current)===null||qe===void 0||(me=qe.scrollToItem)===null||me===void 0||me.call(qe,Xe)}),ue.createElement("div",yt({role:"listbox",id:ce+"-"+se,"aria-labelledby":le,"aria-multiselectable":ge},q,{className:G,ref:Mu(be,t),style:yt({},w,{maxHeight:s})}),y?ue.createElement(M_t,{defaultHeight:s,style:{width:"auto",height:"auto"}},function(qe){var me=qe.height;return ue.createElement(Z_t,yt({as:A8,ref:Mu(ve,b),height:me||s,itemCount:ut,itemData:ze,itemSize:Ne.bind(owt,ze)},v),Mt)}):ze.map(function(qe,me){return Mt({index:me,item:qe})}))});p_e.displayName="Listbox";var nie,swt=["as","role","classPrefix","active","children","className","disabled","focus","value","onKeyDown","onSelect","renderItem"],m_e=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.role,o=i===void 0?"option":i,s=e.classPrefix,a=s===void 0?"dropdown-menu-item":s,u=e.active,l=e.children,c=e.className,f=e.disabled,d=e.focus,h=e.value,p=e.onKeyDown,m=e.onSelect,g=e.renderItem,y=jn(e,swt),v=SC(),b=v.id,_=hn(function(k){k.preventDefault(),f||m==null||m(h,k)}),w=Or(a),S=w.withClassPrefix,E=w.merge,C=w.rootPrefix,A=S({active:u,focus:d,disabled:f});return ue.createElement(r,yt({role:o,"aria-selected":u,"aria-disabled":f,id:b?b+"-opt-"+h:void 0,"data-key":h},y,{ref:t,className:E(c,C(nie||(nie=Vi(["picker-list-item"])))),tabIndex:-1,onKeyDown:f?null:p,onClick:_}),ue.createElement("span",{className:A},g?g(h):l))});m_e.displayName="ListItem";var awt=ue.createContext(void 0),rie,iie,oie,sie,uwt=["as","checked","className","children","classPrefix","checkable","color","defaultChecked","title","inputRef","inputProps","indeterminate","labelClickable","tabIndex","disabled","readOnly","plaintext","inline","name","value","onClick","onCheckboxClick","onChange"],GV=ue.forwardRef(function(e,t){var n=I.useContext(awt),r=n??{},i=r.inline,o=r.name,s=r.disabled,a=r.readOnly,u=r.plaintext,l=r.onChange,c=e.as,f=c===void 0?"div":c,d=e.checked,h=e.className,p=e.children,m=e.classPrefix,g=m===void 0?"checkbox":m,y=e.checkable,v=y===void 0?!0:y,b=e.color,_=e.defaultChecked,w=_===void 0?!1:_,S=e.title,E=e.inputRef,C=e.inputProps,A=e.indeterminate,k=e.labelClickable,P=k===void 0?!0:k,$=e.tabIndex,N=$===void 0?0:$,O=e.disabled,j=O===void 0?s:O,M=e.readOnly,B=M===void 0?a:M,V=e.plaintext,q=V===void 0?u:V,D=e.inline,U=D===void 0?i:D,W=e.name,F=W===void 0?o:W,z=e.value,G=e.onClick,ee=e.onCheckboxClick,ce=e.onChange,le=jn(e,uwt),se=WR(d,w),ge=se[0],be=se[1],ve=se[2],Ye=I.useMemo(function(){var Le,He;return n?(Le=(He=n.value)===null||He===void 0?void 0:He.some(function(lt){return lt===z}))!==null&&Le!==void 0?Le:!1:ge},[n,ge,z]),Ue=Or(g),ht=Ue.merge,Je=Ue.prefix,ke=Ue.withClassPrefix,Ne=ht(h,ke(b,{inline:U,indeterminate:A,disabled:j,checked:Ye})),ze=Y1e(le),ut=ze[0],Mt=ze[1],qe=n?!0:ve;typeof qe<"u"&&(ut[qe?"checked":"defaultChecked"]=Ye);var me=I.useRef(null),Xe=hn(function(Le){var He=Le.target.checked;j||B||(be(He),ce==null||ce(z,He,Le),l==null||l(z,He,Le))}),vt=hn(function(Le){!P&&Le.target!==me.current&&Le.preventDefault()}),he=MV("label-");if(q)return Ye?ue.createElement(f,yt({},Mt,{ref:t,className:Ne}),p):null;var Te=ue.createElement("span",{className:Je(rie||(rie=Vi(["control"])))},ue.createElement("input",yt({},ut,C,{"aria-disabled":j,"aria-checked":A?"mixed":Ye,"aria-labelledby":he,name:F,value:z,type:"checkbox",ref:Mu(me,E),tabIndex:N,readOnly:B,disabled:j,onClick:ee,onChange:Xe})),ue.createElement("span",{className:Je(iie||(iie=Vi(["inner"]))),"aria-hidden":!0,"data-testid":"checkbox-control-inner"}));return ue.createElement(f,yt({},Mt,{ref:t,onClick:G,className:Ne}),ue.createElement("div",{className:Je(oie||(oie=Vi(["checker"])))},ue.createElement("label",{title:S,onClick:vt},v?Te:null,ue.createElement("span",{className:Je(sie||(sie=Vi(["label"]))),id:he},p))))});GV.displayName="Checkbox";GV.propTypes={as:pe.elementType,checked:pe.bool,checkable:pe.bool,className:pe.string,children:pe.node,classPrefix:pe.string,disabled:pe.bool,defaultChecked:pe.bool,inline:pe.bool,indeterminate:pe.bool,inputProps:pe.any,inputRef:O1t,value:pe.any,onChange:pe.func,onClick:pe.func,onCheckboxClick:pe.func};var aie,lwt=["active","as","checkboxAs","classPrefix","checkable","disabled","value","focus","children","className","indeterminate","labelClickable","onKeyDown","onSelect","onCheck","onSelectItem","renderCheckbox"],g_e=ue.forwardRef(function(e,t){var n=e.active,r=n===void 0?!1:n,i=e.as,o=i===void 0?"div":i,s=e.checkboxAs,a=s===void 0?GV:s,u=e.classPrefix,l=u===void 0?"check-item":u,c=e.checkable,f=c===void 0?!0:c,d=e.disabled,h=e.value,p=e.focus,m=e.children,g=e.className,y=e.indeterminate,v=e.labelClickable,b=e.onKeyDown,_=e.onSelect,w=e.onCheck,S=e.onSelectItem,E=e.renderCheckbox,C=jn(e,lwt),A=hn(function(D,U,W){_==null||_(D,W,U)}),k=hn(function(D){d||w==null||w(h,D,!r)}),P=hn(function(D){d||S==null||S(h,D,!r)}),$=SC(),N=$.id,O=Or(l),j=O.withClassPrefix,M=O.merge,B=O.rootPrefix,V=j({focus:p}),q={checkable:f,children:m,checked:r,className:V,disabled:d,value:h,indeterminate:y,labelClickable:v,onKeyDown:d?void 0:b,onChange:A,onClick:P,onCheckboxClick:k};return ue.createElement(o,yt({role:"option","aria-selected":r,"aria-disabled":d,id:N?N+"-opt-"+h:void 0,"data-key":h},C,{ref:t,className:M(g,B(aie||(aie=Vi(["picker-list-item"])))),tabIndex:-1}),E?E(q):ue.createElement(a,yt({role:"checkbox"},q)))});g_e.displayName="ListCheckItem";var cwt=["as","classPrefix","autoWidth","className","placement","target"],fwt=["placement","arrowOffsetLeft","arrowOffsetTop","positionLeft","positionTop","getPositionInstance","getToggleInstance","autoWidth"],dwt=["topStart","topEnd","leftEnd","rightEnd","auto","autoVerticalStart","autoVerticalEnd","autoHorizontalEnd"],k8=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"picker-popup":i,s=e.autoWidth,a=e.className,u=e.placement,l=u===void 0?"bottomStart":u,c=e.target,f=jn(e,cwt),d=I.useRef(null),h=hn(function(){var v=c==null?void 0:c.current;v&&dwt.includes(l)&&v.updatePosition()});Bbe(I.useCallback(function(){return d.current},[]),h),I.useEffect(function(){var v=c==null?void 0:c.current;if(s&&v!==null&&v!==void 0&&v.root){var b=s1e(ah(v.root));d.current&&a1e(d.current,"min-width",b+"px")}},[s,c,d]);var p=Or(o),m=p.withClassPrefix,g=p.merge,y=g(a,m());return ue.createElement(r,yt({"data-testid":"picker-popup"},R$(f,fwt),{ref:Mu(d,t),className:y}))});k8.displayName="PickerPopup";var y_e=ue.forwardRef(function(e,t){return ue.createElement(N$,yt({},e,{ref:t,as:"div",ripple:!1}))});y_e.displayName="ToggleButton";function XR(){return XR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XR.apply(null,arguments)}function hwt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var pwt="rs-",v_e=function(){return pwt},uie=function(t){return t?""+v_e()+t:void 0},mwt=e1e(function(e,t){return!e||!t?"":Array.isArray(t)?Tl(t.filter(function(n){return!!n}).map(function(n){return e+"-"+n})):e+"-"+t});function gwt(e){var t=uie("icon"),n=I.useCallback(function(r){return mwt(t,r)},[]);return[Tl(t,uie(e)),n]}var ywt=Hbe(),Mv=v_e(),vwt="."+Mv+`icon {
  display: -webkit-inline-box;
  display: -ms-inline-flexbox;
  display: inline-flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  vertical-align: middle;
}
.`+Mv+`icon[tabindex] {
  cursor: pointer;
}
.`+Mv+`icon-spin {
  -webkit-animation: icon-spin 2s infinite linear;
          animation: icon-spin 2s infinite linear;
}
.`+Mv+`icon-pulse {
  -webkit-animation: icon-spin 1s infinite steps(8);
          animation: icon-spin 1s infinite steps(8);
}
.`+Mv+`icon-flip-horizontal {
  -webkit-transform: scaleX(-1);
      -ms-transform: scaleX(-1);
          transform: scaleX(-1);
}
.`+Mv+`icon-flip-vertical {
  -webkit-transform: scaleY(-1);
      -ms-transform: scaleY(-1);
          transform: scaleY(-1);
}
@-webkit-keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes icon-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}`,lie=!1,bwt=function(t){t===void 0&&(t=vwt),I.useEffect(function(){lie||(ywt.insertCss(t,{prepend:!0}),lie=!0)},[])},_wt={as:"svg",fill:"currentColor",width:"1em",height:"1em"};function wwt(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];typeof i<"u"&&(t[r]=i)}),t}var D$=ue.forwardRef(function(e,t){var n,r=e.as,i=e.spin,o=e.pulse,s=e.flip,a=e.fill,u=e.className,l=e.rotate,c=e.children,f=e.viewBox,d=e.width,h=e.height,p=e.style,m=hwt(e,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),g=gwt(),y=g[0],v=g[1],b=Tl(u,y,(n={},n[v("spin")]=i,n[v("pulse")]=o,n[v("flip-"+s)]=!!s,n)),_={msTransform:"rotate("+l+"deg)",transform:"rotate("+l+"deg)"};bwt();var w=wwt({width:d,height:h,fill:a,viewBox:f,className:b,style:l?XR({},_,p):p});return ue.createElement(r,XR({"aria-hidden":!0,focusable:!1,ref:t},w,m),c)});D$.displayName="Icon";D$.defaultProps=_wt;D$.propTypes={spin:pe.bool,pulse:pe.bool,rotate:pe.number,viewBox:pe.string,as:pe.oneOfType([pe.elementType,pe.string]),flip:pe.oneOf(["horizontal","vertical"]),fill:pe.string};var Ewt=function(t){var n=t.loading,r=t.caretAs,i=t.onClose,o=t.showCleanButton,s=t.as,a=s===void 0?J0.Addon:s,u=t.disabled,l=ad(),c=l.locale,f=Or("picker"),d=f.prefix,h=function(){return n?ue.createElement(HV,{className:d("loader"),"data-testid":"spinner"}):o&&!u?ue.createElement(VV,{className:d("clean"),tabIndex:-1,locale:{closeLabel:c==null?void 0:c.clear},onClick:i}):r&&ue.createElement(D$,{as:r,className:d("caret-icon")})},p=a===J0.Addon?{disabled:u}:void 0;return ue.createElement(a,p,h())},xwt=["children","className","as"],Twt=function(t){var n=t.children,r=t.className,i=t.as,o=i===void 0?J0.Addon:i,s=jn(t,xwt);return n?ue.createElement(o,yt({"data-testid":"picker-label",className:r},s),n):null},cie,Swt=["active","as","classPrefix","children","caret","className","disabled","readOnly","plaintext","hasValue","loading","cleanable","tabIndex","inputValue","focusItemValue","onClean","placement","caretComponent","caretAs","label","name"],b_e=ue.forwardRef(function(e,t){var n=e.active,r=e.as,i=r===void 0?y_e:r,o=e.classPrefix,s=o===void 0?"picker-toggle":o,a=e.children,u=e.caret,l=u===void 0?!0:u,c=e.className,f=e.disabled,d=e.readOnly,h=e.plaintext,p=e.hasValue,m=e.loading,g=m===void 0?!1:m,y=e.cleanable,v=e.tabIndex,b=v===void 0?0:v,_=e.inputValue,w=e.focusItemValue,S=e.onClean,E=e.placement,C=E===void 0?"bottomStart":E,A=e.caretComponent,k=e.caretAs,P=k===void 0?A:k,$=e.label,N=e.name,O=jn(e,Swt),j=I.useRef(null),M=Or(s),B=M.withClassPrefix,V=M.merge,q=M.prefix,D=SC(),U=D.id,W=D.labelId,F=D.popupType,z=I.useMemo(function(){return typeof _=="number"||typeof _=="string"?_:Array.isArray(_)?_.join(","):""},[_]),G=V(c,B({active:n})),ee=hn(function(ge){var be;ge.stopPropagation(),S==null||S(ge),(be=j.current)===null||be===void 0||be.focus()}),ce=D1t(C),le=P??ce;if(h)return ue.createElement(WV,{ref:t,localeKey:"notSelected"},p?a:null);var se=y&&p&&!d;return ue.createElement(i,yt({role:"combobox",id:U,"aria-haspopup":F,"aria-expanded":n,"aria-disabled":f,"aria-controls":U+"-"+F,"aria-labelledby":W,"aria-describedby":U+"-describe","aria-activedescendant":n&&w?U+"-opt-"+w:void 0},O,{ref:Mu(j,t),disabled:f,tabIndex:f?void 0:b,className:G}),ue.createElement(Fp,null,$&&ue.createElement(Fp.Item,null,ue.createElement(Twt,{as:"span",className:q("label"),id:W},$)),ue.createElement(Fp.Item,{grow:1,style:{overflow:"hidden"}},ue.createElement("input",{readOnly:!0,"aria-hidden":!0,tabIndex:-1,"data-testid":"picker-toggle-input",name:N,value:z,className:q("textbox","read-only"),style:{pointerEvents:"none"}}),a?ue.createElement("span",{className:q(p?"value":"placeholder"),id:U+"-describe","data-testid":"picker-describe"},a):null),ue.createElement(Fp.Item,{className:q(cie||(cie=Vi(["indicator"])))},ue.createElement(Ewt,{as:ue.Fragment,loading:g,caretAs:l?le:null,onClose:ee,showCleanButton:se}))))});b_e.displayName="PickerToggle";function Cwt(e){var t=I.useRef(null),n=I.useRef(null),r=I.useRef(null),i=I.useRef(null),o=I.useRef(null),s=I.useRef(null),a=I.useRef(null),u=hn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.open()}),l=hn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.close()}),c=hn(function(){var f;t==null||(f=t.current)===null||f===void 0||f.updatePosition()});return I.useImperativeHandle(e,function(){return{get root(){var f,d;return(f=(n==null?void 0:n.current)||(t==null||(d=t.current)===null||d===void 0?void 0:d.root))!==null&&f!==void 0?f:null},get overlay(){var f;if(!(i!=null&&i.current))throw new Error("The overlay is not found. Please confirm whether the picker is open.");return(f=i==null?void 0:i.current)!==null&&f!==void 0?f:null},get target(){var f;return(f=r==null?void 0:r.current)!==null&&f!==void 0?f:null},get list(){if(!(o!=null&&o.current))throw new Error(`
            The list is not found.
            1.Please set virtualized for the component.
            2.Please confirm whether the picker is open.
          `);return o==null?void 0:o.current},type:o0t,updatePosition:c,open:u,close:l}}),{trigger:t,root:n,overlay:i,target:r,list:o,searchInput:s,treeView:a}}var Awt=Xy,Iwt=EC,kwt=Ky;function Rwt(e){return function(t,n,r){var i=Object(t);if(!Iwt(t)){var o=Awt(n);t=kwt(t),n=function(a){return o(i[a],a,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var Pwt=Rwt,Nwt=Pwt,Dwt=l_e,$wt=Nwt(Dwt),Owt=$wt;const Mwt=gn(Owt);function Lwt(e,t){var n=function r(i){i===void 0&&(i=[]);for(var o=0;o<i.length;o+=1){var s=i[o];if(Array.isArray(s.children)){var a=r(s.children);if(a)return a}if(t(s))return s}};return n(e)}var Fwt=j1e,jwt=4;function Bwt(e){return Fwt(e,jwt)}var Uwt=Bwt;const __e=gn(Uwt);function zwt(e,t){var n=function r(i){i===void 0&&(i=[]);for(var o=[],s=0;s<i.length;s+=1){if(Array.isArray(i[s].children)){var a=r(i[s].children);if(a.length){var u=__e(i[s]);u.children=a,o.push(u);continue}}t(i[s])&&o.push(i[s])}return o};return n(e)}var Vwt=w$;function Hwt(e,t){for(var n=e.length;n--&&Vwt(t,e[n],0)>-1;);return n}var qwt=Hwt,Wwt=w$;function Gwt(e,t){for(var n=-1,r=e.length;++n<r&&Wwt(t,e[n],0)>-1;);return n}var Ywt=Gwt,Kwt=f1e,Xwt=Jve,Qwt=Fbt,Jwt=qwt,Zwt=Ywt,fie=m_t,eEt=_C;function tEt(e,t,n){if(e=eEt(e),e&&(n||t===void 0))return Xwt(e);if(!e||!(t=Kwt(t)))return e;var r=fie(e),i=fie(t),o=Zwt(r,i),s=Jwt(r,i)+1;return Qwt(r,o,s).join("")}var nEt=tEt;const rEt=gn(nEt);function iEt(e,t){if(!rEt(t))return!0;var n=t.toLocaleLowerCase();if(typeof e=="string"||typeof e=="number")return(""+e).toLocaleLowerCase().indexOf(n)>=0;if(ue.isValidElement(e)){var r=K1e(e);return r.join("").toLocaleLowerCase().indexOf(n)>=0}return!1}function oEt(e,t){var n=t.down,r=t.up,i=t.enter,o=t.del,s=t.esc,a=t.right,u=t.left;switch(e.key){case ns.DOWN:n==null||n(e),e.preventDefault();break;case ns.UP:r==null||r(e),e.preventDefault();break;case ns.ENTER:i==null||i(e),e.preventDefault();break;case ns.BACKSPACE:o==null||o(e);break;case ns.ESC:case ns.TAB:s==null||s(e);break;case ns.LEFT:u==null||u(e);break;case ns.RIGHT:a==null||a(e);break}}var sEt=function(t,n){var r=n.valueKey,i=r===void 0?"value":r,o=n.focusableQueryKey,s=o===void 0?'[data-key][aria-disabled="false"]':o,a=n.defaultLayer,u=a===void 0?0:a,l=n.focusToOption,c=l===void 0?!0:l,f=n.data,d=n.target,h=n.rtl,p=n.callback,m=n.getParent,g=m===void 0?function(U){return U==null?void 0:U.parent}:m,y=I.useState(t),v=y[0],b=y[1],_=I.useState(u),w=_[0],S=_[1],E=I.useState([]),C=E[0],A=E[1],k=hn(function(U,W){if(c){var F=Gd(d)?d():d,z=F==null?void 0:F.querySelector('[data-key="'+U+'"]');z==null||z.focus()}p==null||p(U,W)}),P=hn(function(){var U=Gd(d)?d():d,W=U==null?void 0:U.querySelector('[data-layer="'+w+'"]');return W||(U==null?void 0:U.querySelector('[role="listbox"]'))}),$=function(){if(!d)return[];var W=C;if(w<1){var F=Gd(d)?d():d,z=F==null?void 0:F.querySelector('[data-layer="0"]');if(z){var G;W=Array.from((G=z.querySelectorAll(s))!==null&&G!==void 0?G:[]).map(function(ce){var le;return(le=ce.dataset)===null||le===void 0?void 0:le.key})}else{var ee;W=Array.from((ee=F==null?void 0:F.querySelectorAll(s))!==null&&ee!==void 0?ee:[]).map(function(ce){var le;return(le=ce.dataset)===null||le===void 0?void 0:le.key})}}return W.map(function(ce){return Mwt(f,function(le){return""+le[i]===ce})})},N=hn(function(U){for(var W=$(),F=0;F<W.length;F+=1){var z;if(cl(v,(z=W[F])===null||z===void 0?void 0:z[i])){U(W,F);return}}U(W,-1)}),O=hn(function(U,W,F){var z=P(),G=z==null?void 0:z.querySelector('[data-key="'+W+'"]');if(F&&z){var ee=z.scrollHeight,ce=z.clientHeight;z.scrollTop=U==="top"?ee-ce:0;return}if(G&&z&&!lEt(G,z,U)){var le=o1e(G);aEt(z,U,le)}}),j=hn(function(U){N(function(W,F){var z=F+2>W.length,G=z?0:F+1,ee=W[G];Yd(ee)||(b(ee[i]),k(ee[i],U),O("bottom",ee[i],z))})}),M=hn(function(U){N(function(W,F){var z=F===0,G=z?W.length-1:F-1,ee=W[G];Yd(ee)||(b(ee[i]),k(ee[i],U),O("top",ee[i],z))})}),B=function(W){var F=Gd(d)?d():d,z=F==null?void 0:F.querySelector('[data-layer="'+W+'"]');if(z){var G;return(G=Array.from(z.querySelectorAll(s)))===null||G===void 0?void 0:G.map(function(ee){var ce;return(ce=ee.dataset)===null||ce===void 0?void 0:ce.key})}return null},V=hn(function(U){var W=w+1,F=B(W);F&&(A(F),S(W),b(F[0]),k(F[0],U))}),q=hn(function(U){var W=w-1,F=B(W);if(F){var z;A(F),S(W);var G=Lwt(f,function(ce){return ce[i]===v}),ee=(z=g(G))===null||z===void 0?void 0:z[i];ee&&(b(ee),k(ee,U))}}),D=hn(function(U){var W;oEt(U,(W={down:j,up:M},W[h?"left":"right"]=V,W[h?"right":"left"]=q,W))});return{focusItemValue:v,setFocusItemValue:b,layer:w,setLayer:S,keys:C,setKeys:A,onKeyDown:D}};function aEt(e,t,n){var r=e.scrollTop;e.scrollTop=t==="top"?r-n:r+n}function uEt(e){var t=e.scrollHeight,n=e.clientHeight;return t>n}function lEt(e,t,n){if(!uEt(t))return!0;var r=e.getBoundingClientRect(),i=r.top,o=r.bottom,s=r.height,a=t.getBoundingClientRect(),u=a.top,l=a.bottom;return n==="top"?i+s>u:o-s<l}var cEt=function(t){var n=t.toggle,r=n===void 0?!0:n,i=t.trigger,o=t.target,s=t.overlay,a=t.searchInput,u=t.active,l=t.readOnly,c=t.disabled,f=t.loading,d=t.onExit,h=t.onKeyDown,p=t.onMenuKeyDown,m=t.onMenuPressEnter,g=t.onMenuPressBackspace,y=hn(function(){var w,S,E,C;(w=i.current)===null||w===void 0||(S=w.close)===null||S===void 0||S.call(w),(E=i.current)===null||E===void 0||(C=E.focus)===null||C===void 0||C.call(E)}),v=hn(function(){var w,S;(w=i.current)===null||w===void 0||(S=w.open)===null||S===void 0||S.call(w)}),b=hn(function(){if(u){y();return}v()}),_=hn(function(w){if(!(l||c||f)){if(w.target===(o==null?void 0:o.current)&&(r&&w.key===ns.ENTER&&b(),w.key===ns.BACKSPACE&&(d==null||d(w))),s!=null&&s.current&&(p==null||p(w),w.key===ns.ENTER&&(m==null||m(w)),w.key===ns.BACKSPACE&&w.target!==(a==null?void 0:a.current)&&(g==null||g(w)),w.key.length===1&&/\w/.test(w.key))){var S;if(((S=w.target)===null||S===void 0?void 0:S.tagName)!=="INPUT"){var E;a==null||(E=a.current)===null||E===void 0||E.focus()}}(w.key===ns.ESC||w.key===ns.TAB)&&y(),h==null||h(w)}});return _};function fEt(e,t){var n=t.labelKey,r=t.searchBy,i=t.callback,o=I.useState(""),s=o[0],a=o[1],u=I.useCallback(function(){a("")},[]),l=I.useCallback(function(d,h){var p=typeof d=="object"?d==null?void 0:d[n]:String(d),m=Yd(h)?s:h;return typeof r=="function"?r(m,p,d):iEt(p,m)},[n,r,s]),c=I.useMemo(function(){return e.filter(function(d){return l(d,s)})},[l,e,s]),f=function(h,p){var m=e.filter(function(g){return l(g,h)});a(h),i==null||i(h,m,p)};return{searchKeyword:s,filteredData:c,checkShouldDisplay:l,handleSearch:f,resetSearch:u}}var dEt=["name","classPrefix","className","placement","appearance","cleanable","block","disabled","countable","readOnly","plaintext","hasValue"];function hEt(e){var t,n=e.name,r=e.classPrefix,i=e.className,o=e.placement,s=e.appearance,a=e.cleanable,u=e.block,l=e.disabled,c=e.countable,f=e.readOnly,d=e.plaintext,h=e.hasValue,p=jn(e,dEt),m=Or(r),g=m.withClassPrefix,y=m.merge,v=y(i,g(n,s,"toggle-wrapper",(t={},t["placement-"+S1e(J1e(o))]=o,t["read-only"]=f,t["has-value"]=h,t.cleanable=a,t.block=u,t.disabled=l,t.countable=c,t.plaintext=d,t))),b=Object.keys(R$(e,[].concat(Object.keys(p||{}),["disabled","readOnly","plaintext","name"])));return[v,b]}var pEt=yt({},ube,{classPrefix:pe.string,className:pe.string,style:pe.object,locale:pe.any,appearance:Ya(["default","subtle"]),block:pe.bool,containerPadding:pe.number,container:pe.oneOfType([pe.any,pe.func]),disabled:pe.bool,menuClassName:pe.string,menuStyle:pe.object,placeholder:pe.node,placement:Ya(h1t),preventOverflow:pe.bool,open:pe.bool,defaultOpen:pe.bool,cleanable:pe.bool,renderExtraFooter:pe.func,renderValue:pe.func,onOpen:pe.func,onClose:pe.func,onClean:pe.func,listProps:pe.any}),mEt=yt({},pEt,{data:pe.array.isRequired,valueKey:pe.string,labelKey:pe.string,childrenKey:pe.string,disabledItemValues:pe.array,value:pe.any,defaultValue:pe.any,onChange:pe.func}),die,hie,gEt=["as","classPrefix","size","color","children","closable","className","onClose"],YV=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"div":n,i=e.classPrefix,o=i===void 0?"tag":i,s=e.size,a=s===void 0?"md":s,u=e.color,l=u===void 0?"default":u,c=e.children,f=e.closable,d=e.className,h=e.onClose,p=jn(e,gEt),m=Or(o),g=m.withClassPrefix,y=m.prefix,v=m.merge,b=v(d,g(a,l,{closable:f})),_=ad(),w=_.locale;return ue.createElement(r,yt({},p,{ref:t,className:b}),ue.createElement("span",{className:y(die||(die=Vi(["text"])))},c),f&&ue.createElement(VV,{className:y(hie||(hie=Vi(["icon-close"]))),onClick:h,tabIndex:-1,locale:{closeLabel:w==null?void 0:w.remove}}))});YV.displayName="Tag";YV.propTypes={closable:pe.bool,classPrefix:pe.string,onClose:pe.func,children:pe.node,className:pe.string,as:pe.elementType};var pie,yEt=["children"],vEt=ue.forwardRef(function(e,t){var n=e.children,r=jn(e,yEt),i=Or("picker"),o=i.prefix,s=SC(),a=s.id;return ue.createElement("div",yt({ref:t,role:"listbox",id:a+"-describe",className:o(pie||(pie=Vi(["tag-list"])))},r),n)}),mie,bEt=["as","classPrefix","children","className","value","inputRef","style","readOnly","onChange"],w_e=ue.forwardRef(function(e,t){var n=e.as,r=n===void 0?"input":n,i=e.classPrefix,o=i===void 0?"picker-search":i,s=e.children,a=e.className,u=e.value,l=e.inputRef,c=e.style,f=e.readOnly,d=e.onChange,h=jn(e,bEt),p=hn(function(_){var w;d==null||d(_==null||(w=_.target)===null||w===void 0?void 0:w.value,_)}),m=Or(o),g=m.withClassPrefix,y=m.merge,v=m.prefix,b=y(a,g());return ue.createElement("div",{ref:t,className:b,style:c},ue.createElement(r,yt({},h,{ref:l,readOnly:f,className:v(mie||(mie=Vi(["input"]))),value:u,onChange:p})),s)});w_e.displayName="InputSearch";var gie,_Et=["tags","inputProps","readOnly","disabled","multiple","onBlur","onFocus","onChange","inputValue","inputRef","editable","showTagList"],wEt=ue.forwardRef(function(e,t){var n=e.tags,r=e.inputProps,i=e.readOnly,o=e.disabled,s=e.multiple,a=e.onBlur,u=e.onFocus,l=e.onChange,c=e.inputValue,f=e.inputRef,d=e.editable,h=e.showTagList,p=jn(e,_Et),m=Or("picker"),g=m.prefix;return!s&&o?null:ue.createElement("div",yt({className:g(gie||(gie=Vi(["textbox"]))),ref:t},p),h?ue.createElement(vEt,null,n):null,d&&ue.createElement(w_e,yt({},r,{tabIndex:-1,readOnly:i,onBlur:a,onFocus:u,inputRef:f,onChange:l,value:c})))}),E_e=ue.createContext({tagProps:{},trigger:"Enter"});function EEt(){return ue.useContext(E_e)}var xEt=E_e.Provider;function TEt(e){var t=I.useState(100),n=t[0],r=t[1];return I.useEffect(function(){var i;if((i=e.current)!==null&&i!==void 0&&i.root){var o;r(s1e((o=e.current)===null||o===void 0?void 0:o.root))}},[]),n}var yie={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},vie=function(t,n){n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.letterSpacing=t.letterSpacing,n.style.textTransform=t.textTransform},SEt=function(t,n,r){var i=t.minWidth,o=i===void 0?1:i,s=t.placeholder,a=t.value,u=t.onAutosize,l=I.useState(o),c=l[0],f=l[1];return I.useEffect(function(){if(!(!n.current||typeof n.current.scrollWidth>"u")){var d;s&&!a&&r.current?d=Math.max(n.current.scrollWidth,r.current.scrollWidth)+10:d=n.current.scrollWidth+10,d<o&&(d=o),d!==c&&(f(d),u==null||u(d))}},[o,s,c,a,r,n,u]),c},KV=ue.forwardRef(function(e,t){var n=I.useMemo(function(){return _pt()},[]),r=e.defaultValue,i=e.value,o=e.style,s=e.className,a=e.placeholder,u=e.inputClassName,l=e.inputStyle,c=e.inputId,f=c===void 0?n:c,d=e.tabIndex,h=I.useRef(null),p=I.useRef(null),m=I.useRef(null),g=I.useRef(null);I.useImperativeHandle(t,function(){return{root:h.current,input:p.current}});var y=[r,i,""].reduce(function(E,C){return E??C}),v=SEt(e,m,g),b=yt({display:"inline-block"},o),_=yt({boxSizing:"content-box",width:v+"px"},l);I.useEffect(function(){if(window.getComputedStyle){var E=p.current,C=E&&window.getComputedStyle(E);C&&(m.current&&vie(C,m.current),g.current&&vie(C,g.current))}},[]);var w=Y1e(e),S=w[0];return S.className=u,S.style=_,S.tabIndex=d,h8()&&(S.id=f),ue.createElement("div",{ref:h,className:s,style:b},h8()?ue.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+f+"::-ms-clear {display: none;}"}}):null,ue.createElement("input",yt({},S,{ref:p,type:"text"})),ue.createElement("div",{ref:m,style:yie},y),a?ue.createElement("div",{ref:g,style:yie},a):null)});KV.displayName="InputAutosize";KV.propTypes={className:pe.string,defaultValue:pe.any,inputId:pe.string,inputClassName:pe.string,inputStyle:pe.object,minWidth:pe.number,onChange:pe.func,placeholder:pe.string,style:pe.object,value:pe.any,onAutosize:pe.func};var CEt=60;function AEt(e){var t=e.multi,n=e.triggerRef,r=I.useRef(),i=TEt(n),o=I.useCallback(function(){var l;return t?(l=r.current)===null||l===void 0?void 0:l.input:r.current},[t]),s=I.useCallback(function(){var l;(l=o())===null||l===void 0||l.focus()},[o]),a=I.useCallback(function(){var l;(l=o())===null||l===void 0||l.blur()},[o]),u=I.useMemo(function(){return t?{inputStyle:{maxWidth:i-CEt},as:KV}:{as:"input"}},[i,t]);return{inputProps:u,inputRef:r,focus:s,blur:a}}function IEt(e){var t=e.controlledData,n=t===void 0?[]:t,r=e.cacheData,i=r===void 0?[]:r,o=e.onChange,s=I.useState(n),a=s[0],u=s[1],l=I.useState([]),c=l[0],f=l[1],d=I.useMemo(function(){return[].concat(a,c)},[c,a]),h=I.useMemo(function(){return[].concat(d,i)},[d,i]);return I.useEffect(function(){n&&!cl(n,a)&&(u(n),f([]),o==null||o(n))},[n,a,o]),{data:d,dataWithCache:h,newData:c,setNewData:f}}var kEt=function(t){switch(t){case"lg":return"lg";case"sm":case"xs":return"sm";default:return"md"}},bie,_ie,wie,Eie,REt=["as","appearance","cleanable","cacheData","classPrefix","data","disabled","readOnly","plaintext","defaultValue","defaultOpen","disabledItemValues","locale","toggleAs","style","size","searchable","open","placeholder","placement","groupBy","menuClassName","menuStyle","menuAutoWidth","menuMaxHeight","creatable","shouldDisplayCreateOption","value","valueKey","virtualized","labelKey","listProps","id","tabIndex","sort","renderMenu","renderExtraFooter","renderValue","renderMenuItem","renderMenuGroup","onEnter","onEntered","onExit","onExited","onChange","onClean","onCreate","onSearch","onSelect","onBlur","onFocus","searchBy"],PEt=["closable","onClose"],XV=ue.forwardRef(function(e,t){var n,r=e.as,i=r===void 0?"div":r,o=e.appearance,s=o===void 0?"default":o,a=e.cleanable,u=a===void 0?!0:a,l=e.cacheData,c=l===void 0?[]:l,f=e.classPrefix,d=f===void 0?"picker":f,h=e.data,p=h===void 0?[]:h,m=e.disabled,g=e.readOnly,y=e.plaintext,v=e.defaultValue,b=e.defaultOpen,_=b===void 0?!1:b,w=e.disabledItemValues,S=w===void 0?[]:w,E=e.locale,C=e.toggleAs,A=e.style,k=e.size,P=e.searchable,$=P===void 0?!0:P,N=e.open,O=e.placeholder,j=e.placement,M=j===void 0?"bottomStart":j,B=e.groupBy,V=e.menuClassName,q=e.menuStyle,D=e.menuAutoWidth,U=D===void 0?!0:D,W=e.menuMaxHeight,F=W===void 0?320:W,z=e.creatable,G=e.shouldDisplayCreateOption,ee=e.value,ce=e.valueKey,le=ce===void 0?"value":ce,se=e.virtualized,ge=e.labelKey,be=ge===void 0?"label":ge,ve=e.listProps,Ye=e.id,Ue=e.tabIndex,ht=e.sort,Je=e.renderMenu,ke=e.renderExtraFooter,Ne=e.renderValue,ze=e.renderMenuItem,ut=e.renderMenuGroup,Mt=e.onEnter,qe=e.onEntered,me=e.onExit,Xe=e.onExited,vt=e.onChange,he=e.onClean,Te=e.onCreate,Le=e.onSearch,He=e.onSelect,lt=e.onBlur,an=e.onFocus,$n=e.searchBy,ct=jn(e,REt),$t=EEt(),pt=$t.multi,Qt=$t.tagProps,un=$t.trigger,Jt=$t.disabledOptions,Yi=$t.onTagRemove,ii=$t.renderCheckbox;if(B===le||B===be)throw Error("`groupBy` can not be equal to `valueKey` and `labelKey`");var ln=Cwt(t),ir=ln.trigger,dr=ln.root,qr=ln.target,Ia=ln.overlay,Ks=ln.list,el=ad(["Picker","InputPicker"],E),En=el.locale,Mr=Or(d),Jn=Mr.prefix,Wo=Mr.merge,Eo=WR(N,_),Ki=Eo[0],oe=Eo[1],te=AEt({multi:pt,triggerRef:ir}),ae=te.inputRef,Se=te.inputProps,xe=te.focus,ot=te.blur,Pt=function(mt){var K;Er(mt==null||(K=mt[0])===null||K===void 0?void 0:K[le])},Wt=IEt({controlledData:p,cacheData:c,onChange:Pt}),yn=Wt.data,Sn=Wt.dataWithCache,cn=Wt.newData,Bn=Wt.setNewData,Zn=WR(ee,pt?v||[]:v),Et=Zn[0],xn=Zn[1],wr=Zn[2],Cn=function(){return pt?__e(Et)||[]:Et},Lr=hn(function(){var xt,mt,K;ir==null||(xt=ir.current)===null||xt===void 0||xt.close(),(mt=qr.current)===null||mt===void 0||(K=mt.focus)===null||K===void 0||K.call(mt)}),Xi={data:Sn,valueKey:le,target:function(){return Ia.current}},br=sEt(pt?Et==null?void 0:Et[0]:Et,Xi),Ar=br.focusItemValue,Er=br.setFocusItemValue,oi=br.onKeyDown,xo=hn(function(xt,mt,K){if(!Jt){var re,_e=mt==null||(re=mt[0])===null||re===void 0?void 0:re[le];!_e&&z&&(_e=xt),Er(_e)}Le==null||Le(xt,K)}),Go={labelKey:be,searchBy:$n,callback:xo},hi=fEt(yn,Go),Wr=hi.searchKeyword,Yo=hi.resetSearch,Y=hi.checkShouldDisplay,ie=hi.handleSearch;I.useEffect(function(){var xt,mt;(xt=ir.current)===null||xt===void 0||(mt=xt.updatePosition)===null||mt===void 0||mt.call(xt)},[Wr,Et]);var J=function(mt){var K=Sn.find(function(_e){return cl(_e[le],mt)}),re=O;return K!=null&&K[be]&&(re=K==null?void 0:K[be]),{isValid:!!K,activeItem:K,itemNode:re}},de=function(mt){var K,re=(K={create:!0},K[le]=mt,K[be]=mt,K);if(B){var _e;return yt((_e={},_e[B]=En==null?void 0:En.newItem,_e),re)}return re},ye=hn(function(xt,mt){vt==null||vt(xt,mt)}),fe=hn(function(xt,mt){mt.stopPropagation();var K=Cn();d6(K,function(re){return cl(re,xt)}),xn(K),ye(K,mt),Yi==null||Yi(xt,mt)}),$e=hn(function(xt,mt,K){He==null||He(xt,mt,K),z&&mt.create&&(delete mt.create,Te==null||Te(xt,mt,K),Bn(cn.concat(mt)))}),We=hn(function(xt,mt,K){xn(xt),Er(xt),Yo(),$e(xt,mt,K),ye(xt,K),Lr()}),Ke=hn(function(xt,mt,K,re){var _e=Cn();re?_e.push(xt):d6(_e,function(kt){return cl(kt,xt)}),xn(_e),Yo(),Er(xt),$e(_e,mt,K),ye(_e,K),xe()}),Ge=hn(function(xt){if(!xt.nativeEvent.isComposing){var mt=Cn(),K=Ar||"";if(pt&&Jt&&(K=Wr),!(!K||!yn)&&!(S!=null&&S.some(function(_e){return _e===K}))){mt.some(function(_e){return cl(_e,K)})?Jt||d6(mt,function(_e){return cl(_e,K)}):mt.push(K);var re=yn.find(function(_e){return cl(_e==null?void 0:_e[le],K)});re||(re=de(K)),xn(mt),Yo(),$e(mt,re,xt),ye(mt,xt)}}}),it=hn(function(xt){if(!(!Ar||!p)&&!(S!=null&&S.some(function(K){return K===Ar}))){var mt=yn.find(function(K){return cl(K[le],Ar)});!mt&&Ar===Wr&&(mt=de(Wr)),xn(Ar),Yo(),mt&&$e(Ar,mt,xt),ye(Ar,xt),Lr()}}),At=hn(function(xt){var mt=xt==null?void 0:xt.target;if((mt==null?void 0:mt.tagName)!=="INPUT"){xe();return}if(!((mt==null?void 0:mt.tagName)==="INPUT"&&mt!==null&&mt!==void 0&&mt.value)){var K=Cn();K.pop(),xn(K),ye(K,xt)}}),nn=hn(function(xt){m||Wr!==""||(xn(null),Er(null),Yo(),ye(pt?[]:null,xt),he==null||he(xt))}),Lt={onMenuPressBackspace:pt?At:nn,onMenuKeyDown:oi,onMenuPressEnter:void 0,onKeyDown:void 0},Rn=hn(function(xt){al("Space",un)&&xt.key===ns.SPACE&&(Ge(xt),xt.preventDefault()),al("Comma",un)&&xt.key===ns.COMMA&&(Ge(xt),xt.preventDefault())});pt?(al("Enter",un)&&(Lt.onMenuPressEnter=Ge),z&&(Lt.onKeyDown=Rn)):Lt.onMenuPressEnter=it;var or=cEt(yt({trigger:ir,target:qr,overlay:Ia},Lt,ct)),hr=hn(function(){Er(pt?Et==null?void 0:Et[0]:Et),Yo()}),To=hn(function(xt){if(!g){var mt;oe(!0),(mt=ir.current)===null||mt===void 0||mt.open()}an==null||an(xt)}),tl=hn(function(){xe(),oe(!0)}),Xl=hn(function(){ot(),oe(!1)}),Tg=function(mt,K){var re=K.create?ue.createElement("span",null,Cpt(En.createOption,mt)):mt;return ze?ze(re,K):re},xd=function(){if(pt)return{isValid:!1,itemNode:null};var mt=J(Et),K=mt.itemNode;return!ul(Et)&&Gd(Ne)&&(K=Ne(Et,mt.activeItem,K)),{isValid:mt.isValid,itemNode:K}},_v=function(){if(!pt)return null;var mt=Qt.closable,K=mt===void 0?!0:mt,re=Qt.onClose,_e=jn(Qt,PEt),kt=Et||[],vn=[],Un=kt.map(function(zn){var Xt=J(zn),sr=Xt.isValid,Pr=Xt.itemNode,So=Xt.activeItem;return vn.push(So),sr?ue.createElement(YV,yt({role:"option"},_e,{key:zn,size:kEt(k),closable:!m&&K&&!g&&!y,title:typeof Pr=="string"?Pr:void 0,onClose:ia(fe.bind(null,zn),re)}),Pr):null}).filter(function(zn){return zn!==null});return(kt.length>0||wr)&&Gd(Ne)?Ne(Et,vn,Un):Un},ka=function(mt,K){var re=mt.left,_e=mt.top,kt=mt.className,vn=pt?"picker-check-menu":"picker-select-menu",Un=Wo(kt,V,Jn(pt?"check-menu":"select-menu")),zn=yt({},q,{left:re,top:_e}),Xt=zwt(yn,Y);if(z&&(typeof G=="function"?G(Wr,Xt):Wr&&!Xt.find(function(Pr){return Pr[le]===Wr}))&&(Xt=[].concat(Xt,[de(Wr)])),B?Xt=s0t(Xt,B,ht):typeof ht=="function"&&(Xt=Xt.sort(ht(!1))),Jt)return ue.createElement(k8,{ref:Mu(Ia,K)});var sr=Xt.length?ue.createElement(p_e,{listProps:ve,listRef:Ks,disabledItemValues:S,valueKey:le,labelKey:be,classPrefix:vn,listItemClassPrefix:pt?void 0:vn+"-item",listItemAs:pt?g_e:m_e,listItemProps:{renderCheckbox:ii},activeItemValues:pt?Et:[Et],focusItemValue:Ar,maxHeight:F,data:Xt,query:Wr,groupBy:B,onSelect:pt?Ke:We,renderMenuGroup:ut,renderMenuItem:Tg,virtualized:se}):ue.createElement("div",{className:Jn(bie||(bie=Vi(["none"])))},En==null?void 0:En.noResultsText);return ue.createElement(k8,{ref:Mu(Ia,K),autoWidth:U,className:Un,style:zn,target:ir,onKeyDown:or},Je?Je(sr):sr,ke==null?void 0:ke())},Ko=xd(),Ql=Ko.isValid,ef=Ko.itemNode,Ra=_v(),Jl=!ul(Et)&&Gd(Ne)&&!ul(ef),Sg=GZe(Et)&&Et.length>0&&Gd(Ne)&&!ul(Ra),tf=pt?!!(Ra!=null&&Ra.length)||Sg:Ql||Jl,nl=hEt(yt({},e,{classPrefix:d,appearance:s,hasValue:tf,name:"input",cleanable:u})),bs=nl[0],Dw=nl[1],wv=Wo(bs,(n={},n[Jn(_ie||(_ie=Vi(["tag"])))]=pt,n[Jn((pt?"tag":"input")+"-"+k)]=k,n[Jn(wie||(wie=Vi(["focused"])))]=Ki,n[Jn(Eie||(Eie=Vi(["disabled-options"])))]=Jt,n)),Td=!!Wr&&Ki,Sd=$&&!m&&!ct.loading;if(y){var nf={};return pt&&tf&&(nf.as=Fp,nf.spacing=6,nf.wrap=!0,nf.childrenRenderMode="clone"),ue.createElement(WV,yt({localeKey:"notSelected",ref:qr},nf),ef||(Ra!=null&&Ra.length?Ra:null)||O)}var Cd=O||(Jt?null:En==null?void 0:En.placeholder);return ue.createElement(u_e,{id:Ye,multiple:pt,pickerProps:Nbe(e,s_e),ref:ir,trigger:"active",onEnter:ia(tl,Mt),onEntered:qe,onExit:ia(Xl,me),onExited:ia(hr,Xe),speaker:ka,placement:M},ue.createElement(i,{className:wv,style:A,onClick:xe,onKeyDown:or,ref:dr},ue.createElement(b_e,yt({},R$(ct,[].concat(o_e,Dw)),{appearance:s,readOnly:g,plaintext:y,ref:qr,as:C,tabIndex:Ue,onClean:nn,cleanable:u&&!m,hasValue:tf,active:Ki,disabled:m,placement:M,inputValue:Et,focusItemValue:Ar,caret:!Jt,size:k}),Td||pt&&tf?null:ef||Cd),ue.createElement(wEt,{showTagList:tf&&pt,inputRef:ae,inputValue:Ki?Wr:"",inputProps:Se,tags:Ra,editable:Sd,readOnly:g,disabled:m,multiple:pt,onBlur:lt,onFocus:To,onChange:ie})))});XV.displayName="InputPicker";XV.propTypes=yt({},mEt,{locale:pe.any,appearance:Ya(["default","subtle"]),cacheData:pe.array,menuAutoWidth:pe.bool,menuMaxHeight:pe.number,searchable:pe.bool,creatable:pe.bool,groupBy:pe.any,sort:pe.func,renderMenu:pe.func,renderMenuItem:pe.func,renderMenuGroup:pe.func,onCreate:pe.func,onSelect:pe.func,onGroupTitleClick:pe.func,onSearch:pe.func,virtualized:pe.bool,searchBy:pe.func});var NEt=["tagProps","trigger","onTagRemove","renderMenuItemCheckbox"],x_e=ue.forwardRef(function(e,t){var n=e.tagProps,r=n===void 0?{}:n,i=e.trigger,o=i===void 0?"Enter":i,s=e.onTagRemove,a=e.renderMenuItemCheckbox,u=jn(e,NEt),l=I.useMemo(function(){return{multi:!0,trigger:o,tagProps:r,onTagRemove:s,renderCheckbox:a}},[s,a,r,o]);return ue.createElement(xEt,{value:l},ue.createElement(XV,yt({},u,{ref:t})))});x_e.displayName="TagPicker";var T_e={},R8={exports:{}},y6={},xie;function DEt(){return xie||(xie=1,function(e){function t(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(f){return typeof f}:t=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},t(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(I);function r(){if(typeof WeakMap!="function")return null;var l=new WeakMap;return r=function(){return l},l}function i(l){if(l&&l.__esModule)return l;if(l===null||t(l)!=="object"&&typeof l!="function")return{default:l};var c=r();if(c&&c.has(l))return c.get(l);var f={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var p=d?Object.getOwnPropertyDescriptor(l,h):null;p&&(p.get||p.set)?Object.defineProperty(f,h,p):f[h]=l[h]}return f.default=l,c&&c.set(l,f),f}function o(){return o=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d])}return l},o.apply(this,arguments)}function s(l,c){return n.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"currentColor",ref:c},l),n.createElement("path",{d:"M9.393 24.893a2.29 2.29 0 01-2.286 2.286 2.302 2.302 0 01-2.286-2.286 2.29 2.29 0 012.286-2.286 2.279 2.279 0 012.286 2.286zm8.893 3.678c0 1.268-1.018 2.286-2.286 2.286s-2.286-1.018-2.286-2.286 1.018-2.286 2.286-2.286 2.286 1.018 2.286 2.286zM5.714 16c0 1.268-1.018 2.286-2.286 2.286S1.142 17.268 1.142 16s1.018-2.286 2.286-2.286S5.714 14.732 5.714 16zm21.465 8.893a2.302 2.302 0 01-2.286 2.286 2.29 2.29 0 01-2.286-2.286 2.279 2.279 0 012.286-2.286 2.29 2.29 0 012.286 2.286zM9.964 7.107c0 1.571-1.286 2.857-2.857 2.857S4.25 8.678 4.25 7.107 5.536 4.25 7.107 4.25s2.857 1.286 2.857 2.857zM30.857 16c0 1.268-1.018 2.286-2.286 2.286S26.285 17.268 26.285 16s1.018-2.286 2.286-2.286 2.286 1.018 2.286 2.286zM19.429 3.429a3.43 3.43 0 01-6.858 0 3.43 3.43 0 016.858 0zm9.464 3.678c0 2.214-1.804 4-4 4-2.214 0-4-1.786-4-4 0-2.196 1.786-4 4-4 2.196 0 4 1.804 4 4z"}))}var a=n.forwardRef(s),u=a;e.default=u}(y6)),y6}(function(e,t){var n=Wl;t.__esModule=!0,t.default=void 0;var r=n(Qy()),i=n(DEt()),o=(0,r.default)({as:i.default,ariaLabel:"spinner",category:"legacy",displayName:"Spinner"}),s=o;t.default=s,e.exports=t.default})(R8,R8.exports);var $Et=R8.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}});var t=n($Et);function n(r){return r&&r.__esModule?r:{default:r}}})(T_e);const OEt=gn(T_e);var Tie={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_e=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},MEt=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},QV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,s||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(S_e(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):MEt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new LEt;const d=o<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),f!==64){const p=l<<6&192|f;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class LEt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FEt=function(e){const t=S_e(e);return QV.encodeByteArray(t,!0)},QR=function(e){return FEt(e).replace(/\./g,"")},C_e=function(e){try{return QV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jEt=()=>A_e().__FIREBASE_DEFAULTS__,BEt=()=>{if(typeof process>"u"||typeof Tie>"u")return;const e=Tie.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},UEt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&C_e(e[1]);return t&&JSON.parse(t)},$$=()=>{try{return jEt()||BEt()||UEt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},I_e=e=>{var t,n;return(n=(t=$$())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zEt=e=>{const t=I_e(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},k_e=()=>{var e;return(e=$$())===null||e===void 0?void 0:e.config},R_e=e=>{var t;return(t=$$())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VEt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[QR(JSON.stringify(n)),QR(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HEt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function qEt(){var e;const t=(e=$$())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WEt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function GEt(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YEt(){const e=gs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function KEt(){return!qEt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JV(){try{return typeof indexedDB=="object"}catch{return!1}}function XEt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QEt="FirebaseError";class ud extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=QEt,Object.setPrototypeOf(this,ud.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?JEt(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ud(i,a,r)}}function JEt(e,t){return e.replace(ZEt,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ZEt=/\{\$([^}]+)}/g;function ext(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function QT(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(Sie(o)&&Sie(s)){if(!QT(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sie(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function txt(e,t){const n=new nxt(e,t);return n.subscribe.bind(n)}class nxt{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rxt(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=v6),i.error===void 0&&(i.error=v6),i.complete===void 0&&(i.complete=v6);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rxt(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function v6(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ixt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oxt=1e3,sxt=2,axt=4*60*60*1e3,uxt=.5;function lxt(e,t=oxt,n=sxt){const r=t*Math.pow(n,e),i=Math.round(uxt*r*(Math.random()-.5)*2);return Math.min(axt,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(e){return e&&e._delegate?e._delegate:e}class Hf{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxt{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new XT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dxt(t))try{this.getOrInitializeService({instanceIdentifier:qg})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=qg){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qg){return this.instances.has(t)}getOptions(t=qg){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fxt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qg){return this.component?this.component.multipleInstances?t:qg:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fxt(e){return e===qg?void 0:e}function dxt(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hxt{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cxt(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vn||(Vn={}));const pxt={debug:Vn.DEBUG,verbose:Vn.VERBOSE,info:Vn.INFO,warn:Vn.WARN,error:Vn.ERROR,silent:Vn.SILENT},mxt=Vn.INFO,gxt={[Vn.DEBUG]:"log",[Vn.VERBOSE]:"log",[Vn.INFO]:"info",[Vn.WARN]:"warn",[Vn.ERROR]:"error"},yxt=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=gxt[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O${constructor(t){this.name=t,this._logLevel=mxt,this._logHandler=yxt,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pxt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vn.DEBUG,...t),this._logHandler(this,Vn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vn.VERBOSE,...t),this._logHandler(this,Vn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vn.INFO,...t),this._logHandler(this,Vn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vn.WARN,...t),this._logHandler(this,Vn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vn.ERROR,...t),this._logHandler(this,Vn.ERROR,...t)}}const vxt=(e,t)=>t.some(n=>e instanceof n);let Cie,Aie;function bxt(){return Cie||(Cie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _xt(){return Aie||(Aie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P_e=new WeakMap,P8=new WeakMap,N_e=new WeakMap,b6=new WeakMap,ZV=new WeakMap;function wxt(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(am(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&P_e.set(n,e)}).catch(()=>{}),ZV.set(t,e),t}function Ext(e){if(P8.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});P8.set(e,t)}let N8={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return P8.get(e);if(t==="objectStoreNames")return e.objectStoreNames||N_e.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return am(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function xxt(e){N8=e(N8)}function Txt(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(_6(this),t,...n);return N_e.set(r,t.sort?t.sort():[t]),am(r)}:_xt().includes(e)?function(...t){return e.apply(_6(this),t),am(P_e.get(this))}:function(...t){return am(e.apply(_6(this),t))}}function Sxt(e){return typeof e=="function"?Txt(e):(e instanceof IDBTransaction&&Ext(e),vxt(e,bxt())?new Proxy(e,N8):e)}function am(e){if(e instanceof IDBRequest)return wxt(e);if(b6.has(e))return b6.get(e);const t=Sxt(e);return t!==e&&(b6.set(e,t),ZV.set(t,e)),t}const _6=e=>ZV.get(e);function Cxt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=am(s);return r&&s.addEventListener("upgradeneeded",u=>{r(am(s.result),u.oldVersion,u.newVersion,am(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Axt=["get","getKey","getAll","getAllKeys","count"],Ixt=["put","add","delete","clear"],w6=new Map;function Iie(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(w6.get(t))return w6.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ixt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Axt.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return w6.set(t,o),o}xxt(e=>({...e,get:(t,n,r)=>Iie(t,n)||e.get(t,n,r),has:(t,n)=>!!Iie(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rxt(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rxt(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const D8="@firebase/app",kie="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new O$("@firebase/app"),Pxt="@firebase/app-compat",Nxt="@firebase/analytics-compat",Dxt="@firebase/analytics",$xt="@firebase/app-check-compat",Oxt="@firebase/app-check",Mxt="@firebase/auth",Lxt="@firebase/auth-compat",Fxt="@firebase/database",jxt="@firebase/database-compat",Bxt="@firebase/functions",Uxt="@firebase/functions-compat",zxt="@firebase/installations",Vxt="@firebase/installations-compat",Hxt="@firebase/messaging",qxt="@firebase/messaging-compat",Wxt="@firebase/performance",Gxt="@firebase/performance-compat",Yxt="@firebase/remote-config",Kxt="@firebase/remote-config-compat",Xxt="@firebase/storage",Qxt="@firebase/storage-compat",Jxt="@firebase/firestore",Zxt="@firebase/vertexai-preview",eTt="@firebase/firestore-compat",tTt="firebase",nTt="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="[DEFAULT]",rTt={[D8]:"fire-core",[Pxt]:"fire-core-compat",[Dxt]:"fire-analytics",[Nxt]:"fire-analytics-compat",[Oxt]:"fire-app-check",[$xt]:"fire-app-check-compat",[Mxt]:"fire-auth",[Lxt]:"fire-auth-compat",[Fxt]:"fire-rtdb",[jxt]:"fire-rtdb-compat",[Bxt]:"fire-fn",[Uxt]:"fire-fn-compat",[zxt]:"fire-iid",[Vxt]:"fire-iid-compat",[Hxt]:"fire-fcm",[qxt]:"fire-fcm-compat",[Wxt]:"fire-perf",[Gxt]:"fire-perf-compat",[Yxt]:"fire-rc",[Kxt]:"fire-rc-compat",[Xxt]:"fire-gcs",[Qxt]:"fire-gcs-compat",[Jxt]:"fire-fst",[eTt]:"fire-fst-compat",[Zxt]:"fire-vertex","fire-js":"fire-js",[tTt]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Map,iTt=new Map,O8=new Map;function Rie(e,t){try{e.container.addComponent(t)}catch(n){Z0.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function kh(e){const t=e.name;if(O8.has(t))return Z0.debug(`There were multiple attempts to register component ${t}.`),!1;O8.set(t,e);for(const n of JR.values())Rie(n,e);for(const n of iTt.values())Rie(n,e);return!0}function J_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function If(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oTt={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},um=new Q_("app","Firebase",oTt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sTt{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw um.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=nTt;function D_e(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$8,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw um.create("bad-app-name",{appName:String(i)});if(n||(n=k_e()),!n)throw um.create("no-options");const o=JR.get(i);if(o){if(QT(n,o.options)&&QT(r,o.config))return o;throw um.create("duplicate-app",{appName:i})}const s=new hxt(i);for(const u of O8.values())s.addComponent(u);const a=new sTt(n,r,s);return JR.set(i,a),a}function eH(e=$8){const t=JR.get(e);if(!t&&e===$8&&k_e())return D_e();if(!t)throw um.create("no-app",{appName:e});return t}function Rc(e,t,n){var r;let i=(r=rTt[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Z0.warn(a.join(" "));return}kh(new Hf(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aTt="firebase-heartbeat-database",uTt=1,JT="firebase-heartbeat-store";let E6=null;function $_e(){return E6||(E6=Cxt(aTt,uTt,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(JT)}catch(n){console.warn(n)}}}}).catch(e=>{throw um.create("idb-open",{originalErrorMessage:e.message})})),E6}async function lTt(e){try{const n=(await $_e()).transaction(JT),r=await n.objectStore(JT).get(O_e(e));return await n.done,r}catch(t){if(t instanceof ud)Z0.warn(t.message);else{const n=um.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Z0.warn(n.message)}}}async function Pie(e,t){try{const r=(await $_e()).transaction(JT,"readwrite");await r.objectStore(JT).put(t,O_e(e)),await r.done}catch(n){if(n instanceof ud)Z0.warn(n.message);else{const r=um.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Z0.warn(r.message)}}}function O_e(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cTt=1024,fTt=30*24*60*60*1e3;class dTt{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pTt(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Nie();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=fTt}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nie(),{heartbeatsToSend:r,unsentEntries:i}=hTt(this._heartbeatsCache.heartbeats),o=QR(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Nie(){return new Date().toISOString().substring(0,10)}function hTt(e,t=cTt){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Die(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Die(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pTt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JV()?XEt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lTt(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pie(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Pie(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Die(e){return QR(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mTt(e){kh(new Hf("platform-logger",t=>new kxt(t),"PRIVATE")),kh(new Hf("heartbeat",t=>new dTt(t),"PRIVATE")),Rc(D8,kie,e),Rc(D8,kie,"esm2017"),Rc("fire-js","")}mTt("");var $ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A0,M_e;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,C){function A(){}A.prototype=C.prototype,E.D=C.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(k,P,$){for(var N=Array(arguments.length-2),O=2;O<arguments.length;O++)N[O-2]=arguments[O];return C.prototype[P].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,C,A){A||(A=0);var k=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)k[P]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(P=0;16>P;++P)k[P]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=E.g[0],A=E.g[1],P=E.g[2];var $=E.g[3],N=C+($^A&(P^$))+k[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=$+(P^C&(A^P))+k[1]+3905402710&4294967295,$=C+(N<<12&4294967295|N>>>20),N=P+(A^$&(C^A))+k[2]+606105819&4294967295,P=$+(N<<17&4294967295|N>>>15),N=A+(C^P&($^C))+k[3]+3250441966&4294967295,A=P+(N<<22&4294967295|N>>>10),N=C+($^A&(P^$))+k[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=$+(P^C&(A^P))+k[5]+1200080426&4294967295,$=C+(N<<12&4294967295|N>>>20),N=P+(A^$&(C^A))+k[6]+2821735955&4294967295,P=$+(N<<17&4294967295|N>>>15),N=A+(C^P&($^C))+k[7]+4249261313&4294967295,A=P+(N<<22&4294967295|N>>>10),N=C+($^A&(P^$))+k[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=$+(P^C&(A^P))+k[9]+2336552879&4294967295,$=C+(N<<12&4294967295|N>>>20),N=P+(A^$&(C^A))+k[10]+4294925233&4294967295,P=$+(N<<17&4294967295|N>>>15),N=A+(C^P&($^C))+k[11]+2304563134&4294967295,A=P+(N<<22&4294967295|N>>>10),N=C+($^A&(P^$))+k[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=$+(P^C&(A^P))+k[13]+4254626195&4294967295,$=C+(N<<12&4294967295|N>>>20),N=P+(A^$&(C^A))+k[14]+2792965006&4294967295,P=$+(N<<17&4294967295|N>>>15),N=A+(C^P&($^C))+k[15]+1236535329&4294967295,A=P+(N<<22&4294967295|N>>>10),N=C+(P^$&(A^P))+k[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=$+(A^P&(C^A))+k[6]+3225465664&4294967295,$=C+(N<<9&4294967295|N>>>23),N=P+(C^A&($^C))+k[11]+643717713&4294967295,P=$+(N<<14&4294967295|N>>>18),N=A+($^C&(P^$))+k[0]+3921069994&4294967295,A=P+(N<<20&4294967295|N>>>12),N=C+(P^$&(A^P))+k[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=$+(A^P&(C^A))+k[10]+38016083&4294967295,$=C+(N<<9&4294967295|N>>>23),N=P+(C^A&($^C))+k[15]+3634488961&4294967295,P=$+(N<<14&4294967295|N>>>18),N=A+($^C&(P^$))+k[4]+3889429448&4294967295,A=P+(N<<20&4294967295|N>>>12),N=C+(P^$&(A^P))+k[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=$+(A^P&(C^A))+k[14]+3275163606&4294967295,$=C+(N<<9&4294967295|N>>>23),N=P+(C^A&($^C))+k[3]+4107603335&4294967295,P=$+(N<<14&4294967295|N>>>18),N=A+($^C&(P^$))+k[8]+1163531501&4294967295,A=P+(N<<20&4294967295|N>>>12),N=C+(P^$&(A^P))+k[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=$+(A^P&(C^A))+k[2]+4243563512&4294967295,$=C+(N<<9&4294967295|N>>>23),N=P+(C^A&($^C))+k[7]+1735328473&4294967295,P=$+(N<<14&4294967295|N>>>18),N=A+($^C&(P^$))+k[12]+2368359562&4294967295,A=P+(N<<20&4294967295|N>>>12),N=C+(A^P^$)+k[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=$+(C^A^P)+k[8]+2272392833&4294967295,$=C+(N<<11&4294967295|N>>>21),N=P+($^C^A)+k[11]+1839030562&4294967295,P=$+(N<<16&4294967295|N>>>16),N=A+(P^$^C)+k[14]+4259657740&4294967295,A=P+(N<<23&4294967295|N>>>9),N=C+(A^P^$)+k[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=$+(C^A^P)+k[4]+1272893353&4294967295,$=C+(N<<11&4294967295|N>>>21),N=P+($^C^A)+k[7]+4139469664&4294967295,P=$+(N<<16&4294967295|N>>>16),N=A+(P^$^C)+k[10]+3200236656&4294967295,A=P+(N<<23&4294967295|N>>>9),N=C+(A^P^$)+k[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=$+(C^A^P)+k[0]+3936430074&4294967295,$=C+(N<<11&4294967295|N>>>21),N=P+($^C^A)+k[3]+3572445317&4294967295,P=$+(N<<16&4294967295|N>>>16),N=A+(P^$^C)+k[6]+76029189&4294967295,A=P+(N<<23&4294967295|N>>>9),N=C+(A^P^$)+k[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=$+(C^A^P)+k[12]+3873151461&4294967295,$=C+(N<<11&4294967295|N>>>21),N=P+($^C^A)+k[15]+530742520&4294967295,P=$+(N<<16&4294967295|N>>>16),N=A+(P^$^C)+k[2]+3299628645&4294967295,A=P+(N<<23&4294967295|N>>>9),N=C+(P^(A|~$))+k[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=$+(A^(C|~P))+k[7]+1126891415&4294967295,$=C+(N<<10&4294967295|N>>>22),N=P+(C^($|~A))+k[14]+2878612391&4294967295,P=$+(N<<15&4294967295|N>>>17),N=A+($^(P|~C))+k[5]+4237533241&4294967295,A=P+(N<<21&4294967295|N>>>11),N=C+(P^(A|~$))+k[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=$+(A^(C|~P))+k[3]+2399980690&4294967295,$=C+(N<<10&4294967295|N>>>22),N=P+(C^($|~A))+k[10]+4293915773&4294967295,P=$+(N<<15&4294967295|N>>>17),N=A+($^(P|~C))+k[1]+2240044497&4294967295,A=P+(N<<21&4294967295|N>>>11),N=C+(P^(A|~$))+k[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=$+(A^(C|~P))+k[15]+4264355552&4294967295,$=C+(N<<10&4294967295|N>>>22),N=P+(C^($|~A))+k[6]+2734768916&4294967295,P=$+(N<<15&4294967295|N>>>17),N=A+($^(P|~C))+k[13]+1309151649&4294967295,A=P+(N<<21&4294967295|N>>>11),N=C+(P^(A|~$))+k[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=$+(A^(C|~P))+k[11]+3174756917&4294967295,$=C+(N<<10&4294967295|N>>>22),N=P+(C^($|~A))+k[2]+718787259&4294967295,P=$+(N<<15&4294967295|N>>>17),N=A+($^(P|~C))+k[9]+3951481745&4294967295,E.g[0]=E.g[0]+C&4294967295,E.g[1]=E.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.u=function(E,C){C===void 0&&(C=E.length);for(var A=C-this.blockSize,k=this.B,P=this.h,$=0;$<C;){if(P==0)for(;$<=A;)i(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<C;)if(k[P++]=E.charCodeAt($++),P==this.blockSize){i(this,k),P=0;break}}else for(;$<C;)if(k[P++]=E[$++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var C=1;C<E.length-8;++C)E[C]=0;var A=8*this.o;for(C=E.length-8;C<E.length;++C)E[C]=A&255,A/=256;for(this.u(E),E=Array(16),C=A=0;4>C;++C)for(var k=0;32>k;k+=8)E[A++]=this.g[C]>>>k&255;return E};function o(E,C){var A=a;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=C(E)}function s(E,C){this.h=C;for(var A=[],k=!0,P=E.length-1;0<=P;P--){var $=E[P]|0;k&&$==C||(A[P]=$,k=!1)}this.g=A}var a={};function u(E){return-128<=E&&128>E?o(E,function(C){return new s([C|0],0>C?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return g(l(-E));for(var C=[],A=1,k=0;E>=A;k++)C[k]=E/A|0,A*=4294967296;return new s(C,0)}function c(E,C){if(E.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(E.charAt(0)=="-")return g(c(E.substring(1),C));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=l(Math.pow(C,8)),k=f,P=0;P<E.length;P+=8){var $=Math.min(8,E.length-P),N=parseInt(E.substring(P,P+$),C);8>$?($=l(Math.pow(C,$)),k=k.j($).add(l(N))):(k=k.j(A),k=k.add(l(N)))}return k}var f=u(0),d=u(1),h=u(16777216);e=s.prototype,e.m=function(){if(m(this))return-g(this).m();for(var E=0,C=1,A=0;A<this.g.length;A++){var k=this.i(A);E+=(0<=k?k:4294967296+k)*C,C*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(p(this))return"0";if(m(this))return"-"+g(this).toString(E);for(var C=l(Math.pow(E,6)),A=this,k="";;){var P=_(A,C).g;A=y(A,P.j(C));var $=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=P,p(A))return $+k;for(;6>$.length;)$="0"+$;k=$+k}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function p(E){if(E.h!=0)return!1;for(var C=0;C<E.g.length;C++)if(E.g[C]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=y(this,E),m(E)?-1:p(E)?0:1};function g(E){for(var C=E.g.length,A=[],k=0;k<C;k++)A[k]=~E.g[k];return new s(A,~E.h).add(d)}e.abs=function(){return m(this)?g(this):this},e.add=function(E){for(var C=Math.max(this.g.length,E.g.length),A=[],k=0,P=0;P<=C;P++){var $=k+(this.i(P)&65535)+(E.i(P)&65535),N=($>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);k=N>>>16,$&=65535,N&=65535,A[P]=N<<16|$}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(E,C){return E.add(g(C))}e.j=function(E){if(p(this)||p(E))return f;if(m(this))return m(E)?g(this).j(g(E)):g(g(this).j(E));if(m(E))return g(this.j(g(E)));if(0>this.l(h)&&0>E.l(h))return l(this.m()*E.m());for(var C=this.g.length+E.g.length,A=[],k=0;k<2*C;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<E.g.length;P++){var $=this.i(k)>>>16,N=this.i(k)&65535,O=E.i(P)>>>16,j=E.i(P)&65535;A[2*k+2*P]+=N*j,v(A,2*k+2*P),A[2*k+2*P+1]+=$*j,v(A,2*k+2*P+1),A[2*k+2*P+1]+=N*O,v(A,2*k+2*P+1),A[2*k+2*P+2]+=$*O,v(A,2*k+2*P+2)}for(k=0;k<C;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=C;k<2*C;k++)A[k]=0;return new s(A,0)};function v(E,C){for(;(E[C]&65535)!=E[C];)E[C+1]+=E[C]>>>16,E[C]&=65535,C++}function b(E,C){this.g=E,this.h=C}function _(E,C){if(p(C))throw Error("division by zero");if(p(E))return new b(f,f);if(m(E))return C=_(g(E),C),new b(g(C.g),g(C.h));if(m(C))return C=_(E,g(C)),new b(g(C.g),C.h);if(30<E.g.length){if(m(E)||m(C))throw Error("slowDivide_ only works with positive integers.");for(var A=d,k=C;0>=k.l(E);)A=w(A),k=w(k);var P=S(A,1),$=S(k,1);for(k=S(k,2),A=S(A,2);!p(k);){var N=$.add(k);0>=N.l(E)&&(P=P.add(A),$=N),k=S(k,1),A=S(A,1)}return C=y(E,P.j(C)),new b(P,C)}for(P=f;0<=E.l(C);){for(A=Math.max(1,Math.floor(E.m()/C.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),$=l(A),N=$.j(C);m(N)||0<N.l(E);)A-=k,$=l(A),N=$.j(C);p($)&&($=d),P=P.add($),E=y(E,N)}return new b(P,E)}e.A=function(E){return _(this,E).h},e.and=function(E){for(var C=Math.max(this.g.length,E.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)&E.i(k);return new s(A,this.h&E.h)},e.or=function(E){for(var C=Math.max(this.g.length,E.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)|E.i(k);return new s(A,this.h|E.h)},e.xor=function(E){for(var C=Math.max(this.g.length,E.g.length),A=[],k=0;k<C;k++)A[k]=this.i(k)^E.i(k);return new s(A,this.h^E.h)};function w(E){for(var C=E.g.length+1,A=[],k=0;k<C;k++)A[k]=E.i(k)<<1|E.i(k-1)>>>31;return new s(A,E.h)}function S(E,C){var A=C>>5;C%=32;for(var k=E.g.length-A,P=[],$=0;$<k;$++)P[$]=0<C?E.i($+A)>>>C|E.i($+A+1)<<32-C:E.i($+A);return new s(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_e=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,A0=s}).apply(typeof $ie<"u"?$ie:typeof self<"u"?self:typeof window<"u"?window:{});var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_e,F_e,UE,j_e,ak,M8,B_e,U_e,z_e;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,L,H){return x==Array.prototype||x==Object.prototype||(x[L]=H.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof NA=="object"&&NA];for(var L=0;L<x.length;++L){var H=x[L];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(x,L){if(L)e:{var H=r;x=x.split(".");for(var Q=0;Q<x.length-1;Q++){var we=x[Q];if(!(we in H))break e;H=H[we]}x=x[x.length-1],Q=H[x],L=L(Q),L!=Q&&L!=null&&t(H,x,{configurable:!0,writable:!0,value:L})}}function o(x,L){x instanceof String&&(x+="");var H=0,Q=!1,we={next:function(){if(!Q&&H<x.length){var De=H++;return{value:L(De,x[De]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(x){return x||function(){return o(this,function(L,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(x){var L=typeof x;return L=L!="object"?L:x?Array.isArray(x)?"array":L:"null",L=="array"||L=="object"&&typeof x.length=="number"}function l(x){var L=typeof x;return L=="object"&&x!=null||L=="function"}function c(x,L,H){return x.call.apply(x.bind,arguments)}function f(x,L,H){if(!x)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,Q),x.apply(L,we)}}return function(){return x.apply(L,arguments)}}function d(x,L,H){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(x,L){var H=Array.prototype.slice.call(arguments,1);return function(){var Q=H.slice();return Q.push.apply(Q,arguments),x.apply(this,Q)}}function p(x,L){function H(){}H.prototype=L.prototype,x.aa=L.prototype,x.prototype=new H,x.prototype.constructor=x,x.Qb=function(Q,we,De){for(var gt=Array(arguments.length-2),Nr=2;Nr<arguments.length;Nr++)gt[Nr-2]=arguments[Nr];return L.prototype[we].apply(Q,gt)}}function m(x){const L=x.length;if(0<L){const H=Array(L);for(let Q=0;Q<L;Q++)H[Q]=x[Q];return H}return[]}function g(x,L){for(let H=1;H<arguments.length;H++){const Q=arguments[H];if(u(Q)){const we=x.length||0,De=Q.length||0;x.length=we+De;for(let gt=0;gt<De;gt++)x[we+gt]=Q[gt]}else x.push(Q)}}class y{constructor(L,H){this.i=L,this.j=H,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function v(x){return/^[\s\xa0]*$/.test(x)}function b(){var x=a.navigator;return x&&(x=x.userAgent)?x:""}function _(x){return _[" "](x),x}_[" "]=function(){};var w=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function S(x,L,H){for(const Q in x)L.call(H,x[Q],Q,x)}function E(x,L){for(const H in x)L.call(void 0,x[H],H,x)}function C(x){const L={};for(const H in x)L[H]=x[H];return L}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(x,L){let H,Q;for(let we=1;we<arguments.length;we++){Q=arguments[we];for(H in Q)x[H]=Q[H];for(let De=0;De<A.length;De++)H=A[De],Object.prototype.hasOwnProperty.call(Q,H)&&(x[H]=Q[H])}}function P(x){var L=1;x=x.split(":");const H=[];for(;0<L&&x.length;)H.push(x.shift()),L--;return x.length&&H.push(x.join(":")),H}function $(x){a.setTimeout(()=>{throw x},0)}function N(){var x=q;let L=null;return x.g&&(L=x.g,x.g=x.g.next,x.g||(x.h=null),L.next=null),L}class O{constructor(){this.h=this.g=null}add(L,H){const Q=j.get();Q.set(L,H),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var j=new y(()=>new M,x=>x.reset());class M{constructor(){this.next=this.g=this.h=null}set(L,H){this.h=L,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,q=new O,D=()=>{const x=a.Promise.resolve(void 0);B=()=>{x.then(U)}};var U=()=>{for(var x;x=N();){try{x.h.call(x.g)}catch(H){$(H)}var L=j;L.j(x),100>L.h&&(L.h++,x.next=L.g,L.g=x)}V=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(x,L){this.type=x,this.g=this.target=L,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var x=!1,L=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const H=()=>{};a.addEventListener("test",H,L),a.removeEventListener("test",H,L)}catch{}return x}();function G(x,L){if(F.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var H=this.type=x.type,Q=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=L,L=x.relatedTarget){if(w){e:{try{_(L.nodeName);var we=!0;break e}catch{}we=!1}we||(L=null)}}else H=="mouseover"?L=x.fromElement:H=="mouseout"&&(L=x.toElement);this.relatedTarget=L,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:ee[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&G.aa.h.call(this)}}p(G,F);var ee={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function se(x,L,H,Q,we){this.listener=x,this.proxy=null,this.src=L,this.type=H,this.capture=!!Q,this.ha=we,this.key=++le,this.da=this.fa=!1}function ge(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function be(x){this.src=x,this.g={},this.h=0}be.prototype.add=function(x,L,H,Q,we){var De=x.toString();x=this.g[De],x||(x=this.g[De]=[],this.h++);var gt=Ye(x,L,Q,we);return-1<gt?(L=x[gt],H||(L.fa=!1)):(L=new se(L,this.src,De,!!Q,we),L.fa=H,x.push(L)),L};function ve(x,L){var H=L.type;if(H in x.g){var Q=x.g[H],we=Array.prototype.indexOf.call(Q,L,void 0),De;(De=0<=we)&&Array.prototype.splice.call(Q,we,1),De&&(ge(L),x.g[H].length==0&&(delete x.g[H],x.h--))}}function Ye(x,L,H,Q){for(var we=0;we<x.length;++we){var De=x[we];if(!De.da&&De.listener==L&&De.capture==!!H&&De.ha==Q)return we}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),ht={};function Je(x,L,H,Q,we){if(Array.isArray(L)){for(var De=0;De<L.length;De++)Je(x,L[De],H,Q,we);return null}return H=vt(H),x&&x[ce]?x.K(L,H,l(Q)?!!Q.capture:!!Q,we):ke(x,L,H,!1,Q,we)}function ke(x,L,H,Q,we,De){if(!L)throw Error("Invalid event type");var gt=l(we)?!!we.capture:!!we,Nr=me(x);if(Nr||(x[Ue]=Nr=new be(x)),H=Nr.add(L,H,Q,gt,De),H.proxy)return H;if(Q=Ne(),H.proxy=Q,Q.src=x,Q.listener=H,x.addEventListener)z||(we=gt),we===void 0&&(we=!1),x.addEventListener(L.toString(),Q,we);else if(x.attachEvent)x.attachEvent(Mt(L.toString()),Q);else if(x.addListener&&x.removeListener)x.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ne(){function x(H){return L.call(x.src,x.listener,H)}const L=qe;return x}function ze(x,L,H,Q,we){if(Array.isArray(L))for(var De=0;De<L.length;De++)ze(x,L[De],H,Q,we);else Q=l(Q)?!!Q.capture:!!Q,H=vt(H),x&&x[ce]?(x=x.i,L=String(L).toString(),L in x.g&&(De=x.g[L],H=Ye(De,H,Q,we),-1<H&&(ge(De[H]),Array.prototype.splice.call(De,H,1),De.length==0&&(delete x.g[L],x.h--)))):x&&(x=me(x))&&(L=x.g[L.toString()],x=-1,L&&(x=Ye(L,H,Q,we)),(H=-1<x?L[x]:null)&&ut(H))}function ut(x){if(typeof x!="number"&&x&&!x.da){var L=x.src;if(L&&L[ce])ve(L.i,x);else{var H=x.type,Q=x.proxy;L.removeEventListener?L.removeEventListener(H,Q,x.capture):L.detachEvent?L.detachEvent(Mt(H),Q):L.addListener&&L.removeListener&&L.removeListener(Q),(H=me(L))?(ve(H,x),H.h==0&&(H.src=null,L[Ue]=null)):ge(x)}}}function Mt(x){return x in ht?ht[x]:ht[x]="on"+x}function qe(x,L){if(x.da)x=!0;else{L=new G(L,this);var H=x.listener,Q=x.ha||x.src;x.fa&&ut(x),x=H.call(Q,L)}return x}function me(x){return x=x[Ue],x instanceof be?x:null}var Xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(x){return typeof x=="function"?x:(x[Xe]||(x[Xe]=function(L){return x.handleEvent(L)}),x[Xe])}function he(){W.call(this),this.i=new be(this),this.M=this,this.F=null}p(he,W),he.prototype[ce]=!0,he.prototype.removeEventListener=function(x,L,H,Q){ze(this,x,L,H,Q)};function Te(x,L){var H,Q=x.F;if(Q)for(H=[];Q;Q=Q.F)H.push(Q);if(x=x.M,Q=L.type||L,typeof L=="string")L=new F(L,x);else if(L instanceof F)L.target=L.target||x;else{var we=L;L=new F(Q,x),k(L,we)}if(we=!0,H)for(var De=H.length-1;0<=De;De--){var gt=L.g=H[De];we=Le(gt,Q,!0,L)&&we}if(gt=L.g=x,we=Le(gt,Q,!0,L)&&we,we=Le(gt,Q,!1,L)&&we,H)for(De=0;De<H.length;De++)gt=L.g=H[De],we=Le(gt,Q,!1,L)&&we}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var x=this.i,L;for(L in x.g){for(var H=x.g[L],Q=0;Q<H.length;Q++)ge(H[Q]);delete x.g[L],x.h--}}this.F=null},he.prototype.K=function(x,L,H,Q){return this.i.add(String(x),L,!1,H,Q)},he.prototype.L=function(x,L,H,Q){return this.i.add(String(x),L,!0,H,Q)};function Le(x,L,H,Q){if(L=x.i.g[String(L)],!L)return!0;L=L.concat();for(var we=!0,De=0;De<L.length;++De){var gt=L[De];if(gt&&!gt.da&&gt.capture==H){var Nr=gt.listener,Xo=gt.ha||gt.src;gt.fa&&ve(x.i,gt),we=Nr.call(Xo,Q)!==!1&&we}}return we&&!Q.defaultPrevented}function He(x,L,H){if(typeof x=="function")H&&(x=d(x,H));else if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:a.setTimeout(x,L||0)}function lt(x){x.g=He(()=>{x.g=null,x.i&&(x.i=!1,lt(x))},x.l);const L=x.h;x.h=null,x.m.apply(null,L)}class an extends W{constructor(L,H){super(),this.m=L,this.l=H,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(x){W.call(this),this.h=x,this.g={}}p($n,W);var ct=[];function $t(x){S(x.g,function(L,H){this.g.hasOwnProperty(H)&&ut(L)},x),x.g={}}$n.prototype.N=function(){$n.aa.N.call(this),$t(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pt=a.JSON.stringify,Qt=a.JSON.parse,un=class{stringify(x){return a.JSON.stringify(x,void 0)}parse(x){return a.JSON.parse(x,void 0)}};function Jt(){}Jt.prototype.h=null;function Yi(x){return x.h||(x.h=x.i())}function ii(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){F.call(this,"d")}p(ir,F);function dr(){F.call(this,"c")}p(dr,F);var qr={},Ia=null;function Ks(){return Ia=Ia||new he}qr.La="serverreachability";function el(x){F.call(this,qr.La,x)}p(el,F);function En(x){const L=Ks();Te(L,new el(L))}qr.STAT_EVENT="statevent";function Mr(x,L){F.call(this,qr.STAT_EVENT,x),this.stat=L}p(Mr,F);function Jn(x){const L=Ks();Te(L,new Mr(L,x))}qr.Ma="timingevent";function Wo(x,L){F.call(this,qr.Ma,x),this.size=L}p(Wo,F);function Eo(x,L){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){x()},L)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function oe(x,L,H,Q,we,De){x.info(function(){if(x.g)if(De)for(var gt="",Nr=De.split("&"),Xo=0;Xo<Nr.length;Xo++){var ar=Nr[Xo].split("=");if(1<ar.length){var _s=ar[0];ar=ar[1];var ws=_s.split("_");gt=2<=ws.length&&ws[1]=="type"?gt+(_s+"="+ar+"&"):gt+(_s+"=redacted&")}}else gt=null;else gt=De;return"XMLHTTP REQ ("+Q+") [attempt "+we+"]: "+L+`
`+H+`
`+gt})}function te(x,L,H,Q,we,De,gt){x.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+we+"]: "+L+`
`+H+`
`+De+" "+gt})}function ae(x,L,H,Q){x.info(function(){return"XMLHTTP TEXT ("+L+"): "+xe(x,H)+(Q?" "+Q:"")})}function Se(x,L){x.info(function(){return"TIMEOUT: "+L})}Ki.prototype.info=function(){};function xe(x,L){if(!x.g)return L;if(!L)return null;try{var H=JSON.parse(L);if(H){for(x=0;x<H.length;x++)if(Array.isArray(H[x])){var Q=H[x];if(!(2>Q.length)){var we=Q[1];if(Array.isArray(we)&&!(1>we.length)){var De=we[0];if(De!="noop"&&De!="stop"&&De!="close")for(var gt=1;gt<we.length;gt++)we[gt]=""}}}}return pt(H)}catch{return L}}var ot={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wt;function yn(){}p(yn,Jt),yn.prototype.g=function(){return new XMLHttpRequest},yn.prototype.i=function(){return{}},Wt=new yn;function Sn(x,L,H,Q){this.j=x,this.i=L,this.l=H,this.R=Q||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cn}function cn(){this.i=null,this.g="",this.h=!1}var Bn={},Zn={};function Et(x,L,H){x.L=1,x.v=Rn(Ge(L)),x.m=H,x.P=!0,xn(x,null)}function xn(x,L){x.F=Date.now(),Lr(x),x.A=Ge(x.v);var H=x.A,Q=x.R;Array.isArray(Q)||(Q=[String(Q)]),Ra(H.i,"t",Q),x.C=0,H=x.j.J,x.h=new cn,x.g=DQ(x.j,H?L:null,!x.m),0<x.O&&(x.M=new an(d(x.Y,x,x.g),x.O)),L=x.U,H=x.g,Q=x.ca;var we="readystatechange";Array.isArray(we)||(we&&(ct[0]=we.toString()),we=ct);for(var De=0;De<we.length;De++){var gt=Je(H,we[De],Q||L.handleEvent,!1,L.h||L);if(!gt)break;L.g[gt.key]=gt}L=x.H?C(x.H):{},x.m?(x.u||(x.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,L)):(x.u="GET",x.g.ea(x.A,x.u,null,L)),En(),oe(x.i,x.u,x.A,x.l,x.R,x.m)}Sn.prototype.ca=function(x){x=x.target;const L=this.M;L&&Pr(x)==3?L.j():this.Y(x)},Sn.prototype.Y=function(x){try{if(x==this.g)e:{const ws=Pr(this.g);var L=this.g.Ba();const Sv=this.g.Z();if(!(3>ws)&&(ws!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||ws!=4||L==7||(L==8||0>=Sv?En(3):En(2)),br(this);var H=this.g.Z();this.X=H;t:if(wr(this)){var Q=So(this.g);x="";var we=Q.length,De=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),Ar(this);var gt="";break t}this.h.i=new a.TextDecoder}for(L=0;L<we;L++)this.h.h=!0,x+=this.h.i.decode(Q[L],{stream:!(De&&L==we-1)});Q.length=0,this.h.g+=x,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=H==200,te(this.i,this.u,this.A,this.l,this.R,ws,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Nr,Xo=this.g;if((Nr=Xo.g?Xo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Nr)){var ar=Nr;break t}}ar=null}if(H=ar)ae(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oi(this,H);else{this.o=!1,this.s=3,Jn(12),Er(this),Ar(this);break e}}if(this.P){H=!0;let Zl;for(;!this.J&&this.C<gt.length;)if(Zl=Cn(this,gt),Zl==Zn){ws==4&&(this.s=4,Jn(14),H=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(Zl==Bn){this.s=4,Jn(15),ae(this.i,this.l,gt,"[Invalid Chunk]"),H=!1;break}else ae(this.i,this.l,Zl,null),oi(this,Zl);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ws!=4||gt.length!=0||this.h.h||(this.s=1,Jn(16),H=!1),this.o=this.o&&H,!H)ae(this.i,this.l,gt,"[Invalid Chunked Response]"),Er(this),Ar(this);else if(0<gt.length&&!this.W){this.W=!0;var _s=this.j;_s.g==this&&_s.ba&&!_s.M&&(_s.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),P3(_s),_s.M=!0,Jn(11))}}else ae(this.i,this.l,gt,null),oi(this,gt);ws==4&&Er(this),this.o&&!this.J&&(ws==4?kQ(this.j,this):(this.o=!1,Lr(this)))}else Cg(this.g),H==400&&0<gt.indexOf("Unknown SID")?(this.s=3,Jn(12)):(this.s=0,Jn(13)),Er(this),Ar(this)}}}catch{}finally{}};function wr(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function Cn(x,L){var H=x.C,Q=L.indexOf(`
`,H);return Q==-1?Zn:(H=Number(L.substring(H,Q)),isNaN(H)?Bn:(Q+=1,Q+H>L.length?Zn:(L=L.slice(Q,Q+H),x.C=Q+H,L)))}Sn.prototype.cancel=function(){this.J=!0,Er(this)};function Lr(x){x.S=Date.now()+x.I,Xi(x,x.I)}function Xi(x,L){if(x.B!=null)throw Error("WatchDog timer not null");x.B=Eo(d(x.ba,x),L)}function br(x){x.B&&(a.clearTimeout(x.B),x.B=null)}Sn.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Se(this.i,this.A),this.L!=2&&(En(),Jn(17)),Er(this),this.s=2,Ar(this)):Xi(this,this.S-x)};function Ar(x){x.j.G==0||x.J||kQ(x.j,x)}function Er(x){br(x);var L=x.M;L&&typeof L.ma=="function"&&L.ma(),x.M=null,$t(x.U),x.g&&(L=x.g,x.g=null,L.abort(),L.ma())}function oi(x,L){try{var H=x.j;if(H.G!=0&&(H.g==x||Yo(H.h,x))){if(!x.K&&Yo(H.h,x)&&H.G==3){try{var Q=H.Da.g.parse(L)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var we=Q;if(we[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<x.F)B2(H),F2(H);else break e;R3(H),Jn(18)}}else H.za=we[1],0<H.za-H.T&&37500>we[2]&&H.F&&H.v==0&&!H.C&&(H.C=Eo(d(H.Za,H),6e3));if(1>=Wr(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Ag(H,11)}else if((x.K||H.g==x)&&B2(H),!v(L))for(we=H.Da.g.parse(L),L=0;L<we.length;L++){let ar=we[L];if(H.T=ar[0],ar=ar[1],H.G==2)if(ar[0]=="c"){H.K=ar[1],H.ia=ar[2];const _s=ar[3];_s!=null&&(H.la=_s,H.j.info("VER="+H.la));const ws=ar[4];ws!=null&&(H.Aa=ws,H.j.info("SVER="+H.Aa));const Sv=ar[5];Sv!=null&&typeof Sv=="number"&&0<Sv&&(Q=1.5*Sv,H.L=Q,H.j.info("backChannelRequestTimeoutMs_="+Q)),Q=H;const Zl=x.g;if(Zl){const z2=Zl.g?Zl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z2){var De=Q.h;De.g||z2.indexOf("spdy")==-1&&z2.indexOf("quic")==-1&&z2.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Y(De,De.h),De.h=null))}if(Q.D){const N3=Zl.g?Zl.g.getResponseHeader("X-HTTP-Session-Id"):null;N3&&(Q.ya=N3,Lt(Q.I,Q.D,N3))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-x.F,H.j.info("Handshake RTT: "+H.R+"ms")),Q=H;var gt=x;if(Q.qa=NQ(Q,Q.J?Q.ia:null,Q.W),gt.K){ie(Q.h,gt);var Nr=gt,Xo=Q.L;Xo&&(Nr.I=Xo),Nr.B&&(br(Nr),Lr(Nr)),Q.g=gt}else AQ(Q);0<H.i.length&&j2(H)}else ar[0]!="stop"&&ar[0]!="close"||Ag(H,7);else H.G==3&&(ar[0]=="stop"||ar[0]=="close"?ar[0]=="stop"?Ag(H,7):xv(H):ar[0]!="noop"&&H.l&&H.l.ta(ar),H.v=0)}}En(4)}catch{}}var xo=class{constructor(x,L){this.g=x,this.map=L}};function Go(x){this.l=x||10,a.PerformanceNavigationTiming?(x=a.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hi(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Wr(x){return x.h?1:x.g?x.g.size:0}function Yo(x,L){return x.h?x.h==L:x.g?x.g.has(L):!1}function Y(x,L){x.g?x.g.add(L):x.h=L}function ie(x,L){x.h&&x.h==L?x.h=null:x.g&&x.g.has(L)&&x.g.delete(L)}Go.prototype.cancel=function(){if(this.i=J(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function J(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let L=x.i;for(const H of x.g.values())L=L.concat(H.D);return L}return m(x.i)}function de(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(u(x)){for(var L=[],H=x.length,Q=0;Q<H;Q++)L.push(x[Q]);return L}L=[],H=0;for(Q in x)L[H++]=x[Q];return L}function ye(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(u(x)||typeof x=="string"){var L=[];x=x.length;for(var H=0;H<x;H++)L.push(H);return L}L=[],H=0;for(const Q in x)L[H++]=Q;return L}}}function fe(x,L){if(x.forEach&&typeof x.forEach=="function")x.forEach(L,void 0);else if(u(x)||typeof x=="string")Array.prototype.forEach.call(x,L,void 0);else for(var H=ye(x),Q=de(x),we=Q.length,De=0;De<we;De++)L.call(void 0,Q[De],H&&H[De],x)}var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function We(x,L){if(x){x=x.split("&");for(var H=0;H<x.length;H++){var Q=x[H].indexOf("="),we=null;if(0<=Q){var De=x[H].substring(0,Q);we=x[H].substring(Q+1)}else De=x[H];L(De,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function Ke(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Ke){this.h=x.h,it(this,x.j),this.o=x.o,this.g=x.g,At(this,x.s),this.l=x.l;var L=x.i,H=new ka;H.i=L.i,L.g&&(H.g=new Map(L.g),H.h=L.h),nn(this,H),this.m=x.m}else x&&(L=String(x).match($e))?(this.h=!1,it(this,L[1]||"",!0),this.o=or(L[2]||""),this.g=or(L[3]||"",!0),At(this,L[4]),this.l=or(L[5]||"",!0),nn(this,L[6]||"",!0),this.m=or(L[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}Ke.prototype.toString=function(){var x=[],L=this.j;L&&x.push(hr(L,tl,!0),":");var H=this.g;return(H||L=="file")&&(x.push("//"),(L=this.o)&&x.push(hr(L,tl,!0),"@"),x.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&x.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&x.push("/"),x.push(hr(H,H.charAt(0)=="/"?Tg:Xl,!0))),(H=this.i.toString())&&x.push("?",H),(H=this.m)&&x.push("#",hr(H,_v)),x.join("")};function Ge(x){return new Ke(x)}function it(x,L,H){x.j=H?or(L,!0):L,x.j&&(x.j=x.j.replace(/:$/,""))}function At(x,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);x.s=L}else x.s=null}function nn(x,L,H){L instanceof ka?(x.i=L,Sg(x.i,x.h)):(H||(L=hr(L,xd)),x.i=new ka(L,x.h))}function Lt(x,L,H){x.i.set(L,H)}function Rn(x){return Lt(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function or(x,L){return x?L?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function hr(x,L,H){return typeof x=="string"?(x=encodeURI(x).replace(L,To),H&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function To(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var tl=/[#\/\?@]/g,Xl=/[#\?:]/g,Tg=/[#\?]/g,xd=/[#\?@]/g,_v=/#/g;function ka(x,L){this.h=this.g=null,this.i=x||null,this.j=!!L}function Ko(x){x.g||(x.g=new Map,x.h=0,x.i&&We(x.i,function(L,H){x.add(decodeURIComponent(L.replace(/\+/g," ")),H)}))}e=ka.prototype,e.add=function(x,L){Ko(this),this.i=null,x=Jl(this,x);var H=this.g.get(x);return H||this.g.set(x,H=[]),H.push(L),this.h+=1,this};function Ql(x,L){Ko(x),L=Jl(x,L),x.g.has(L)&&(x.i=null,x.h-=x.g.get(L).length,x.g.delete(L))}function ef(x,L){return Ko(x),L=Jl(x,L),x.g.has(L)}e.forEach=function(x,L){Ko(this),this.g.forEach(function(H,Q){H.forEach(function(we){x.call(L,we,Q,this)},this)},this)},e.na=function(){Ko(this);const x=Array.from(this.g.values()),L=Array.from(this.g.keys()),H=[];for(let Q=0;Q<L.length;Q++){const we=x[Q];for(let De=0;De<we.length;De++)H.push(L[Q])}return H},e.V=function(x){Ko(this);let L=[];if(typeof x=="string")ef(this,x)&&(L=L.concat(this.g.get(Jl(this,x))));else{x=Array.from(this.g.values());for(let H=0;H<x.length;H++)L=L.concat(x[H])}return L},e.set=function(x,L){return Ko(this),this.i=null,x=Jl(this,x),ef(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[L]),this.h+=1,this},e.get=function(x,L){return x?(x=this.V(x),0<x.length?String(x[0]):L):L};function Ra(x,L,H){Ql(x,L),0<H.length&&(x.i=null,x.g.set(Jl(x,L),m(H)),x.h+=H.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],L=Array.from(this.g.keys());for(var H=0;H<L.length;H++){var Q=L[H];const De=encodeURIComponent(String(Q)),gt=this.V(Q);for(Q=0;Q<gt.length;Q++){var we=De;gt[Q]!==""&&(we+="="+encodeURIComponent(String(gt[Q]))),x.push(we)}}return this.i=x.join("&")};function Jl(x,L){return L=String(L),x.j&&(L=L.toLowerCase()),L}function Sg(x,L){L&&!x.j&&(Ko(x),x.i=null,x.g.forEach(function(H,Q){var we=Q.toLowerCase();Q!=we&&(Ql(this,Q),Ra(this,we,H))},x)),x.j=L}function tf(x,L){const H=new Ki;if(a.Image){const Q=new Image;Q.onload=h(bs,H,"TestLoadImage: loaded",!0,L,Q),Q.onerror=h(bs,H,"TestLoadImage: error",!1,L,Q),Q.onabort=h(bs,H,"TestLoadImage: abort",!1,L,Q),Q.ontimeout=h(bs,H,"TestLoadImage: timeout",!1,L,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=x}else L(!1)}function nl(x,L){const H=new Ki,Q=new AbortController,we=setTimeout(()=>{Q.abort(),bs(H,"TestPingServer: timeout",!1,L)},1e4);fetch(x,{signal:Q.signal}).then(De=>{clearTimeout(we),De.ok?bs(H,"TestPingServer: ok",!0,L):bs(H,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(we),bs(H,"TestPingServer: error",!1,L)})}function bs(x,L,H,Q,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),Q(H)}catch{}}function Dw(){this.g=new un}function wv(x,L,H){const Q=H||"";try{fe(x,function(we,De){let gt=we;l(we)&&(gt=pt(we)),L.push(Q+De+"="+encodeURIComponent(gt))})}catch(we){throw L.push(Q+"type="+encodeURIComponent("_badmap")),we}}function Td(x){this.l=x.Ub||null,this.j=x.eb||!1}p(Td,Jt),Td.prototype.g=function(){return new Sd(this.l,this.j)},Td.prototype.i=function(x){return function(){return x}}({});function Sd(x,L){he.call(this),this.D=x,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(Sd,he),e=Sd.prototype,e.open=function(x,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=L,this.readyState=1,xt(this)},e.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(L.body=x),(this.D||a).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cd(this)),this.readyState=0},e.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,xt(this)),this.g&&(this.readyState=3,xt(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nf(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function nf(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}e.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var L=x.value?x.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!x.done}))&&(this.response=this.responseText+=L)}x.done?Cd(this):xt(this),this.readyState==3&&nf(this)}},e.Ra=function(x){this.g&&(this.response=this.responseText=x,Cd(this))},e.Qa=function(x){this.g&&(this.response=x,Cd(this))},e.ga=function(){this.g&&Cd(this)};function Cd(x){x.readyState=4,x.l=null,x.j=null,x.v=null,xt(x)}e.setRequestHeader=function(x,L){this.u.append(x,L)},e.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],L=this.h.entries();for(var H=L.next();!H.done;)H=H.value,x.push(H[0]+": "+H[1]),H=L.next();return x.join(`\r
`)};function xt(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function mt(x){let L="";return S(x,function(H,Q){L+=Q,L+=":",L+=H,L+=`\r
`}),L}function K(x,L,H){e:{for(Q in H){var Q=!1;break e}Q=!0}Q||(H=mt(H),typeof x=="string"?H!=null&&encodeURIComponent(String(H)):Lt(x,L,H))}function re(x){he.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(re,he);var _e=/^https?$/i,kt=["POST","PUT"];e=re.prototype,e.Ha=function(x){this.J=x},e.ea=function(x,L,H,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);L=L?L.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wt.g(),this.v=this.o?Yi(this.o):Yi(Wt),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(L,String(x),!0),this.B=!1}catch(De){vn(this,De);return}if(x=H||"",H=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var we in Q)H.set(we,Q[we]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const De of Q.keys())H.set(De,Q.get(De));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(H.keys()).find(De=>De.toLowerCase()=="content-type"),we=a.FormData&&x instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kt,L,void 0))||Q||we||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,gt]of H)this.g.setRequestHeader(De,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sr(this),this.u=!0,this.g.send(x),this.u=!1}catch(De){vn(this,De)}};function vn(x,L){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=L,x.m=5,Un(x),Xt(x)}function Un(x){x.A||(x.A=!0,Te(x,"complete"),Te(x,"error"))}e.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Te(this,"complete"),Te(this,"abort"),Xt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xt(this,!0)),re.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zn(this):this.bb())},e.bb=function(){zn(this)};function zn(x){if(x.h&&typeof s<"u"&&(!x.v[1]||Pr(x)!=4||x.Z()!=2)){if(x.u&&Pr(x)==4)He(x.Ea,0,x);else if(Te(x,"readystatechange"),Pr(x)==4){x.h=!1;try{const gt=x.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var H;if(!(H=L)){var Q;if(Q=gt===0){var we=String(x.D).match($e)[1]||null;!we&&a.self&&a.self.location&&(we=a.self.location.protocol.slice(0,-1)),Q=!_e.test(we?we.toLowerCase():"")}H=Q}if(H)Te(x,"complete"),Te(x,"success");else{x.m=6;try{var De=2<Pr(x)?x.g.statusText:""}catch{De=""}x.l=De+" ["+x.Z()+"]",Un(x)}}finally{Xt(x)}}}}function Xt(x,L){if(x.g){sr(x);const H=x.g,Q=x.v[0]?()=>{}:null;x.g=null,x.v=null,L||Te(x,"ready");try{H.onreadystatechange=Q}catch{}}}function sr(x){x.I&&(a.clearTimeout(x.I),x.I=null)}e.isActive=function(){return!!this.g};function Pr(x){return x.g?x.g.readyState:0}e.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(x){if(this.g){var L=this.g.responseText;return x&&L.indexOf(x)==0&&(L=L.substring(x.length)),Qt(L)}};function So(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Cg(x){const L={};x=(x.g&&2<=Pr(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<x.length;Q++){if(v(x[Q]))continue;var H=P(x[Q]);const we=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const De=L[we]||[];L[we]=De,De.push(H)}E(L,function(Q){return Q.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ad(x,L,H){return H&&H.internalChannelParams&&H.internalChannelParams[x]||L}function Ev(x){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ad("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ad("baseRetryDelayMs",5e3,x),this.cb=Ad("retryDelaySeedMs",1e4,x),this.Wa=Ad("forwardChannelMaxRetries",2,x),this.wa=Ad("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new Go(x&&x.concurrentRequestLimit),this.Da=new Dw,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ev.prototype,e.la=8,e.G=1,e.connect=function(x,L,H,Q){Jn(0),this.W=x,this.H=L||{},H&&Q!==void 0&&(this.H.OSID=H,this.H.OAID=Q),this.F=this.X,this.I=NQ(this,null,this.W),j2(this)};function xv(x){if(TQ(x),x.G==3){var L=x.U++,H=Ge(x.I);if(Lt(H,"SID",x.K),Lt(H,"RID",L),Lt(H,"TYPE","terminate"),$w(x,H),L=new Sn(x,x.j,L),L.L=2,L.v=Rn(Ge(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon(L.v.toString(),"")}catch{}!H&&a.Image&&(new Image().src=L.v,H=!0),H||(L.g=DQ(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Lr(L)}PQ(x)}function F2(x){x.g&&(P3(x),x.g.cancel(),x.g=null)}function TQ(x){F2(x),x.u&&(a.clearTimeout(x.u),x.u=null),B2(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&a.clearTimeout(x.s),x.s=null)}function j2(x){if(!hi(x.h)&&!x.s){x.s=!0;var L=x.Ga;B||D(),V||(B(),V=!0),q.add(L,x),x.B=0}}function POe(x,L){return Wr(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=L.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=Eo(d(x.Ga,x,L),RQ(x,x.B)),x.B++,!0)}e.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const we=new Sn(this,this.j,x);let De=this.o;if(this.S&&(De?(De=C(De),k(De,this.S)):De=this.S),this.m!==null||this.O||(we.H=De,De=null),this.P)e:{for(var L=0,H=0;H<this.i.length;H++){t:{var Q=this.i[H];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(L+=Q,4096<L){L=H;break e}if(L===4096||H===this.i.length-1){L=H+1;break e}}L=1e3}else L=1e3;L=CQ(this,we,L),H=Ge(this.I),Lt(H,"RID",x),Lt(H,"CVER",22),this.D&&Lt(H,"X-HTTP-Session-Id",this.D),$w(this,H),De&&(this.O?L="headers="+encodeURIComponent(String(mt(De)))+"&"+L:this.m&&K(H,this.m,De)),Y(this.h,we),this.Ua&&Lt(H,"TYPE","init"),this.P?(Lt(H,"$req",L),Lt(H,"SID","null"),we.T=!0,Et(we,H,null)):Et(we,H,L),this.G=2}}else this.G==3&&(x?SQ(this,x):this.i.length==0||hi(this.h)||SQ(this))};function SQ(x,L){var H;L?H=L.l:H=x.U++;const Q=Ge(x.I);Lt(Q,"SID",x.K),Lt(Q,"RID",H),Lt(Q,"AID",x.T),$w(x,Q),x.m&&x.o&&K(Q,x.m,x.o),H=new Sn(x,x.j,H,x.B+1),x.m===null&&(H.H=x.o),L&&(x.i=L.D.concat(x.i)),L=CQ(x,H,1e3),H.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),Y(x.h,H),Et(H,Q,L)}function $w(x,L){x.H&&S(x.H,function(H,Q){Lt(L,Q,H)}),x.l&&fe({},function(H,Q){Lt(L,Q,H)})}function CQ(x,L,H){H=Math.min(x.i.length,H);var Q=x.l?d(x.l.Na,x.l,x):null;e:{var we=x.i;let De=-1;for(;;){const gt=["count="+H];De==-1?0<H?(De=we[0].g,gt.push("ofs="+De)):De=0:gt.push("ofs="+De);let Nr=!0;for(let Xo=0;Xo<H;Xo++){let ar=we[Xo].g;const _s=we[Xo].map;if(ar-=De,0>ar)De=Math.max(0,we[Xo].g-100),Nr=!1;else try{wv(_s,gt,"req"+ar+"_")}catch{Q&&Q(_s)}}if(Nr){Q=gt.join("&");break e}}}return x=x.i.splice(0,H),L.D=x,Q}function AQ(x){if(!x.g&&!x.u){x.Y=1;var L=x.Fa;B||D(),V||(B(),V=!0),q.add(L,x),x.v=0}}function R3(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=Eo(d(x.Fa,x),RQ(x,x.v)),x.v++,!0)}e.Fa=function(){if(this.u=null,IQ(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=Eo(d(this.ab,this),x)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jn(10),F2(this),IQ(this))};function P3(x){x.A!=null&&(a.clearTimeout(x.A),x.A=null)}function IQ(x){x.g=new Sn(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var L=Ge(x.qa);Lt(L,"RID","rpc"),Lt(L,"SID",x.K),Lt(L,"AID",x.T),Lt(L,"CI",x.F?"0":"1"),!x.F&&x.ja&&Lt(L,"TO",x.ja),Lt(L,"TYPE","xmlhttp"),$w(x,L),x.m&&x.o&&K(L,x.m,x.o),x.L&&(x.g.I=x.L);var H=x.g;x=x.ia,H.L=1,H.v=Rn(Ge(L)),H.m=null,H.P=!0,xn(H,x)}e.Za=function(){this.C!=null&&(this.C=null,F2(this),R3(this),Jn(19))};function B2(x){x.C!=null&&(a.clearTimeout(x.C),x.C=null)}function kQ(x,L){var H=null;if(x.g==L){B2(x),P3(x),x.g=null;var Q=2}else if(Yo(x.h,L))H=L.D,ie(x.h,L),Q=1;else return;if(x.G!=0){if(L.o)if(Q==1){H=L.m?L.m.length:0,L=Date.now()-L.F;var we=x.B;Q=Ks(),Te(Q,new Wo(Q,H)),j2(x)}else AQ(x);else if(we=L.s,we==3||we==0&&0<L.X||!(Q==1&&POe(x,L)||Q==2&&R3(x)))switch(H&&0<H.length&&(L=x.h,L.i=L.i.concat(H)),we){case 1:Ag(x,5);break;case 4:Ag(x,10);break;case 3:Ag(x,6);break;default:Ag(x,2)}}}function RQ(x,L){let H=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(H*=2),H*L}function Ag(x,L){if(x.j.info("Error code "+L),L==2){var H=d(x.fb,x),Q=x.Xa;const we=!Q;Q=new Ke(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||it(Q,"https"),Rn(Q),we?tf(Q.toString(),H):nl(Q.toString(),H)}else Jn(2);x.G=0,x.l&&x.l.sa(L),PQ(x),TQ(x)}e.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Jn(2)):(this.j.info("Failed to ping google.com"),Jn(1))};function PQ(x){if(x.G=0,x.ka=[],x.l){const L=J(x.h);(L.length!=0||x.i.length!=0)&&(g(x.ka,L),g(x.ka,x.i),x.h.i.length=0,m(x.i),x.i.length=0),x.l.ra()}}function NQ(x,L,H){var Q=H instanceof Ke?Ge(H):new Ke(H);if(Q.g!="")L&&(Q.g=L+"."+Q.g),At(Q,Q.s);else{var we=a.location;Q=we.protocol,L=L?L+"."+we.hostname:we.hostname,we=+we.port;var De=new Ke(null);Q&&it(De,Q),L&&(De.g=L),we&&At(De,we),H&&(De.l=H),Q=De}return H=x.D,L=x.ya,H&&L&&Lt(Q,H,L),Lt(Q,"VER",x.la),$w(x,Q),Q}function DQ(x,L,H){if(L&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=x.Ca&&!x.pa?new re(new Td({eb:H})):new re(x.pa),L.Ha(x.J),L}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $Q(){}e=$Q.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function U2(){}U2.prototype.g=function(x,L){return new yu(x,L)};function yu(x,L){he.call(this),this.g=new Ev(L),this.l=x,this.h=L&&L.messageUrlParams||null,x=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(x?x["X-WebChannel-Content-Type"]=L.messageContentType:x={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(x?x["X-WebChannel-Client-Profile"]=L.va:x={"X-WebChannel-Client-Profile":L.va}),this.g.S=x,(x=L&&L.Sb)&&!v(x)&&(this.g.m=x),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!v(L)&&(this.g.D=L,x=this.h,x!==null&&L in x&&(x=this.h,L in x&&delete x[L])),this.j=new Tv(this)}p(yu,he),yu.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yu.prototype.close=function(){xv(this.g)},yu.prototype.o=function(x){var L=this.g;if(typeof x=="string"){var H={};H.__data__=x,x=H}else this.u&&(H={},H.__data__=pt(x),x=H);L.i.push(new xo(L.Ya++,x)),L.G==3&&j2(L)},yu.prototype.N=function(){this.g.l=null,delete this.j,xv(this.g),delete this.g,yu.aa.N.call(this)};function OQ(x){ir.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var L=x.__sm__;if(L){e:{for(const H in L){x=H;break e}x=void 0}(this.i=x)&&(x=this.i,L=L!==null&&x in L?L[x]:void 0),this.data=L}else this.data=x}p(OQ,ir);function MQ(){dr.call(this),this.status=1}p(MQ,dr);function Tv(x){this.g=x}p(Tv,$Q),Tv.prototype.ua=function(){Te(this.g,"a")},Tv.prototype.ta=function(x){Te(this.g,new OQ(x))},Tv.prototype.sa=function(x){Te(this.g,new MQ)},Tv.prototype.ra=function(){Te(this.g,"b")},U2.prototype.createWebChannel=U2.prototype.g,yu.prototype.send=yu.prototype.o,yu.prototype.open=yu.prototype.m,yu.prototype.close=yu.prototype.close,z_e=function(){return new U2},U_e=function(){return Ks()},B_e=qr,M8={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ak=ot,Pt.COMPLETE="complete",j_e=Pt,ii.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",he.prototype.listen=he.prototype.K,UE=ii,F_e=Td,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,L_e=re}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});const Oie="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ma.UNAUTHENTICATED=new Ma(null),Ma.GOOGLE_CREDENTIALS=new Ma("google-credentials-uid"),Ma.FIRST_PARTY=new Ma("first-party-uid"),Ma.MOCK_USER=new Ma("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z_="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=new O$("@firebase/firestore");function tE(){return ey.logLevel}function Ft(e,...t){if(ey.logLevel<=Vn.DEBUG){const n=t.map(tH);ey.debug(`Firestore (${Z_}): ${e}`,...n)}}function Rh(e,...t){if(ey.logLevel<=Vn.ERROR){const n=t.map(tH);ey.error(`Firestore (${Z_}): ${e}`,...n)}}function ZT(e,...t){if(ey.logLevel<=Vn.WARN){const n=t.map(tH);ey.warn(`Firestore (${Z_}): ${e}`,...n)}}function tH(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(e="Unexpected state"){const t=`FIRESTORE (${Z_}) INTERNAL ASSERTION FAILED: `+e;throw Rh(t),new Error(t)}function zr(e,t){e||sn()}function mn(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends ud{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gTt{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yTt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ma.UNAUTHENTICATED))}shutdown(){}}class vTt{constructor(t){this.t=t,this.currentUser=Ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new uh;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new uh,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new uh)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zr(typeof r.accessToken=="string"),new gTt(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return zr(t===null||typeof t=="string"),new Ma(t)}}class bTt{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ma.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _Tt{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new bTt(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ma.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wTt{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ETt{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ft("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(zr(typeof n.token=="string"),this.R=n.token,new wTt(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xTt(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=xTt(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function pr(e,t){return e<t?-1:e>t?1:0}function Pb(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new St(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new St(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new St(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return mo.fromMillis(Date.now())}static fromDate(t){return mo.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new mo(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?pr(this.nanoseconds,t.nanoseconds):pr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pn(t)}static min(){return new pn(new mo(0,0))}static max(){return new pn(new mo(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,n,r){n===void 0?n=0:n>t.length&&sn(),r===void 0?r=t.length-n:r>t.length-n&&sn(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return eS.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof eS?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Kr extends eS{construct(t,n,r){return new Kr(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new St(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Kr(n)}static emptyPath(){return new Kr([])}}const TTt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ss extends eS{construct(t,n,r){return new ss(t,n,r)}static isValidIdentifier(t){return TTt.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ss.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ss(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new St(Ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new St(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new St(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new St(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ss(n)}static emptyPath(){return new ss([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Kr.fromString(t))}static fromName(t){return new Yt(Kr.fromString(t).popFirst(5))}static empty(){return new Yt(Kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Kr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Kr(t.slice()))}}function STt(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=pn.fromTimestamp(r===1e9?new mo(n+1,0):new mo(n,r));return new Cm(i,Yt.empty(),t)}function CTt(e){return new Cm(e.readTime,e.key,-1)}class Cm{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Cm(pn.min(),Yt.empty(),-1)}static max(){return new Cm(pn.max(),Yt.empty(),-1)}}function ATt(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Yt.comparator(e.documentKey,t.documentKey),n!==0?n:pr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ITt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kTt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(e){if(e.code!==Ve.FAILED_PRECONDITION||e.message!==ITt)throw e;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Ze((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Ze?n:Ze.resolve(n)}catch(n){return Ze.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Ze.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Ze.reject(n)}static resolve(t){return new Ze((n,r)=>{n(t)})}static reject(t){return new Ze((n,r)=>{r(t)})}static waitFor(t){return new Ze((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(t){let n=Ze.resolve(!1);for(const r of t)n=n.next(i=>i?Ze.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new Ze((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(t[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new Ze((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function RTt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function IC(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}nH.oe=-1;function M$(e){return e==null}function ZR(e){return e===0&&1/e==-1/0}function PTt(e){return typeof e=="number"&&Number.isInteger(e)&&!ZR(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function H_e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t,n){this.comparator=t,this.root=n||rs.EMPTY}insert(t,n){return new Ei(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(t){return new Ei(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rs.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new DA(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new DA(this.root,t,this.comparator,!1)}getReverseIterator(){return new DA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new DA(this.root,t,this.comparator,!0)}}class DA{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rs{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??rs.RED,this.left=i??rs.EMPTY,this.right=o??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new rs(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return rs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const t=this.left.check();if(t!==this.right.check())throw sn();return t+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1;rs.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(t,n,r,i,o){return this}insert(t,n,r){return new rs(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.comparator=t,this.data=new Ei(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lie(this.data.getIterator())}getIteratorFrom(t){return new Lie(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof fs)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new fs(this.comparator);return n.data=t,n}}class Lie{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t){this.fields=t,t.sort(ss.comparator)}static empty(){return new Pu([])}unionWith(t){let n=new fs(ss.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Pu(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Pb(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_e extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q_e("Invalid base64 string: "+o):o}}(t);return new Hs(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Hs(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hs.EMPTY_BYTE_STRING=new Hs("");const NTt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Am(e){if(zr(!!e),typeof e=="string"){let t=0;const n=NTt.exec(e);if(zr(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zi(e.seconds),nanos:Zi(e.nanos)}}function Zi(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ty(e){return typeof e=="string"?Hs.fromBase64String(e):Hs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iH(e){const t=e.mapValue.fields.__previous_value__;return rH(t)?iH(t):t}function tS(e){const t=Am(e.mapValue.fields.__local_write_time__.timestampValue);return new mo(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DTt{constructor(t,n,r,i,o,s,a,u,l){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class nS{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new nS("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof nS&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ny(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rH(e)?4:$Tt(e)?9007199254740991:10:sn()}function qf(e,t){if(e===t)return!0;const n=ny(e);if(n!==ny(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return tS(e).isEqual(tS(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Am(i.timestampValue),a=Am(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ty(i.bytesValue).isEqual(ty(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Zi(i.geoPointValue.latitude)===Zi(o.geoPointValue.latitude)&&Zi(i.geoPointValue.longitude)===Zi(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Zi(i.integerValue)===Zi(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Zi(i.doubleValue),a=Zi(o.doubleValue);return s===a?ZR(s)===ZR(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Pb(e.arrayValue.values||[],t.arrayValue.values||[],qf);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Mie(s)!==Mie(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!qf(s[u],a[u])))return!1;return!0}(e,t);default:return sn()}}function rS(e,t){return(e.values||[]).find(n=>qf(n,t))!==void 0}function Nb(e,t){if(e===t)return 0;const n=ny(e),r=ny(t);if(n!==r)return pr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pr(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Zi(o.integerValue||o.doubleValue),u=Zi(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(e,t);case 3:return Fie(e.timestampValue,t.timestampValue);case 4:return Fie(tS(e),tS(t));case 5:return pr(e.stringValue,t.stringValue);case 6:return function(o,s){const a=ty(o),u=ty(s);return a.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=pr(a[l],u[l]);if(c!==0)return c}return pr(a.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=pr(Zi(o.latitude),Zi(s.latitude));return a!==0?a:pr(Zi(o.longitude),Zi(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=Nb(a[l],u[l]);if(c)return c}return pr(a.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===$A.mapValue&&s===$A.mapValue)return 0;if(o===$A.mapValue)return 1;if(s===$A.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=pr(u[f],c[f]);if(d!==0)return d;const h=Nb(a[u[f]],l[c[f]]);if(h!==0)return h}return pr(u.length,c.length)}(e.mapValue,t.mapValue);default:throw sn()}}function Fie(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return pr(e,t);const n=Am(e),r=Am(t),i=pr(n.seconds,r.seconds);return i!==0?i:pr(n.nanos,r.nanos)}function Db(e){return L8(e)}function L8(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Am(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ty(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=L8(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${L8(n.fields[s])}`;return i+"}"}(e.mapValue):sn()}function jie(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function F8(e){return!!e&&"integerValue"in e}function oH(e){return!!e&&"arrayValue"in e}function Bie(e){return!!e&&"nullValue"in e}function Uie(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function uk(e){return!!e&&"mapValue"in e}function Fx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zy(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Fx(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fx(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $Tt(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.value=t}static empty(){return new Va({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!uk(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fx(n)}setAll(t){let n=ss.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fx(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());uk(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qf(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];uk(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Zy(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new Va(Fx(this.value))}}function W_e(e){const t=[];return Zy(e.fields,(n,r)=>{const i=new ss([n]);if(uk(r)){const o=W_e(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Pu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ds(t,0,pn.min(),pn.min(),pn.min(),Va.empty(),0)}static newFoundDocument(t,n,r,i){return new Ds(t,1,n,pn.min(),r,i,0)}static newNoDocument(t,n){return new Ds(t,2,n,pn.min(),pn.min(),Va.empty(),0)}static newUnknownDocument(t,n){return new Ds(t,3,n,pn.min(),pn.min(),Va.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Va.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Va.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ds&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ds(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP=class{constructor(t,n){this.position=t,this.inclusive=n}};function zie(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=Yt.comparator(Yt.fromName(s.referenceValue),n.key):r=Nb(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vie(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qf(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(t,n="asc"){this.field=t,this.dir=n}}function OTt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G_e=class{};class to extends G_e{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new LTt(t,n,r):n==="array-contains"?new BTt(t,r):n==="in"?new UTt(t,r):n==="not-in"?new zTt(t,r):n==="array-contains-any"?new VTt(t,r):new to(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new FTt(t,r):new jTt(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Nb(n,this.value)):n!==null&&ny(this.value)===ny(n)&&this.matchesComparison(Nb(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return sn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lc extends G_e{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new Lc(t,n)}matches(t){return Y_e(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Y_e(e){return e.op==="and"}function K_e(e){return MTt(e)&&Y_e(e)}function MTt(e){for(const t of e.filters)if(t instanceof Lc)return!1;return!0}function j8(e){if(e instanceof to)return e.field.canonicalString()+e.op.toString()+Db(e.value);if(K_e(e))return e.filters.map(t=>j8(t)).join(",");{const t=e.filters.map(n=>j8(n)).join(",");return`${e.op}(${t})`}}function X_e(e,t){return e instanceof to?function(r,i){return i instanceof to&&r.op===i.op&&r.field.isEqual(i.field)&&qf(r.value,i.value)}(e,t):e instanceof Lc?function(r,i){return i instanceof Lc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&X_e(s,i.filters[a]),!0):!1}(e,t):void sn()}function Q_e(e){return e instanceof to?function(n){return`${n.field.canonicalString()} ${n.op} ${Db(n.value)}`}(e):e instanceof Lc?function(n){return n.op.toString()+" {"+n.getFilters().map(Q_e).join(" ,")+"}"}(e):"Filter"}class LTt extends to{constructor(t,n,r){super(t,n,r),this.key=Yt.fromName(r.referenceValue)}matches(t){const n=Yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class FTt extends to{constructor(t,n){super(t,"in",n),this.keys=J_e("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class jTt extends to{constructor(t,n){super(t,"not-in",n),this.keys=J_e("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function J_e(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class BTt extends to{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return oH(n)&&rS(n.arrayValue,this.value)}}class UTt extends to{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&rS(this.value.arrayValue,n)}}class zTt extends to{constructor(t,n){super(t,"not-in",n)}matches(t){if(rS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!rS(this.value.arrayValue,n)}}class VTt extends to{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!oH(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rS(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTt{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Hie(e,t=null,n=[],r=[],i=null,o=null,s=null){return new HTt(e,t,n,r,i,o,s)}function sH(e){const t=mn(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>j8(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),M$(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Db(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Db(r)).join(",")),t.ue=n}return t.ue}function aH(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!OTt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!X_e(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vie(e.startAt,t.startAt)&&Vie(e.endAt,t.endAt)}function B8(e){return Yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qTt(e,t,n,r,i,o,s,a){return new ew(e,t,n,r,i,o,s,a)}function uH(e){return new ew(e)}function qie(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Z_e(e){return e.collectionGroup!==null}function jx(e){const t=mn(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new fs(ss.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new iS(o,r))}),n.has(ss.keyField().canonicalString())||t.ce.push(new iS(ss.keyField(),r))}return t.ce}function Of(e){const t=mn(e);return t.le||(t.le=WTt(t,jx(e))),t.le}function WTt(e,t){if(e.limitType==="F")return Hie(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new iS(i.field,o)});const n=e.endAt?new eP(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new eP(e.startAt.position,e.startAt.inclusive):null;return Hie(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function U8(e,t){const n=e.filters.concat([t]);return new ew(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tP(e,t,n){return new ew(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function L$(e,t){return aH(Of(e),Of(t))&&e.limitType===t.limitType}function ewe(e){return`${sH(Of(e))}|lt:${e.limitType}`}function i1(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q_e(i)).join(", ")}]`),M$(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Db(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Db(i)).join(",")),`Target(${r})`}(Of(e))}; limitType=${e.limitType})`}function F$(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Yt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of jx(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,u){const l=zie(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,jx(r),i)||r.endAt&&!function(s,a,u){const l=zie(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,jx(r),i))}(e,t)}function GTt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function twe(e){return(t,n)=>{let r=!1;for(const i of jx(e)){const o=YTt(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function YTt(e,t,n){const r=e.field.isKeyField()?Yt.comparator(t.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Nb(u,l):sn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sn()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Zy(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return H_e(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KTt=new Ei(Yt.comparator);function Ph(){return KTt}const nwe=new Ei(Yt.comparator);function zE(...e){let t=nwe;for(const n of e)t=t.insert(n.key,n);return t}function rwe(e){let t=nwe;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function h0(){return Bx()}function iwe(){return Bx()}function Bx(){return new tw(e=>e.toString(),(e,t)=>e.isEqual(t))}const XTt=new Ei(Yt.comparator),QTt=new fs(Yt.comparator);function Mn(...e){let t=QTt;for(const n of e)t=t.add(n);return t}const JTt=new fs(pr);function ZTt(){return JTt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function owe(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ZR(t)?"-0":t}}function swe(e){return{integerValue:""+e}}function eSt(e,t){return PTt(t)?swe(t):owe(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this._=void 0}}function tSt(e,t,n){return e instanceof oS?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rH(o)&&(o=iH(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof sS?uwe(e,t):e instanceof aS?lwe(e,t):function(i,o){const s=awe(i,o),a=Wie(s)+Wie(i.Pe);return F8(s)&&F8(i.Pe)?swe(a):owe(i.serializer,a)}(e,t)}function nSt(e,t,n){return e instanceof sS?uwe(e,t):e instanceof aS?lwe(e,t):n}function awe(e,t){return e instanceof nP?function(r){return F8(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class oS extends j${}class sS extends j${constructor(t){super(),this.elements=t}}function uwe(e,t){const n=cwe(t);for(const r of e.elements)n.some(i=>qf(i,r))||n.push(r);return{arrayValue:{values:n}}}class aS extends j${constructor(t){super(),this.elements=t}}function lwe(e,t){let n=cwe(t);for(const r of e.elements)n=n.filter(i=>!qf(i,r));return{arrayValue:{values:n}}}class nP extends j${constructor(t,n){super(),this.serializer=t,this.Pe=n}}function Wie(e){return Zi(e.integerValue||e.doubleValue)}function cwe(e){return oH(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rSt{constructor(t,n){this.field=t,this.transform=n}}function iSt(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof sS&&i instanceof sS||r instanceof aS&&i instanceof aS?Pb(r.elements,i.elements,qf):r instanceof nP&&i instanceof nP?qf(r.Pe,i.Pe):r instanceof oS&&i instanceof oS}(e.transform,t.transform)}class oSt{constructor(t,n){this.version=t,this.transformResults=n}}class pa{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pa}static exists(t){return new pa(void 0,t)}static updateTime(t){return new pa(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lk(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class B${}function fwe(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new U$(e.key,pa.none()):new kC(e.key,e.data,pa.none());{const n=e.data,r=Va.empty();let i=new fs(ss.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sg(e.key,r,new Pu(i.toArray()),pa.none())}}function sSt(e,t,n){e instanceof kC?function(i,o,s){const a=i.value.clone(),u=Yie(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof sg?function(i,o,s){if(!lk(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Yie(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(dwe(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ux(e,t,n,r){return e instanceof kC?function(o,s,a,u){if(!lk(o.precondition,s))return a;const l=o.value.clone(),c=Kie(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof sg?function(o,s,a,u){if(!lk(o.precondition,s))return a;const l=Kie(o.fieldTransforms,u,s),c=s.data;return c.setAll(dwe(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(e,t,n,r):function(o,s,a){return lk(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function aSt(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=awe(r.transform,i||null);o!=null&&(n===null&&(n=Va.empty()),n.set(r.field,o))}return n||null}function Gie(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pb(r,i,(o,s)=>iSt(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class kC extends B${constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sg extends B${constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dwe(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Yie(e,t,n){const r=new Map;zr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,nSt(s,a,n[i]))}return r}function Kie(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,tSt(o,s,t))}return r}class U$ extends B${constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uSt extends B${constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lSt{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&sSt(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ux(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ux(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=iwe();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=fwe(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(pn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mn())}isEqual(t){return this.batchId===t.batchId&&Pb(this.mutations,t.mutations,(n,r)=>Gie(n,r))&&Pb(this.baseMutations,t.baseMutations,(n,r)=>Gie(n,r))}}class lH{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){zr(t.mutations.length===r.length);let i=function(){return XTt}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lH(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cSt{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fSt{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi,Kn;function dSt(e){switch(e){default:return sn();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0}}function hwe(e){if(e===void 0)return Rh("GRPC error has no .code"),Ve.UNKNOWN;switch(e){case Qi.OK:return Ve.OK;case Qi.CANCELLED:return Ve.CANCELLED;case Qi.UNKNOWN:return Ve.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Ve.INTERNAL;case Qi.UNAVAILABLE:return Ve.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Ve.NOT_FOUND;case Qi.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Qi.ABORTED:return Ve.ABORTED;case Qi.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Qi.DATA_LOSS:return Ve.DATA_LOSS;default:return sn()}}(Kn=Qi||(Qi={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hSt(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pSt=new A0([4294967295,4294967295],0);function Xie(e){const t=hSt().encode(e),n=new M_e;return n.update(t),new Uint8Array(n.digest())}function Qie(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new A0([n,r],0),new A0([i,o],0)]}class cH{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new VE(`Invalid padding: ${n}`);if(r<0)throw new VE(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new VE(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new VE(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=A0.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(A0.fromNumber(r)));return i.compare(pSt)===1&&(i=new A0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=Xie(t),[r,i]=Qie(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new cH(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;const n=Xie(t),[r,i]=Qie(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class VE extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,RC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new z$(pn.min(),i,new Ei(pr),Ph(),Mn())}}class RC{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new RC(r,n,Mn(),Mn(),Mn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pwe{constructor(t,n){this.targetId=t,this.me=n}}class mwe{constructor(t,n,r=Hs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jie{constructor(){this.fe=0,this.ge=eoe(),this.pe=Hs.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Mn(),n=Mn(),r=Mn();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:sn()}}),new RC(this.pe,this.ye,t,n,r)}ve(){this.we=!1,this.ge=eoe()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,zr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mSt{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ph(),this.qe=Zie(),this.Qe=new Ei(pr)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:sn()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(B8(o))if(r===0){const s=new Yt(o.path);this.Ue(n,s,Ds.newNoDocument(s,pn.min()))}else zr(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(t),u=a?this.Xe(a,t,s):1;if(u!==0){this.je(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ty(r).toUint8Array()}catch(u){if(u instanceof q_e)return ZT("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new cH(s,i,o)}catch(u){return ZT(u instanceof VE?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&B8(a.target)){const u=new Yt(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Ds.newNoDocument(u,t))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Mn();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const i=new z$(t,n,this.Qe,this.ke,r);return this.ke=Ph(),this.qe=Zie(),this.Qe=new Ei(pr),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new Jie,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new fs(pr),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Ft("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Jie),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Zie(){return new Ei(Yt.comparator)}function eoe(){return new Ei(Yt.comparator)}const gSt={asc:"ASCENDING",desc:"DESCENDING"},ySt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vSt={and:"AND",or:"OR"};class bSt{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function z8(e,t){return e.useProto3Json||M$(t)?t:{value:t}}function rP(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gwe(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _St(e,t){return rP(e,t.toTimestamp())}function Mf(e){return zr(!!e),pn.fromTimestamp(function(n){const r=Am(n);return new mo(r.seconds,r.nanos)}(e))}function fH(e,t){return V8(e,t).canonicalString()}function V8(e,t){const n=function(i){return new Kr(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function ywe(e){const t=Kr.fromString(e);return zr(Ewe(t)),t}function H8(e,t){return fH(e.databaseId,t.path)}function x6(e,t){const n=ywe(t);if(n.get(1)!==e.databaseId.projectId)throw new St(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new St(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yt(bwe(n))}function vwe(e,t){return fH(e.databaseId,t)}function wSt(e){const t=ywe(e);return t.length===4?Kr.emptyPath():bwe(t)}function q8(e){return new Kr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bwe(e){return zr(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function toe(e,t,n){return{name:H8(e,t),fields:n.value.mapValue.fields}}function ESt(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:sn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(zr(c===void 0||typeof c=="string"),Hs.fromBase64String(c||"")):(zr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Hs.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const c=l.code===void 0?Ve.UNKNOWN:hwe(l.code);return new St(c,l.message||"")}(s);n=new mwe(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=x6(e,r.document.name),o=Mf(r.document.updateTime),s=r.document.createTime?Mf(r.document.createTime):pn.min(),a=new Va({mapValue:{fields:r.document.fields}}),u=Ds.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new ck(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=x6(e,r.document),o=r.readTime?Mf(r.readTime):pn.min(),s=Ds.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ck([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=x6(e,r.document),o=r.removedTargetIds||[];n=new ck([],o,i,null)}else{if(!("filter"in t))return sn();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new fSt(i,o),a=r.targetId;n=new pwe(a,s)}}return n}function xSt(e,t){let n;if(t instanceof kC)n={update:toe(e,t.key,t.value)};else if(t instanceof U$)n={delete:H8(e,t.key)};else if(t instanceof sg)n={update:toe(e,t.key,t.data),updateMask:NSt(t.fieldMask)};else{if(!(t instanceof uSt))return sn();n={verify:H8(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof oS)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sS)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof aS)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof nP)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw sn()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_St(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:sn()}(e,t.precondition)),n}function TSt(e,t){return e&&e.length>0?(zr(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Mf(i.updateTime):Mf(o);return s.isEqual(pn.min())&&(s=Mf(o)),new oSt(s,i.transformResults||[])}(n,t))):[]}function SSt(e,t){return{documents:[vwe(e,t.path)]}}function CSt(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vwe(e,i);const o=function(l){if(l.length!==0)return wwe(Lc.create(l,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:o1(d.field),direction:kSt(d.dir)}}(c))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=z8(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:n,parent:i}}function ASt(e){let t=wSt(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zr(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=_we(f);return d instanceof Lc&&K_e(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(p){return new iS(s1(p.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,M$(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,h=f.values||[];return new eP(h,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,h=f.values||[];return new eP(h,d)}(n.endAt)),qTt(t,i,s,o,a,"F",u,l)}function ISt(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _we(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=s1(n.unaryFilter.field);return to.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=s1(n.unaryFilter.field);return to.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=s1(n.unaryFilter.field);return to.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=s1(n.unaryFilter.field);return to.create(s,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}(e):e.fieldFilter!==void 0?function(n){return to.create(s1(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Lc.create(n.compositeFilter.filters.map(r=>_we(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return sn()}}(n.compositeFilter.op))}(e):sn()}function kSt(e){return gSt[e]}function RSt(e){return ySt[e]}function PSt(e){return vSt[e]}function o1(e){return{fieldPath:e.canonicalString()}}function s1(e){return ss.fromServerFormat(e.fieldPath)}function wwe(e){return e instanceof to?function(n){if(n.op==="=="){if(Uie(n.value))return{unaryFilter:{field:o1(n.field),op:"IS_NAN"}};if(Bie(n.value))return{unaryFilter:{field:o1(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uie(n.value))return{unaryFilter:{field:o1(n.field),op:"IS_NOT_NAN"}};if(Bie(n.value))return{unaryFilter:{field:o1(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:o1(n.field),op:RSt(n.op),value:n.value}}}(e):e instanceof Lc?function(n){const r=n.getFilters().map(i=>wwe(i));return r.length===1?r[0]:{compositeFilter:{op:PSt(n.op),filters:r}}}(e):sn()}function NSt(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ewe(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t,n,r,i,o=pn.min(),s=pn.min(),a=Hs.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(t){return new jp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new jp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DSt{constructor(t){this.ct=t}}function $St(e){const t=ASt({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tP(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OSt{constructor(){this._n=new MSt}addToCollectionParentIndex(t,n){return this._n.add(n),Ze.resolve()}getCollectionParents(t,n){return Ze.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return Ze.resolve()}deleteFieldIndex(t,n){return Ze.resolve()}deleteAllFieldIndexes(t){return Ze.resolve()}createTargetIndexes(t,n){return Ze.resolve()}getDocumentsMatchingTarget(t,n){return Ze.resolve(null)}getIndexType(t,n){return Ze.resolve(0)}getFieldIndexes(t,n){return Ze.resolve([])}getNextCollectionGroupToUpdate(t){return Ze.resolve(null)}getMinOffset(t,n){return Ze.resolve(Cm.min())}getMinOffsetFromCollectionGroup(t,n){return Ze.resolve(Cm.min())}updateCollectionGroup(t,n,r){return Ze.resolve()}updateIndexEntries(t,n){return Ze.resolve()}}class MSt{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new fs(Kr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new fs(Kr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new $b(0)}static Ln(){return new $b(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LSt{constructor(){this.changes=new tw(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ds.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ze.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FSt{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jSt{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ux(r.mutation,i,Pu.empty(),mo.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Mn()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Mn()){const i=h0();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=zE();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=h0();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Mn()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=Ph();const s=Bx(),a=function(){return Bx()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof sg)?o=o.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),Ux(c.mutation,l,c.mutation.getFieldMask(),mo.now())):s.set(l.key,Pu.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>{var f;return a.set(l,new FSt(c,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Bx();let i=new Ei((s,a)=>s-a),o=Mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Pu.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||Mn()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=iwe();c.forEach(d=>{if(!o.has(d)){const h=fwe(n.get(d),r.get(d));h!==null&&f.set(d,h),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,f))}return Ze.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return Yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Z_e(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):Ze.resolve(h0());let a=-1,u=o;return s.next(l=>Ze.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Ze.resolve():this.remoteDocumentCache.getEntry(t,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,u,l,Mn())).next(c=>({batchId:a,changes:rwe(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Yt(n)).next(r=>{let i=zE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=zE();return this.indexManager.getCollectionParents(t,o).next(a=>Ze.forEach(a,u=>{const l=function(f,d){return new ew(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,l,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Ds.newInvalidDocument(c)))});let a=zE();return s.forEach((u,l)=>{const c=o.get(u);c!==void 0&&Ux(c.mutation,l,Pu.empty(),mo.now()),F$(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BSt{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return Ze.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mf(i.createTime)}}(n)),Ze.resolve()}getNamedQuery(t,n){return Ze.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$St(i.bundledQuery),readTime:Mf(i.readTime)}}(n)),Ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class USt{constructor(){this.overlays=new Ei(Yt.comparator),this.hr=new Map}getOverlay(t,n){return Ze.resolve(this.overlays.get(n))}getOverlays(t,n){const r=h0();return Ze.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),Ze.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),Ze.resolve()}getOverlaysForCollection(t,n,r){const i=h0(),o=n.length+1,s=new Yt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ze.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new Ei((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=h0(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=h0(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return Ze.resolve(a)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new cSt(n,r));let o=this.hr.get(n);o===void 0&&(o=Mn(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.Pr=new fs(Io.Ir),this.Tr=new fs(Io.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Io(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Io(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new Yt(new Kr([])),r=new Io(n,t),i=new Io(n,t+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Yt(new Kr([])),r=new Io(n,t),i=new Io(n,t+1);let o=Mn();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Io(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Io{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Yt.comparator(t.key,n.key)||pr(t.pr,n.pr)}static Er(t,n){return pr(t.pr,n.pr)||Yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zSt{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new fs(Io.Ir)}checkEmpty(t){return Ze.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new lSt(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Io(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Ze.resolve(s)}lookupMutationBatch(t,n){return Ze.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.br(r),o=i<0?0:i;return Ze.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Io(n,0),i=new Io(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),Ze.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new fs(pr);return n.forEach(i=>{const o=new Io(i,0),s=new Io(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),Ze.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;Yt.isDocumentKey(o)||(o=o.child(""));const s=new Io(new Yt(o),0);let a=new fs(pr);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),Ze.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){zr(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Ze.forEach(n.mutations,i=>{const o=new Io(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Io(n,0),i=this.wr.firstAfterOrEqual(r);return Ze.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ze.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VSt{constructor(t){this.vr=t,this.docs=function(){return new Ei(Yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Ze.resolve(r?r.document.mutableCopy():Ds.newInvalidDocument(n))}getEntries(t,n){let r=Ph();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ds.newInvalidDocument(i))}),Ze.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=Ph();const s=n.path,a=new Yt(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||ATt(CTt(c),r)<=0||(i.has(c.key)||F$(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Ze.resolve(o)}getAllFromCollectionGroup(t,n,r,i){sn()}Fr(t,n){return Ze.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new HSt(this)}getSize(t){return Ze.resolve(this.size)}}class HSt extends LSt{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),Ze.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qSt{constructor(t){this.persistence=t,this.Mr=new tw(n=>sH(n),aH),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dH,this.targetCount=0,this.Lr=$b.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,i)=>n(i)),Ze.resolve()}getLastRemoteSnapshotVersion(t){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ze.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Ze.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new $b(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,Ze.resolve()}updateTargetData(t,n){return this.qn(n),Ze.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ze.waitFor(o).next(()=>i)}getTargetCount(t){return Ze.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return Ze.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),Ze.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),Ze.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),Ze.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return Ze.resolve(r)}containsKey(t,n){return Ze.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WSt{constructor(t,n){this.Br={},this.overlays={},this.kr=new nH(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new qSt(this),this.indexManager=new OSt,this.remoteDocumentCache=function(i){return new VSt(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new DSt(n),this.$r=new BSt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new USt,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new zSt(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){Ft("MemoryPersistence","Starting transaction:",t);const i=new GSt(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(t,n){return Ze.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class GSt extends kTt{constructor(t){super(),this.currentSequenceNumber=t}}class hH{constructor(t){this.persistence=t,this.zr=new dH,this.jr=null}static Hr(t){return new hH(t)}get Jr(){if(this.jr)return this.jr;throw sn()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Ze.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Ze.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),Ze.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.Jr,r=>{const i=Yt.fromPath(r);return this.Yr(t,i).next(o=>{o||n.removeEntry(i,pn.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return Ze.or([()=>Ze.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(t,n){let r=Mn(),i=Mn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new pH(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YSt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KSt{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return KEt()?8:RTt(gs())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.ji(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new YSt;return this.Ji(t,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,n,s,a.size)})}).next(()=>o.result)}Yi(t,n,r,i){return r.documentReadCount<this.Wi?(tE()<=Vn.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",i1(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Ze.resolve()):(tE()<=Vn.DEBUG&&Ft("QueryEngine","Query:",i1(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(tE()<=Vn.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",i1(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Of(n))):Ze.resolve())}ji(t,n){if(qie(n))return Ze.resolve(null);let r=Of(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tP(n,null,"F"),r=Of(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=Mn(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,s,u.readTime)?this.ji(t,tP(n,null,"F")):this.es(t,l,n,u)}))})))}Hi(t,n,r,i){return qie(n)||i.isEqual(pn.min())?Ze.resolve(null):this.zi.getDocuments(t,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?Ze.resolve(null):(tE()<=Vn.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),i1(n)),this.es(t,s,n,STt(i,-1)).next(a=>a))})}Zi(t,n){let r=new fs(twe(t));return n.forEach((i,o)=>{F$(t,o)&&(r=r.add(o))}),r}Xi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(t,n,r){return tE()<=Vn.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",i1(n)),this.zi.getDocumentsMatchingQuery(t,n,Cm.min(),r)}es(t,n,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XSt{constructor(t,n,r,i){this.persistence=t,this.ts=n,this.serializer=i,this.ns=new Ei(pr),this.rs=new tw(o=>sH(o),aH),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jSt(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function QSt(e,t,n,r){return new XSt(e,t,n,r)}async function xwe(e,t){const n=mn(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Mn();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})}function JSt(e,t){const n=mn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let h=Ze.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(u,p)).next(m=>{const g=l.docVersions.get(p);zr(g!==null),m.version.compareTo(g)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Mn();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Twe(e){const t=mn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function ZSt(e,t){const n=mn(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,f)));let h=d.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(Hs.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(f,h),function(m,g,y){return m.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,c)&&a.push(n.Qr.updateTargetData(o,h))});let u=Ph(),l=Mn();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(eCt(o,s,t.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(pn.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(f=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Ze.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ns=i,o))}function eCt(e,t,n){let r=Mn(),i=Mn();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=Ph();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(pn.min())?(t.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(t.addEntry(u),s=s.insert(a,u)):Ft("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}function tCt(e,t){const n=mn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function nCt(e,t){const n=mn(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,t).next(o=>o?(i=o,Ze.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new jp(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function W8(e,t,n){const r=mn(e),i=r.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!IC(s))throw s;Ft("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function noe(e,t,n){const r=mn(e);let i=pn.min(),o=Mn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const f=mn(u),d=f.rs.get(c);return d!==void 0?Ze.resolve(f.ns.get(d)):f.Qr.getTargetData(l,c)}(r,s,Of(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,t,n?i:pn.min(),n?o:Mn())).next(a=>(rCt(r,GTt(t),a),{documents:a,hs:o})))}function rCt(e,t,n){let r=e.ss.get(t)||pn.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.ss.set(t,r)}class roe{constructor(){this.activeTargetIds=ZTt()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iCt{constructor(){this.no=new roe,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new roe,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oCt{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OA=null;function T6(){return OA===null?OA=function(){return 268435456+Math.round(2147483648*Math.random())}():OA++,"0x"+OA.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sCt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aCt{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="WebChannelConnection";class uCt extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=T6(),u=this.vo(n,r.toUriEncodedString());Ft("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,u,l,i).then(c=>(Ft("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ZT("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Z_}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=sCt[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,n,r,i){const o=T6();return new Promise((s,a)=>{const u=new L_e;u.setWithCredentials(!0),u.listenOnce(j_e.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ak.NO_ERROR:const c=u.getResponseJson();Ft(Ts,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case ak.TIMEOUT:Ft(Ts,`RPC '${t}' ${o} timed out`),a(new St(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case ak.HTTP_ERROR:const f=u.getStatus();if(Ft(Ts,`RPC '${t}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const p=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(y)>=0?y:Ve.UNKNOWN}(h.status);a(new St(p,h.message))}else a(new St(Ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new St(Ve.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{Ft(Ts,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(i);Ft(Ts,`RPC '${t}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(t,n,r){const i=T6(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=z_e(),a=U_e(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new F_e({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=o.join("");Ft(Ts,`Creating RPC '${t}' stream ${i}: ${c}`,u);const f=s.createWebChannel(c,u);let d=!1,h=!1;const p=new aCt({lo:g=>{h?Ft(Ts,`Not sending because RPC '${t}' stream ${i} is closed:`,g):(d||(Ft(Ts,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),Ft(Ts,`RPC '${t}' stream ${i} sending:`,g),f.send(g))},ho:()=>f.close()}),m=(g,y,v)=>{g.listen(y,b=>{try{v(b)}catch(_){setTimeout(()=>{throw _},0)}})};return m(f,UE.EventType.OPEN,()=>{h||(Ft(Ts,`RPC '${t}' stream ${i} transport opened.`),p.mo())}),m(f,UE.EventType.CLOSE,()=>{h||(h=!0,Ft(Ts,`RPC '${t}' stream ${i} transport closed`),p.po())}),m(f,UE.EventType.ERROR,g=>{h||(h=!0,ZT(Ts,`RPC '${t}' stream ${i} transport errored:`,g),p.po(new St(Ve.UNAVAILABLE,"The operation could not be completed")))}),m(f,UE.EventType.MESSAGE,g=>{var y;if(!h){const v=g.data[0];zr(!!v);const b=v,_=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(_){Ft(Ts,`RPC '${t}' stream ${i} received error:`,_);const w=_.status;let S=function(A){const k=Qi[A];if(k!==void 0)return hwe(k)}(w),E=_.message;S===void 0&&(S=Ve.INTERNAL,E="Unknown error status: "+w+" with message "+_.message),h=!0,p.po(new St(S,E)),f.close()}else Ft(Ts,`RPC '${t}' stream ${i} received:`,v),p.yo(v)}}),m(a,B_e.STAT_EVENT,g=>{g.stat===M8.PROXY?Ft(Ts,`RPC '${t}' stream ${i} detected buffering proxy`):g.stat===M8.NOPROXY&&Ft(Ts,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function S6(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(e){return new bSt(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Swe{constructor(t,n,r=1e3,i=1.5,o=6e4){this.oi=t,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cwe{constructor(t,n,r,i,o,s,a,u){this.oi=t,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Swe(t,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(Rh(n.toString()),Rh("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(n)}__(){}auth(){this.state=1;const t=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{t(()=>{const i=new St(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,n){const r=this.a_(this.jo);this.stream=this.l_(t,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(t){return Ft("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return n=>{this.oi.enqueueAndForget(()=>this.jo===t?n():(Ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lCt extends Cwe{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(t,n){return this.connection.Oo("Listen",t,n)}onMessage(t){this.Yo.reset();const n=ESt(this.serializer,t),r=function(o){if(!("targetChange"in o))return pn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pn.min():s.readTime?Mf(s.readTime):pn.min()}(t);return this.listener.h_(n,r)}P_(t){const n={};n.database=q8(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=B8(u)?{documents:SSt(o,u)}:{query:CSt(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gwe(o,s.resumeToken);const l=z8(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(pn.min())>0){a.readTime=rP(o,s.snapshotVersion.toTimestamp());const l=z8(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=ISt(this.serializer,t);r&&(n.labels=r),this.i_(n)}I_(t){const n={};n.database=q8(this.serializer),n.removeTarget=t,this.i_(n)}}class cCt extends Cwe{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,n){return this.connection.Oo("Write",t,n)}onMessage(t){if(zr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const n=TSt(t.writeResults,t.commitTime),r=Mf(t.commitTime);return this.listener.A_(r,n)}return zr(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=q8(this.serializer),this.i_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>xSt(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fCt extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new St(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,V8(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new St(Ve.UNKNOWN,o.toString())})}xo(t,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(t,V8(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new St(Ve.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class dCt{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Rh(n),this.y_=!1):Ft("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hCt{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{ev(this)&&(Ft("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=mn(u);l.M_.add(4),await NC(l),l.N_.set("Unknown"),l.M_.delete(4),await PC(l)}(this))})}),this.N_=new dCt(r,i)}}async function PC(e){if(ev(e))for(const t of e.x_)await t(!0)}async function NC(e){for(const t of e.x_)await t(!1)}function Awe(e,t){const n=mn(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),vH(n)?yH(n):nw(n).Xo()&&gH(n,t))}function mH(e,t){const n=mn(e),r=nw(n);n.F_.delete(t),r.Xo()&&Iwe(n,t),n.F_.size===0&&(r.Xo()?r.n_():ev(n)&&n.N_.set("Unknown"))}function gH(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nw(e).P_(t)}function Iwe(e,t){e.L_.xe(t),nw(e).I_(t)}function yH(e){e.L_=new mSt({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),nw(e).start(),e.N_.w_()}function vH(e){return ev(e)&&!nw(e).Zo()&&e.F_.size>0}function ev(e){return mn(e).M_.size===0}function kwe(e){e.L_=void 0}async function pCt(e){e.N_.set("Online")}async function mCt(e){e.F_.forEach((t,n)=>{gH(e,t)})}async function gCt(e,t){kwe(e),vH(e)?(e.N_.D_(t),yH(e)):e.N_.set("Unknown")}async function yCt(e,t,n){if(e.N_.set("Online"),t instanceof mwe&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(e,t)}catch(r){Ft("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await iP(e,r)}else if(t instanceof ck?e.L_.Ke(t):t instanceof pwe?e.L_.He(t):e.L_.We(t),!n.isEqual(pn.min()))try{const r=await Twe(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.F_.get(l);c&&o.F_.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.F_.get(u);if(!c)return;o.F_.set(u,c.withResumeToken(Hs.EMPTY_BYTE_STRING,c.snapshotVersion)),Iwe(o,u);const f=new jp(c.target,u,l,c.sequenceNumber);gH(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Ft("RemoteStore","Failed to raise snapshot:",r),await iP(e,r)}}async function iP(e,t,n){if(!IC(t))throw t;e.M_.add(1),await NC(e),e.N_.set("Offline"),n||(n=()=>Twe(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ft("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await PC(e)})}function Rwe(e,t){return t().catch(n=>iP(e,n,t))}async function H$(e){const t=mn(e),n=Im(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;vCt(t);)try{const i=await tCt(t.localStore,r);if(i===null){t.v_.length===0&&n.n_();break}r=i.batchId,bCt(t,i)}catch(i){await iP(t,i)}Pwe(t)&&Nwe(t)}function vCt(e){return ev(e)&&e.v_.length<10}function bCt(e,t){e.v_.push(t);const n=Im(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Pwe(e){return ev(e)&&!Im(e).Zo()&&e.v_.length>0}function Nwe(e){Im(e).start()}async function _Ct(e){Im(e).V_()}async function wCt(e){const t=Im(e);for(const n of e.v_)t.d_(n.mutations)}async function ECt(e,t,n){const r=e.v_.shift(),i=lH.from(r,t,n);await Rwe(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await H$(e)}async function xCt(e,t){t&&Im(e).E_&&await async function(r,i){if(function(s){return dSt(s)&&s!==Ve.ABORTED}(i.code)){const o=r.v_.shift();Im(r).t_(),await Rwe(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await H$(r)}}(e,t),Pwe(e)&&Nwe(e)}async function ooe(e,t){const n=mn(e);n.asyncQueue.verifyOperationInProgress(),Ft("RemoteStore","RemoteStore received new credentials");const r=ev(n);n.M_.add(3),await NC(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await PC(n)}async function TCt(e,t){const n=mn(e);t?(n.M_.delete(2),await PC(n)):t||(n.M_.add(2),await NC(n),n.N_.set("Unknown"))}function nw(e){return e.B_||(e.B_=function(n,r,i){const o=mn(n);return o.f_(),new lCt(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Po:pCt.bind(null,e),To:mCt.bind(null,e),Ao:gCt.bind(null,e),h_:yCt.bind(null,e)}),e.x_.push(async t=>{t?(e.B_.t_(),vH(e)?yH(e):e.N_.set("Unknown")):(await e.B_.stop(),kwe(e))})),e.B_}function Im(e){return e.k_||(e.k_=function(n,r,i){const o=mn(n);return o.f_(),new cCt(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:_Ct.bind(null,e),Ao:xCt.bind(null,e),R_:wCt.bind(null,e),A_:ECt.bind(null,e)}),e.x_.push(async t=>{t?(e.k_.t_(),await H$(e)):(await e.k_.stop(),e.v_.length>0&&(Ft("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))})),e.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new uh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new bH(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(Ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _H(e,t){if(Rh("AsyncQueue",`${t}: ${e}`),IC(e))return new St(Ve.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Yt.comparator(n.key,r.key):(n,r)=>Yt.comparator(n.key,r.key),this.keyedMap=zE(),this.sortedSet=new Ei(this.comparator)}static emptySet(t){return new K1(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof K1)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new K1;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class soe{constructor(){this.q_=new Ei(Yt.comparator)}track(t){const n=t.doc.key,r=this.q_.get(n);r?t.type!==0&&r.type===3?this.q_=this.q_.insert(n,t):t.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.q_=this.q_.remove(n):t.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:t.doc}):sn():this.q_=this.q_.insert(n,t)}Q_(){const t=[];return this.q_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ob{constructor(t,n,r,i,o,s,a,u,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ob(t,n,K1.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&L$(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SCt{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class CCt{constructor(){this.queries=new tw(t=>ewe(t),L$),this.onlineState="Unknown",this.z_=new Set}}async function Dwe(e,t){const n=mn(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new SCt,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=_H(s,`Initialization of query '${i1(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&wH(n)}async function $we(e,t){const n=mn(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ACt(e,t){const n=mn(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&wH(n)}function ICt(e,t,n){const r=mn(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function wH(e){e.z_.forEach(t=>{t.next()})}var G8,aoe;(aoe=G8||(G8={})).J_="default",aoe.Cache="cache";class Owe{constructor(t,n,r){this.query=t,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ob(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),n=!0):this.ta(t,this.onlineState)&&(this.na(t),n=!0),this.X_=t,n}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),n=!0),n}ta(t,n){if(!t.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ea(t){if(t.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(t){t=Ob.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==G8.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(t){this.key=t}}class Lwe{constructor(t){this.key=t}}class kCt{constructor(t,n){this.query=t,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Mn(),this.mutatedKeys=Mn(),this.Ia=twe(t),this.Ta=new K1(this.Ia)}get Ea(){return this.la}da(t,n){const r=n?n.Aa:new soe,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,f)=>{const d=i.get(c),h=F$(this.query,f)?f:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let g=!1;d&&h?d.data.isEqual(h.data)?p!==m&&(r.track({type:3,doc:h}),g=!0):this.Ra(d,h)||(r.track({type:2,doc:h}),g=!0,(u&&this.Ia(h,u)>0||l&&this.Ia(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),g=!0):d&&!h&&(r.track({type:1,doc:d}),g=!0,(u||l)&&(a=!0)),g&&(h?(s=s.add(h),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort((c,f)=>function(h,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return m(h)-m(p)}(c.type,f.type)||this.Ia(c.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,s.length!==0||l?{snapshot:new Ob(this.query,t.Ta,o,s,t.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new soe,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(n=>this.la=this.la.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Mn(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return t.forEach(r=>{this.Pa.has(r)||n.push(new Lwe(r))}),this.Pa.forEach(r=>{t.has(r)||n.push(new Mwe(r))}),n}pa(t){this.la=t.hs,this.Pa=Mn();const n=this.da(t.documents);return this.applyChanges(n,!0)}ya(){return Ob.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class RCt{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class PCt{constructor(t){this.key=t,this.wa=!1}}class NCt{constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new tw(a=>ewe(a),L$),this.Da=new Map,this.Ca=new Set,this.va=new Ei(Yt.comparator),this.Fa=new Map,this.Ma=new dH,this.xa={},this.Oa=new Map,this.Na=$b.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function DCt(e,t,n=!0){const r=Vwe(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Fwe(r,t,n,!0),i}async function $Ct(e,t){const n=Vwe(e);await Fwe(n,t,!0,!1)}async function Fwe(e,t,n,r){const i=await nCt(e.localStore,Of(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await OCt(e,t,o,s==="current",i.resumeToken)),e.isPrimaryClient&&n&&Awe(e.remoteStore,i),a}async function OCt(e,t,n,r,i){e.Ba=(f,d,h)=>async function(m,g,y,v){let b=g.view.da(y);b.Xi&&(b=await noe(m.localStore,g.query,!1).then(({documents:E})=>g.view.da(E,b)));const _=v&&v.targetChanges.get(g.targetId),w=v&&v.targetMismatches.get(g.targetId)!=null,S=g.view.applyChanges(b,m.isPrimaryClient,_,w);return loe(m,g.targetId,S.fa),S.snapshot}(e,f,d,h);const o=await noe(e.localStore,t,!0),s=new kCt(t,o.hs),a=s.da(o.documents),u=RC.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),l=s.applyChanges(a,e.isPrimaryClient,u);loe(e,n,l.fa);const c=new RCt(t,n,s);return e.ba.set(t,c),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function MCt(e,t,n){const r=mn(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!L$(s,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await W8(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mH(r.remoteStore,i.targetId),Y8(r,i.targetId)}).catch(AC)):(Y8(r,i.targetId),await W8(r.localStore,i.targetId,!0))}async function LCt(e,t){const n=mn(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mH(n.remoteStore,r.targetId))}async function FCt(e,t,n){const r=qCt(e);try{const i=await function(s,a){const u=mn(s),l=mo.now(),c=a.reduce((h,p)=>h.add(p.key),Mn());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Ph(),m=Mn();return u.os.getEntries(h,c).next(g=>{p=g,p.forEach((y,v)=>{v.isValidDocument()||(m=m.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(h,p)).next(g=>{f=g;const y=[];for(const v of a){const b=aSt(v,f.get(v.key).overlayedDocument);b!=null&&y.push(new sg(v.key,b,W_e(b.value.mapValue),pa.exists(!0)))}return u.mutationQueue.addMutationBatch(h,l,y,a)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:rwe(f)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.xa[s.currentUser.toKey()];l||(l=new Ei(pr)),l=l.insert(a,u),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),await DC(r,i.changes),await H$(r.remoteStore)}catch(i){const o=_H(i,"Failed to persist write");n.reject(o)}}async function jwe(e,t){const n=mn(e);try{const r=await ZSt(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(zr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?zr(s.wa):i.removedDocuments.size>0&&(zr(s.wa),s.wa=!1))}),await DC(n,r,t)}catch(r){await AC(r)}}function uoe(e,t,n){const r=mn(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=mn(s);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.U_)d.j_(a)&&(l=!0)}),l&&wH(u)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jCt(e,t,n){const r=mn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let s=new Ei(Yt.comparator);s=s.insert(o,Ds.newNoDocument(o,pn.min()));const a=Mn().add(o),u=new z$(pn.min(),new Map,new Ei(pr),s,a);await jwe(r,u),r.va=r.va.remove(o),r.Fa.delete(t),EH(r)}else await W8(r.localStore,t,!1).then(()=>Y8(r,t,n)).catch(AC)}async function BCt(e,t){const n=mn(e),r=t.batch.batchId;try{const i=await JSt(n.localStore,t);Uwe(n,r,null),Bwe(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await DC(n,i)}catch(i){await AC(i)}}async function UCt(e,t,n){const r=mn(e);try{const i=await function(s,a){const u=mn(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(zr(f!==null),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,t);Uwe(r,t,n),Bwe(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await DC(r,i)}catch(i){await AC(i)}}function Bwe(e,t){(e.Oa.get(t)||[]).forEach(n=>{n.resolve()}),e.Oa.delete(t)}function Uwe(e,t,n){const r=mn(e);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Y8(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(r=>{e.Ma.containsKey(r)||zwe(e,r)})}function zwe(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);n!==null&&(mH(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),EH(e))}function loe(e,t,n){for(const r of n)r instanceof Mwe?(e.Ma.addReference(r.key,t),zCt(e,r)):r instanceof Lwe?(Ft("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||zwe(e,r.key)):sn()}function zCt(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(Ft("SyncEngine","New document in limbo: "+n),e.Ca.add(r),EH(e))}function EH(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Yt(Kr.fromString(t)),r=e.Na.next();e.Fa.set(r,new PCt(n)),e.va=e.va.insert(n,r),Awe(e.remoteStore,new jp(Of(uH(n.path)),r,"TargetPurposeLimboResolution",nH.oe))}}async function DC(e,t,n){const r=mn(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,t,n).then(l=>{if((l||n)&&r.isPrimaryClient){const c=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,c?"current":"not-current")}if(l){i.push(l);const c=pH.Ki(u.targetId,l);o.push(c)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,l){const c=mn(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ze.forEach(l,d=>Ze.forEach(d.qi,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ze.forEach(d.Qi,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!IC(f))throw f;Ft("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const h=c.ns.get(d),p=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(d,m)}}}(r.localStore,o))}async function VCt(e,t){const n=mn(e);if(!n.currentUser.isEqual(t)){Ft("SyncEngine","User change. New user:",t.toKey());const r=await xwe(n.localStore,t);n.currentUser=t,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new St(Ve.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await DC(n,r.us)}}function HCt(e,t){const n=mn(e),r=n.Fa.get(t);if(r&&r.wa)return Mn().add(r.key);{let i=Mn();const o=n.Da.get(t);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function Vwe(e){const t=mn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jwe.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HCt.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jCt.bind(null,t),t.Sa.h_=ACt.bind(null,t.eventManager),t.Sa.ka=ICt.bind(null,t.eventManager),t}function qCt(e){const t=mn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BCt.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UCt.bind(null,t),t}class coe{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=V$(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return QSt(this.persistence,new KSt,t.initialUser,this.serializer)}createPersistence(t){return new WSt(hH.Hr,this.serializer)}createSharedClientState(t){return new iCt}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WCt{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uoe(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VCt.bind(null,this.syncEngine),await TCt(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new CCt}()}createDatastore(t){const n=V$(t.databaseInfo.databaseId),r=function(o){return new uCt(o)}(t.databaseInfo);return function(o,s,a,u){return new fCt(o,s,a,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new hCt(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>uoe(this.syncEngine,n,0),function(){return ioe.D()?new ioe:new oCt}())}createSyncEngine(t,n){return function(i,o,s,a,u,l,c){const f=new NCt(i,o,s,a,u,l);return c&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const i=mn(r);Ft("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await NC(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Rh("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GCt{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ma.UNAUTHENTICATED,this.clientId=V_e.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Ft("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ft("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new St(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new uh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=_H(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function C6(e,t){e.asyncQueue.verifyOperationInProgress(),Ft("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await xwe(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function foe(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qwe(e);Ft("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>ooe(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>ooe(t.remoteStore,i)),e._onlineComponents=t}function YCt(e){return e.name==="FirebaseError"?e.code===Ve.FAILED_PRECONDITION||e.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function qwe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ft("FirestoreClient","Using user provided OfflineComponentProvider");try{await C6(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!YCt(n))throw n;ZT("Error using user provided cache. Falling back to memory cache: "+n),await C6(e,new coe)}}else Ft("FirestoreClient","Using default OfflineComponentProvider"),await C6(e,new coe);return e._offlineComponents}async function xH(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ft("FirestoreClient","Using user provided OnlineComponentProvider"),await foe(e,e._uninitializedComponentsProvider._online)):(Ft("FirestoreClient","Using default OnlineComponentProvider"),await foe(e,new WCt))),e._onlineComponents}function KCt(e){return qwe(e).then(t=>t.persistence)}function XCt(e){return xH(e).then(t=>t.remoteStore)}function QCt(e){return xH(e).then(t=>t.syncEngine)}async function Wwe(e){const t=await xH(e),n=t.eventManager;return n.onListen=DCt.bind(null,t.syncEngine),n.onUnlisten=MCt.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$Ct.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=LCt.bind(null,t.syncEngine),n}function JCt(e){return e.asyncQueue.enqueue(async()=>{const t=await KCt(e),n=await XCt(e);return t.setNetworkEnabled(!0),function(i){const o=mn(i);return o.M_.delete(0),PC(o)}(n)})}function ZCt(e,t,n={}){const r=new uh;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){const c=new Hwe({next:d=>{s.enqueueAndForget(()=>$we(o,f));const h=d.docs.has(a);!h&&d.fromCache?l.reject(new St(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&u&&u.source==="server"?l.reject(new St(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Owe(uH(a.path),c,{includeMetadataChanges:!0,ra:!0});return Dwe(o,f)}(await Wwe(e),e.asyncQueue,t,n,r)),r.promise}function e2t(e,t,n={}){const r=new uh;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,l){const c=new Hwe({next:d=>{s.enqueueAndForget(()=>$we(o,f)),d.fromCache&&u.source==="server"?l.reject(new St(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),f=new Owe(a,c,{includeMetadataChanges:!0,ra:!0});return Dwe(o,f)}(await Wwe(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ywe(e,t,n){if(!n)throw new St(Ve.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function t2t(e,t,n,r){if(t===!0&&r===!0)throw new St(Ve.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hoe(e){if(!Yt.isDocumentKey(e))throw new St(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function poe(e){if(Yt.isDocumentKey(e))throw new St(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function q$(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":sn()}function Nl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new St(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=q$(e);throw new St(Ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class moe{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new St(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new St(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t2t("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gwe((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new St(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new St(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new St(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class TH{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new moe({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new St(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new St(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new moe(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yTt;switch(r.type){case"firstParty":return new _Tt(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new St(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=doe.get(n);r&&(Ft("ComponentProvider","Removing Datastore"),doe.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ag(this.firestore,t,this._query)}}class ma{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ma(this.firestore,t,this._key)}}class lm extends ag{constructor(t,n,r){super(t,n,uH(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ma(this.firestore,null,new Yt(t))}withConverter(t){return new lm(this.firestore,t,this._path)}}function ea(e,t,...n){if(e=Vr(e),Ywe("collection","path",t),e instanceof TH){const r=Kr.fromString(t,...n);return poe(r),new lm(e,null,r)}{if(!(e instanceof ma||e instanceof lm))throw new St(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Kr.fromString(t,...n));return poe(r),new lm(e.firestore,null,r)}}function xi(e,t,...n){if(e=Vr(e),arguments.length===1&&(t=V_e.newId()),Ywe("doc","path",t),e instanceof TH){const r=Kr.fromString(t,...n);return hoe(r),new ma(e,null,new Yt(r))}{if(!(e instanceof ma||e instanceof lm))throw new St(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Kr.fromString(t,...n));return hoe(r),new ma(e.firestore,e instanceof lm?e.converter:null,new Yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2t{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Swe(this,"async_queue_retry"),this.hu=()=>{const n=S6();n&&Ft("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const t=S6();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const n=S6();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new uh;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!IC(t))throw t;Ft("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(t){const n=this.iu.then(()=>(this.uu=!0,t().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Rh("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(t,n,r){this.Pu(),this.lu.indexOf(t)>-1&&(n=0);const i=bH.createAndSchedule(this,t,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&sn()}verifyOperationInProgress(){}async du(){let t;do t=this.iu,await t;while(t!==this.iu)}Au(t){for(const n of this._u)if(n.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const n=this._u.indexOf(t);this._u.splice(n,1)}}class Kh extends TH{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new n2t}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kwe(this),this._firestoreClient.terminate()}}function r2t(e,t,n){n||(n="(default)");const r=J_(e,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(QT(o,t))return i;throw new St(Ve.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new St(Ve.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new St(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function $C(e){return e._firestoreClient||Kwe(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kwe(e){var t,n,r;const i=e._freezeSettings(),o=function(a,u,l,c){return new DTt(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Gwe(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new GCt(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function i2t(e){return JCt($C(e=Nl(e,Kh)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mb(Hs.fromBase64String(t))}catch(n){throw new St(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Mb(Hs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new St(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SH=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new St(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new St(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return pr(this._lat,t._lat)||pr(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2t=/^__.*__$/;class s2t{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new sg(t,this.data,this.fieldMask,n,this.fieldTransforms):new kC(t,this.data,n,this.fieldTransforms)}}class Xwe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new sg(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qwe(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class CH{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new CH(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return oP(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(Qwe(this.fu)&&o2t.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class a2t{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||V$(t)}Fu(t,n,r,i=!1){return new CH({fu:t,methodName:n,vu:r,path:ss.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MC(e){const t=e._freezeSettings(),n=V$(e._databaseId);return new a2t(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AH(e,t,n,r,i,o={}){const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);kH("Data must be an object, but it was:",s,r);const a=eEe(r,s);let u,l;if(o.merge)u=new Pu(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=K8(t,f,n);if(!s.contains(d))throw new St(Ve.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);nEe(c,d)||c.push(d)}u=new Pu(c),l=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=s.fieldTransforms;return new s2t(new Va(a),u,l)}class G$ extends W${_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof G$}}class IH extends W${_toFieldTransform(t){return new rSt(t.path,new oS)}isEqual(t){return t instanceof IH}}function Jwe(e,t,n,r){const i=e.Fu(1,t,n);kH("Data must be an object, but it was:",i,r);const o=[],s=Va.empty();Zy(r,(u,l)=>{const c=RH(t,u,n);l=Vr(l);const f=i.Su(c);if(l instanceof G$)o.push(c);else{const d=LC(l,f);d!=null&&(o.push(c),s.set(c,d))}});const a=new Pu(o);return new Xwe(s,a,i.fieldTransforms)}function Zwe(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[K8(t,r,n)],u=[i];if(o.length%2!=0)throw new St(Ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(K8(t,o[d])),u.push(o[d+1]);const l=[],c=Va.empty();for(let d=a.length-1;d>=0;--d)if(!nEe(l,a[d])){const h=a[d];let p=u[d];p=Vr(p);const m=s.Su(h);if(p instanceof G$)l.push(h);else{const g=LC(p,m);g!=null&&(l.push(h),c.set(h,g))}}const f=new Pu(l);return new Xwe(c,f,s.fieldTransforms)}function u2t(e,t,n,r=!1){return LC(n,e.Fu(r?4:3,t))}function LC(e,t){if(tEe(e=Vr(e)))return kH("Unsupported field value:",t,e),eEe(e,t);if(e instanceof W$)return function(r,i){if(!Qwe(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=LC(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eSt(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mo.fromDate(r);return{timestampValue:rP(i.serializer,o)}}if(r instanceof mo){const o=new mo(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rP(i.serializer,o)}}if(r instanceof SH)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mb)return{bytesValue:gwe(i.serializer,r._byteString)};if(r instanceof ma){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fH(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${q$(r)}`)}(e,t)}function eEe(e,t){const n={};return H_e(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zy(e,(r,i)=>{const o=LC(i,t.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tEe(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof mo||e instanceof SH||e instanceof Mb||e instanceof ma||e instanceof W$)}function kH(e,t,n){if(!tEe(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=q$(n);throw r==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function K8(e,t,n){if((t=Vr(t))instanceof OC)return t._internalPath;if(typeof t=="string")return RH(e,t);throw oP("Field path arguments must be of type string or ",e,!1,void 0,n)}const l2t=new RegExp("[~\\*/\\[\\]]");function RH(e,t,n){if(t.search(l2t)>=0)throw oP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new OC(...t.split("."))._internalPath}catch{throw oP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function oP(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new St(Ve.INVALID_ARGUMENT,a+e+u)}function nEe(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rEe{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ma(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new c2t(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Y$("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c2t extends rEe{data(){return super.data()}}function Y$(e,t){return typeof t=="string"?RH(e,t):t instanceof OC?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2t(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new St(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PH{}class NH extends PH{}function sP(e,t,...n){let r=[];t instanceof PH&&r.push(t),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof $H).length,a=o.filter(u=>u instanceof K$).length;if(s>1||s>0&&a>0)throw new St(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class K$ extends NH{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new K$(t,n,r)}_apply(t){const n=this._parse(t);return oEe(t._query,n),new ag(t.firestore,t.converter,U8(t._query,n))}_parse(t){const n=MC(t.firestore);return function(o,s,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new St(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yoe(f,c);const h=[];for(const p of f)h.push(goe(u,o,p));d={arrayValue:{values:h}}}else d=goe(u,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yoe(f,c),d=u2t(a,s,f,c==="in"||c==="not-in");return to.create(l,c,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function DH(e,t,n){const r=t,i=Y$("where",e);return K$._create(i,r,n)}class $H extends PH{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new $H(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Lc.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)oEe(s,u),s=U8(s,u)}(t._query,n),new ag(t.firestore,t.converter,U8(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class OH extends NH{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new OH(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new St(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new St(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iS(o,s)}(t._query,this._field,this._direction);return new ag(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ew(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function d2t(e,t="asc"){const n=t,r=Y$("orderBy",e);return OH._create(r,n)}class MH extends NH{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new MH(t,n,r)}_apply(t){return new ag(t.firestore,t.converter,tP(t._query,this._limit,this._limitType))}}function iEe(e){return MH._create("limit",e,"F")}function goe(e,t,n){if(typeof(n=Vr(n))=="string"){if(n==="")throw new St(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z_e(t)&&n.indexOf("/")!==-1)throw new St(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Kr.fromString(n));if(!Yt.isDocumentKey(r))throw new St(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jie(e,new Yt(r))}if(n instanceof ma)return jie(e,n._key);throw new St(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${q$(n)}.`)}function yoe(e,t){if(!Array.isArray(e)||e.length===0)throw new St(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oEe(e,t){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new St(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class h2t{convertValue(t,n="none"){switch(ny(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ty(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw sn()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Zy(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new SH(Zi(t.latitude),Zi(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=iH(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tS(t));default:return null}}convertTimestamp(t){const n=Am(t);return new mo(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Kr.fromString(t);zr(Ewe(r));const i=new nS(r.get(1),r.get(3)),o=new Yt(r.popFirst(5));return i.isEqual(n)||Rh(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sEe extends rEe{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Y$("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fk extends sEe{data(t={}){return super.data(t)}}class p2t{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new HE(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new fk(this._firestore,this._userDataWriter,r.key,r,new HE(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new St(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new fk(i._firestore,i._userDataWriter,a.doc.key,a.doc,new HE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new fk(i._firestore,i._userDataWriter,a.doc.key,a.doc,new HE(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:m2t(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function m2t(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(e){e=Nl(e,ma);const t=Nl(e.firestore,Kh);return ZCt($C(t),e._key).then(n=>v2t(t,e,n))}class aEe extends h2t{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mb(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ma(this.firestore,null,n)}}function kp(e){e=Nl(e,ag);const t=Nl(e.firestore,Kh),n=$C(t),r=new aEe(t);return f2t(e._query),e2t(n,e._query).then(i=>new p2t(t,r,e,i))}function vu(e,t,n){e=Nl(e,ma);const r=Nl(e.firestore,Kh),i=LH(e.converter,t,n);return FC(r,[AH(MC(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,pa.none())])}function FH(e,t,n,...r){e=Nl(e,ma);const i=Nl(e.firestore,Kh),o=MC(i);let s;return s=typeof(t=Vr(t))=="string"||t instanceof OC?Zwe(o,"updateDoc",e._key,t,n,r):Jwe(o,"updateDoc",e._key,t),FC(i,[s.toMutation(e._key,pa.exists(!0))])}function g2t(e){return FC(Nl(e.firestore,Kh),[new U$(e._key,pa.none())])}function y2t(e,t){const n=Nl(e.firestore,Kh),r=xi(e),i=LH(e.converter,t);return FC(n,[AH(MC(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,pa.exists(!1))]).then(()=>r)}function FC(e,t){return function(r,i){const o=new uh;return r.asyncQueue.enqueueAndForget(async()=>FCt(await QCt(r),i,o)),o.promise}($C(e),t)}function v2t(e,t,n){const r=n.docs.get(t._key),i=new aEe(e);return new sEe(e,i,t._key,r,new HE(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2t{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=MC(t)}set(t,n,r){this._verifyNotCommitted();const i=A6(t,this._firestore),o=LH(i.converter,n,r),s=AH(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,pa.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const o=A6(t,this._firestore);let s;return s=typeof(n=Vr(n))=="string"||n instanceof OC?Zwe(this._dataReader,"WriteBatch.update",o._key,n,r,i):Jwe(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,pa.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=A6(t,this._firestore);return this._mutations=this._mutations.concat(new U$(n._key,pa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(Ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function A6(e,t){if((e=Vr(e)).firestore!==t)throw new St(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function _2t(){return new IH("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(e){return $C(e=Nl(e,Kh)),new b2t(e,t=>FC(e,t))}(function(t,n=!0){(function(i){Z_=i})(Jy),kh(new Hf("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Kh(new vTt(r.getProvider("auth-internal")),new ETt(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new St(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nS(l.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rc(Oie,"4.6.3",t),Rc(Oie,"4.6.3","esm2017")})();const w2t={},E2t=Object.freeze(Object.defineProperty({__proto__:null,default:w2t},Symbol.toStringTag,{value:"Module"})),x2t=MOe(E2t);var T2t=x2t;function S2t(e,t){var n,r="",i=0,o=!0,s=0,a;function u(){return a=e.charAt(s),s++,a}for(u(),a==="-"&&(r="-",u());a>="0"&&a<="9";)o&&(a=="0"?i++:o=!1),r+=a,u();if(o&&i--,a===".")for(r+=".";u()&&a>="0"&&a<="9";)r+=a;if(a==="e"||a==="E")for(r+=a,u(),(a==="-"||a==="+")&&(r+=a,u());a>="0"&&a<="9";)r+=a,u();for(;a&&a<=" ";)u();if(t&&(a===","||a==="}"||a==="]"||a==="#"||a==="/"&&(e[s]==="/"||e[s]==="*"))&&(a=0),n=+r,!(a||i||!isFinite(n)))return n}function C2t(e,t){return Object.defineProperty&&Object.defineProperty(e,"__COMMENTS__",{enumerable:!1,writable:!0}),e.__COMMENTS__=t||{}}function A2t(e){Object.defineProperty(e,"__COMMENTS__",{value:void 0})}function I2t(e){return e.__COMMENTS__}function k2t(e){if(!e)return"";var t=e.split(`
`),n,r,i,o;for(i=0;i<t.length;i++)for(n=t[i],o=n.length,r=0;r<o;r++){var s=n[r];if(s==="#")break;if(s==="/"&&(n[r+1]==="/"||n[r+1]==="*")){n[r+1]==="*"&&(i=t.length);break}else if(s>" "){t[i]="# "+n;break}}return t.join(`
`)}var X$={EOL:T2t.EOL||`
`,tryParseNumber:S2t,createComment:C2t,removeComment:A2t,getComment:I2t,forceComment:k2t},R2t="3.2.1";function P2t(e,t){if(Object.prototype.toString.apply(e)!=="[object Array]"){if(e)throw new Error("dsf option must contain an array!");return boe}else if(e.length===0)return boe;var n=[];function r(i){return{}.toString.call(i)==="[object Function]"}return e.forEach(function(i){if(!i.name||!r(i.parse)||!r(i.stringify))throw new Error("extension does not match the DSF interface");n.push(function(){try{if(t=="parse")return i.parse.apply(null,arguments);if(t=="stringify"){var o=i.stringify.apply(null,arguments);if(o!==void 0&&(typeof o!="string"||o.length===0||o[0]==='"'||[].some.call(o,function(s){return D2t(s)})))throw new Error("value may not be empty, start with a quote or contain a punctuator character except colon: "+o);return o}else throw new Error("Invalid type")}catch(s){throw new Error("DSF-"+i.name+" failed; "+s.message)}})}),N2t.bind(null,n)}function N2t(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n](t);if(r!==void 0)return r}}function boe(){}function D2t(e){return e==="{"||e==="}"||e==="["||e==="]"||e===","}function uEe(){return{name:"math",parse:function(e){switch(e){case"+inf":case"inf":case"+Inf":case"Inf":return 1/0;case"-inf":case"-Inf":return-1/0;case"nan":case"NaN":return NaN}},stringify:function(e){if(typeof e=="number"){if(1/e===-1/0)return"-0";if(e===1/0)return"Inf";if(e===-1/0)return"-Inf";if(isNaN(e))return"NaN"}}}}uEe.description="support for Inf/inf, -Inf/-inf, Nan/naN and -0";function lEe(e){var t=e&&e.out;return{name:"hex",parse:function(n){if(/^0x[0-9A-Fa-f]+$/.test(n))return parseInt(n,16)},stringify:function(n){if(t&&Number.isInteger(n))return"0x"+n.toString(16)}}}lEe.description="parse hexadecimal numbers prefixed with 0x";function cEe(){return{name:"date",parse:function(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)||/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}(?:.\d+)(?:Z|[+-]\d{2}:\d{2})$/.test(e)){var t=Date.parse(e);if(!isNaN(t))return new Date(t)}},stringify:function(e){if(Object.prototype.toString.call(e)==="[object Date]"){var t=e.toISOString();return t.indexOf("T00:00:00.000Z",t.length-14)!==-1?t.substr(0,10):t}}}}cEe.description="support ISO dates";var jH={loadDsf:P2t,std:{math:uEe,hex:lEe,date:cEe}},$2t=function(e,t){var n=X$,r=jH,i,o,s,a={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,l;function c(){o=0,s=" "}function f(O){return O==="{"||O==="}"||O==="["||O==="]"||O===","||O===":"}function d(O){var j,M=0,B=1;for(j=o-1;j>0&&i[j]!==`
`;j--,M++);for(;j>0;j--)i[j]===`
`&&B++;throw new Error(O+" at line "+B+","+M+" >>>"+i.substr(o-M,20)+" ...")}function h(){return s=i.charAt(o),o++,s}function p(O){return i.charAt(o+O)}function m(O){for(var j="",M=s;h();){if(s===M)return h(),O&&M==="'"&&s==="'"&&j.length===0?(h(),g()):j;if(s==="\\")if(h(),s==="u"){for(var B=0,V=0;V<4;V++){h();var q=s.charCodeAt(0),D;s>="0"&&s<="9"?D=q-48:s>="a"&&s<="f"?D=q-97+10:s>="A"&&s<="F"?D=q-65+10:d("Bad \\u char "+s),B=B*16+D}j+=String.fromCharCode(B)}else if(typeof a[s]=="string")j+=a[s];else break;else s===`
`||s==="\r"?d("Bad string containing newline"):j+=s}d("Bad string")}function g(){for(var O="",j=0,M=0;;){var B=p(-M-5);if(!B||B===`
`)break;M++}function V(){for(var q=M;s&&s<=" "&&s!==`
`&&q-- >0;)h()}for(;s&&s<=" "&&s!==`
`;)h();for(s===`
`&&(h(),V());;){if(!s)d("Bad multiline string");else if(s==="'"){if(j++,h(),j===3)return O.slice(-1)===`
`&&(O=O.slice(0,-1)),O;continue}else for(;j>0;)O+="'",j--;s===`
`?(O+=`
`,h(),V()):(s!=="\r"&&(O+=s),h())}}function y(){if(s==='"'||s==="'")return m(!1);for(var O="",j=o,M=-1;;){if(s===":")return O?M>=0&&M!==O.length&&(o=j+M,d("Found whitespace in your key name (use quotes to include)")):d("Found ':' but no key name (for an empty key name use quotes)"),O;s<=" "?s?M<0&&(M=O.length):d("Found EOF while looking for a key name (check your syntax)"):f(s)?d("Found '"+s+"' where a key name was expected (check your syntax or use quotes if the key name includes {}[],: or whitespace)"):O+=s,h()}}function v(){for(;s;){for(;s&&s<=" ";)h();if(s==="#"||s==="/"&&p(0)==="/")for(;s&&s!==`
`;)h();else if(s==="/"&&p(0)==="*"){for(h(),h();s&&!(s==="*"&&p(0)==="/");)h();s&&(h(),h())}else break}}function b(){var O=s;for(f(s)&&d("Found a punctuator character '"+s+"' when expecting a quoteless string (check your syntax)");;){h();var j=s==="\r"||s===`
`||s==="";if(j||s===","||s==="}"||s==="]"||s==="#"||s==="/"&&(p(0)==="/"||p(0)==="*")){var M=O[0];switch(M){case"f":if(O.trim()==="false")return!1;break;case"n":if(O.trim()==="null")return null;break;case"t":if(O.trim()==="true")return!0;break;default:if(M==="-"||M>="0"&&M<="9"){var B=n.tryParseNumber(O);if(B!==void 0)return B}}if(j){O=O.trim();var V=l(O);return V!==void 0?V:O}}O+=s}}function _(O,j){var M;for(O--,M=o-2;M>O&&i[M]<=" "&&i[M]!==`
`;M--);i[M]===`
`&&M--,i[M]==="\r"&&M--;var B=i.substr(O,M-O+1);for(M=0;M<B.length;M++)if(B[M]>" "){var V=B.indexOf(`
`);if(V>=0){var q=[B.substr(0,V),B.substr(V+1)];return j&&q[0].trim().length===0&&q.shift(),q}else return[B]}return[]}function w(O){function j(B,V){var q,D,U,W;switch(typeof B){case"string":B.indexOf(V)>=0&&(W=B);break;case"object":if(Object.prototype.toString.apply(B)==="[object Array]")for(q=0,U=B.length;q<U;q++)W=j(B[q],V)||W;else for(D in B)Object.prototype.hasOwnProperty.call(B,D)&&(W=j(B[D],V)||W)}return W}function M(B){var V=j(O,B);return V?"found '"+B+`' in a string value, your mistake could be with:
  > `+V+`
  (unquoted strings contain everything up to the next line!)`:""}return M("}")||M("]")}function S(){var O=[],j,M,B;try{if(u&&(j=n.createComment(O,{a:[]})),h(),M=o,v(),j&&(B=_(M,!0).join(`
`)),s==="]")return h(),j&&(j.e=[B]),O;for(;s;){if(O.push(C()),M=o,v(),s===","&&(h(),M=o,v()),j){var V=_(M);j.a.push([B||"",V[0]||""]),B=V[1]}if(s==="]")return h(),j&&(j.a[j.a.length-1][1]+=B||""),O;v()}d("End of input while parsing an array (missing ']')")}catch(q){throw q.hint=q.hint||w(O),q}}function E(O){var j="",M={},B,V,q;try{if(u&&(B=n.createComment(M,{c:{},o:[]})),O?V=1:(h(),V=o),v(),B&&(q=_(V,!0).join(`
`)),s==="}"&&!O)return B&&(B.e=[q]),h(),M;for(;s;){if(j=y(),v(),s!==":"&&d("Expected ':' instead of '"+s+"'"),h(),M[j]=C(),V=o,v(),s===","&&(h(),V=o,v()),B){var D=_(V);B.c[j]=[q||"",D[0]||""],q=D[1],B.o.push(j)}if(s==="}"&&!O)return h(),B&&(B.c[j][1]+=q||""),M;v()}if(O)return M;d("End of input while parsing an object (missing '}')")}catch(U){throw U.hint=U.hint||w(M),U}}function C(){switch(v(),s){case"{":return E();case"[":return S();case"'":case'"':return m(!0);default:return b()}}function A(O,j){var M=o;if(v(),s&&d("Syntax error, found trailing characters"),u){var B=j.join(`
`),V=_(M).join(`
`);if(V||B){var q=n.createComment(O,n.getComment(O));q.r=[B,V]}}return O}function k(){v();var O=u?_(1):null;switch(s){case"{":return A(E(),O);case"[":return A(S(),O);default:return A(C(),O)}}function P(){v();var O=u?_(1):null;switch(s){case"{":return A(E(),O);case"[":return A(S(),O)}try{return A(E(!0),O)}catch(j){c();try{return A(C(),O)}catch{throw j}}}if(typeof e!="string")throw new Error("source is not a string");var $=null,N=!0;return t&&typeof t=="object"&&(u=t.keepWsc,$=t.dsf,N=t.legacyRoot!==!1),l=r.loadDsf($,"parse"),i=e,c(),N?P():k()},O2t=function(e,t){var n=X$,r=jH,i={obj:["{","}"],arr:["[","]"],key:["",""],qkey:['"','"'],col:[":",""],com:[",",""],str:["",""],qstr:['"','"'],mstr:["'''","'''"],num:["",""],lit:["",""],dsf:["",""],esc:["\\",""],uni:["\\u",""],rem:["",""]},o=n.EOL,s="  ",a=!1,u=!1,l=!1,c=!1,f=0,d=1,h="",p=null,m=!1,g=i;if(t&&typeof t=="object"){t.quotes=t.quotes==="always"?"strings":t.quotes,(t.eol===`
`||t.eol===`\r
`)&&(o=t.eol),a=t.keepWsc,f=t.condense||0,u=t.bracesSameLine,l=t.quotes==="all"||t.quotes==="keys",c=t.quotes==="all"||t.quotes==="strings"||t.separator===!0,c||t.multiline=="off"?d=0:d=t.multiline=="no-tabs"?2:1,h=t.separator===!0?g.com[0]:"",p=t.dsf,m=t.sortProps,typeof t.space=="number"?s=new Array(t.space+1).join(" "):typeof t.space=="string"&&(s=t.space),t.colors===!0&&(g={obj:["\x1B[37m{\x1B[0m","\x1B[37m}\x1B[0m"],arr:["\x1B[37m[\x1B[0m","\x1B[37m]\x1B[0m"],key:["\x1B[33m","\x1B[0m"],qkey:['\x1B[33m"','"\x1B[0m'],col:["\x1B[37m:\x1B[0m",""],com:["\x1B[37m,\x1B[0m",""],str:["\x1B[37;1m","\x1B[0m"],qstr:['\x1B[37;1m"','"\x1B[0m'],mstr:["\x1B[37;1m'''","'''\x1B[0m"],num:["\x1B[36;1m","\x1B[0m"],lit:["\x1B[36m","\x1B[0m"],dsf:["\x1B[37m","\x1B[0m"],esc:["\x1B[31m\\","\x1B[0m"],uni:["\x1B[31m\\u","\x1B[0m"],rem:["\x1B[35m","\x1B[0m"]});var y,v=Object.keys(i);for(y=v.length-1;y>=0;y--){var b=v[y];g[b].push(i[b][0].length,i[b][1].length)}}var _,w="---\u2028--\uFEFF-",S=new RegExp('[\\\\\\"\0-'+w+"]","g"),E=new RegExp(`^\\s|^"|^'|^#|^\\/\\*|^\\/\\/|^\\{|^\\}|^\\[|^\\]|^:|^,|\\s$|[\0-`+w+"]","g"),C=new RegExp("'''|^[\\s]+$|[\0-"+(d===2?"	":"\b")+"\v\f-"+w+"]","g"),A=new RegExp("^(true|false|null)\\s*((,|\\]|\\}|#|//|/\\*).*)?$"),k={"\b":"b","	":"t","\n":"n","\f":"f","\r":"r",'"':'"',"\\":"\\"},P=/[,\{\[\}\]\s:#"']|\/\/|\/\*/,$="",N=0;function O(W,F){return N+=W[0].length+W[1].length-W[2]-W[3],W[0]+F+W[1]}function j(W){return W.replace(S,function(F){var z=k[F];return typeof z=="string"?O(g.esc,z):O(g.uni,("0000"+F.charCodeAt(0).toString(16)).slice(-4))})}function M(W,F,z,G){return W?(E.lastIndex=0,A.lastIndex=0,c||z||E.test(W)||n.tryParseNumber(W,!0)!==void 0||A.test(W)?(S.lastIndex=0,C.lastIndex=0,S.test(W)?!C.test(W)&&!G&&d?B(W,F):O(g.qstr,j(W)):O(g.qstr,W)):O(g.str,W)):O(g.qstr,"")}function B(W,F){var z,G=W.replace(/\r/g,"").split(`
`);if(F+=s,G.length===1)return O(g.mstr,G[0]);var ee=o+F+g.mstr[0];for(z=0;z<G.length;z++)ee+=o,G[z]&&(ee+=F+G[z]);return ee+o+F+g.mstr[1]}function V(W){return W?l||P.test(W)?(S.lastIndex=0,O(g.qkey,S.test(W)?j(W):W)):O(g.key,W):'""'}function q(W,F,z,G){function ee(pt){return pt&&pt[pt[0]==="\r"?1:0]===`
`}function ce(pt){return pt&&!ee(pt)}function le(pt,Qt,un){if(!pt)return"";pt=n.forceComment(pt);var Jt,Yi=pt.length;for(Jt=0;Jt<Yi&&pt[Jt]<=" ";Jt++);return un&&Jt>0&&(pt=pt.substr(Jt)),Jt<Yi?Qt+O(g.rem,pt):pt}var se=_(W);if(se!==void 0)return O(g.dsf,se);switch(typeof W){case"string":return M(W,$,F,G);case"number":return isFinite(W)?O(g.num,String(W)):O(g.lit,"null");case"boolean":return O(g.lit,String(W));case"object":if(!W)return O(g.lit,"null");var ge;a&&(ge=n.getComment(W));var be=Object.prototype.toString.apply(W)==="[object Array]",ve=$;$+=s;var Ye=o+ve,Ue=o+$,ht=z||u?"":Ye,Je=[],ke,Ne=f?[]:null,ze=c,ut=d,Mt=h?"":g.com[0],qe=0,me,Xe,vt,he,Te,Le,He,lt,an;if(be){for(me=0,Xe=W.length;me<Xe;me++){if(ke=me<Xe-1,ge?(Le=ge.a[me]||[],He=ce(Le[1]),Je.push(le(Le[0],`
`)+Ue),Ne&&(Le[0]||Le[1]||He)&&(Ne=null)):Je.push(Ue),N=0,he=W[me],Je.push(q(he,ge?He:!1,!0)+(ke?h:"")),Ne){switch(typeof he){case"string":N=0,c=!0,d=0,Ne.push(q(he,!1,!0)+(ke?g.com[0]:"")),c=ze,d=ut;break;case"object":if(he){Ne=null;break}default:Ne.push(Je[Je.length-1]+(ke?Mt:""));break}ke&&(N+=g.com[0].length-g.com[2]),qe+=N}ge&&Le[1]&&Je.push(le(Le[1],He?" ":`
`,He))}Xe===0?ge&&ge.e&&Je.push(le(ge.e[0],`
`)+Ye):Je.push(Ye),Je.length===0?lt=O(g.arr,""):(lt=ht+O(g.arr,Je.join("")),Ne&&(an=Ne.join(" "),an.length-qe<=f&&(lt=O(g.arr,an))))}else{var $n=ge?ge.o.slice():[],ct=[];for(vt in W)Object.prototype.hasOwnProperty.call(W,vt)&&$n.indexOf(vt)<0&&ct.push(vt);m&&ct.sort();var $t=$n.concat(ct);for(me=0,Xe=$t.length;me<Xe;me++)if(ke=me<Xe-1,vt=$t[me],ge?(Le=ge.c[vt]||[],He=ce(Le[1]),Je.push(le(Le[0],`
`)+Ue),Ne&&(Le[0]||Le[1]||He)&&(Ne=null)):Je.push(Ue),N=0,he=W[vt],Te=q(he,ge&&He),Je.push(V(vt)+g.col[0]+(ee(Te)?"":" ")+Te+(ke?h:"")),ge&&Le[1]&&Je.push(le(Le[1],He?" ":`
`,He)),Ne){switch(typeof he){case"string":N=0,c=!0,d=0,Te=q(he,!1),c=ze,d=ut,Ne.push(V(vt)+g.col[0]+" "+Te+(ke?g.com[0]:""));break;case"object":if(he){Ne=null;break}default:Ne.push(Je[Je.length-1]+(ke?Mt:""));break}N+=g.col[0].length-g.col[2],ke&&(N+=g.com[0].length-g.com[2]),qe+=N}Xe===0?ge&&ge.e&&Je.push(le(ge.e[0],`
`)+Ye):Je.push(Ye),Je.length===0?lt=O(g.obj,""):(lt=ht+O(g.obj,Je.join("")),Ne&&(an=Ne.join(" "),an.length-qe<=f&&(lt=O(g.obj,an))))}return $=ve,lt}}_=r.loadDsf(p,"stringify");var D="",U=a?U=(n.getComment(e)||{}).r:null;return U&&U[0]&&(D=U[0]+`
`),D+=q(e,null,!0,!0),U&&(D+=U[1]||""),D},X1=X$;function Vx(e,t,n){var r;return e&&(r={b:e}),t&&((r=r||{}).a=t),n&&((r=r||{}).x=n),r}function X8(e,t){if(!(e===null||typeof e!="object")){var n=X1.getComment(e);n&&X1.removeComment(e);var r,i,o,s;if(Object.prototype.toString.apply(e)==="[object Array]"){for(s={a:{}},r=0,i=e.length;r<i;r++)_oe(s.a,r,n.a[r],X8(e[r]))&&(o=!0);!o&&n.e&&(s.e=Vx(n.e[0],n.e[1]),o=!0)}else{s={s:{}};var a,u=Object.keys(e);for(n&&n.o?(a=[],n.o.concat(u).forEach(function(c){Object.prototype.hasOwnProperty.call(e,c)&&a.indexOf(c)<0&&a.push(c)})):a=u,s.o=a,r=0,i=a.length;r<i;r++){var l=a[r];_oe(s.s,l,n.c[l],X8(e[l]))&&(o=!0)}!o&&n.e&&(s.e=Vx(n.e[0],n.e[1]),o=!0)}return t&&n&&n.r&&(s.r=Vx(n.r[0],n.r[1])),o?s:void 0}}function M2t(){var e="";return[].forEach.call(arguments,function(t){t&&t.trim()!==""&&(e&&(e+="; "),e+=t.trim())}),e}function L2t(e,t){var n=[];if(Q8(e,t,n,[]),n.length>0){var r=aP(t,null,1);r+=`
# Orphaned comments:
`,n.forEach(function(i){r+=("# "+i.path.join("/")+": "+M2t(i.b,i.a,i.e)).replace(`
`,"\\n ")+`
`}),aP(t,r,1)}}function _oe(e,t,n,r){var i=Vx(n?n[0]:void 0,n?n[1]:void 0,r);return i&&(e[t]=i),i}function Hx(e,t){var n=Vx(t.b,t.a);return n.path=e,n}function qx(e,t,n){if(e){var r,i;if(e.a)for(r=0,i=e.a.length;r<i;r++){var o=n.slice().concat([r]),s=e.a[r];s&&(t.push(Hx(o,s)),qx(s.x,t,o))}else e.o&&e.o.forEach(function(a){var u=n.slice().concat([a]),l=e.s[a];l&&(t.push(Hx(u,l)),qx(l.x,t,u))});e.e&&t.push(Hx(n,e.e))}}function Q8(e,t,n,r){if(e){if(t===null||typeof t!="object"){qx(e,n,r);return}var i,o=X1.createComment(t);if(r.length===0&&e.r&&(o.r=[e.r.b,e.r.a]),Object.prototype.toString.apply(t)==="[object Array]"){o.a=[];var s=e.a||{};for(var a in s)if(s.hasOwnProperty(a)){i=parseInt(a);var u=e.a[a];if(u){var l=r.slice().concat([i]);i<t.length?(o.a[i]=[u.b,u.a],Q8(u.x,t[i],n,l)):(n.push(Hx(l,u)),qx(u.x,n,l))}}i===0&&e.e&&(o.e=[e.e.b,e.e.a])}else o.c={},o.o=[],(e.o||[]).forEach(function(c){var f=r.slice().concat([c]),d=e.s[c];Object.prototype.hasOwnProperty.call(t,c)?(o.o.push(c),d&&(o.c[c]=[d.b,d.a],Q8(d.x,t[c],n,f))):d&&(n.push(Hx(f,d)),qx(d.x,n,f))}),e.e&&(o.e=[e.e.b,e.e.a])}}function aP(e,t,n){var r=X1.createComment(e,X1.getComment(e));return r.r||(r.r=["",""]),(t||t==="")&&(r.r[n]=X1.forceComment(t)),r.r[n]||""}var F2t={extract:function(e){return X8(e,!0)},merge:L2t,header:function(e,t){return aP(e,t,0)},footer:function(e,t){return aP(e,t,1)}};/*!
 * Hjson v3.2.1
 * https://hjson.github.io
 *
 * Copyright 2014-2017 Christian Zangl, MIT license
 * Details and documentation:
 * https://github.com/hjson/hjson-js
 *
 * This code is based on the the JSON version by Douglas Crockford:
 * https://github.com/douglascrockford/JSON-js (json_parse.js, json2.js)
 */var woe=X$,j2t=R2t,Eoe=$2t,xoe=O2t,B2t=F2t,U2t=jH,BH={parse:Eoe,stringify:xoe,endOfLine:function(){return woe.EOL},setEndOfLine:function(e){(e===`
`||e===`\r
`)&&(woe.EOL=e)},version:j2t,rt:{parse:function(e,t){return(t=t||{}).keepWsc=!0,Eoe(e,t)},stringify:function(e,t){return(t=t||{}).keepWsc=!0,xoe(e,t)}},comments:B2t,dsf:U2t.std},z2t="firebase",V2t="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rc(z2t,V2t,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fEe="firebasestorage.googleapis.com",dEe="storageBucket",H2t=2*60*1e3,q2t=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ud{constructor(t,n,r=0){super(I6(t),`Firebase Storage: ${n} (${I6(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return I6(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function I6(e){return"storage/"+e}function UH(){const e="An unknown error occurred, please check the error payload for server response.";return new Oi($i.UNKNOWN,e)}function W2t(e){return new Oi($i.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function G2t(e){return new Oi($i.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y2t(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oi($i.UNAUTHENTICATED,e)}function K2t(){return new Oi($i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X2t(e){return new Oi($i.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Q2t(){return new Oi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J2t(){return new Oi($i.CANCELED,"User canceled the upload/download.")}function Z2t(e){return new Oi($i.INVALID_URL,"Invalid URL '"+e+"'.")}function eAt(e){return new Oi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function tAt(){return new Oi($i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dEe+"' property when initializing the app?")}function nAt(){return new Oi($i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rAt(){return new Oi($i.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iAt(e){return new Oi($i.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function J8(e){return new Oi($i.INVALID_ARGUMENT,e)}function hEe(){return new Oi($i.APP_DELETED,"The Firebase app was deleted.")}function oAt(e){return new Oi($i.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wx(e,t){return new Oi($i.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function nE(e){throw new Oi($i.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=fa.makeFromUrl(t,n)}catch{return new fa(t,"")}if(r.path==="")return r;throw eAt(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${c}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===fEe?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${g}`,"i"),b=[{regex:a,indices:u,postModify:o},{regex:h,indices:p,postModify:l},{regex:y,indices:{bucket:1,path:2},postModify:l}];for(let _=0;_<b.length;_++){const w=b[_],S=w.regex.exec(t);if(S){const E=S[w.indices.bucket];let C=S[w.indices.path];C||(C=""),r=new fa(E,C),w.postModify(r);break}}if(r==null)throw Z2t(t);return r}}class sAt{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aAt(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function c(...g){l||(l=!0,t.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,e(h,u())},g)}function d(){o&&clearTimeout(o)}function h(g,...y){if(l){d();return}if(g){d(),c.call(null,g,...y);return}if(u()||s){d(),c.call(null,g,...y);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,f(b)}let p=!1;function m(g){p||(p=!0,d(),!l&&(i!==null?(g||(a=2),clearTimeout(i),f(0)):g||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function uAt(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lAt(e){return e!==void 0}function cAt(e){return typeof e=="object"&&!Array.isArray(e)}function zH(e){return typeof e=="string"||e instanceof String}function Toe(e){return VH()&&e instanceof Blob}function VH(){return typeof Blob<"u"}function Z8(e,t,n,r){if(r<t)throw J8(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw J8(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function pEe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I0;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(I0||(I0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fAt(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dAt{constructor(t,n,r,i,o,s,a,u,l,c,f,d=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new MA(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===I0.NO_ERROR,u=o.getStatus();if(!a||fAt(u,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===I0.ABORT;r(!1,new MA(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new MA(l,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());lAt(u)?o(u):o()}catch(u){s(u)}else if(a!==null){const u=UH();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){const u=this.appDelete_?hEe():J2t();s(u)}else{const u=Q2t();s(u)}};this.canceled_?n(!1,new MA(!1,null,!0)):this.backoffId_=aAt(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&uAt(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class MA{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function hAt(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function pAt(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function mAt(e,t){t&&(e["X-Firebase-GMPID"]=t)}function gAt(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function yAt(e,t,n,r,i,o,s=!0){const a=pEe(e.urlParams),u=e.url+a,l=Object.assign({},e.headers);return mAt(l,t),hAt(l,n),pAt(l,o),gAt(l,r),new dAt(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vAt(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bAt(...e){const t=vAt();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(VH())return new Blob(e);throw new Oi($i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _At(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wAt(e){if(typeof atob>"u")throw iAt("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class k6{constructor(t,n){this.data=t,this.contentType=n||null}}function EAt(e,t){switch(e){case kf.RAW:return new k6(mEe(t));case kf.BASE64:case kf.BASE64URL:return new k6(gEe(e,t));case kf.DATA_URL:return new k6(TAt(t),SAt(t))}throw UH()}function mEe(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xAt(e){let t;try{t=decodeURIComponent(e)}catch{throw Wx(kf.DATA_URL,"Malformed data URL.")}return mEe(t)}function gEe(e,t){switch(e){case kf.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw Wx(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case kf.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw Wx(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=wAt(t)}catch(i){throw i.message.includes("polyfill")?i:Wx(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class yEe{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Wx(kf.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CAt(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function TAt(e){const t=new yEe(e);return t.base64?gEe(kf.BASE64,t.rest):xAt(t.rest)}function SAt(e){return new yEe(e).contentType}function CAt(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n){let r=0,i="";Toe(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(Toe(this.data_)){const r=this.data_,i=_At(r,t,n);return i===null?null:new Rp(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Rp(r,!0)}}static getBlob(...t){if(VH()){const n=t.map(r=>r instanceof Rp?r.data_:r);return new Rp(bAt.apply(null,n))}else{const n=t.map(s=>zH(s)?EAt(kf.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Rp(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(e){let t;try{t=JSON.parse(e)}catch{return null}return cAt(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AAt(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function IAt(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function vEe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kAt(e,t){return t}class Qs{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||kAt}}let LA=null;function RAt(e){return!zH(e)||e.length<2?e:vEe(e)}function bEe(){if(LA)return LA;const e=[];e.push(new Qs("bucket")),e.push(new Qs("generation")),e.push(new Qs("metageneration")),e.push(new Qs("name","fullPath",!0));function t(o,s){return RAt(s)}const n=new Qs("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Qs("size");return i.xform=r,e.push(i),e.push(new Qs("timeCreated")),e.push(new Qs("updated")),e.push(new Qs("md5Hash",null,!0)),e.push(new Qs("cacheControl",null,!0)),e.push(new Qs("contentDisposition",null,!0)),e.push(new Qs("contentEncoding",null,!0)),e.push(new Qs("contentLanguage",null,!0)),e.push(new Qs("contentType",null,!0)),e.push(new Qs("metadata","customMetadata",!0)),LA=e,LA}function PAt(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new fa(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function NAt(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return PAt(r,e),r}function _Ee(e,t,n){const r=HH(t);return r===null?null:NAt(e,r,n)}function DAt(e,t,n,r){const i=HH(t);if(i===null||!zH(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const c=e.bucket,f=e.fullPath,d="/b/"+s(c)+"/o/"+s(f),h=jC(d,n,r),p=pEe({alt:"media",token:l});return h+p})[0]}function $At(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Soe="prefixes",Coe="items";function OAt(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Soe])for(const i of n[Soe]){const o=i.replace(/\/$/,""),s=e._makeStorageReference(new fa(t,o));r.prefixes.push(s)}if(n[Coe])for(const i of n[Coe]){const o=e._makeStorageReference(new fa(t,i.name));r.items.push(o)}return r}function MAt(e,t,n){const r=HH(n);return r===null?null:OAt(e,t,r)}class Q${constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(e){if(!e)throw UH()}function LAt(e,t){function n(r,i){const o=_Ee(e,i,t);return qH(o!==null),o}return n}function FAt(e,t){function n(r,i){const o=MAt(e,t,i);return qH(o!==null),o}return n}function jAt(e,t){function n(r,i){const o=_Ee(e,i,t);return qH(o!==null),DAt(o,i,e.host,e._protocol)}return n}function WH(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=K2t():i=Y2t():n.getStatus()===402?i=G2t(e.bucket):n.getStatus()===403?i=X2t(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function wEe(e){const t=WH(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=W2t(e.path)),o.serverResponse=i.serverResponse,o}return n}function BAt(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=t.bucketOnlyServerUrl(),a=jC(s,e.host,e._protocol),u="GET",l=e.maxOperationRetryTime,c=new Q$(a,u,FAt(e,t.bucket),l);return c.urlParams=o,c.errorHandler=WH(t),c}function UAt(e,t,n){const r=t.fullServerUrl(),i=jC(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Q$(i,o,jAt(e,n),s);return a.errorHandler=wEe(t),a}function zAt(e,t){const n=t.fullServerUrl(),r=jC(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(u,l){}const a=new Q$(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=wEe(t),a}function VAt(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function HAt(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=VAt(null,t)),r}function qAt(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let _=0;_<2;_++)b=b+Math.random().toString().slice(2);return b}const u=a();s["Content-Type"]="multipart/related; boundary="+u;const l=HAt(t,r,i),c=$At(l,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Rp.getBlob(f,r,d);if(h===null)throw nAt();const p={name:l.fullPath},m=jC(o,e.host,e._protocol),g="POST",y=e.maxUploadRetryTime,v=new Q$(m,g,LAt(e,n),y);return v.urlParams=p,v.headers=s,v.body=h.uploadData(),v.errorHandler=WH(t),v}class WAt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=I0.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=I0.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=I0.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw nE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class GAt extends WAt{initXhr(){this.xhr_.responseType="text"}}function J$(){return new GAt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,n){this._service=t,n instanceof fa?this._location=n:this._location=fa.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ry(t,n)}get root(){const t=new fa(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vEe(this._location.path)}get storage(){return this._service}get parent(){const t=AAt(this._location.path);if(t===null)return null;const n=new fa(this._location.bucket,t);return new ry(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw oAt(t)}}function YAt(e,t,n){e._throwIfRoot("uploadBytes");const r=qAt(e.storage,e._location,bEe(),new Rp(t,!0),n);return e.storage.makeRequestWithTokens(r,J$).then(i=>({metadata:i,ref:e}))}function KAt(e){const t={prefixes:[],items:[]};return EEe(e,t).then(()=>t)}async function EEe(e,t,n){const i=await XAt(e,{pageToken:n});t.prefixes.push(...i.prefixes),t.items.push(...i.items),i.nextPageToken!=null&&await EEe(e,t,i.nextPageToken)}function XAt(e,t){t!=null&&typeof t.maxResults=="number"&&Z8("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=BAt(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,J$)}function QAt(e){e._throwIfRoot("getDownloadURL");const t=UAt(e.storage,e._location,bEe());return e.storage.makeRequestWithTokens(t,J$).then(n=>{if(n===null)throw rAt();return n})}function JAt(e){e._throwIfRoot("deleteObject");const t=zAt(e.storage,e._location);return e.storage.makeRequestWithTokens(t,J$)}function ZAt(e,t){const n=IAt(e._location.path,t),r=new fa(e._location.bucket,n);return new ry(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eIt(e){return/^[A-Za-z]+:\/\//.test(e)}function tIt(e,t){return new ry(e,t)}function xEe(e,t){if(e instanceof GH){const n=e;if(n._bucket==null)throw tAt();const r=new ry(n,n._bucket);return t!=null?xEe(r,t):r}else return t!==void 0?ZAt(e,t):e}function nIt(e,t){if(t&&eIt(t)){if(e instanceof GH)return tIt(e,t);throw J8("To use ref(service, url), the first argument must be a Storage instance.")}else return xEe(e,t)}function Aoe(e,t){const n=t==null?void 0:t[dEe];return n==null?null:fa.makeFromBucketSpec(n,e)}function rIt(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:VEt(i,e.app.options.projectId))}class GH{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=fEe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=H2t,this._maxUploadRetryTime=q2t,this._requests=new Set,i!=null?this._bucket=fa.makeFromBucketSpec(i,this._host):this._bucket=Aoe(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=fa.makeFromBucketSpec(this._url,t):this._bucket=Aoe(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Z8("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Z8("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ry(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new sAt(hEe());{const s=yAt(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Ioe="@firebase/storage",koe="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TEe="storage";function R6(e,t,n){return e=Vr(e),YAt(e,t,n)}function rE(e){return e=Vr(e),KAt(e)}function P6(e){return e=Vr(e),QAt(e)}function Roe(e){return e=Vr(e),JAt(e)}function rl(e,t){return e=Vr(e),nIt(e,t)}function iIt(e=eH(),t){e=Vr(e);const r=J_(e,TEe).getImmediate({identifier:t}),i=zEt("storage");return i&&oIt(r,...i),r}function oIt(e,t,n,r={}){rIt(e,t,n,r)}function sIt(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new GH(n,r,i,t,Jy)}function aIt(){kh(new Hf(TEe,sIt,"PUBLIC").setMultipleInstances(!0)),Rc(Ioe,koe,""),Rc(Ioe,koe,"esm2017")}aIt();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new Map,SEe={activated:!1,tokenObservers:[]},uIt={initialized:!1,enabled:!1};function go(e){return e9.get(e)||Object.assign({},SEe)}function lIt(e,t){return e9.set(e,t),e9.get(e)}function Z$(){return uIt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CEe="https://content-firebaseappcheck.googleapis.com/v1",cIt="exchangeRecaptchaV3Token",fIt="exchangeDebugToken",Poe={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},dIt=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hIt{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new XT,this.pending.promise.catch(n=>{}),await pIt(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new XT,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function pIt(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mIt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ka=new Q_("appCheck","AppCheck",mIt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Noe(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function YH(e){if(!go(e).activated)throw Ka.create("use-before-activation",{appName:e.name})}function AEe(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),o=t-n*3600*24-r*3600-i*60;let s="";return n&&(s+=FA(n)+"d:"),r&&(s+=FA(r)+"h:"),s+=FA(i)+"m:"+FA(o)+"s",s}function FA(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const f=await i.getHeartbeatsHeader();f&&(r["X-Firebase-Client"]=f)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s;try{s=await fetch(e,o)}catch(f){throw Ka.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(s.status!==200)throw Ka.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(f){throw Ka.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ka.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=Number(u[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}function gIt(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${CEe}/projects/${n}/apps/${r}:${cIt}?key=${i}`,body:{recaptcha_v3_token:t}}}function IEe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${CEe}/projects/${n}/apps/${r}:${fIt}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yIt="firebase-app-check-database",vIt=1,uS="firebase-app-check-store",kEe="debug-token";let jA=null;function REe(){return jA||(jA=new Promise((e,t)=>{try{const n=indexedDB.open(yIt,vIt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ka.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(uS,{keyPath:"compositeKey"})}}}catch(n){t(Ka.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),jA)}function bIt(e){return NEe(DEe(e))}function _It(e,t){return PEe(DEe(e),t)}function wIt(e){return PEe(kEe,e)}function EIt(){return NEe(kEe)}async function PEe(e,t){const r=(await REe()).transaction(uS,"readwrite"),o=r.objectStore(uS).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ka.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}async function NEe(e){const n=(await REe()).transaction(uS,"readonly"),i=n.objectStore(uS).get(e);return new Promise((o,s)=>{i.onsuccess=a=>{const u=a.target.result;o(u?u.value:void 0)},n.onerror=a=>{var u;s(Ka.create("storage-get",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})}function DEe(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new O$("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xIt(e){if(JV()){let t;try{t=await bIt(e)}catch(n){lS.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function N6(e,t){return JV()?_It(e,t).catch(n=>{lS.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function TIt(){let e;try{e=await EIt()}catch{}if(e)return e;{const t=ixt();return wIt(t).catch(n=>lS.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(){return Z$().enabled}async function QH(){const e=Z$();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function SIt(){const e=A_e(),t=Z$();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new XT;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(TIt())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CIt={error:"UNKNOWN_ERROR"};function AIt(e){return QV.encodeString(JSON.stringify(e),!1)}async function t9(e,t=!1){const n=e.app;YH(n);const r=go(n);let i=r.token,o;if(i&&!A1(i)&&(r.token=void 0,i=void 0),!i){const u=await r.cachedTokenPromise;u&&(A1(u)?i=u:await N6(n,void 0))}if(!t&&i&&A1(i))return{token:i.token};let s=!1;if(XH()){r.exchangeTokenPromise||(r.exchangeTokenPromise=KH(IEe(n,await QH()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=await r.exchangeTokenPromise;return await N6(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=await go(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"?lS.warn(u.message):lS.error(u),o=u}let a;return i?o?A1(i)?a={token:i.token,internalError:o}:a=$oe(o):(a={token:i.token},r.token=i,await N6(n,i)):a=$oe(o),s&&MEe(n,a),a}async function IIt(e){const t=e.app;YH(t);const{provider:n}=go(t);if(XH()){const r=await QH(),{token:i}=await KH(IEe(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function $Ee(e,t,n,r){const{app:i}=e,o=go(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&A1(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Doe(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Doe(e))}function OEe(e,t){const n=go(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Doe(e){const{app:t}=e,n=go(t);let r=n.tokenRefresher;r||(r=kIt(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function kIt(e){const{app:t}=e;return new hIt(async()=>{const n=go(t);let r;if(n.token?r=await t9(e,!0):r=await t9(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=go(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Poe.RETRIAL_MIN_WAIT,Poe.RETRIAL_MAX_WAIT)}function MEe(e,t){const n=go(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function A1(e){return e.expireTimeMillis-Date.now()>0}function $oe(e){return{token:AIt(CIt),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RIt{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=go(this.app);for(const n of t)OEe(this.app,n.next);return Promise.resolve()}}function PIt(e,t){return new RIt(e,t)}function NIt(e){return{getToken:t=>t9(e,t),getLimitedUseToken:()=>IIt(e),addTokenListener:t=>$Ee(e,"INTERNAL",t),removeTokenListener:t=>OEe(e.app,t)}}const DIt="@firebase/app-check",$It="0.8.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OIt="https://www.google.com/recaptcha/api.js";function MIt(e,t){const n=new XT,r=go(e);r.reCAPTCHAState={initialized:n};const i=LIt(e),o=Noe(!1);return o?Ooe(e,t,o,i,n):BIt(()=>{const s=Noe(!1);if(!s)throw new Error("no recaptcha");Ooe(e,t,s,i,n)}),n.promise}function Ooe(e,t,n,r,i){n.ready(()=>{jIt(e,t,n,r),i.resolve(n)})}function LIt(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function FIt(e){YH(e);const n=await go(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const o=go(e).reCAPTCHAState;n.ready(()=>{r(n.execute(o.widgetId,{action:"fire_app_check"}))})})}function jIt(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{go(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{go(e).reCAPTCHAState.succeeded=!1}}),o=go(e);o.reCAPTCHAState=Object.assign(Object.assign({},o.reCAPTCHAState),{widgetId:i})}function BIt(e){const t=document.createElement("script");t.src=OIt,t.onload=e,document.head.appendChild(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;zIt(this._throttleData);const i=await FIt(this._app).catch(s=>{throw Ka.create("recaptcha-error")});if(!(!((t=go(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Ka.create("recaptcha-error");let o;try{o=await KH(gIt(this._app,i),this._heartbeatServiceProvider)}catch(s){throw!((n=s.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=UIt(Number((r=s.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ka.create("throttled",{time:AEe(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):s}return this._throttleData=null,o}initialize(t){this._app=t,this._heartbeatServiceProvider=J_(t,"heartbeat"),MIt(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof JH?this._siteKey===t._siteKey:!1}}function UIt(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+dIt,httpStatus:e};{const n=t?t.backoffCount:0,r=lxt(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function zIt(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Ka.create("throttled",{time:AEe(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VIt(e=eH(),t){e=Vr(e);const n=J_(e,"app-check");if(Z$().initialized||SIt(),XH()&&QH().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return i;throw Ka.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return HIt(e,t.provider,t.isTokenAutoRefreshEnabled),go(e).isTokenAutoRefreshEnabled&&$Ee(r,"INTERNAL",()=>{}),r}function HIt(e,t,n){const r=lIt(e,Object.assign({},SEe));r.activated=!0,r.provider=t,r.cachedTokenPromise=xIt(e).then(i=>(i&&A1(i)&&(r.token=i,MEe(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const qIt="app-check",Moe="app-check-internal";function WIt(){kh(new Hf(qIt,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return PIt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Moe).initialize()})),kh(new Hf(Moe,e=>{const t=e.getProvider("app-check").getImmediate();return NIt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Rc(DIt,$It)}WIt();function LEe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GIt=LEe,FEe=new Q_("auth","Firebase",LEe());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new O$("@firebase/auth");function YIt(e,...t){uP.logLevel<=Vn.WARN&&uP.warn(`Auth (${Jy}): ${e}`,...t)}function dk(e,...t){uP.logLevel<=Vn.ERROR&&uP.error(`Auth (${Jy}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(e,...t){throw eq(e,...t)}function Pc(e,...t){return eq(e,...t)}function ZH(e,t,n){const r=Object.assign(Object.assign({},GIt()),{[t]:n});return new Q_("auth","Firebase",r).create(t,{appName:e.name})}function cm(e){return ZH(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KIt(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Wf(e,"argument-error"),ZH(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eq(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return FEe.create(e,...t)}function on(e,t,...n){if(!e)throw eq(t,...n)}function Kd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dk(t),new Error(t)}function Nh(e,t){e||Kd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function XIt(){return Loe()==="http:"||Loe()==="https:"}function Loe(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QIt(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XIt()||WEt()||"connection"in navigator)?navigator.onLine:!0}function JIt(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t,n){this.shortDelay=t,this.longDelay=n,Nh(n>t,"Short delay should be less than long delay!"),this.isMobile=HEt()||GEt()}get(){return QIt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(e,t){Nh(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jEe{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZIt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ekt=new BC(3e4,6e4);function eO(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rw(e,t,n,r,i={}){return BEe(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=CC(Object.assign({key:e.config.apiKey},s)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),jEe.fetch()(zEe(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function BEe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZIt),t);try{const i=new tkt(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw BA(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw BA(e,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw BA(e,"email-already-in-use",s);if(u==="USER_DISABLED")throw BA(e,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZH(e,c,l);Wf(e,c)}}catch(i){if(i instanceof ud)throw i;Wf(e,"network-request-failed",{message:String(i)})}}async function UEe(e,t,n,r,i={}){const o=await rw(e,t,n,r,i);return"mfaPendingCredential"in o&&Wf(e,"multi-factor-auth-required",{_serverResponse:o}),o}function zEe(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?tq(e.config,i):`${e.config.apiScheme}://${i}`}class tkt{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pc(this.auth,"network-request-failed")),ekt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function BA(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pc(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nkt(e,t){return rw(e,"POST","/v1/accounts:delete",t)}async function VEe(e,t){return rw(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rkt(e,t=!1){const n=Vr(e),r=await n.getIdToken(t),i=nq(r);on(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gx(D6(i.auth_time)),issuedAtTime:Gx(D6(i.iat)),expirationTime:Gx(D6(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function D6(e){return Number(e)*1e3}function nq(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return dk("JWT malformed, contained fewer than 3 sections"),null;try{const i=C_e(n);return i?JSON.parse(i):(dk("Failed to decode base64 JWT payload"),null)}catch(i){return dk("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Foe(e){const t=nq(e);return on(t,"internal-error"),on(typeof t.exp<"u","internal-error"),on(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ud&&ikt(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function ikt({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class okt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gx(this.lastLoginAt),this.creationTime=Gx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(e){var t;const n=e.auth,r=await e.getIdToken(),i=await cS(e,VEe(n,{idToken:r}));on(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?HEe(o.providerUserInfo):[],a=akt(e.providerData,s),u=e.isAnonymous,l=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new r9(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function skt(e){const t=Vr(e);await lP(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function akt(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function HEe(e){return e.map(t=>{var{providerId:n}=t,r=KS(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ukt(e,t){const n=await BEe(e,{},async()=>{const r=CC({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=zEe(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jEe.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lkt(e,t){return rw(e,"POST","/v2/accounts:revokeToken",eO(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){on(t.idToken,"internal-error"),on(typeof t.idToken<"u","internal-error"),on(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Foe(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){on(t.length!==0,"internal-error");const n=Foe(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(on(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await ukt(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Q1;return r&&(on(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(on(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(on(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Q1,this.toJSON())}_performRefresh(){return Kd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e,t){on(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Xd{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=KS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new okt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new r9(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await cS(this,this.stsTokenManager.getToken(this.auth,t));return on(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return rkt(this,t)}reload(){return skt(this)}_assign(t){this!==t&&(on(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xd(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){on(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await lP(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(If(this.auth.app))return Promise.reject(cm(this.auth));const t=await this.getIdToken();return await cS(this,nkt(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,u,l,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:_,isAnonymous:w,providerData:S,stsTokenManager:E}=n;on(b&&E,t,"internal-error");const C=Q1.fromJSON(this.name,E);on(typeof b=="string",t,"internal-error"),up(f,t.name),up(d,t.name),on(typeof _=="boolean",t,"internal-error"),on(typeof w=="boolean",t,"internal-error"),up(h,t.name),up(p,t.name),up(m,t.name),up(g,t.name),up(y,t.name),up(v,t.name);const A=new Xd({uid:b,auth:t,email:d,emailVerified:_,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:C,createdAt:y,lastLoginAt:v});return S&&Array.isArray(S)&&(A.providerData=S.map(k=>Object.assign({},k))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(t,n,r=!1){const i=new Q1;i.updateFromServerResponse(n);const o=new Xd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await lP(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];on(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?HEe(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Q1;a.updateFromIdToken(r);const u=new Xd({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new r9(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=new Map;function Qd(e){Nh(e instanceof Function,"Expected a class definition");let t=joe.get(e);return t?(Nh(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,joe.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qEe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qEe.type="NONE";const Boe=qEe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e,t,n){return`firebase:${e}:${t}:${n}`}class J1{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hk(this.userKey,i.apiKey,o),this.fullPersistenceKey=hk("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Xd._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new J1(Qd(Boe),t,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||Qd(Boe);const s=hk(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const c=await l._get(s);if(c){const f=Xd._fromJSON(t,c);l!==o&&(a=f),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new J1(o,t,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new J1(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(YEe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WEe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XEe(t))return"Blackberry";if(QEe(t))return"Webos";if(rq(t))return"Safari";if((t.includes("chrome/")||GEe(t))&&!t.includes("edge/"))return"Chrome";if(KEe(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WEe(e=gs()){return/firefox\//i.test(e)}function rq(e=gs()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GEe(e=gs()){return/crios\//i.test(e)}function YEe(e=gs()){return/iemobile/i.test(e)}function KEe(e=gs()){return/android/i.test(e)}function XEe(e=gs()){return/blackberry/i.test(e)}function QEe(e=gs()){return/webos/i.test(e)}function tO(e=gs()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ckt(e=gs()){var t;return tO(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function fkt(){return YEt()&&document.documentMode===10}function JEe(e=gs()){return tO(e)||KEe(e)||QEe(e)||XEe(e)||/windows phone/i.test(e)||YEe(e)}function dkt(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZEe(e,t=[]){let n;switch(e){case"Browser":n=Uoe(gs());break;case"Worker":n=`${Uoe(gs())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hkt{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const u=t(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pkt(e,t={}){return rw(e,"GET","/v2/passwordPolicy",eO(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mkt=6;class gkt{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:mkt,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ykt{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zoe(this),this.idTokenSubscription=new zoe(this),this.beforeStateQueue=new hkt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FEe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Qd(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await J1.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await VEe(this,{idToken:t}),r=await Xd._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(If(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return on(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lP(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JIt()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(If(this.app))return Promise.reject(cm(this));const n=t?Vr(t):null;return n&&on(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&on(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return If(this.app)?Promise.reject(cm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return If(this.app)?Promise.reject(cm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pkt(this),n=new gkt(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Q_("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lkt(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Qd(t)||this._popupRedirectResolver;on(n,this,"argument-error"),this.redirectPersistenceManager=await J1.create(this,[Qd(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(on(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=t.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return on(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZEe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&YIt(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function UC(e){return Vr(e)}class zoe{constructor(t){this.auth=t,this.observer=null,this.addObserver=txt(n=>this.observer=n)}get next(){return on(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iq={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vkt(e){iq=e}function bkt(e){return iq.loadJS(e)}function _kt(){return iq.gapiScript}function wkt(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ekt(e,t){const n=J_(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(QT(o,t??{}))return i;Wf(i,"already-initialized")}return n.initialize({options:t})}function xkt(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Tkt(e,t,n){const r=UC(e);on(r._canInitEmulator,r,"emulator-config-failed"),on(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=exe(t),{host:s,port:a}=Skt(t),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Ckt()}function exe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Skt(e){const t=exe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Voe(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Voe(s)}}}function Voe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ckt(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class txe{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Kd("not implemented")}_getIdTokenResponse(t){return Kd("not implemented")}_linkToIdToken(t,n){return Kd("not implemented")}_getReauthenticationResolver(t){return Kd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(e,t){return UEe(e,"POST","/v1/accounts:signInWithIdp",eO(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Akt="http://localhost";class iy extends txe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new iy(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Wf("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=KS(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new iy(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Z1(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Z1(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Z1(t,n)}buildRequest(){const t={requestUri:Akt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=CC(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC extends oq{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends zC{constructor(){super("facebook.com")}static credential(t){return iy._fromParams({providerId:Pp.PROVIDER_ID,signInMethod:Pp.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pp.credentialFromTaggedObject(t)}static credentialFromError(t){return Pp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pp.credential(t.oauthAccessToken)}catch{return null}}}Pp.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pp.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends zC{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return iy._fromParams({providerId:Ud.PROVIDER_ID,signInMethod:Ud.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ud.credentialFromTaggedObject(t)}static credentialFromError(t){return Ud.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ud.credential(n,r)}catch{return null}}}Ud.GOOGLE_SIGN_IN_METHOD="google.com";Ud.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends zC{constructor(){super("github.com")}static credential(t){return iy._fromParams({providerId:Np.PROVIDER_ID,signInMethod:Np.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Np.credentialFromTaggedObject(t)}static credentialFromError(t){return Np.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Np.credential(t.oauthAccessToken)}catch{return null}}}Np.GITHUB_SIGN_IN_METHOD="github.com";Np.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends zC{constructor(){super("twitter.com")}static credential(t,n){return iy._fromParams({providerId:Dp.PROVIDER_ID,signInMethod:Dp.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Dp.credentialFromTaggedObject(t)}static credentialFromError(t){return Dp.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Dp.credential(n,r)}catch{return null}}}Dp.TWITTER_SIGN_IN_METHOD="twitter.com";Dp.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ikt(e,t){return UEe(e,"POST","/v1/accounts:signUp",eO(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Xd._fromIdTokenResponse(t,r,i),s=Hoe(r);return new km({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Hoe(r);return new km({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Hoe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kkt(e){var t;if(If(e.app))return Promise.reject(cm(e));const n=UC(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new km({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ikt(n,{returnSecureToken:!0}),i=await km._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP extends ud{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cP.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new cP(t,n,r,i)}}function nxe(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cP._fromErrorAndOperation(e,o,t,r):o})}async function Rkt(e,t,n=!1){const r=await cS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return km._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pkt(e,t,n=!1){const{auth:r}=e;if(If(r.app))return Promise.reject(cm(r));const i="reauthenticate";try{const o=await cS(e,nxe(r,i,t,e),n);on(o.idToken,r,"internal-error");const s=nq(o.idToken);on(s,r,"internal-error");const{sub:a}=s;return on(e.uid===a,r,"user-mismatch"),km._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Wf(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nkt(e,t,n=!1){if(If(e.app))return Promise.reject(cm(e));const r="signIn",i=await nxe(e,r,t),o=await km._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function Dkt(e,t,n,r){return Vr(e).onIdTokenChanged(t,n,r)}function $kt(e,t,n){return Vr(e).beforeAuthStateChanged(t,n)}function Okt(e,t,n,r){return Vr(e).onAuthStateChanged(t,n,r)}function Mkt(e){return Vr(e).signOut()}const fP="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rxe{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fP,"1"),this.storage.removeItem(fP),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lkt(){const e=gs();return rq(e)||tO(e)}const Fkt=1e3,jkt=10;class ixe extends rxe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Lkt()&&dkt(),this.fallbackToPolling=JEe(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);fkt()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,jkt):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Fkt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ixe.type="LOCAL";const Bkt=ixe;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe extends rxe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}oxe.type="SESSION";const sxe=oxe;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ukt(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new nO(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await Ukt(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nO.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sq(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zkt{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=sq("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){return window}function Vkt(e){Lf().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function axe(){return typeof Lf().WorkerGlobalScope<"u"&&typeof Lf().importScripts=="function"}async function Hkt(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qkt(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Wkt(){return axe()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uxe="firebaseLocalStorageDb",Gkt=1,dP="firebaseLocalStorage",lxe="fbase_key";class VC{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rO(e,t){return e.transaction([dP],t?"readwrite":"readonly").objectStore(dP)}function Ykt(){const e=indexedDB.deleteDatabase(uxe);return new VC(e).toPromise()}function i9(){const e=indexedDB.open(uxe,Gkt);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(dP,{keyPath:lxe})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(dP)?t(r):(r.close(),await Ykt(),t(await i9()))})})}async function qoe(e,t,n){const r=rO(e,!0).put({[lxe]:t,value:n});return new VC(r).toPromise()}async function Kkt(e,t){const n=rO(e,!1).get(t),r=await new VC(n).toPromise();return r===void 0?null:r.value}function Woe(e,t){const n=rO(e,!0).delete(t);return new VC(n).toPromise()}const Xkt=800,Qkt=3;class cxe{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await i9(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Qkt)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return axe()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nO._getInstance(Wkt()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Hkt(),!this.activeServiceWorker)return;this.sender=new zkt(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qkt()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await i9();return await qoe(t,fP,"1"),await Woe(t,fP),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qoe(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Kkt(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Woe(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=rO(i,!1).getAll();return new VC(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xkt)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cxe.type="LOCAL";const Jkt=cxe;new BC(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fxe(e,t){return t?Qd(t):(on(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq extends txe{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Z1(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Z1(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Z1(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Zkt(e){return Nkt(e.auth,new aq(e),e.bypassAuthState)}function eRt(e){const{auth:t,user:n}=e;return on(n,t,"internal-error"),Pkt(n,new aq(e),e.bypassAuthState)}async function tRt(e){const{auth:t,user:n}=e;return on(n,t,"internal-error"),Rkt(n,new aq(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dxe{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Zkt;case"linkViaPopup":case"linkViaRedirect":return tRt;case"reauthViaPopup":case"reauthViaRedirect":return eRt;default:Wf(this.auth,"internal-error")}}resolve(t){Nh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Nh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nRt=new BC(2e3,1e4);async function rRt(e,t,n){if(If(e.app))return Promise.reject(Pc(e,"operation-not-supported-in-this-environment"));const r=UC(e);KIt(e,t,oq);const i=fxe(r,n);return new p0(r,"signInViaPopup",t,i).executeNotNull()}class p0 extends dxe{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,p0.currentPopupAction&&p0.currentPopupAction.cancel(),p0.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return on(t,this.auth,"internal-error"),t}async onExecution(){Nh(this.filter.length===1,"Popup operations only handle one event");const t=sq();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p0.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nRt.get())};t()}}p0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iRt="pendingRedirect",pk=new Map;class oRt extends dxe{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=pk.get(this.auth._key());if(!t){try{const r=await sRt(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}pk.set(this.auth._key(),t)}return this.bypassAuthState||pk.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sRt(e,t){const n=lRt(t),r=uRt(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aRt(e,t){pk.set(e._key(),t)}function uRt(e){return Qd(e._redirectPersistence)}function lRt(e){return hk(iRt,e.config.apiKey,e.name)}async function cRt(e,t,n=!1){if(If(e.app))return Promise.reject(cm(e));const r=UC(e),i=fxe(r,t),s=await new oRt(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fRt=10*60*1e3;class dRt{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hRt(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!hxe(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pc(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fRt&&this.cachedEventUids.clear(),this.cachedEventUids.has(Goe(t))}saveEventToCache(t){this.cachedEventUids.add(Goe(t)),this.lastProcessedEventTime=Date.now()}}function Goe(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hxe({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hRt(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hxe(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pRt(e,t={}){return rw(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mRt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gRt=/^https?/;async function yRt(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pRt(e);for(const n of t)try{if(vRt(n))return}catch{}Wf(e,"unauthorized-domain")}function vRt(e){const t=n9(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!gRt.test(n))return!1;if(mRt.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bRt=new BC(3e4,6e4);function Yoe(){const e=Lf().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _Rt(e){return new Promise((t,n)=>{var r,i,o;function s(){Yoe(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yoe(),n(Pc(e,"network-request-failed"))},timeout:bRt.get()})}if(!((i=(r=Lf().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Lf().gapi)===null||o===void 0)&&o.load)s();else{const a=wkt("iframefcb");return Lf()[a]=()=>{gapi.load?s():n(Pc(e,"network-request-failed"))},bkt(`${_kt()}?onload=${a}`).catch(u=>n(u))}}).catch(t=>{throw mk=null,t})}let mk=null;function wRt(e){return mk=mk||_Rt(e),mk}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERt=new BC(5e3,15e3),xRt="__/auth/iframe",TRt="emulator/auth/iframe",SRt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CRt=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ARt(e){const t=e.config;on(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tq(t,TRt):`https://${e.config.authDomain}/${xRt}`,r={apiKey:t.apiKey,appName:e.name,v:Jy},i=CRt.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${CC(r).slice(1)}`}async function IRt(e){const t=await wRt(e),n=Lf().gapi;return on(n,e,"internal-error"),t.open({where:document.body,url:ARt(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SRt,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pc(e,"network-request-failed"),a=Lf().setTimeout(()=>{o(s)},ERt.get());function u(){Lf().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kRt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RRt=500,PRt=600,NRt="_blank",DRt="http://localhost";class Koe{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $Rt(e,t,n,r=RRt,i=PRt){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},kRt),{width:r.toString(),height:i.toString(),top:o,left:s}),l=gs().toLowerCase();n&&(a=GEe(l)?NRt:n),WEe(l)&&(t=t||DRt,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,p])=>`${d}${h}=${p},`,"");if(ckt(l)&&a!=="_self")return ORt(t||"",a),new Koe(null);const f=window.open(t||"",a,c);on(f,e,"popup-blocked");try{f.focus()}catch{}return new Koe(f)}function ORt(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MRt="__/auth/handler",LRt="emulator/auth/handler",FRt=encodeURIComponent("fac");async function Xoe(e,t,n,r,i,o){on(e.config.authDomain,e,"auth-domain-config-required"),on(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jy,eventId:i};if(t instanceof oq){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",ext(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(t instanceof zC){const c=t.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await e._getAppCheckToken(),l=u?`#${FRt}=${encodeURIComponent(u)}`:"";return`${jRt(e)}?${CC(a).slice(1)}${l}`}function jRt({config:e}){return e.emulator?tq(e,LRt):`https://${e.authDomain}/${MRt}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="webStorageSupport";class BRt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sxe,this._completeRedirectFn=cRt,this._overrideRedirectResult=aRt}async _openPopup(t,n,r,i){var o;Nh((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Xoe(t,n,r,n9(),i);return $Rt(t,s,sq())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await Xoe(t,n,r,n9(),i);return Vkt(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Nh(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await IRt(t),r=new dRt(t);return n.register("authEvent",i=>(on(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($6,{type:$6},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$6];s!==void 0&&n(!!s),Wf(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yRt(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return JEe()||rq()||tO()}}const pxe=BRt;var Qoe="@firebase/auth",Joe="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class URt{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){on(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zRt(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VRt(e){kh(new Hf("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;on(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZEe(e)},l=new ykt(r,i,o,u);return xkt(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),kh(new Hf("auth-internal",t=>{const n=UC(t.getProvider("auth").getImmediate());return(r=>new URt(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rc(Qoe,Joe,zRt(e)),Rc(Qoe,Joe,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HRt=5*60,qRt=R_e("authIdTokenMaxAge")||HRt;let Zoe=null;const WRt=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qRt)return;const i=n==null?void 0:n.token;Zoe!==i&&(Zoe=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hP(e=eH()){const t=J_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Ekt(e,{popupRedirectResolver:pxe,persistence:[Jkt,Bkt,sxe]}),r=R_e("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=WRt(o.toString());$kt(n,s,()=>s(n.currentUser)),Dkt(n,a=>s(a))}}const i=I_e("auth");return i&&Tkt(n,`http://${i}`),n}function GRt(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}vkt({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Pc("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",GRt().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VRt("Browser");function UA(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mxe={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(l,c){if(!i[l]){if(!r[l]){var f=typeof UA=="function"&&UA;if(!c&&f)return f(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};r[l][0].call(h.exports,function(p){var m=r[l][1][p];return s(m||p)},h,h.exports,n,r,i,o)}return i[l].exports}for(var a=typeof UA=="function"&&UA,u=0;u<o.length;u++)s(o[u]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var u=0,l=new s(p),c=o.document.createTextNode("");l.observe(c,{characterData:!0}),a=function(){c.data=u=++u%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=p,a=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){p(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:a=function(){setTimeout(p,0)};var d,h=[];function p(){d=!0;for(var g,y,v=h.length;v;){for(y=h,h=[],g=-1;++g<v;)y[g]();v=h.length}d=!1}r.exports=m;function m(g){h.push(g)===1&&!d&&a()}}).call(this,typeof ki<"u"?ki:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];r.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,w!==s&&m(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,S){if(typeof w!="function"&&this.state===l||typeof S!="function"&&this.state===u)return this;var E=new this.constructor(s);if(this.state!==c){var C=this.state===l?w:S;h(E,C,this.outcome)}else this.queue.push(new d(E,w,S));return E};function d(w,S,E){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(w){a.resolve(this.promise,w)},d.prototype.otherCallFulfilled=function(w){h(this.promise,this.onFulfilled,w)},d.prototype.callRejected=function(w){a.reject(this.promise,w)},d.prototype.otherCallRejected=function(w){h(this.promise,this.onRejected,w)};function h(w,S,E){o(function(){var C;try{C=S(E)}catch(A){return a.reject(w,A)}C===w?a.reject(w,new TypeError("Cannot resolve promise with itself")):a.resolve(w,C)})}a.resolve=function(w,S){var E=g(p,S);if(E.status==="error")return a.reject(w,E.value);var C=E.value;if(C)m(w,C);else{w.state=l,w.outcome=S;for(var A=-1,k=w.queue.length;++A<k;)w.queue[A].callFulfilled(S)}return w},a.reject=function(w,S){w.state=u,w.outcome=S;for(var E=-1,C=w.queue.length;++E<C;)w.queue[E].callRejected(S);return w};function p(w){var S=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof S=="function")return function(){S.apply(w,arguments)}}function m(w,S){var E=!1;function C($){E||(E=!0,a.reject(w,$))}function A($){E||(E=!0,a.resolve(w,$))}function k(){S(A,C)}var P=g(k);P.status==="error"&&C(P.value)}function g(w,S){var E={};try{E.value=w(S),E.status="success"}catch(C){E.status="error",E.value=C}return E}f.resolve=y;function y(w){return w instanceof this?w:a.resolve(new this(s),w)}f.reject=v;function v(w){var S=new this(s);return a.reject(S,w)}f.all=b;function b(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=w.length,C=!1;if(!E)return this.resolve([]);for(var A=new Array(E),k=0,P=-1,$=new this(s);++P<E;)N(w[P],P);return $;function N(O,j){S.resolve(O).then(M,function(B){C||(C=!0,a.reject($,B))});function M(B){A[j]=B,++k===E&&!C&&(C=!0,a.resolve($,A))}}}f.race=_;function _(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=w.length,C=!1;if(!E)return this.resolve([]);for(var A=-1,k=new this(s);++A<E;)P(w[A]);return k;function P($){S.resolve($).then(function(N){C||(C=!0,a.resolve(k,N))},function(N){C||(C=!0,a.reject(k,N))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ki<"u"?ki:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y};function s(Y,ie){if(!(Y instanceof ie))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var Y=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ie=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Y||ie)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(Y,ie){Y=Y||[],ie=ie||{};try{return new Blob(Y,ie)}catch(fe){if(fe.name!=="TypeError")throw fe;for(var J=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,de=new J,ye=0;ye<Y.length;ye+=1)de.append(Y[ye]);return de.getBlob(ie.type)}}typeof Promise>"u"&&n(3);var f=Promise;function d(Y,ie){ie&&Y.then(function(J){ie(null,J)},function(J){ie(J)})}function h(Y,ie,J){typeof ie=="function"&&Y.then(ie),typeof J=="function"&&Y.catch(J)}function p(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}function m(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",y=void 0,v={},b=Object.prototype.toString,_="readonly",w="readwrite";function S(Y){for(var ie=Y.length,J=new ArrayBuffer(ie),de=new Uint8Array(J),ye=0;ye<ie;ye++)de[ye]=Y.charCodeAt(ye);return J}function E(Y){return new f(function(ie){var J=Y.transaction(g,w),de=c([""]);J.objectStore(g).put(de,"key"),J.onabort=function(ye){ye.preventDefault(),ye.stopPropagation(),ie(!1)},J.oncomplete=function(){var ye=navigator.userAgent.match(/Chrome\/(\d+)/),fe=navigator.userAgent.match(/Edge\//);ie(fe||!ye||parseInt(ye[1],10)>=43)}}).catch(function(){return!1})}function C(Y){return typeof y=="boolean"?f.resolve(y):E(Y).then(function(ie){return y=ie,y})}function A(Y){var ie=v[Y.name],J={};J.promise=new f(function(de,ye){J.resolve=de,J.reject=ye}),ie.deferredOperations.push(J),ie.dbReady?ie.dbReady=ie.dbReady.then(function(){return J.promise}):ie.dbReady=J.promise}function k(Y){var ie=v[Y.name],J=ie.deferredOperations.pop();if(J)return J.resolve(),J.promise}function P(Y,ie){var J=v[Y.name],de=J.deferredOperations.pop();if(de)return de.reject(ie),de.promise}function $(Y,ie){return new f(function(J,de){if(v[Y.name]=v[Y.name]||W(),Y.db)if(ie)A(Y),Y.db.close();else return J(Y.db);var ye=[Y.name];ie&&ye.push(Y.version);var fe=u.open.apply(u,ye);ie&&(fe.onupgradeneeded=function($e){var We=fe.result;try{We.createObjectStore(Y.storeName),$e.oldVersion<=1&&We.createObjectStore(g)}catch(Ke){if(Ke.name==="ConstraintError")console.warn('The database "'+Y.name+'" has been upgraded from version '+$e.oldVersion+" to version "+$e.newVersion+', but the storage "'+Y.storeName+'" already exists.');else throw Ke}}),fe.onerror=function($e){$e.preventDefault(),de(fe.error)},fe.onsuccess=function(){var $e=fe.result;$e.onversionchange=function(We){We.target.close()},J($e),k(Y)}})}function N(Y){return $(Y,!1)}function O(Y){return $(Y,!0)}function j(Y,ie){if(!Y.db)return!0;var J=!Y.db.objectStoreNames.contains(Y.storeName),de=Y.version<Y.db.version,ye=Y.version>Y.db.version;if(de&&(Y.version!==ie&&console.warn('The database "'+Y.name+`" can't be downgraded from version `+Y.db.version+" to version "+Y.version+"."),Y.version=Y.db.version),ye||J){if(J){var fe=Y.db.version+1;fe>Y.version&&(Y.version=fe)}return!0}return!1}function M(Y){return new f(function(ie,J){var de=new FileReader;de.onerror=J,de.onloadend=function(ye){var fe=btoa(ye.target.result||"");ie({__local_forage_encoded_blob:!0,data:fe,type:Y.type})},de.readAsBinaryString(Y)})}function B(Y){var ie=S(atob(Y.data));return c([ie],{type:Y.type})}function V(Y){return Y&&Y.__local_forage_encoded_blob}function q(Y){var ie=this,J=ie._initReady().then(function(){var de=v[ie._dbInfo.name];if(de&&de.dbReady)return de.dbReady});return h(J,Y,Y),J}function D(Y){A(Y);for(var ie=v[Y.name],J=ie.forages,de=0;de<J.length;de++){var ye=J[de];ye._dbInfo.db&&(ye._dbInfo.db.close(),ye._dbInfo.db=null)}return Y.db=null,N(Y).then(function(fe){return Y.db=fe,j(Y)?O(Y):fe}).then(function(fe){Y.db=ie.db=fe;for(var $e=0;$e<J.length;$e++)J[$e]._dbInfo.db=fe}).catch(function(fe){throw P(Y,fe),fe})}function U(Y,ie,J,de){de===void 0&&(de=1);try{var ye=Y.db.transaction(Y.storeName,ie);J(null,ye)}catch(fe){if(de>0&&(!Y.db||fe.name==="InvalidStateError"||fe.name==="NotFoundError"))return f.resolve().then(function(){if(!Y.db||fe.name==="NotFoundError"&&!Y.db.objectStoreNames.contains(Y.storeName)&&Y.version<=Y.db.version)return Y.db&&(Y.version=Y.db.version+1),O(Y)}).then(function(){return D(Y).then(function(){U(Y,ie,J,de-1)})}).catch(J);J(fe)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(Y){var ie=this,J={db:null};if(Y)for(var de in Y)J[de]=Y[de];var ye=v[J.name];ye||(ye=W(),v[J.name]=ye),ye.forages.push(ie),ie._initReady||(ie._initReady=ie.ready,ie.ready=q);var fe=[];function $e(){return f.resolve()}for(var We=0;We<ye.forages.length;We++){var Ke=ye.forages[We];Ke!==ie&&fe.push(Ke._initReady().catch($e))}var Ge=ye.forages.slice(0);return f.all(fe).then(function(){return J.db=ye.db,N(J)}).then(function(it){return J.db=it,j(J,ie._defaultConfig.version)?O(J):it}).then(function(it){J.db=ye.db=it,ie._dbInfo=J;for(var At=0;At<Ge.length;At++){var nn=Ge[At];nn!==ie&&(nn._dbInfo.db=J.db,nn._dbInfo.version=J.version)}})}function z(Y,ie){var J=this;Y=p(Y);var de=new f(function(ye,fe){J.ready().then(function(){U(J._dbInfo,_,function($e,We){if($e)return fe($e);try{var Ke=We.objectStore(J._dbInfo.storeName),Ge=Ke.get(Y);Ge.onsuccess=function(){var it=Ge.result;it===void 0&&(it=null),V(it)&&(it=B(it)),ye(it)},Ge.onerror=function(){fe(Ge.error)}}catch(it){fe(it)}})}).catch(fe)});return d(de,ie),de}function G(Y,ie){var J=this,de=new f(function(ye,fe){J.ready().then(function(){U(J._dbInfo,_,function($e,We){if($e)return fe($e);try{var Ke=We.objectStore(J._dbInfo.storeName),Ge=Ke.openCursor(),it=1;Ge.onsuccess=function(){var At=Ge.result;if(At){var nn=At.value;V(nn)&&(nn=B(nn));var Lt=Y(nn,At.key,it++);Lt!==void 0?ye(Lt):At.continue()}else ye()},Ge.onerror=function(){fe(Ge.error)}}catch(At){fe(At)}})}).catch(fe)});return d(de,ie),de}function ee(Y,ie,J){var de=this;Y=p(Y);var ye=new f(function(fe,$e){var We;de.ready().then(function(){return We=de._dbInfo,b.call(ie)==="[object Blob]"?C(We.db).then(function(Ke){return Ke?ie:M(ie)}):ie}).then(function(Ke){U(de._dbInfo,w,function(Ge,it){if(Ge)return $e(Ge);try{var At=it.objectStore(de._dbInfo.storeName);Ke===null&&(Ke=void 0);var nn=At.put(Ke,Y);it.oncomplete=function(){Ke===void 0&&(Ke=null),fe(Ke)},it.onabort=it.onerror=function(){var Lt=nn.error?nn.error:nn.transaction.error;$e(Lt)}}catch(Lt){$e(Lt)}})}).catch($e)});return d(ye,J),ye}function ce(Y,ie){var J=this;Y=p(Y);var de=new f(function(ye,fe){J.ready().then(function(){U(J._dbInfo,w,function($e,We){if($e)return fe($e);try{var Ke=We.objectStore(J._dbInfo.storeName),Ge=Ke.delete(Y);We.oncomplete=function(){ye()},We.onerror=function(){fe(Ge.error)},We.onabort=function(){var it=Ge.error?Ge.error:Ge.transaction.error;fe(it)}}catch(it){fe(it)}})}).catch(fe)});return d(de,ie),de}function le(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){U(ie._dbInfo,w,function(fe,$e){if(fe)return ye(fe);try{var We=$e.objectStore(ie._dbInfo.storeName),Ke=We.clear();$e.oncomplete=function(){de()},$e.onabort=$e.onerror=function(){var Ge=Ke.error?Ke.error:Ke.transaction.error;ye(Ge)}}catch(Ge){ye(Ge)}})}).catch(ye)});return d(J,Y),J}function se(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){U(ie._dbInfo,_,function(fe,$e){if(fe)return ye(fe);try{var We=$e.objectStore(ie._dbInfo.storeName),Ke=We.count();Ke.onsuccess=function(){de(Ke.result)},Ke.onerror=function(){ye(Ke.error)}}catch(Ge){ye(Ge)}})}).catch(ye)});return d(J,Y),J}function ge(Y,ie){var J=this,de=new f(function(ye,fe){if(Y<0){ye(null);return}J.ready().then(function(){U(J._dbInfo,_,function($e,We){if($e)return fe($e);try{var Ke=We.objectStore(J._dbInfo.storeName),Ge=!1,it=Ke.openKeyCursor();it.onsuccess=function(){var At=it.result;if(!At){ye(null);return}Y===0||Ge?ye(At.key):(Ge=!0,At.advance(Y))},it.onerror=function(){fe(it.error)}}catch(At){fe(At)}})}).catch(fe)});return d(de,ie),de}function be(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){U(ie._dbInfo,_,function(fe,$e){if(fe)return ye(fe);try{var We=$e.objectStore(ie._dbInfo.storeName),Ke=We.openKeyCursor(),Ge=[];Ke.onsuccess=function(){var it=Ke.result;if(!it){de(Ge);return}Ge.push(it.key),it.continue()},Ke.onerror=function(){ye(Ke.error)}}catch(it){ye(it)}})}).catch(ye)});return d(J,Y),J}function ve(Y,ie){ie=m.apply(this,arguments);var J=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||J.name,Y.storeName=Y.storeName||J.storeName);var de=this,ye;if(!Y.name)ye=f.reject("Invalid arguments");else{var fe=Y.name===J.name&&de._dbInfo.db,$e=fe?f.resolve(de._dbInfo.db):N(Y).then(function(We){var Ke=v[Y.name],Ge=Ke.forages;Ke.db=We;for(var it=0;it<Ge.length;it++)Ge[it]._dbInfo.db=We;return We});Y.storeName?ye=$e.then(function(We){if(We.objectStoreNames.contains(Y.storeName)){var Ke=We.version+1;A(Y);var Ge=v[Y.name],it=Ge.forages;We.close();for(var At=0;At<it.length;At++){var nn=it[At];nn._dbInfo.db=null,nn._dbInfo.version=Ke}var Lt=new f(function(Rn,or){var hr=u.open(Y.name,Ke);hr.onerror=function(To){var tl=hr.result;tl.close(),or(To)},hr.onupgradeneeded=function(){var To=hr.result;To.deleteObjectStore(Y.storeName)},hr.onsuccess=function(){var To=hr.result;To.close(),Rn(To)}});return Lt.then(function(Rn){Ge.db=Rn;for(var or=0;or<it.length;or++){var hr=it[or];hr._dbInfo.db=Rn,k(hr._dbInfo)}}).catch(function(Rn){throw(P(Y,Rn)||f.resolve()).catch(function(){}),Rn})}}):ye=$e.then(function(We){A(Y);var Ke=v[Y.name],Ge=Ke.forages;We.close();for(var it=0;it<Ge.length;it++){var At=Ge[it];At._dbInfo.db=null}var nn=new f(function(Lt,Rn){var or=u.deleteDatabase(Y.name);or.onerror=function(){var hr=or.result;hr&&hr.close(),Rn(or.error)},or.onblocked=function(){console.warn('dropInstance blocked for database "'+Y.name+'" until all open connections are closed')},or.onsuccess=function(){var hr=or.result;hr&&hr.close(),Lt(hr)}});return nn.then(function(Lt){Ke.db=Lt;for(var Rn=0;Rn<Ge.length;Rn++){var or=Ge[Rn];k(or._dbInfo)}}).catch(function(Lt){throw(P(Y,Lt)||f.resolve()).catch(function(){}),Lt})})}return d(ye,ie),ye}var Ye={_driver:"asyncStorage",_initStorage:F,_support:l(),iterate:G,getItem:z,setItem:ee,removeItem:ce,clear:le,length:se,key:ge,keys:be,dropInstance:ve};function Ue(){return typeof openDatabase=="function"}var ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je="~~local_forage_type~",ke=/^~~local_forage_type~([^~]+)~/,Ne="__lfsc__:",ze=Ne.length,ut="arbf",Mt="blob",qe="si08",me="ui08",Xe="uic8",vt="si16",he="si32",Te="ur16",Le="ui32",He="fl32",lt="fl64",an=ze+ut.length,$n=Object.prototype.toString;function ct(Y){var ie=Y.length*.75,J=Y.length,de,ye=0,fe,$e,We,Ke;Y[Y.length-1]==="="&&(ie--,Y[Y.length-2]==="="&&ie--);var Ge=new ArrayBuffer(ie),it=new Uint8Array(Ge);for(de=0;de<J;de+=4)fe=ht.indexOf(Y[de]),$e=ht.indexOf(Y[de+1]),We=ht.indexOf(Y[de+2]),Ke=ht.indexOf(Y[de+3]),it[ye++]=fe<<2|$e>>4,it[ye++]=($e&15)<<4|We>>2,it[ye++]=(We&3)<<6|Ke&63;return Ge}function $t(Y){var ie=new Uint8Array(Y),J="",de;for(de=0;de<ie.length;de+=3)J+=ht[ie[de]>>2],J+=ht[(ie[de]&3)<<4|ie[de+1]>>4],J+=ht[(ie[de+1]&15)<<2|ie[de+2]>>6],J+=ht[ie[de+2]&63];return ie.length%3===2?J=J.substring(0,J.length-1)+"=":ie.length%3===1&&(J=J.substring(0,J.length-2)+"=="),J}function pt(Y,ie){var J="";if(Y&&(J=$n.call(Y)),Y&&(J==="[object ArrayBuffer]"||Y.buffer&&$n.call(Y.buffer)==="[object ArrayBuffer]")){var de,ye=Ne;Y instanceof ArrayBuffer?(de=Y,ye+=ut):(de=Y.buffer,J==="[object Int8Array]"?ye+=qe:J==="[object Uint8Array]"?ye+=me:J==="[object Uint8ClampedArray]"?ye+=Xe:J==="[object Int16Array]"?ye+=vt:J==="[object Uint16Array]"?ye+=Te:J==="[object Int32Array]"?ye+=he:J==="[object Uint32Array]"?ye+=Le:J==="[object Float32Array]"?ye+=He:J==="[object Float64Array]"?ye+=lt:ie(new Error("Failed to get type for BinaryArray"))),ie(ye+$t(de))}else if(J==="[object Blob]"){var fe=new FileReader;fe.onload=function(){var $e=Je+Y.type+"~"+$t(this.result);ie(Ne+Mt+$e)},fe.readAsArrayBuffer(Y)}else try{ie(JSON.stringify(Y))}catch($e){console.error("Couldn't convert value into a JSON string: ",Y),ie(null,$e)}}function Qt(Y){if(Y.substring(0,ze)!==Ne)return JSON.parse(Y);var ie=Y.substring(an),J=Y.substring(ze,an),de;if(J===Mt&&ke.test(ie)){var ye=ie.match(ke);de=ye[1],ie=ie.substring(ye[0].length)}var fe=ct(ie);switch(J){case ut:return fe;case Mt:return c([fe],{type:de});case qe:return new Int8Array(fe);case me:return new Uint8Array(fe);case Xe:return new Uint8ClampedArray(fe);case vt:return new Int16Array(fe);case Te:return new Uint16Array(fe);case he:return new Int32Array(fe);case Le:return new Uint32Array(fe);case He:return new Float32Array(fe);case lt:return new Float64Array(fe);default:throw new Error("Unkown type: "+J)}}var un={serialize:pt,deserialize:Qt,stringToBuffer:ct,bufferToString:$t};function Jt(Y,ie,J,de){Y.executeSql("CREATE TABLE IF NOT EXISTS "+ie.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],J,de)}function Yi(Y){var ie=this,J={db:null};if(Y)for(var de in Y)J[de]=typeof Y[de]!="string"?Y[de].toString():Y[de];var ye=new f(function(fe,$e){try{J.db=openDatabase(J.name,String(J.version),J.description,J.size)}catch(We){return $e(We)}J.db.transaction(function(We){Jt(We,J,function(){ie._dbInfo=J,fe()},function(Ke,Ge){$e(Ge)})},$e)});return J.serializer=un,ye}function ii(Y,ie,J,de,ye,fe){Y.executeSql(J,de,ye,function($e,We){We.code===We.SYNTAX_ERR?$e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ie.storeName],function(Ke,Ge){Ge.rows.length?fe(Ke,We):Jt(Ke,ie,function(){Ke.executeSql(J,de,ye,fe)},fe)},fe):fe($e,We)},fe)}function ln(Y,ie){var J=this;Y=p(Y);var de=new f(function(ye,fe){J.ready().then(function(){var $e=J._dbInfo;$e.db.transaction(function(We){ii(We,$e,"SELECT * FROM "+$e.storeName+" WHERE key = ? LIMIT 1",[Y],function(Ke,Ge){var it=Ge.rows.length?Ge.rows.item(0).value:null;it&&(it=$e.serializer.deserialize(it)),ye(it)},function(Ke,Ge){fe(Ge)})})}).catch(fe)});return d(de,ie),de}function ir(Y,ie){var J=this,de=new f(function(ye,fe){J.ready().then(function(){var $e=J._dbInfo;$e.db.transaction(function(We){ii(We,$e,"SELECT * FROM "+$e.storeName,[],function(Ke,Ge){for(var it=Ge.rows,At=it.length,nn=0;nn<At;nn++){var Lt=it.item(nn),Rn=Lt.value;if(Rn&&(Rn=$e.serializer.deserialize(Rn)),Rn=Y(Rn,Lt.key,nn+1),Rn!==void 0){ye(Rn);return}}ye()},function(Ke,Ge){fe(Ge)})})}).catch(fe)});return d(de,ie),de}function dr(Y,ie,J,de){var ye=this;Y=p(Y);var fe=new f(function($e,We){ye.ready().then(function(){ie===void 0&&(ie=null);var Ke=ie,Ge=ye._dbInfo;Ge.serializer.serialize(ie,function(it,At){At?We(At):Ge.db.transaction(function(nn){ii(nn,Ge,"INSERT OR REPLACE INTO "+Ge.storeName+" (key, value) VALUES (?, ?)",[Y,it],function(){$e(Ke)},function(Lt,Rn){We(Rn)})},function(nn){if(nn.code===nn.QUOTA_ERR){if(de>0){$e(dr.apply(ye,[Y,Ke,J,de-1]));return}We(nn)}})})}).catch(We)});return d(fe,J),fe}function qr(Y,ie,J){return dr.apply(this,[Y,ie,J,1])}function Ia(Y,ie){var J=this;Y=p(Y);var de=new f(function(ye,fe){J.ready().then(function(){var $e=J._dbInfo;$e.db.transaction(function(We){ii(We,$e,"DELETE FROM "+$e.storeName+" WHERE key = ?",[Y],function(){ye()},function(Ke,Ge){fe(Ge)})})}).catch(fe)});return d(de,ie),de}function Ks(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){var fe=ie._dbInfo;fe.db.transaction(function($e){ii($e,fe,"DELETE FROM "+fe.storeName,[],function(){de()},function(We,Ke){ye(Ke)})})}).catch(ye)});return d(J,Y),J}function el(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){var fe=ie._dbInfo;fe.db.transaction(function($e){ii($e,fe,"SELECT COUNT(key) as c FROM "+fe.storeName,[],function(We,Ke){var Ge=Ke.rows.item(0).c;de(Ge)},function(We,Ke){ye(Ke)})})}).catch(ye)});return d(J,Y),J}function En(Y,ie){var J=this,de=new f(function(ye,fe){J.ready().then(function(){var $e=J._dbInfo;$e.db.transaction(function(We){ii(We,$e,"SELECT key FROM "+$e.storeName+" WHERE id = ? LIMIT 1",[Y+1],function(Ke,Ge){var it=Ge.rows.length?Ge.rows.item(0).key:null;ye(it)},function(Ke,Ge){fe(Ge)})})}).catch(fe)});return d(de,ie),de}function Mr(Y){var ie=this,J=new f(function(de,ye){ie.ready().then(function(){var fe=ie._dbInfo;fe.db.transaction(function($e){ii($e,fe,"SELECT key FROM "+fe.storeName,[],function(We,Ke){for(var Ge=[],it=0;it<Ke.rows.length;it++)Ge.push(Ke.rows.item(it).key);de(Ge)},function(We,Ke){ye(Ke)})})}).catch(ye)});return d(J,Y),J}function Jn(Y){return new f(function(ie,J){Y.transaction(function(de){de.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ye,fe){for(var $e=[],We=0;We<fe.rows.length;We++)$e.push(fe.rows.item(We).name);ie({db:Y,storeNames:$e})},function(ye,fe){J(fe)})},function(de){J(de)})})}function Wo(Y,ie){ie=m.apply(this,arguments);var J=this.config();Y=typeof Y!="function"&&Y||{},Y.name||(Y.name=Y.name||J.name,Y.storeName=Y.storeName||J.storeName);var de=this,ye;return Y.name?ye=new f(function(fe){var $e;Y.name===J.name?$e=de._dbInfo.db:$e=openDatabase(Y.name,"","",0),Y.storeName?fe({db:$e,storeNames:[Y.storeName]}):fe(Jn($e))}).then(function(fe){return new f(function($e,We){fe.db.transaction(function(Ke){function Ge(Lt){return new f(function(Rn,or){Ke.executeSql("DROP TABLE IF EXISTS "+Lt,[],function(){Rn()},function(hr,To){or(To)})})}for(var it=[],At=0,nn=fe.storeNames.length;At<nn;At++)it.push(Ge(fe.storeNames[At]));f.all(it).then(function(){$e()}).catch(function(Lt){We(Lt)})},function(Ke){We(Ke)})})}):ye=f.reject("Invalid arguments"),d(ye,ie),ye}var Eo={_driver:"webSQLStorage",_initStorage:Yi,_support:Ue(),iterate:ir,getItem:ln,setItem:qr,removeItem:Ia,clear:Ks,length:el,key:En,keys:Mr,dropInstance:Wo};function Ki(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function oe(Y,ie){var J=Y.name+"/";return Y.storeName!==ie.storeName&&(J+=Y.storeName+"/"),J}function te(){var Y="_localforage_support_test";try{return localStorage.setItem(Y,!0),localStorage.removeItem(Y),!1}catch{return!0}}function ae(){return!te()||localStorage.length>0}function Se(Y){var ie=this,J={};if(Y)for(var de in Y)J[de]=Y[de];return J.keyPrefix=oe(Y,ie._defaultConfig),ae()?(ie._dbInfo=J,J.serializer=un,f.resolve()):f.reject()}function xe(Y){var ie=this,J=ie.ready().then(function(){for(var de=ie._dbInfo.keyPrefix,ye=localStorage.length-1;ye>=0;ye--){var fe=localStorage.key(ye);fe.indexOf(de)===0&&localStorage.removeItem(fe)}});return d(J,Y),J}function ot(Y,ie){var J=this;Y=p(Y);var de=J.ready().then(function(){var ye=J._dbInfo,fe=localStorage.getItem(ye.keyPrefix+Y);return fe&&(fe=ye.serializer.deserialize(fe)),fe});return d(de,ie),de}function Pt(Y,ie){var J=this,de=J.ready().then(function(){for(var ye=J._dbInfo,fe=ye.keyPrefix,$e=fe.length,We=localStorage.length,Ke=1,Ge=0;Ge<We;Ge++){var it=localStorage.key(Ge);if(it.indexOf(fe)===0){var At=localStorage.getItem(it);if(At&&(At=ye.serializer.deserialize(At)),At=Y(At,it.substring($e),Ke++),At!==void 0)return At}}});return d(de,ie),de}function Wt(Y,ie){var J=this,de=J.ready().then(function(){var ye=J._dbInfo,fe;try{fe=localStorage.key(Y)}catch{fe=null}return fe&&(fe=fe.substring(ye.keyPrefix.length)),fe});return d(de,ie),de}function yn(Y){var ie=this,J=ie.ready().then(function(){for(var de=ie._dbInfo,ye=localStorage.length,fe=[],$e=0;$e<ye;$e++){var We=localStorage.key($e);We.indexOf(de.keyPrefix)===0&&fe.push(We.substring(de.keyPrefix.length))}return fe});return d(J,Y),J}function Sn(Y){var ie=this,J=ie.keys().then(function(de){return de.length});return d(J,Y),J}function cn(Y,ie){var J=this;Y=p(Y);var de=J.ready().then(function(){var ye=J._dbInfo;localStorage.removeItem(ye.keyPrefix+Y)});return d(de,ie),de}function Bn(Y,ie,J){var de=this;Y=p(Y);var ye=de.ready().then(function(){ie===void 0&&(ie=null);var fe=ie;return new f(function($e,We){var Ke=de._dbInfo;Ke.serializer.serialize(ie,function(Ge,it){if(it)We(it);else try{localStorage.setItem(Ke.keyPrefix+Y,Ge),$e(fe)}catch(At){(At.name==="QuotaExceededError"||At.name==="NS_ERROR_DOM_QUOTA_REACHED")&&We(At),We(At)}})})});return d(ye,J),ye}function Zn(Y,ie){if(ie=m.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var J=this.config();Y.name=Y.name||J.name,Y.storeName=Y.storeName||J.storeName}var de=this,ye;return Y.name?ye=new f(function(fe){Y.storeName?fe(oe(Y,de._defaultConfig)):fe(Y.name+"/")}).then(function(fe){for(var $e=localStorage.length-1;$e>=0;$e--){var We=localStorage.key($e);We.indexOf(fe)===0&&localStorage.removeItem(We)}}):ye=f.reject("Invalid arguments"),d(ye,ie),ye}var Et={_driver:"localStorageWrapper",_initStorage:Se,_support:Ki(),iterate:Pt,getItem:ot,setItem:Bn,removeItem:cn,clear:xe,length:Sn,key:Wt,keys:yn,dropInstance:Zn},xn=function(ie,J){return ie===J||typeof ie=="number"&&typeof J=="number"&&isNaN(ie)&&isNaN(J)},wr=function(ie,J){for(var de=ie.length,ye=0;ye<de;){if(xn(ie[ye],J))return!0;ye++}return!1},Cn=Array.isArray||function(Y){return Object.prototype.toString.call(Y)==="[object Array]"},Lr={},Xi={},br={INDEXEDDB:Ye,WEBSQL:Eo,LOCALSTORAGE:Et},Ar=[br.INDEXEDDB._driver,br.WEBSQL._driver,br.LOCALSTORAGE._driver],Er=["dropInstance"],oi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Er),xo={description:"",driver:Ar.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Go(Y,ie){Y[ie]=function(){var J=arguments;return Y.ready().then(function(){return Y[ie].apply(Y,J)})}}function hi(){for(var Y=1;Y<arguments.length;Y++){var ie=arguments[Y];if(ie)for(var J in ie)ie.hasOwnProperty(J)&&(Cn(ie[J])?arguments[0][J]=ie[J].slice():arguments[0][J]=ie[J])}return arguments[0]}var Wr=function(){function Y(ie){s(this,Y);for(var J in br)if(br.hasOwnProperty(J)){var de=br[J],ye=de._driver;this[J]=ye,Lr[ye]||this.defineDriver(de)}this._defaultConfig=hi({},xo),this._config=hi({},this._defaultConfig,ie),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Y.prototype.config=function(J){if((typeof J>"u"?"undefined":o(J))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var de in J){if(de==="storeName"&&(J[de]=J[de].replace(/\W/g,"_")),de==="version"&&typeof J[de]!="number")return new Error("Database version must be a number.");this._config[de]=J[de]}return"driver"in J&&J.driver?this.setDriver(this._config.driver):!0}else return typeof J=="string"?this._config[J]:this._config},Y.prototype.defineDriver=function(J,de,ye){var fe=new f(function($e,We){try{var Ke=J._driver,Ge=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!J._driver){We(Ge);return}for(var it=oi.concat("_initStorage"),At=0,nn=it.length;At<nn;At++){var Lt=it[At],Rn=!wr(Er,Lt);if((Rn||J[Lt])&&typeof J[Lt]!="function"){We(Ge);return}}var or=function(){for(var tl=function(ka){return function(){var Ko=new Error("Method "+ka+" is not implemented by the current driver"),Ql=f.reject(Ko);return d(Ql,arguments[arguments.length-1]),Ql}},Xl=0,Tg=Er.length;Xl<Tg;Xl++){var xd=Er[Xl];J[xd]||(J[xd]=tl(xd))}};or();var hr=function(tl){Lr[Ke]&&console.info("Redefining LocalForage driver: "+Ke),Lr[Ke]=J,Xi[Ke]=tl,$e()};"_support"in J?J._support&&typeof J._support=="function"?J._support().then(hr,We):hr(!!J._support):hr(!0)}catch(To){We(To)}});return h(fe,de,ye),fe},Y.prototype.driver=function(){return this._driver||null},Y.prototype.getDriver=function(J,de,ye){var fe=Lr[J]?f.resolve(Lr[J]):f.reject(new Error("Driver not found."));return h(fe,de,ye),fe},Y.prototype.getSerializer=function(J){var de=f.resolve(un);return h(de,J),de},Y.prototype.ready=function(J){var de=this,ye=de._driverSet.then(function(){return de._ready===null&&(de._ready=de._initDriver()),de._ready});return h(ye,J,J),ye},Y.prototype.setDriver=function(J,de,ye){var fe=this;Cn(J)||(J=[J]);var $e=this._getSupportedDrivers(J);function We(){fe._config.driver=fe.driver()}function Ke(At){return fe._extend(At),We(),fe._ready=fe._initStorage(fe._config),fe._ready}function Ge(At){return function(){var nn=0;function Lt(){for(;nn<At.length;){var Rn=At[nn];return nn++,fe._dbInfo=null,fe._ready=null,fe.getDriver(Rn).then(Ke).catch(Lt)}We();var or=new Error("No available storage method found.");return fe._driverSet=f.reject(or),fe._driverSet}return Lt()}}var it=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=it.then(function(){var At=$e[0];return fe._dbInfo=null,fe._ready=null,fe.getDriver(At).then(function(nn){fe._driver=nn._driver,We(),fe._wrapLibraryMethodsWithReady(),fe._initDriver=Ge($e)})}).catch(function(){We();var At=new Error("No available storage method found.");return fe._driverSet=f.reject(At),fe._driverSet}),h(this._driverSet,de,ye),this._driverSet},Y.prototype.supports=function(J){return!!Xi[J]},Y.prototype._extend=function(J){hi(this,J)},Y.prototype._getSupportedDrivers=function(J){for(var de=[],ye=0,fe=J.length;ye<fe;ye++){var $e=J[ye];this.supports($e)&&de.push($e)}return de},Y.prototype._wrapLibraryMethodsWithReady=function(){for(var J=0,de=oi.length;J<de;J++)Go(this,oi[J])},Y.prototype.createInstance=function(J){return new Y(J)},Y}(),Yo=new Wr;r.exports=Yo},{3:3}]},{},[4])(4)})})(mxe);var YRt=mxe.exports;const a1=gn(YRt);var Jo=[];for(var O6=0;O6<256;++O6)Jo.push((O6+256).toString(16).slice(1));function KRt(e,t=0){return(Jo[e[t+0]]+Jo[e[t+1]]+Jo[e[t+2]]+Jo[e[t+3]]+"-"+Jo[e[t+4]]+Jo[e[t+5]]+"-"+Jo[e[t+6]]+Jo[e[t+7]]+"-"+Jo[e[t+8]]+Jo[e[t+9]]+"-"+Jo[e[t+10]]+Jo[e[t+11]]+Jo[e[t+12]]+Jo[e[t+13]]+Jo[e[t+14]]+Jo[e[t+15]]).toLowerCase()}var zA,XRt=new Uint8Array(16);function QRt(){if(!zA&&(zA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zA(XRt)}var JRt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const ese={randomUUID:JRt};function pP(e,t,n){if(ese.randomUUID&&!t&&!e)return ese.randomUUID();e=e||{};var r=e.random||(e.rng||QRt)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KRt(r)}class gxe{constructor(t){Pa(this,"engine");Pa(this,"connected",!1);Pa(this,"currentParticipantId",null);this.engine=t}isConnected(){return this.connected}getEngine(){return this.engine}}async function mP(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function iE(e){return e.participantId!==void 0}class Tu extends gxe{constructor(){super("firebase");Pa(this,"RECAPTCHAV3TOKEN","6LevDyAqAAAAADnS8blPjlwdJFlE-tec65g9WvwZ");Pa(this,"firestore");Pa(this,"collectionPrefix","prod-");Pa(this,"studyCollection");Pa(this,"storage");Pa(this,"studyId","");Pa(this,"localForage",a1.createInstance({name:"currentParticipantId"}));Pa(this,"participantData",null);const n=BH.parse(`
{
  apiKey: "AIzaSyAJ-0YQ0RmvMmasIiWqjJJy5wYE1_NPxcg",
  authDomain: "complexity-study.firebaseapp.com",
  projectId: "complexity-study",
  storageBucket: "complexity-study.appspot.com",
  messagingSenderId: "469647865113",
  appId: "1:469647865113:web:58f0c2a373c25ac300c188",
}
`),r=D_e(n);this.firestore=r2t(r,{}),this.storage=iIt();try{VIt(r,{provider:new JH(this.RECAPTCHAV3TOKEN),isTokenAutoRefreshEnabled:!1})}catch{console.warn("Failed to initialize Firebase App Check")}}async connect(){try{await i2t(this.firestore),this.connected=!0}catch{console.warn("Failed to connect to Firebase")}}async initializeStudyDb(n,r){try{const i=hP();if(!i.currentUser&&(await kkt(i),!i.currentUser))throw new Error("Login failed with firebase");const o=await this.getCurrentConfigHash(),s=await mP(JSON.stringify(r));if(this.studyCollection=ea(this.firestore,`${this.collectionPrefix}${n}`),this.studyId=n,await this._pushToFirebaseStorage(`configs/${s}`,"config",r),o&&o!==s){try{await this._deleteFromFirebaseStorage("","sequenceArray")}catch{}await this.clearCurrentParticipantId()}return await this.localForage.setItem("currentConfigHash",s),Promise.resolve()}catch(i){return console.warn("Failed to connect to Firebase."),Promise.reject(i)}}async initializeParticipantSession(n,r,i,o,s){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData"),u=await this.getModes(n);if(iE(a))return this.participantData=a,a;const l=await mP(JSON.stringify(i));return this.participantData={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1},u.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),this.participantData}async getCurrentConfigHash(){return await this.localForage.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){const i=n.map(a=>{const u=rl(this.storage,`${this.collectionPrefix}${r}/configs/${a}_config`);return this._getFromFirebaseStorageByRef(u,"config")}),o=await Promise.all(i),s={};return n.forEach((a,u)=>s[a]=o[u]),s}async getCurrentParticipantId(n){const r=await this.localForage.getItem("currentParticipantId");if(n)return this.currentParticipantId=n,await this.localForage.setItem("currentParticipantId",n),n;if(r)return this.currentParticipantId=r,r;if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");return this.currentParticipantId=pP(),await this.localForage.setItem("currentParticipantId",this.currentParticipantId),this.currentParticipantId}async clearCurrentParticipantId(){return await this.localForage.removeItem("currentParticipantId")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId||this.participantData===null)throw new Error("Participant not initialized");this.participantData={...this.participantData,answers:n},await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");await this._pushToFirebaseStorage("","sequenceArray",n)}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=await this._getFromFirebaseStorage("","sequenceArray");return Array.isArray(n)?n:null}async getSequence(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const n=await this.getSequenceArray();if(!n)throw new Error("Latin square not initialized");const r=await this.getModes(this.studyId),i=xi(this.studyCollection,"sequenceAssignment");await vu(i,{});const o=ea(i,"sequenceAssignment"),s=xi(o,this.currentParticipantId),a=sP(o,DH("participantId","==","")),u=await kp(a);if(u.docs.length>0){const m=u.docs[0],g=m.data().timestamp;r.dataCollectionEnabled&&(await g2t(m.ref),await vu(s,{participantId:this.currentParticipantId,timestamp:g}))}else r.dataCollectionEnabled&&await vu(s,{participantId:this.currentParticipantId,timestamp:_2t()});const l=sP(o,d2t("timestamp","asc")),d=(await kp(l)).docs.map(m=>m.data()).findIndex(m=>m.participantId===this.currentParticipantId)%n.length,h=d===-1?Math.floor(Math.random()*n.length-1):d,p=n[h];if(!p)throw new Error("Latin square is empty");return p}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=rl(this.storage,`${this.collectionPrefix}${this.studyId}/participants`),r=await rE(n),i=[],o=r.items.map(async s=>{const a=await this._getFromFirebaseStorageByRef(s,"participantData");iE(a)&&i.push(a)});return await Promise.all(o),i}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(this.currentParticipantId===null)throw new Error("Participant not initialized");const n=await this._getFromFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData");return iE(n)?n:null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");const n=pP();await this.localForage.setItem("currentParticipantId",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyCollection))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");if(await this.getParticipantData(),!this.participantData)throw new Error("Participant not initialized");const n=await this.getModes(this.studyId);return this.participantData.completed=!0,n.dataCollectionEnabled&&await this._pushToFirebaseStorage(`participants/${this.currentParticipantId}`,"participantData",this.participantData),!0}async getUserManagementData(n){const r=ea(this.firestore,"user-management"),i=await kp(r),o=Object.fromEntries(i.docs.map(s=>[s.id,s.data()]));return n in o?o[n]:null}async validateUser(n){if(n!=null&&n.user){const r=await this.getUserManagementData("authentication");if(r!=null&&r.isEnabled){const i=await this.getUserManagementData("adminUsers");if(i&&i.adminUsersList){const o=Object.fromEntries(i.adminUsersList.map(a=>[a.email,a.uid]));if(n.user.email&&(o[n.user.email]===n.user.uid||o[n.user.email]===null)){if(n.user.email&&o[n.user.email]===null){const a=i.adminUsersList.find(u=>u.email===n.user.email);a&&(a.uid=n.user.uid),await vu(xi(this.firestore,"user-management","adminUsers"),{adminUsersList:i.adminUsersList})}return!0}return!1}}return!0}return!1}async changeAuth(n){await vu(xi(this.firestore,"user-management","authentication"),{isEnabled:n})}async addAdminUser(n){const r=await this.getUserManagementData("adminUsers");if(r!=null&&r.adminUsersList){const i=r.adminUsersList;i.find(s=>s.email===n.email)||(i.push({email:n.email,uid:n.uid}),await vu(xi(this.firestore,"user-management","adminUsers"),{adminUsersList:i}))}else await vu(xi(this.firestore,"user-management","adminUsers"),{adminUsersList:[{email:n.email,uid:n.uid}]})}async removeAdminUser(n){const r=await this.getUserManagementData("adminUsers");r!=null&&r.adminUsersList&&r.adminUsersList.length>1&&r.adminUsersList.find(i=>i.email===n)&&(r.adminUsersList=r==null?void 0:r.adminUsersList.filter(i=>i.email!==n),await vu(xi(this.firestore,"user-management","adminUsers"),{adminUsersList:r==null?void 0:r.adminUsersList}))}async getAllParticipantsDataByStudy(n){const r=rl(this.storage,`${this.collectionPrefix}${n}/participants`),i=await rE(r),o=[],s=i.items.map(async a=>{const u=await this._getFromFirebaseStorageByRef(a,"participantData");iE(u)&&o.push(u)});return await Promise.all(s),o}async rejectParticipant(n,r){const i=ea(this.firestore,`${this.collectionPrefix}${n}`),o=rl(this.storage,`${this.collectionPrefix}${n}/participants/${r}`),s=await this._getFromFirebaseStorageByRef(o,"participantData");try{if(!s||!iE(s)||s.rejected)return;s.rejected=!0,await this._pushToFirebaseStorageByRef(o,"participantData",s);const a=xi(i,"sequenceAssignment"),u=ea(a,"sequenceAssignment"),l=xi(u,r);await FH(l,{participantId:""})}catch{console.warn("Failed to reject the participant.")}}async setMode(n,r,i){const o=xi(this.firestore,"metadata",`${this.collectionPrefix}${n}`);return await vu(o,{[r]:i},{merge:!0})}async getModes(n){const r=xi(this.firestore,"metadata",`${this.collectionPrefix}${n}`),i=await zx(r);if(i.exists())return i.data();const o={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return await vu(r,o),o}async createSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;if(!await this._directoryExists(i))return console.warn(`Source directory ${i} does not exist.`),!1;const o=new Date,s=o.getUTCFullYear(),a=(o.getUTCMonth()+1).toString().padStart(2,"0"),u=o.getUTCDate().toString().padStart(2,"0"),l=o.getUTCHours().toString().padStart(2,"0"),c=o.getUTCMinutes().toString().padStart(2,"0"),f=o.getUTCSeconds().toString().padStart(2,"0"),d=`${s}-${a}-${u}T${l}:${c}:${f}`,h=`${this.collectionPrefix}${n}-snapshot-${d}`;return await this._copyDirectory(`${i}/configs`,`${h}/configs`),await this._copyDirectory(`${i}/participants`,`${h}/participants`),await this._copyDirectory(i,h),await this._copyCollection(i,h),await this._addDirectoryNameToMetadata(h),r&&await this.removeSnapshotOrLive(i,!1),!0}async removeSnapshotOrLive(n,r){const i=n.startsWith(this.collectionPrefix)?n:`${this.collectionPrefix}${n}`;await this._deleteDirectory(`${i}/configs`),await this._deleteDirectory(`${i}/participants`),await this._deleteDirectory(i),await this._deleteCollection(i),r&&await this._removeNameFromMetadata(i)}async getSnapshots(n){try{const r=xi(this.firestore,"metadata","collections"),i=await zx(r);if(i.exists()){const o=i.data();return Object.keys(o).filter(a=>a.startsWith(`${this.collectionPrefix}${n}-snapshot`)).sort().reverse()}return[]}catch(r){throw console.error("Error listing collections with prefix:",r),r}}async restoreSnapshot(n,r){const i=`${this.collectionPrefix}${n}`;await this.createSnapshot(n,!0),await this._copyDirectory(`${r}/configs`,`${i}/configs`),await this._copyDirectory(`${r}/participants`,`${i}/participants`),await this._copyDirectory(r,i),await this._copyCollection(r,i)}async _addDirectoryNameToMetadata(n){try{const r=xi(this.firestore,"metadata","collections");await vu(r,{[n]:!0},{merge:!0})}catch(r){console.error("Error adding collection to metadata:",r)}}async _removeNameFromMetadata(n){try{const r=xi(this.firestore,"metadata","collections"),i=await zx(r);if(i.exists()){const o=i.data();o[n]?(delete o[n],await vu(r,o)):console.warn(`${n} does not exist in metadata.`)}else console.warn("No metadata found.")}catch(r){throw console.error("Error removing collection from metadata:",r),r}}async _deleteDirectory(n){try{const r=rl(this.storage,n),o=(await rE(r)).items.map(s=>Roe(s));await Promise.all(o)}catch(r){console.error("Error deleting files in directory:",r)}}async _copyDirectory(n,r){try{const i=rl(this.storage,n),s=(await rE(i)).items.map(a=>{const u=a.fullPath,l=u.replace(n,r);return this._copyFile(u,l)});await Promise.all(s)}catch(i){console.error("Error copying file:",i)}}async _copyFile(n,r){try{const i=rl(this.storage,n),o=rl(this.storage,r),s=await P6(i),u=await(await fetch(s)).blob();await R6(o,u)}catch(i){console.error("Error copying file:",i)}}async _copyCollection(n,r){const i=ea(this.firestore,n),o=xi(i,"sequenceAssignment"),s=ea(o,"sequenceAssignment"),a=ea(this.firestore,r),u=xi(a,"sequenceAssignment");await vu(u,{});const l=ea(u,"sequenceAssignment"),c=await kp(s),f=voe(this.firestore);c.docs.forEach(d=>{const h=xi(l,d.id);f.set(h,d.data())}),await f.commit()}async _deleteCollection(n){const r=ea(this.firestore,n),i=xi(r,"sequenceAssignment"),o=ea(i,"sequenceAssignment"),s=await kp(o),a=voe(this.firestore);s.forEach(u=>{const l=xi(o,u.id);a.delete(l)}),a.delete(i),await a.commit()}async _directoryExists(n){try{const r=rl(this.storage,n);return(await rE(r)).items.length>0}catch(r){if(r.code==="storage/object-not-found")return!1;throw console.error("Error checking if directory exists:",r),r}}_verifyStudyDatabase(n){return n!==void 0}async _getFromFirebaseStorage(n,r){const i=rl(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);let o={};try{const s=await P6(i),u=await(await fetch(s)).text();o=JSON.parse(u)}catch{console.warn(`${n} does not have ${r} for ${this.collectionPrefix}${this.studyId}.`)}return o}async _getFromFirebaseStorageByRef(n,r){let i={};try{const o=await P6(n),a=await(await fetch(o)).text();i=JSON.parse(a)}catch{console.warn(`${n} with type ${r} not found.`)}return i}async _pushToFirebaseStorage(n,r,i){if(Object.keys(i).length>0){const o=rl(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`),s=new Blob([JSON.stringify(i)],{type:"application/json"});await R6(o,s)}}async _pushToFirebaseStorageByRef(n,r,i){if(Object.keys(i).length>0){const o=new Blob([JSON.stringify(i)],{type:"application/json"});await R6(n,o)}}async _deleteFromFirebaseStorage(n,r){const i=rl(this.storage,`${this.collectionPrefix}${this.studyId}/${n}_${r}`);await Roe(i)}}const yxe=new Tu;console.log(yxe);const bp=yxe.firestore;console.log(bp);async function vxe(e){const t=ea(e,"tags");return(await kp(t)).docs.map(i=>i.data())}async function ZRt(e,t){try{const n=await y2t(ea(bp,"tags"),{name:t,count:0});console.log("Document written with ID: ",n.id)}catch(n){console.error("Error adding tag to firebase: ",n)}}async function ePt(e,t){const n=ea(e,"tags"),r=sP(n,DH("name","==",t),iEe(1));try{(await kp(r)).forEach(async o=>{var a;console.log("fetched count for the tag:",o.data().count,o.id,"should be",o.data().count+1,"soon on firebase");const s=xi(e,"tags",o.id);try{const u=await zx(s),c=((a=u==null?void 0:u.data())==null?void 0:a.count)+1;await FH(s,{count:c})}catch(u){console.error("Failed to get document:",u)}}),console.log("Counter incremented successfully")}catch(i){console.error("Error updating tag to firebase: ",i)}}async function tse(e,t){const n=ea(e,"tags"),r=sP(n,DH("name","==",t),iEe(1));try{(await kp(r)).forEach(async o=>{var a,u;console.log("fetched count for the tag:",o.data().count,o.id);const s=xi(e,"tags",o.id);try{const l=await zx(s);console.log((a=l==null?void 0:l.data())==null?void 0:a.count,l.id);let f=((u=l==null?void 0:l.data())==null?void 0:u.count)-1;f<0&&(f=0),await FH(s,{count:f})}catch(l){console.error("Failed to get document:",l)}}),console.log("Counter decremented successfully")}catch(i){console.error("Error updating tag to firebase: ",i)}}let gk=["Big dataset","Many different shapes","Irregular shapes","Confusing layout","Confusing background","Multiple charts","Too small","Many colors","Poor contrast","3D effect","Not complex"].map(e=>({label:e,value:e}));const tPt=["Big dataset","Many different shapes","Irregular shapes","Confusing layout","Confusing background","Multiple charts","Too small","Many colors","Poor contrast","3D effect","Not complex"].map(e=>({label:e,value:e}));async function nPt(e){const t=[],n=[];vxe(e).then(r=>{r.forEach(i=>{const o={tagName:"A",count:0};n.push(o),o.tagName=i.name,o.count=i.count}),n.sort((i,o)=>o.count-i.count);for(const i in n)t.push(n[i].tagName);console.log(t),gk=t.map(i=>({label:i,value:i}))})}let nse="",il=[],rse=[];function rPt({parameters:e,setAnswer:t}){const n=e.stimulusNumber;n!==nse&&(il=[],console.log("resetting selected tags"),nse=n);const[r,i]=ue.useState([]),o=()=>{const u=[],l=[];vxe(bp).then(c=>{c.forEach(f=>{const d={tagName:"A",count:0};l.push(d),d.tagName=f.name,d.count=f.count}),l.sort((f,d)=>d.count-f.count);for(const f in l)u.push(l[f].tagName);gk=u.map(f=>({label:f,value:f})),console.log(gk),r.length===0&&i(gk)})},s=u=>r.length===0?T.jsxs("p",{style:{padding:4,color:"#999",textAlign:"center"},children:[T.jsx(OEt,{spin:!0})," ","Loading..."]}):u;let a="/visualization-complexity/assets/stimuli/stimulus";return a=a.concat(n),a=a.concat(".jpg"),T.jsxs("div",{className:"tagPicker",children:[T.jsx("p",{children:"What was the main reasons for choosing this complexity rating? Select the appropriate tags or create a new one."}),T.jsx(x_e,{creatable:!0,cleanable:!1,data:r,cacheData:tPt,style:{width:300},menuStyle:{width:300},renderMenu:s,onOpen:()=>{o()},onCreate:(u,l)=>{console.log(u,l),il=u,console.log(il),ZRt(bp,String(l.value))},onSelect:(u,l)=>{console.log("selectedTags:",il.length,`
current value:`,u.length,`
oldTags:`,rse.length),il.length>u.length?(console.log("A tag needs to be removed:",l.value),tse(bp,String(l.value))):il.length<u.length?(console.log("A tag needs to be added:",l.value),ePt(bp,String(l.value))):console.log("selectedTags and the current value are equal. This should NOT happen!!",l.value),rse=u,il=u,il.length>0?(console.log("Setting the answer to true"),t({status:!0,provenanceGraph:void 0,answers:{tags:il}})):(console.log("No answer given, e.g. they have removed all selections"),t({status:!1,provenanceGraph:void 0,answers:{tags:il}}))},onTagRemove:(u,l)=>{console.log(u,l),tse(bp,u),il=il.filter(f=>f!==u)},onEnter:()=>{nPt(bp)}}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("img",{className:"stimuli",style:{maxWidth:"100%",width:800},src:a})]})}const iPt=Object.freeze(Object.defineProperty({__proto__:null,default:rPt},Symbol.toStringTag,{value:"Module"})),ise=Object.assign({"../public/visualization-complexity/assets/TagPickerWithStimuli.tsx":iPt});function oPt({currentConfig:e}){const t=rg(),n=qy(),r=`../public/${e.path}`,i=r in ise?ise[r].default:null,o=Gh(),{updateResponseBlockValidation:s,setIframeAnswers:a}=Wh();function u({status:l,provenanceGraph:c,answers:f}){o(s({location:"sidebar",identifier:`${n}_${t}`,status:l,values:f,provenanceGraph:c})),o(a(f))}return T.jsx(I.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:i?T.jsx(i,{parameters:e.parameters,setAnswer:u}):T.jsx(X0,{path:e.path})})}function sPt({currentConfig:e}){const[t,n]=I.useState(""),[r,i]=I.useState(!0);return I.useEffect(()=>{async function o(){const s=await Zz(e.path);s!==void 0&&n(s),i(!1)}o()},[e.path]),r||t?T.jsx(va,{text:t}):T.jsx(X0,{path:e.path})}var o9={exports:{}},bxe={},Nc={},Lb={},HC={},Dn={},fS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((b,_)=>`${b}${_}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((b,_)=>(_ instanceof n&&(b[_.str]=(b[_.str]||0)+1),b),{})}}e._Code=r,e.nil=new r("");function i(y,...v){const b=[y[0]];let _=0;for(;_<v.length;)a(b,v[_]),b.push(y[++_]);return new r(b)}e._=i;const o=new r("+");function s(y,...v){const b=[h(y[0])];let _=0;for(;_<v.length;)b.push(o),a(b,v[_]),b.push(o,h(y[++_]));return u(b),new r(b)}e.str=s;function a(y,v){v instanceof r?y.push(...v._items):v instanceof n?y.push(v):y.push(f(v))}e.addCodeArg=a;function u(y){let v=1;for(;v<y.length-1;){if(y[v]===o){const b=l(y[v-1],y[v+1]);if(b!==void 0){y.splice(v-1,3,b);continue}y[v++]="+"}v++}}function l(y,v){if(v==='""')return y;if(y==='""')return v;if(typeof y=="string")return v instanceof n||y[y.length-1]!=='"'?void 0:typeof v!="string"?`${y.slice(0,-1)}${v}"`:v[0]==='"'?y.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(y instanceof n))return`"${y}${v.slice(1)}`}function c(y,v){return v.emptyStr()?y:y.emptyStr()?v:s`${y}${v}`}e.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:h(Array.isArray(y)?y.join(","):y)}function d(y){return new r(h(y))}e.stringify=d;function h(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function p(y){return typeof y=="string"&&e.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}e.getProperty=p;function m(y){if(typeof y=="string"&&e.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}e.getEsmExportName=m;function g(y){return new r(y.toString())}e.regexpCode=g})(fS);var s9={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=fS;class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:l,parent:c}={}){this._names={},this._prefixes=l,this._parent=c}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const c=this._names[l]||this._nameGroup(l);return`${l}${c.index++}`}_nameGroup(l){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=i;class o extends t.Name{constructor(l,c){super(c),this.prefix=l}setValue(l,{property:c,itemIndex:f}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(c)}[${f}]`}}e.ValueScopeName=o;const s=(0,t._)`\n`;class a extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?s:t.nil}}get(){return this._scope}name(l){return new o(l,this._newName(l))}value(l,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(l),{prefix:h}=d,p=(f=c.key)!==null&&f!==void 0?f:c.ref;let m=this._values[h];if(m){const v=m.get(p);if(v)return v}else m=this._values[h]=new Map;m.set(p,d);const g=this._scope[h]||(this._scope[h]=[]),y=g.length;return g[y]=c.ref,d.setValue(c,{property:h,itemIndex:y}),d}getValue(l,c){const f=this._values[l];if(f)return f.get(c)}scopeRefs(l,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,t._)`${l}${f.scopePath}`})}scopeCode(l=this._values,c,f){return this._reduceValues(l,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(l,c,f={},d){let h=t.nil;for(const p in l){const m=l[p];if(!m)continue;const g=f[p]=f[p]||new Map;m.forEach(y=>{if(g.has(y))return;g.set(y,r.Started);let v=c(y);if(v){const b=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${b} ${y} = ${v};${this.opts._n}`}else if(v=d==null?void 0:d(y))h=(0,t._)`${h}${v}${this.opts._n}`;else throw new n(y);g.set(y,r.Completed)})}return h}}e.ValueScope=a})(s9);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=fS,n=s9;var r=fS;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=s9;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(z,G){return this}}class s extends o{constructor(z,G,ee){super(),this.varKind=z,this.name=G,this.rhs=ee}render({es5:z,_n:G}){const ee=z?n.varKinds.var:this.varKind,ce=this.rhs===void 0?"":` = ${this.rhs}`;return`${ee} ${this.name}${ce};`+G}optimizeNames(z,G){if(z[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,z,G)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(z,G,ee){super(),this.lhs=z,this.rhs=G,this.sideEffects=ee}render({_n:z}){return`${this.lhs} = ${this.rhs};`+z}optimizeNames(z,G){if(!(this.lhs instanceof t.Name&&!z[this.lhs.str]&&!this.sideEffects))return this.rhs=O(this.rhs,z,G),this}get names(){const z=this.lhs instanceof t.Name?{}:{...this.lhs.names};return N(z,this.rhs)}}class u extends a{constructor(z,G,ee,ce){super(z,ee,ce),this.op=G}render({_n:z}){return`${this.lhs} ${this.op}= ${this.rhs};`+z}}class l extends o{constructor(z){super(),this.label=z,this.names={}}render({_n:z}){return`${this.label}:`+z}}class c extends o{constructor(z){super(),this.label=z,this.names={}}render({_n:z}){return`break${this.label?` ${this.label}`:""};`+z}}class f extends o{constructor(z){super(),this.error=z}render({_n:z}){return`throw ${this.error};`+z}get names(){return this.error.names}}class d extends o{constructor(z){super(),this.code=z}render({_n:z}){return`${this.code};`+z}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(z,G){return this.code=O(this.code,z,G),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends o{constructor(z=[]){super(),this.nodes=z}render(z){return this.nodes.reduce((G,ee)=>G+ee.render(z),"")}optimizeNodes(){const{nodes:z}=this;let G=z.length;for(;G--;){const ee=z[G].optimizeNodes();Array.isArray(ee)?z.splice(G,1,...ee):ee?z[G]=ee:z.splice(G,1)}return z.length>0?this:void 0}optimizeNames(z,G){const{nodes:ee}=this;let ce=ee.length;for(;ce--;){const le=ee[ce];le.optimizeNames(z,G)||(j(z,le.names),ee.splice(ce,1))}return ee.length>0?this:void 0}get names(){return this.nodes.reduce((z,G)=>$(z,G.names),{})}}class p extends h{render(z){return"{"+z._n+super.render(z)+"}"+z._n}}class m extends h{}class g extends p{}g.kind="else";class y extends p{constructor(z,G){super(G),this.condition=z}render(z){let G=`if(${this.condition})`+super.render(z);return this.else&&(G+="else "+this.else.render(z)),G}optimizeNodes(){super.optimizeNodes();const z=this.condition;if(z===!0)return this.nodes;let G=this.else;if(G){const ee=G.optimizeNodes();G=this.else=Array.isArray(ee)?new g(ee):ee}if(G)return z===!1?G instanceof y?G:G.nodes:this.nodes.length?this:new y(M(z),G instanceof y?[G]:G.nodes);if(!(z===!1||!this.nodes.length))return this}optimizeNames(z,G){var ee;if(this.else=(ee=this.else)===null||ee===void 0?void 0:ee.optimizeNames(z,G),!!(super.optimizeNames(z,G)||this.else))return this.condition=O(this.condition,z,G),this}get names(){const z=super.names;return N(z,this.condition),this.else&&$(z,this.else.names),z}}y.kind="if";class v extends p{}v.kind="for";class b extends v{constructor(z){super(),this.iteration=z}render(z){return`for(${this.iteration})`+super.render(z)}optimizeNames(z,G){if(super.optimizeNames(z,G))return this.iteration=O(this.iteration,z,G),this}get names(){return $(super.names,this.iteration.names)}}class _ extends v{constructor(z,G,ee,ce){super(),this.varKind=z,this.name=G,this.from=ee,this.to=ce}render(z){const G=z.es5?n.varKinds.var:this.varKind,{name:ee,from:ce,to:le}=this;return`for(${G} ${ee}=${ce}; ${ee}<${le}; ${ee}++)`+super.render(z)}get names(){const z=N(super.names,this.from);return N(z,this.to)}}class w extends v{constructor(z,G,ee,ce){super(),this.loop=z,this.varKind=G,this.name=ee,this.iterable=ce}render(z){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(z)}optimizeNames(z,G){if(super.optimizeNames(z,G))return this.iterable=O(this.iterable,z,G),this}get names(){return $(super.names,this.iterable.names)}}class S extends p{constructor(z,G,ee){super(),this.name=z,this.args=G,this.async=ee}render(z){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(z)}}S.kind="func";class E extends h{render(z){return"return "+super.render(z)}}E.kind="return";class C extends p{render(z){let G="try"+super.render(z);return this.catch&&(G+=this.catch.render(z)),this.finally&&(G+=this.finally.render(z)),G}optimizeNodes(){var z,G;return super.optimizeNodes(),(z=this.catch)===null||z===void 0||z.optimizeNodes(),(G=this.finally)===null||G===void 0||G.optimizeNodes(),this}optimizeNames(z,G){var ee,ce;return super.optimizeNames(z,G),(ee=this.catch)===null||ee===void 0||ee.optimizeNames(z,G),(ce=this.finally)===null||ce===void 0||ce.optimizeNames(z,G),this}get names(){const z=super.names;return this.catch&&$(z,this.catch.names),this.finally&&$(z,this.finally.names),z}}class A extends p{constructor(z){super(),this.error=z}render(z){return`catch(${this.error})`+super.render(z)}}A.kind="catch";class k extends p{render(z){return"finally"+super.render(z)}}k.kind="finally";class P{constructor(z,G={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...G,_n:G.lines?`
`:""},this._extScope=z,this._scope=new n.Scope({parent:z}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(z){return this._scope.name(z)}scopeName(z){return this._extScope.name(z)}scopeValue(z,G){const ee=this._extScope.value(z,G);return(this._values[ee.prefix]||(this._values[ee.prefix]=new Set)).add(ee),ee}getScopeValue(z,G){return this._extScope.getValue(z,G)}scopeRefs(z){return this._extScope.scopeRefs(z,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(z,G,ee,ce){const le=this._scope.toName(G);return ee!==void 0&&ce&&(this._constants[le.str]=ee),this._leafNode(new s(z,le,ee)),le}const(z,G,ee){return this._def(n.varKinds.const,z,G,ee)}let(z,G,ee){return this._def(n.varKinds.let,z,G,ee)}var(z,G,ee){return this._def(n.varKinds.var,z,G,ee)}assign(z,G,ee){return this._leafNode(new a(z,G,ee))}add(z,G){return this._leafNode(new u(z,e.operators.ADD,G))}code(z){return typeof z=="function"?z():z!==t.nil&&this._leafNode(new d(z)),this}object(...z){const G=["{"];for(const[ee,ce]of z)G.length>1&&G.push(","),G.push(ee),(ee!==ce||this.opts.es5)&&(G.push(":"),(0,t.addCodeArg)(G,ce));return G.push("}"),new t._Code(G)}if(z,G,ee){if(this._blockNode(new y(z)),G&&ee)this.code(G).else().code(ee).endIf();else if(G)this.code(G).endIf();else if(ee)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(z){return this._elseNode(new y(z))}else(){return this._elseNode(new g)}endIf(){return this._endBlockNode(y,g)}_for(z,G){return this._blockNode(z),G&&this.code(G).endFor(),this}for(z,G){return this._for(new b(z),G)}forRange(z,G,ee,ce,le=this.opts.es5?n.varKinds.var:n.varKinds.let){const se=this._scope.toName(z);return this._for(new _(le,se,G,ee),()=>ce(se))}forOf(z,G,ee,ce=n.varKinds.const){const le=this._scope.toName(z);if(this.opts.es5){const se=G instanceof t.Name?G:this.var("_arr",G);return this.forRange("_i",0,(0,t._)`${se}.length`,ge=>{this.var(le,(0,t._)`${se}[${ge}]`),ee(le)})}return this._for(new w("of",ce,le,G),()=>ee(le))}forIn(z,G,ee,ce=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(z,(0,t._)`Object.keys(${G})`,ee);const le=this._scope.toName(z);return this._for(new w("in",ce,le,G),()=>ee(le))}endFor(){return this._endBlockNode(v)}label(z){return this._leafNode(new l(z))}break(z){return this._leafNode(new c(z))}return(z){const G=new E;if(this._blockNode(G),this.code(z),G.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(z,G,ee){if(!G&&!ee)throw new Error('CodeGen: "try" without "catch" and "finally"');const ce=new C;if(this._blockNode(ce),this.code(z),G){const le=this.name("e");this._currNode=ce.catch=new A(le),G(le)}return ee&&(this._currNode=ce.finally=new k,this.code(ee)),this._endBlockNode(A,k)}throw(z){return this._leafNode(new f(z))}block(z,G){return this._blockStarts.push(this._nodes.length),z&&this.code(z).endBlock(G),this}endBlock(z){const G=this._blockStarts.pop();if(G===void 0)throw new Error("CodeGen: not in self-balancing block");const ee=this._nodes.length-G;if(ee<0||z!==void 0&&ee!==z)throw new Error(`CodeGen: wrong number of nodes: ${ee} vs ${z} expected`);return this._nodes.length=G,this}func(z,G=t.nil,ee,ce){return this._blockNode(new S(z,G,ee)),ce&&this.code(ce).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(z=1){for(;z-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(z){return this._currNode.nodes.push(z),this}_blockNode(z){this._currNode.nodes.push(z),this._nodes.push(z)}_endBlockNode(z,G){const ee=this._currNode;if(ee instanceof z||G&&ee instanceof G)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${G?`${z.kind}/${G.kind}`:z.kind}"`)}_elseNode(z){const G=this._currNode;if(!(G instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=G.else=z,this}get _root(){return this._nodes[0]}get _currNode(){const z=this._nodes;return z[z.length-1]}set _currNode(z){const G=this._nodes;G[G.length-1]=z}}e.CodeGen=P;function $(F,z){for(const G in z)F[G]=(F[G]||0)+(z[G]||0);return F}function N(F,z){return z instanceof t._CodeOrName?$(F,z.names):F}function O(F,z,G){if(F instanceof t.Name)return ee(F);if(!ce(F))return F;return new t._Code(F._items.reduce((le,se)=>(se instanceof t.Name&&(se=ee(se)),se instanceof t._Code?le.push(...se._items):le.push(se),le),[]));function ee(le){const se=G[le.str];return se===void 0||z[le.str]!==1?le:(delete z[le.str],se)}function ce(le){return le instanceof t._Code&&le._items.some(se=>se instanceof t.Name&&z[se.str]===1&&G[se.str]!==void 0)}}function j(F,z){for(const G in z)F[G]=(F[G]||0)-(z[G]||0)}function M(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,t._)`!${W(F)}`}e.not=M;const B=U(e.operators.AND);function V(...F){return F.reduce(B)}e.and=V;const q=U(e.operators.OR);function D(...F){return F.reduce(q)}e.or=D;function U(F){return(z,G)=>z===t.nil?G:G===t.nil?z:(0,t._)`${W(z)} ${F} ${W(G)}`}function W(F){return F instanceof t.Name?F:(0,t._)`(${F})`}})(Dn);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.checkStrictMode=Rt.getErrorPath=Rt.Type=Rt.useFunc=Rt.setEvaluated=Rt.evaluatedPropsToName=Rt.mergeEvaluated=Rt.eachItem=Rt.unescapeJsonPointer=Rt.escapeJsonPointer=Rt.escapeFragment=Rt.unescapeFragment=Rt.schemaRefOrVal=Rt.schemaHasRulesButRef=Rt.schemaHasRules=Rt.checkUnknownRules=Rt.alwaysValidSchema=Rt.toHash=void 0;const Dr=Dn,aPt=fS;function uPt(e){const t={};for(const n of e)t[n]=!0;return t}Rt.toHash=uPt;function lPt(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(_xe(e,t),!wxe(t,e.self.RULES.all))}Rt.alwaysValidSchema=lPt;function _xe(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema||typeof t=="boolean")return;const i=r.RULES.keywords;for(const o in t)i[o]||Txe(e,`unknown keyword: "${o}"`)}Rt.checkUnknownRules=_xe;function wxe(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(t[n])return!0;return!1}Rt.schemaHasRules=wxe;function cPt(e,t){if(typeof e=="boolean")return!e;for(const n in e)if(n!=="$ref"&&t.all[n])return!0;return!1}Rt.schemaHasRulesButRef=cPt;function fPt({topSchemaRef:e,schemaPath:t},n,r,i){if(!i){if(typeof n=="number"||typeof n=="boolean")return n;if(typeof n=="string")return(0,Dr._)`${n}`}return(0,Dr._)`${e}${t}${(0,Dr.getProperty)(r)}`}Rt.schemaRefOrVal=fPt;function dPt(e){return Exe(decodeURIComponent(e))}Rt.unescapeFragment=dPt;function hPt(e){return encodeURIComponent(uq(e))}Rt.escapeFragment=hPt;function uq(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}Rt.escapeJsonPointer=uq;function Exe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}Rt.unescapeJsonPointer=Exe;function pPt(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}Rt.eachItem=pPt;function ose({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(i,o,s,a)=>{const u=s===void 0?o:s instanceof Dr.Name?(o instanceof Dr.Name?e(i,o,s):t(i,o,s),s):o instanceof Dr.Name?(t(i,s,o),o):n(o,s);return a===Dr.Name&&!(u instanceof Dr.Name)?r(i,u):u}}Rt.mergeEvaluated={props:ose({mergeNames:(e,t,n)=>e.if((0,Dr._)`${n} !== true && ${t} !== undefined`,()=>{e.if((0,Dr._)`${t} === true`,()=>e.assign(n,!0),()=>e.assign(n,(0,Dr._)`${n} || {}`).code((0,Dr._)`Object.assign(${n}, ${t})`))}),mergeToName:(e,t,n)=>e.if((0,Dr._)`${n} !== true`,()=>{t===!0?e.assign(n,!0):(e.assign(n,(0,Dr._)`${n} || {}`),lq(e,n,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:xxe}),items:ose({mergeNames:(e,t,n)=>e.if((0,Dr._)`${n} !== true && ${t} !== undefined`,()=>e.assign(n,(0,Dr._)`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`)),mergeToName:(e,t,n)=>e.if((0,Dr._)`${n} !== true`,()=>e.assign(n,t===!0?!0:(0,Dr._)`${n} > ${t} ? ${n} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function xxe(e,t){if(t===!0)return e.var("props",!0);const n=e.var("props",(0,Dr._)`{}`);return t!==void 0&&lq(e,n,t),n}Rt.evaluatedPropsToName=xxe;function lq(e,t,n){Object.keys(n).forEach(r=>e.assign((0,Dr._)`${t}${(0,Dr.getProperty)(r)}`,!0))}Rt.setEvaluated=lq;const sse={};function mPt(e,t){return e.scopeValue("func",{ref:t,code:sse[t.code]||(sse[t.code]=new aPt._Code(t.code))})}Rt.useFunc=mPt;var a9;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(a9||(Rt.Type=a9={}));function gPt(e,t,n){if(e instanceof Dr.Name){const r=t===a9.Num;return n?r?(0,Dr._)`"[" + ${e} + "]"`:(0,Dr._)`"['" + ${e} + "']"`:r?(0,Dr._)`"/" + ${e}`:(0,Dr._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,Dr.getProperty)(e).toString():"/"+uq(e)}Rt.getErrorPath=gPt;function Txe(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,n===!0)throw new Error(t);e.self.logger.warn(t)}}Rt.checkStrictMode=Txe;var ld={};Object.defineProperty(ld,"__esModule",{value:!0});const Ss=Dn,yPt={data:new Ss.Name("data"),valCxt:new Ss.Name("valCxt"),instancePath:new Ss.Name("instancePath"),parentData:new Ss.Name("parentData"),parentDataProperty:new Ss.Name("parentDataProperty"),rootData:new Ss.Name("rootData"),dynamicAnchors:new Ss.Name("dynamicAnchors"),vErrors:new Ss.Name("vErrors"),errors:new Ss.Name("errors"),this:new Ss.Name("this"),self:new Ss.Name("self"),scope:new Ss.Name("scope"),json:new Ss.Name("json"),jsonPos:new Ss.Name("jsonPos"),jsonLen:new Ss.Name("jsonLen"),jsonPart:new Ss.Name("jsonPart")};ld.default=yPt;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Dn,n=Rt,r=ld;e.keywordError={message:({keyword:g})=>(0,t.str)`must pass "${g}" keyword validation`},e.keyword$DataError={message:({keyword:g,schemaType:y})=>y?(0,t.str)`"${g}" keyword must be ${y} ($data)`:(0,t.str)`"${g}" keyword is invalid ($data)`};function i(g,y=e.keywordError,v,b){const{it:_}=g,{gen:w,compositeRule:S,allErrors:E}=_,C=f(g,y,v);b??(S||E)?u(w,C):l(_,(0,t._)`[${C}]`)}e.reportError=i;function o(g,y=e.keywordError,v){const{it:b}=g,{gen:_,compositeRule:w,allErrors:S}=b,E=f(g,y,v);u(_,E),w||S||l(b,r.default.vErrors)}e.reportExtraError=o;function s(g,y){g.assign(r.default.errors,y),g.if((0,t._)`${r.default.vErrors} !== null`,()=>g.if(y,()=>g.assign((0,t._)`${r.default.vErrors}.length`,y),()=>g.assign(r.default.vErrors,null)))}e.resetErrorsCount=s;function a({gen:g,keyword:y,schemaValue:v,data:b,errsCount:_,it:w}){if(_===void 0)throw new Error("ajv implementation error");const S=g.name("err");g.forRange("i",_,r.default.errors,E=>{g.const(S,(0,t._)`${r.default.vErrors}[${E}]`),g.if((0,t._)`${S}.instancePath === undefined`,()=>g.assign((0,t._)`${S}.instancePath`,(0,t.strConcat)(r.default.instancePath,w.errorPath))),g.assign((0,t._)`${S}.schemaPath`,(0,t.str)`${w.errSchemaPath}/${y}`),w.opts.verbose&&(g.assign((0,t._)`${S}.schema`,v),g.assign((0,t._)`${S}.data`,b))})}e.extendErrors=a;function u(g,y){const v=g.const("err",y);g.if((0,t._)`${r.default.vErrors} === null`,()=>g.assign(r.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${r.default.vErrors}.push(${v})`),g.code((0,t._)`${r.default.errors}++`)}function l(g,y){const{gen:v,validateName:b,schemaEnv:_}=g;_.$async?v.throw((0,t._)`new ${g.ValidationError}(${y})`):(v.assign((0,t._)`${b}.errors`,y),v.return(!1))}const c={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function f(g,y,v){const{createErrors:b}=g.it;return b===!1?(0,t._)`{}`:d(g,y,v)}function d(g,y,v={}){const{gen:b,it:_}=g,w=[h(_,v),p(g,v)];return m(g,y,w),b.object(...w)}function h({errorPath:g},{instancePath:y}){const v=y?(0,t.str)`${g}${(0,n.getErrorPath)(y,n.Type.Str)}`:g;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,v)]}function p({keyword:g,it:{errSchemaPath:y}},{schemaPath:v,parentSchema:b}){let _=b?y:(0,t.str)`${y}/${g}`;return v&&(_=(0,t.str)`${_}${(0,n.getErrorPath)(v,n.Type.Str)}`),[c.schemaPath,_]}function m(g,{params:y,message:v},b){const{keyword:_,data:w,schemaValue:S,it:E}=g,{opts:C,propertyName:A,topSchemaRef:k,schemaPath:P}=E;b.push([c.keyword,_],[c.params,typeof y=="function"?y(g):y||(0,t._)`{}`]),C.messages&&b.push([c.message,typeof v=="function"?v(g):v]),C.verbose&&b.push([c.schema,S],[c.parentSchema,(0,t._)`${k}${P}`],[r.default.data,w]),A&&b.push([c.propertyName,A])}})(HC);Object.defineProperty(Lb,"__esModule",{value:!0});Lb.boolOrEmptySchema=Lb.topBoolOrEmptySchema=void 0;const vPt=HC,bPt=Dn,_Pt=ld,wPt={message:"boolean schema is false"};function EPt(e){const{gen:t,schema:n,validateName:r}=e;n===!1?Sxe(e,!1):typeof n=="object"&&n.$async===!0?t.return(_Pt.default.data):(t.assign((0,bPt._)`${r}.errors`,null),t.return(!0))}Lb.topBoolOrEmptySchema=EPt;function xPt(e,t){const{gen:n,schema:r}=e;r===!1?(n.var(t,!1),Sxe(e)):n.var(t,!0)}Lb.boolOrEmptySchema=xPt;function Sxe(e,t){const{gen:n,data:r}=e,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,vPt.reportError)(i,wPt,void 0,t)}var so={},oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.getRules=oy.isJSONType=void 0;const TPt=["string","number","integer","boolean","null","object","array"],SPt=new Set(TPt);function CPt(e){return typeof e=="string"&&SPt.has(e)}oy.isJSONType=CPt;function APt(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}oy.getRules=APt;var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.shouldUseRule=lh.shouldUseGroup=lh.schemaHasRulesForType=void 0;function IPt({schema:e,self:t},n){const r=t.RULES.types[n];return r&&r!==!0&&Cxe(e,r)}lh.schemaHasRulesForType=IPt;function Cxe(e,t){return t.rules.some(n=>Axe(e,n))}lh.shouldUseGroup=Cxe;function Axe(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(r=>e[r]!==void 0))}lh.shouldUseRule=Axe;Object.defineProperty(so,"__esModule",{value:!0});so.reportTypeError=so.checkDataTypes=so.checkDataType=so.coerceAndCheckDataType=so.getJSONTypes=so.getSchemaTypes=so.DataType=void 0;const kPt=oy,RPt=lh,PPt=HC,Tn=Dn,Ixe=Rt;var eb;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(eb||(so.DataType=eb={}));function NPt(e){const t=kxe(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}so.getSchemaTypes=NPt;function kxe(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(kPt.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}so.getJSONTypes=kxe;function DPt(e,t){const{gen:n,data:r,opts:i}=e,o=$Pt(t,i.coerceTypes),s=t.length>0&&!(o.length===0&&t.length===1&&(0,RPt.schemaHasRulesForType)(e,t[0]));if(s){const a=cq(t,r,i.strictNumbers,eb.Wrong);n.if(a,()=>{o.length?OPt(e,t,o):fq(e)})}return s}so.coerceAndCheckDataType=DPt;const Rxe=new Set(["string","number","integer","boolean","null"]);function $Pt(e,t){return t?e.filter(n=>Rxe.has(n)||t==="array"&&n==="array"):[]}function OPt(e,t,n){const{gen:r,data:i,opts:o}=e,s=r.let("dataType",(0,Tn._)`typeof ${i}`),a=r.let("coerced",(0,Tn._)`undefined`);o.coerceTypes==="array"&&r.if((0,Tn._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>r.assign(i,(0,Tn._)`${i}[0]`).assign(s,(0,Tn._)`typeof ${i}`).if(cq(t,i,o.strictNumbers),()=>r.assign(a,i))),r.if((0,Tn._)`${a} !== undefined`);for(const l of n)(Rxe.has(l)||l==="array"&&o.coerceTypes==="array")&&u(l);r.else(),fq(e),r.endIf(),r.if((0,Tn._)`${a} !== undefined`,()=>{r.assign(i,a),MPt(e,a)});function u(l){switch(l){case"string":r.elseIf((0,Tn._)`${s} == "number" || ${s} == "boolean"`).assign(a,(0,Tn._)`"" + ${i}`).elseIf((0,Tn._)`${i} === null`).assign(a,(0,Tn._)`""`);return;case"number":r.elseIf((0,Tn._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(a,(0,Tn._)`+${i}`);return;case"integer":r.elseIf((0,Tn._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(a,(0,Tn._)`+${i}`);return;case"boolean":r.elseIf((0,Tn._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(a,!1).elseIf((0,Tn._)`${i} === "true" || ${i} === 1`).assign(a,!0);return;case"null":r.elseIf((0,Tn._)`${i} === "" || ${i} === 0 || ${i} === false`),r.assign(a,null);return;case"array":r.elseIf((0,Tn._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(a,(0,Tn._)`[${i}]`)}}}function MPt({gen:e,parentData:t,parentDataProperty:n},r){e.if((0,Tn._)`${t} !== undefined`,()=>e.assign((0,Tn._)`${t}[${n}]`,r))}function u9(e,t,n,r=eb.Correct){const i=r===eb.Correct?Tn.operators.EQ:Tn.operators.NEQ;let o;switch(e){case"null":return(0,Tn._)`${t} ${i} null`;case"array":o=(0,Tn._)`Array.isArray(${t})`;break;case"object":o=(0,Tn._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=s((0,Tn._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=s();break;default:return(0,Tn._)`typeof ${t} ${i} ${e}`}return r===eb.Correct?o:(0,Tn.not)(o);function s(a=Tn.nil){return(0,Tn.and)((0,Tn._)`typeof ${t} == "number"`,a,n?(0,Tn._)`isFinite(${t})`:Tn.nil)}}so.checkDataType=u9;function cq(e,t,n,r){if(e.length===1)return u9(e[0],t,n,r);let i;const o=(0,Ixe.toHash)(e);if(o.array&&o.object){const s=(0,Tn._)`typeof ${t} != "object"`;i=o.null?s:(0,Tn._)`!${t} || ${s}`,delete o.null,delete o.array,delete o.object}else i=Tn.nil;o.number&&delete o.integer;for(const s in o)i=(0,Tn.and)(i,u9(s,t,n,r));return i}so.checkDataTypes=cq;const LPt={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,Tn._)`{type: ${e}}`:(0,Tn._)`{type: ${t}}`};function fq(e){const t=FPt(e);(0,PPt.reportError)(t,LPt)}so.reportTypeError=fq;function FPt(e){const{gen:t,data:n,schema:r}=e,i=(0,Ixe.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:i,schemaValue:i,parentSchema:r,params:{},it:e}}var iO={};Object.defineProperty(iO,"__esModule",{value:!0});iO.assignDefaults=void 0;const Lv=Dn,jPt=Rt;function BPt(e,t){const{properties:n,items:r}=e.schema;if(t==="object"&&n)for(const i in n)ase(e,i,n[i].default);else t==="array"&&Array.isArray(r)&&r.forEach((i,o)=>ase(e,o,i.default))}iO.assignDefaults=BPt;function ase(e,t,n){const{gen:r,compositeRule:i,data:o,opts:s}=e;if(n===void 0)return;const a=(0,Lv._)`${o}${(0,Lv.getProperty)(t)}`;if(i){(0,jPt.checkStrictMode)(e,`default is ignored for: ${a}`);return}let u=(0,Lv._)`${a} === undefined`;s.useDefaults==="empty"&&(u=(0,Lv._)`${u} || ${a} === null || ${a} === ""`),r.if(u,(0,Lv._)`${a} = ${(0,Lv.stringify)(n)}`)}var Rf={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.validateUnion=Pn.validateArray=Pn.usePattern=Pn.callValidateCode=Pn.schemaProperties=Pn.allSchemaProperties=Pn.noPropertyInData=Pn.propertyInData=Pn.isOwnProperty=Pn.hasPropFunc=Pn.reportMissingProp=Pn.checkMissingProp=Pn.checkReportMissingProp=void 0;const Xr=Dn,dq=Rt,lp=ld,UPt=Rt;function zPt(e,t){const{gen:n,data:r,it:i}=e;n.if(pq(n,r,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Xr._)`${t}`},!0),e.error()})}Pn.checkReportMissingProp=zPt;function VPt({gen:e,data:t,it:{opts:n}},r,i){return(0,Xr.or)(...r.map(o=>(0,Xr.and)(pq(e,t,o,n.ownProperties),(0,Xr._)`${i} = ${o}`)))}Pn.checkMissingProp=VPt;function HPt(e,t){e.setParams({missingProperty:t},!0),e.error()}Pn.reportMissingProp=HPt;function Pxe(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Xr._)`Object.prototype.hasOwnProperty`})}Pn.hasPropFunc=Pxe;function hq(e,t,n){return(0,Xr._)`${Pxe(e)}.call(${t}, ${n})`}Pn.isOwnProperty=hq;function qPt(e,t,n,r){const i=(0,Xr._)`${t}${(0,Xr.getProperty)(n)} !== undefined`;return r?(0,Xr._)`${i} && ${hq(e,t,n)}`:i}Pn.propertyInData=qPt;function pq(e,t,n,r){const i=(0,Xr._)`${t}${(0,Xr.getProperty)(n)} === undefined`;return r?(0,Xr.or)(i,(0,Xr.not)(hq(e,t,n))):i}Pn.noPropertyInData=pq;function Nxe(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Pn.allSchemaProperties=Nxe;function WPt(e,t){return Nxe(t).filter(n=>!(0,dq.alwaysValidSchema)(e,t[n]))}Pn.schemaProperties=WPt;function GPt({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:o},it:s},a,u,l){const c=l?(0,Xr._)`${e}, ${t}, ${r}${i}`:t,f=[[lp.default.instancePath,(0,Xr.strConcat)(lp.default.instancePath,o)],[lp.default.parentData,s.parentData],[lp.default.parentDataProperty,s.parentDataProperty],[lp.default.rootData,lp.default.rootData]];s.opts.dynamicRef&&f.push([lp.default.dynamicAnchors,lp.default.dynamicAnchors]);const d=(0,Xr._)`${c}, ${n.object(...f)}`;return u!==Xr.nil?(0,Xr._)`${a}.call(${u}, ${d})`:(0,Xr._)`${a}(${d})`}Pn.callValidateCode=GPt;const YPt=(0,Xr._)`new RegExp`;function KPt({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:i}=t.code,o=i(n,r);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Xr._)`${i.code==="new RegExp"?YPt:(0,UPt.useFunc)(e,i)}(${n}, ${r})`})}Pn.usePattern=KPt;function XPt(e){const{gen:t,data:n,keyword:r,it:i}=e,o=t.name("valid");if(i.allErrors){const a=t.let("valid",!0);return s(()=>t.assign(a,!1)),a}return t.var(o,!0),s(()=>t.break()),o;function s(a){const u=t.const("len",(0,Xr._)`${n}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:r,dataProp:l,dataPropType:dq.Type.Num},o),t.if((0,Xr.not)(o),a)})}}Pn.validateArray=XPt;function QPt(e){const{gen:t,schema:n,keyword:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(u=>(0,dq.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const s=t.let("valid",!1),a=t.name("_valid");t.block(()=>n.forEach((u,l)=>{const c=e.subschema({keyword:r,schemaProp:l,compositeRule:!0},a);t.assign(s,(0,Xr._)`${s} || ${a}`),e.mergeValidEvaluated(c,a)||t.if((0,Xr.not)(s))})),e.result(s,()=>e.reset(),()=>e.error(!0))}Pn.validateUnion=QPt;Object.defineProperty(Rf,"__esModule",{value:!0});Rf.validateKeywordUsage=Rf.validSchemaType=Rf.funcKeywordCode=Rf.macroKeywordCode=void 0;const oa=Dn,Zg=ld,JPt=Pn,ZPt=HC;function eNt(e,t){const{gen:n,keyword:r,schema:i,parentSchema:o,it:s}=e,a=t.macro.call(s.self,i,o,s),u=Dxe(n,r,a);s.opts.validateSchema!==!1&&s.self.validateSchema(a,!0);const l=n.name("valid");e.subschema({schema:a,schemaPath:oa.nil,errSchemaPath:`${s.errSchemaPath}/${r}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Rf.macroKeywordCode=eNt;function tNt(e,t){var n;const{gen:r,keyword:i,schema:o,parentSchema:s,$data:a,it:u}=e;rNt(u,t);const l=!a&&t.compile?t.compile.call(u.self,o,s,u):t.validate,c=Dxe(r,i,l),f=r.let("valid");e.block$data(f,d),e.ok((n=t.valid)!==null&&n!==void 0?n:f);function d(){if(t.errors===!1)m(),t.modifying&&use(e),g(()=>e.error());else{const y=t.async?h():p();t.modifying&&use(e),g(()=>nNt(e,y))}}function h(){const y=r.let("ruleErrs",null);return r.try(()=>m((0,oa._)`await `),v=>r.assign(f,!1).if((0,oa._)`${v} instanceof ${u.ValidationError}`,()=>r.assign(y,(0,oa._)`${v}.errors`),()=>r.throw(v))),y}function p(){const y=(0,oa._)`${c}.errors`;return r.assign(y,null),m(oa.nil),y}function m(y=t.async?(0,oa._)`await `:oa.nil){const v=u.opts.passContext?Zg.default.this:Zg.default.self,b=!("compile"in t&&!a||t.schema===!1);r.assign(f,(0,oa._)`${y}${(0,JPt.callValidateCode)(e,c,v,b)}`,t.modifying)}function g(y){var v;r.if((0,oa.not)((v=t.valid)!==null&&v!==void 0?v:f),y)}}Rf.funcKeywordCode=tNt;function use(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,()=>t.assign(n,(0,oa._)`${r.parentData}[${r.parentDataProperty}]`))}function nNt(e,t){const{gen:n}=e;n.if((0,oa._)`Array.isArray(${t})`,()=>{n.assign(Zg.default.vErrors,(0,oa._)`${Zg.default.vErrors} === null ? ${t} : ${Zg.default.vErrors}.concat(${t})`).assign(Zg.default.errors,(0,oa._)`${Zg.default.vErrors}.length`),(0,ZPt.extendErrors)(e)},()=>e.error())}function rNt({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Dxe(e,t,n){if(n===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,oa.stringify)(n)})}function iNt(e,t,n=!1){return!t.length||t.some(r=>r==="array"?Array.isArray(e):r==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==r||n&&typeof e>"u")}Rf.validSchemaType=iNt;function oNt({schema:e,opts:t,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const s=i.dependencies;if(s!=null&&s.some(a=>!Object.prototype.hasOwnProperty.call(e,a)))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){const u=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")n.logger.error(u);else throw new Error(u)}}Rf.validateKeywordUsage=oNt;var fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.extendSubschemaMode=fm.extendSubschemaData=fm.getSubschema=void 0;const Ef=Dn,$xe=Rt;function sNt(e,{keyword:t,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:s}){if(t!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const a=e.schema[t];return n===void 0?{schema:a,schemaPath:(0,Ef._)`${e.schemaPath}${(0,Ef.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:(0,Ef._)`${e.schemaPath}${(0,Ef.getProperty)(t)}${(0,Ef.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,$xe.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||o===void 0||s===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:s,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}fm.getSubschema=sNt;function aNt(e,t,{dataProp:n,dataPropType:r,data:i,dataTypes:o,propertyName:s}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(n!==void 0){const{errorPath:l,dataPathArr:c,opts:f}=t,d=a.let("data",(0,Ef._)`${t.data}${(0,Ef.getProperty)(n)}`,!0);u(d),e.errorPath=(0,Ef.str)`${l}${(0,$xe.getErrorPath)(n,r,f.jsPropertySyntax)}`,e.parentDataProperty=(0,Ef._)`${n}`,e.dataPathArr=[...c,e.parentDataProperty]}if(i!==void 0){const l=i instanceof Ef.Name?i:a.let("data",i,!0);u(l),s!==void 0&&(e.propertyName=s)}o&&(e.dataTypes=o);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}fm.extendSubschemaData=aNt;function uNt(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(e.compositeRule=r),i!==void 0&&(e.createErrors=i),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n}fm.extendSubschemaMode=uNt;var os={},Oxe={exports:{}},Bp=Oxe.exports=function(e,t,n){typeof t=="function"&&(n=t,t={}),n=t.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};yk(t,r,i,e,"",e)};Bp.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Bp.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Bp.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Bp.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function yk(e,t,n,r,i,o,s,a,u,l){if(r&&typeof r=="object"&&!Array.isArray(r)){t(r,i,o,s,a,u,l);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Bp.arrayKeywords)for(var d=0;d<f.length;d++)yk(e,t,n,f[d],i+"/"+c+"/"+d,o,i,c,r,d)}else if(c in Bp.propsKeywords){if(f&&typeof f=="object")for(var h in f)yk(e,t,n,f[h],i+"/"+c+"/"+lNt(h),o,i,c,r,h)}else(c in Bp.keywords||e.allKeys&&!(c in Bp.skipKeywords))&&yk(e,t,n,f,i+"/"+c,o,i,c,r)}n(r,i,o,s,a,u,l)}}function lNt(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var cNt=Oxe.exports;Object.defineProperty(os,"__esModule",{value:!0});os.getSchemaRefs=os.resolveUrl=os.normalizeId=os._getFullPath=os.getFullPath=os.inlineRef=void 0;const fNt=Rt,dNt=Jz,hNt=cNt,pNt=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function mNt(e,t=!0){return typeof e=="boolean"?!0:t===!0?!l9(e):t?Mxe(e)<=t:!1}os.inlineRef=mNt;const gNt=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l9(e){for(const t in e){if(gNt.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(l9)||typeof n=="object"&&l9(n))return!0}return!1}function Mxe(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!pNt.has(n)&&(typeof e[n]=="object"&&(0,fNt.eachItem)(e[n],r=>t+=Mxe(r)),t===1/0))return 1/0}return t}function Lxe(e,t="",n){n!==!1&&(t=tb(t));const r=e.parse(t);return Fxe(e,r)}os.getFullPath=Lxe;function Fxe(e,t){return e.serialize(t).split("#")[0]+"#"}os._getFullPath=Fxe;const yNt=/#\/?$/;function tb(e){return e?e.replace(yNt,""):""}os.normalizeId=tb;function vNt(e,t,n){return n=tb(n),e.resolve(t,n)}os.resolveUrl=vNt;const bNt=/^[a-z_][-a-z0-9._]*$/i;function _Nt(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=tb(e[n]||t),o={"":i},s=Lxe(r,i,!1),a={},u=new Set;return hNt(e,{allKeys:!0},(f,d,h,p)=>{if(p===void 0)return;const m=s+d;let g=o[p];typeof f[n]=="string"&&(g=y.call(this,f[n])),v.call(this,f.$anchor),v.call(this,f.$dynamicAnchor),o[d]=g;function y(b){const _=this.opts.uriResolver.resolve;if(b=tb(g?_(g,b):b),u.has(b))throw c(b);u.add(b);let w=this.refs[b];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?l(f,w.schema,b):b!==tb(m)&&(b[0]==="#"?(l(f,a[b],b),a[b]=f):this.refs[b]=m),b}function v(b){if(typeof b=="string"){if(!bNt.test(b))throw new Error(`invalid anchor "${b}"`);y.call(this,`#${b}`)}}}),a;function l(f,d,h){if(d!==void 0&&!dNt(f,d))throw c(h)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}os.getSchemaRefs=_Nt;Object.defineProperty(Nc,"__esModule",{value:!0});Nc.getData=Nc.KeywordCxt=Nc.validateFunctionCode=void 0;const jxe=Lb,lse=so,mq=lh,gP=so,wNt=iO,Yx=Rf,M6=fm,Ut=Dn,rn=ld,ENt=os,ch=Rt,oE=HC;function xNt(e){if(zxe(e)&&(Vxe(e),Uxe(e))){CNt(e);return}Bxe(e,()=>(0,jxe.topBoolOrEmptySchema)(e))}Nc.validateFunctionCode=xNt;function Bxe({gen:e,validateName:t,schema:n,schemaEnv:r,opts:i},o){i.code.es5?e.func(t,(0,Ut._)`${rn.default.data}, ${rn.default.valCxt}`,r.$async,()=>{e.code((0,Ut._)`"use strict"; ${cse(n,i)}`),SNt(e,i),e.code(o)}):e.func(t,(0,Ut._)`${rn.default.data}, ${TNt(i)}`,r.$async,()=>e.code(cse(n,i)).code(o))}function TNt(e){return(0,Ut._)`{${rn.default.instancePath}="", ${rn.default.parentData}, ${rn.default.parentDataProperty}, ${rn.default.rootData}=${rn.default.data}${e.dynamicRef?(0,Ut._)`, ${rn.default.dynamicAnchors}={}`:Ut.nil}}={}`}function SNt(e,t){e.if(rn.default.valCxt,()=>{e.var(rn.default.instancePath,(0,Ut._)`${rn.default.valCxt}.${rn.default.instancePath}`),e.var(rn.default.parentData,(0,Ut._)`${rn.default.valCxt}.${rn.default.parentData}`),e.var(rn.default.parentDataProperty,(0,Ut._)`${rn.default.valCxt}.${rn.default.parentDataProperty}`),e.var(rn.default.rootData,(0,Ut._)`${rn.default.valCxt}.${rn.default.rootData}`),t.dynamicRef&&e.var(rn.default.dynamicAnchors,(0,Ut._)`${rn.default.valCxt}.${rn.default.dynamicAnchors}`)},()=>{e.var(rn.default.instancePath,(0,Ut._)`""`),e.var(rn.default.parentData,(0,Ut._)`undefined`),e.var(rn.default.parentDataProperty,(0,Ut._)`undefined`),e.var(rn.default.rootData,rn.default.data),t.dynamicRef&&e.var(rn.default.dynamicAnchors,(0,Ut._)`{}`)})}function CNt(e){const{schema:t,opts:n,gen:r}=e;Bxe(e,()=>{n.$comment&&t.$comment&&qxe(e),PNt(e),r.let(rn.default.vErrors,null),r.let(rn.default.errors,0),n.unevaluated&&ANt(e),Hxe(e),$Nt(e)})}function ANt(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",(0,Ut._)`${n}.evaluated`),t.if((0,Ut._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Ut._)`${e.evaluated}.props`,(0,Ut._)`undefined`)),t.if((0,Ut._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Ut._)`${e.evaluated}.items`,(0,Ut._)`undefined`))}function cse(e,t){const n=typeof e=="object"&&e[t.schemaId];return n&&(t.code.source||t.code.process)?(0,Ut._)`/*# sourceURL=${n} */`:Ut.nil}function INt(e,t){if(zxe(e)&&(Vxe(e),Uxe(e))){kNt(e,t);return}(0,jxe.boolOrEmptySchema)(e,t)}function Uxe({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function zxe(e){return typeof e.schema!="boolean"}function kNt(e,t){const{schema:n,gen:r,opts:i}=e;i.$comment&&n.$comment&&qxe(e),NNt(e),DNt(e);const o=r.const("_errs",rn.default.errors);Hxe(e,o),r.var(t,(0,Ut._)`${o} === ${rn.default.errors}`)}function Vxe(e){(0,ch.checkUnknownRules)(e),RNt(e)}function Hxe(e,t){if(e.opts.jtd)return fse(e,[],!1,t);const n=(0,lse.getSchemaTypes)(e.schema),r=(0,lse.coerceAndCheckDataType)(e,n);fse(e,n,!r,t)}function RNt(e){const{schema:t,errSchemaPath:n,opts:r,self:i}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,ch.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function PNt(e){const{schema:t,opts:n}=e;t.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,ch.checkStrictMode)(e,"default is ignored in the schema root")}function NNt(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ENt.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function DNt(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function qxe({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(i.$comment===!0)e.code((0,Ut._)`${rn.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const s=(0,Ut.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,Ut._)`${rn.default.self}.opts.$comment(${o}, ${s}, ${a}.schema)`)}}function $Nt(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=e;n.$async?t.if((0,Ut._)`${rn.default.errors} === 0`,()=>t.return(rn.default.data),()=>t.throw((0,Ut._)`new ${i}(${rn.default.vErrors})`)):(t.assign((0,Ut._)`${r}.errors`,rn.default.vErrors),o.unevaluated&&ONt(e),t.return((0,Ut._)`${rn.default.errors} === 0`))}function ONt({gen:e,evaluated:t,props:n,items:r}){n instanceof Ut.Name&&e.assign((0,Ut._)`${t}.props`,n),r instanceof Ut.Name&&e.assign((0,Ut._)`${t}.items`,r)}function fse(e,t,n,r){const{gen:i,schema:o,data:s,allErrors:a,opts:u,self:l}=e,{RULES:c}=l;if(o.$ref&&(u.ignoreKeywordsWithRef||!(0,ch.schemaHasRulesButRef)(o,c))){i.block(()=>Yxe(e,"$ref",c.all.$ref.definition));return}u.jtd||MNt(e,t),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,mq.shouldUseGroup)(o,d)&&(d.type?(i.if((0,gP.checkDataType)(d.type,s,u.strictNumbers)),dse(e,d),t.length===1&&t[0]===d.type&&n&&(i.else(),(0,gP.reportTypeError)(e)),i.endIf()):dse(e,d),a||i.if((0,Ut._)`${rn.default.errors} === ${r||0}`))}}function dse(e,t){const{gen:n,schema:r,opts:{useDefaults:i}}=e;i&&(0,wNt.assignDefaults)(e,t.type),n.block(()=>{for(const o of t.rules)(0,mq.shouldUseRule)(r,o)&&Yxe(e,o.keyword,o.definition,t.type)})}function MNt(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(LNt(e,t),e.opts.allowUnionTypes||FNt(e,t),jNt(e,e.dataTypes))}function LNt(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(n=>{Wxe(e.dataTypes,n)||gq(e,`type "${n}" not allowed by context "${e.dataTypes.join(",")}"`)}),UNt(e,t)}}function FNt(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&gq(e,"use allowUnionTypes to allow union type keyword")}function jNt(e,t){const n=e.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,mq.shouldUseRule)(e.schema,i)){const{type:o}=i.definition;o.length&&!o.some(s=>BNt(t,s))&&gq(e,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function BNt(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Wxe(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function UNt(e,t){const n=[];for(const r of e.dataTypes)Wxe(t,r)?n.push(r):t.includes("integer")&&r==="number"&&n.push("integer");e.dataTypes=n}function gq(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,ch.checkStrictMode)(e,t,e.opts.strictTypes)}class Gxe{constructor(t,n,r){if((0,Yx.validateKeywordUsage)(t,n,r),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=r,this.data=t.data,this.schema=t.schema[r],this.$data=n.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ch.schemaRefOrVal)(t,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=n,this.$data)this.schemaCode=t.gen.const("vSchema",Kxe(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Yx.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=t.gen.const("_errs",rn.default.errors))}result(t,n,r){this.failResult((0,Ut.not)(t),n,r)}failResult(t,n,r){this.gen.if(t),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,n){this.failResult((0,Ut.not)(t),void 0,n)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:n}=this;this.fail((0,Ut._)`${n} !== undefined && (${(0,Ut.or)(this.invalid$data(),t)})`)}error(t,n,r){if(n){this.setParams(n),this._error(t,r),this.setParams({});return}this._error(t,r)}_error(t,n){(t?oE.reportExtraError:oE.reportError)(this,this.def.error,n)}$dataError(){(0,oE.reportError)(this,this.def.$dataError||oE.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,oE.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,n){n?Object.assign(this.params,t):this.params=t}block$data(t,n,r=Ut.nil){this.gen.block(()=>{this.check$data(t,r),n()})}check$data(t=Ut.nil,n=Ut.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:s}=this;r.if((0,Ut.or)((0,Ut._)`${i} === undefined`,n)),t!==Ut.nil&&r.assign(t,!0),(o.length||s.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),t!==Ut.nil&&r.assign(t,!1)),r.else()}invalid$data(){const{gen:t,schemaCode:n,schemaType:r,def:i,it:o}=this;return(0,Ut.or)(s(),a());function s(){if(r.length){if(!(n instanceof Ut.Name))throw new Error("ajv implementation error");const u=Array.isArray(r)?r:[r];return(0,Ut._)`${(0,gP.checkDataTypes)(u,n,o.opts.strictNumbers,gP.DataType.Wrong)}`}return Ut.nil}function a(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ut._)`!${u}(${n})`}return Ut.nil}}subschema(t,n){const r=(0,M6.getSubschema)(this.it,t);(0,M6.extendSubschemaData)(r,this.it,t),(0,M6.extendSubschemaMode)(r,t);const i={...this.it,...r,items:void 0,props:void 0};return INt(i,n),i}mergeEvaluated(t,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&t.props!==void 0&&(r.props=ch.mergeEvaluated.props(i,t.props,r.props,n)),r.items!==!0&&t.items!==void 0&&(r.items=ch.mergeEvaluated.items(i,t.items,r.items,n)))}mergeValidEvaluated(t,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(t,Ut.Name)),!0}}Nc.KeywordCxt=Gxe;function Yxe(e,t,n,r){const i=new Gxe(e,n,t);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Yx.funcKeywordCode)(i,n):"macro"in n?(0,Yx.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Yx.funcKeywordCode)(i,n)}const zNt=/^\/(?:[^~]|~0|~1)*$/,VNt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Kxe(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let i,o;if(e==="")return rn.default.rootData;if(e[0]==="/"){if(!zNt.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,o=rn.default.rootData}else{const l=VNt.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const c=+l[1];if(i=l[2],i==="#"){if(c>=t)throw new Error(u("property/index",c));return r[t-c]}if(c>t)throw new Error(u("data",c));if(o=n[t-c],!i)return o}let s=o;const a=i.split("/");for(const l of a)l&&(o=(0,Ut._)`${o}${(0,Ut.getProperty)((0,ch.unescapeJsonPointer)(l))}`,s=(0,Ut._)`${s} && ${o}`);return s;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Nc.getData=Kxe;var qC={};Object.defineProperty(qC,"__esModule",{value:!0});class HNt extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}qC.default=HNt;var iw={};Object.defineProperty(iw,"__esModule",{value:!0});const L6=os;class qNt extends Error{constructor(t,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,L6.resolveUrl)(t,n,r),this.missingSchema=(0,L6.normalizeId)((0,L6.getFullPath)(t,this.missingRef))}}iw.default=qNt;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.resolveSchema=Ha.getCompilingSchema=Ha.resolveRef=Ha.compileSchema=Ha.SchemaEnv=void 0;const nc=Dn,WNt=qC,Ig=ld,vc=os,hse=Rt,GNt=Nc;class oO{constructor(t){var n;this.refs={},this.dynamicAnchors={};let r;typeof t.schema=="object"&&(r=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,vc.normalizeId)(r==null?void 0:r[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}Ha.SchemaEnv=oO;function yq(e){const t=Xxe.call(this,e);if(t)return t;const n=(0,vc.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,s=new nc.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let a;e.$async&&(a=s.scopeValue("Error",{ref:WNt.default,code:(0,nc._)`require("ajv/dist/runtime/validation_error").default`}));const u=s.scopeName("validate");e.validateName=u;const l={gen:s,allErrors:this.opts.allErrors,data:Ig.default.data,parentData:Ig.default.parentData,parentDataProperty:Ig.default.parentDataProperty,dataNames:[Ig.default.data],dataPathArr:[nc.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:s.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,nc.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:nc.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,nc._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(e),(0,GNt.validateFunctionCode)(l),s.optimize(this.opts.code.optimize);const f=s.toString();c=`${s.scopeRefs(Ig.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,e));const h=new Function(`${Ig.default.self}`,`${Ig.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:u,validateCode:f,scopeValues:s._values}),this.opts.unevaluated){const{props:p,items:m}=l;h.evaluated={props:p instanceof nc.Name?void 0:p,items:m instanceof nc.Name?void 0:m,dynamicProps:p instanceof nc.Name,dynamicItems:m instanceof nc.Name},h.source&&(h.source.evaluated=(0,nc.stringify)(h.evaluated))}return e.validate=h,e}catch(f){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(e)}}Ha.compileSchema=yq;function YNt(e,t,n){var r;n=(0,vc.resolveUrl)(this.opts.uriResolver,t,n);const i=e.refs[n];if(i)return i;let o=QNt.call(this,e,n);if(o===void 0){const s=(r=e.localRefs)===null||r===void 0?void 0:r[n],{schemaId:a}=this.opts;s&&(o=new oO({schema:s,schemaId:a,root:e,baseId:t}))}if(o!==void 0)return e.refs[n]=KNt.call(this,o)}Ha.resolveRef=YNt;function KNt(e){return(0,vc.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:yq.call(this,e)}function Xxe(e){for(const t of this._compilations)if(XNt(t,e))return t}Ha.getCompilingSchema=Xxe;function XNt(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function QNt(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||sO.call(this,e,t)}function sO(e,t){const n=this.opts.uriResolver.parse(t),r=(0,vc._getFullPath)(this.opts.uriResolver,n);let i=(0,vc.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===i)return F6.call(this,n,e);const o=(0,vc.normalizeId)(r),s=this.refs[o]||this.schemas[o];if(typeof s=="string"){const a=sO.call(this,e,s);return typeof(a==null?void 0:a.schema)!="object"?void 0:F6.call(this,n,a)}if(typeof(s==null?void 0:s.schema)=="object"){if(s.validate||yq.call(this,s),o===(0,vc.normalizeId)(t)){const{schema:a}=s,{schemaId:u}=this.opts,l=a[u];return l&&(i=(0,vc.resolveUrl)(this.opts.uriResolver,i,l)),new oO({schema:a,schemaId:u,root:e,baseId:i})}return F6.call(this,n,s)}}Ha.resolveSchema=sO;const JNt=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function F6(e,{baseId:t,schema:n,root:r}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const a of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const u=n[(0,hse.unescapeFragment)(a)];if(u===void 0)return;n=u;const l=typeof n=="object"&&n[this.opts.schemaId];!JNt.has(a)&&l&&(t=(0,vc.resolveUrl)(this.opts.uriResolver,t,l))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,hse.schemaHasRulesButRef)(n,this.RULES)){const a=(0,vc.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=sO.call(this,r,a)}const{schemaId:s}=this.opts;if(o=o||new oO({schema:n,schemaId:s,root:r,baseId:t}),o.schema!==o.root.schema)return o}const ZNt="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",eDt="Meta-schema for $data reference (JSON AnySchema extension proposal)",tDt="object",nDt=["$data"],rDt={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},iDt=!1,oDt={$id:ZNt,description:eDt,type:tDt,required:nDt,properties:rDt,additionalProperties:iDt};var vq={},c9={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(n,r){r(t)})(ki,function(n){function r(){for(var oe=arguments.length,te=Array(oe),ae=0;ae<oe;ae++)te[ae]=arguments[ae];if(te.length>1){te[0]=te[0].slice(0,-1);for(var Se=te.length-1,xe=1;xe<Se;++xe)te[xe]=te[xe].slice(1,-1);return te[Se]=te[Se].slice(1),te.join("")}else return te[0]}function i(oe){return"(?:"+oe+")"}function o(oe){return oe===void 0?"undefined":oe===null?"null":Object.prototype.toString.call(oe).split(" ").pop().split("]").shift().toLowerCase()}function s(oe){return oe.toUpperCase()}function a(oe){return oe!=null?oe instanceof Array?oe:typeof oe.length!="number"||oe.split||oe.setInterval||oe.call?[oe]:Array.prototype.slice.call(oe):[]}function u(oe,te){var ae=oe;if(te)for(var Se in te)ae[Se]=te[Se];return ae}function l(oe){var te="[A-Za-z]",ae="[0-9]",Se=r(ae,"[A-Fa-f]"),xe=i(i("%[EFef]"+Se+"%"+Se+Se+"%"+Se+Se)+"|"+i("%[89A-Fa-f]"+Se+"%"+Se+Se)+"|"+i("%"+Se+Se)),ot="[\\:\\/\\?\\#\\[\\]\\@]",Pt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Wt=r(ot,Pt),yn=oe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Sn=oe?"[\\uE000-\\uF8FF]":"[]",cn=r(te,ae,"[\\-\\.\\_\\~]",yn);i(te+r(te,ae,"[\\+\\-\\.]")+"*"),i(i(xe+"|"+r(cn,Pt,"[\\:]"))+"*");var Bn=i(i("25[0-5]")+"|"+i("2[0-4]"+ae)+"|"+i("1"+ae+ae)+"|"+i("0?[1-9]"+ae)+"|0?0?"+ae),Zn=i(Bn+"\\."+Bn+"\\."+Bn+"\\."+Bn),Et=i(Se+"{1,4}"),xn=i(i(Et+"\\:"+Et)+"|"+Zn),wr=i(i(Et+"\\:")+"{6}"+xn),Cn=i("\\:\\:"+i(Et+"\\:")+"{5}"+xn),Lr=i(i(Et)+"?\\:\\:"+i(Et+"\\:")+"{4}"+xn),Xi=i(i(i(Et+"\\:")+"{0,1}"+Et)+"?\\:\\:"+i(Et+"\\:")+"{3}"+xn),br=i(i(i(Et+"\\:")+"{0,2}"+Et)+"?\\:\\:"+i(Et+"\\:")+"{2}"+xn),Ar=i(i(i(Et+"\\:")+"{0,3}"+Et)+"?\\:\\:"+Et+"\\:"+xn),Er=i(i(i(Et+"\\:")+"{0,4}"+Et)+"?\\:\\:"+xn),oi=i(i(i(Et+"\\:")+"{0,5}"+Et)+"?\\:\\:"+Et),xo=i(i(i(Et+"\\:")+"{0,6}"+Et)+"?\\:\\:"),Go=i([wr,Cn,Lr,Xi,br,Ar,Er,oi,xo].join("|")),hi=i(i(cn+"|"+xe)+"+");i("[vV]"+Se+"+\\."+r(cn,Pt,"[\\:]")+"+"),i(i(xe+"|"+r(cn,Pt))+"*");var Wr=i(xe+"|"+r(cn,Pt,"[\\:\\@]"));return i(i(xe+"|"+r(cn,Pt,"[\\@]"))+"+"),i(i(Wr+"|"+r("[\\/\\?]",Sn))+"*"),{NOT_SCHEME:new RegExp(r("[^]",te,ae,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",cn,Pt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",cn,Pt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",cn,Pt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",cn,Pt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",cn,Pt,"[\\:\\@\\/\\?]",Sn),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",cn,Pt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",cn,Pt),"g"),UNRESERVED:new RegExp(cn,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",cn,Wt),"g"),PCT_ENCODED:new RegExp(xe,"g"),IPV4ADDRESS:new RegExp("^("+Zn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Go+")"+i(i("\\%25|\\%(?!"+Se+"{2})")+"("+hi+")")+"?\\]?$")}}var c=l(!1),f=l(!0),d=function(){function oe(te,ae){var Se=[],xe=!0,ot=!1,Pt=void 0;try{for(var Wt=te[Symbol.iterator](),yn;!(xe=(yn=Wt.next()).done)&&(Se.push(yn.value),!(ae&&Se.length===ae));xe=!0);}catch(Sn){ot=!0,Pt=Sn}finally{try{!xe&&Wt.return&&Wt.return()}finally{if(ot)throw Pt}}return Se}return function(te,ae){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return oe(te,ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(oe){if(Array.isArray(oe)){for(var te=0,ae=Array(oe.length);te<oe.length;te++)ae[te]=oe[te];return ae}else return Array.from(oe)},p=2147483647,m=36,g=1,y=26,v=38,b=700,_=72,w=128,S="-",E=/^xn--/,C=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=m-g,$=Math.floor,N=String.fromCharCode;function O(oe){throw new RangeError(k[oe])}function j(oe,te){for(var ae=[],Se=oe.length;Se--;)ae[Se]=te(oe[Se]);return ae}function M(oe,te){var ae=oe.split("@"),Se="";ae.length>1&&(Se=ae[0]+"@",oe=ae[1]),oe=oe.replace(A,".");var xe=oe.split("."),ot=j(xe,te).join(".");return Se+ot}function B(oe){for(var te=[],ae=0,Se=oe.length;ae<Se;){var xe=oe.charCodeAt(ae++);if(xe>=55296&&xe<=56319&&ae<Se){var ot=oe.charCodeAt(ae++);(ot&64512)==56320?te.push(((xe&1023)<<10)+(ot&1023)+65536):(te.push(xe),ae--)}else te.push(xe)}return te}var V=function(te){return String.fromCodePoint.apply(String,h(te))},q=function(te){return te-48<10?te-22:te-65<26?te-65:te-97<26?te-97:m},D=function(te,ae){return te+22+75*(te<26)-((ae!=0)<<5)},U=function(te,ae,Se){var xe=0;for(te=Se?$(te/b):te>>1,te+=$(te/ae);te>P*y>>1;xe+=m)te=$(te/P);return $(xe+(P+1)*te/(te+v))},W=function(te){var ae=[],Se=te.length,xe=0,ot=w,Pt=_,Wt=te.lastIndexOf(S);Wt<0&&(Wt=0);for(var yn=0;yn<Wt;++yn)te.charCodeAt(yn)>=128&&O("not-basic"),ae.push(te.charCodeAt(yn));for(var Sn=Wt>0?Wt+1:0;Sn<Se;){for(var cn=xe,Bn=1,Zn=m;;Zn+=m){Sn>=Se&&O("invalid-input");var Et=q(te.charCodeAt(Sn++));(Et>=m||Et>$((p-xe)/Bn))&&O("overflow"),xe+=Et*Bn;var xn=Zn<=Pt?g:Zn>=Pt+y?y:Zn-Pt;if(Et<xn)break;var wr=m-xn;Bn>$(p/wr)&&O("overflow"),Bn*=wr}var Cn=ae.length+1;Pt=U(xe-cn,Cn,cn==0),$(xe/Cn)>p-ot&&O("overflow"),ot+=$(xe/Cn),xe%=Cn,ae.splice(xe++,0,ot)}return String.fromCodePoint.apply(String,ae)},F=function(te){var ae=[];te=B(te);var Se=te.length,xe=w,ot=0,Pt=_,Wt=!0,yn=!1,Sn=void 0;try{for(var cn=te[Symbol.iterator](),Bn;!(Wt=(Bn=cn.next()).done);Wt=!0){var Zn=Bn.value;Zn<128&&ae.push(N(Zn))}}catch($e){yn=!0,Sn=$e}finally{try{!Wt&&cn.return&&cn.return()}finally{if(yn)throw Sn}}var Et=ae.length,xn=Et;for(Et&&ae.push(S);xn<Se;){var wr=p,Cn=!0,Lr=!1,Xi=void 0;try{for(var br=te[Symbol.iterator](),Ar;!(Cn=(Ar=br.next()).done);Cn=!0){var Er=Ar.value;Er>=xe&&Er<wr&&(wr=Er)}}catch($e){Lr=!0,Xi=$e}finally{try{!Cn&&br.return&&br.return()}finally{if(Lr)throw Xi}}var oi=xn+1;wr-xe>$((p-ot)/oi)&&O("overflow"),ot+=(wr-xe)*oi,xe=wr;var xo=!0,Go=!1,hi=void 0;try{for(var Wr=te[Symbol.iterator](),Yo;!(xo=(Yo=Wr.next()).done);xo=!0){var Y=Yo.value;if(Y<xe&&++ot>p&&O("overflow"),Y==xe){for(var ie=ot,J=m;;J+=m){var de=J<=Pt?g:J>=Pt+y?y:J-Pt;if(ie<de)break;var ye=ie-de,fe=m-de;ae.push(N(D(de+ye%fe,0))),ie=$(ye/fe)}ae.push(N(D(ie,0))),Pt=U(ot,oi,xn==Et),ot=0,++xn}}}catch($e){Go=!0,hi=$e}finally{try{!xo&&Wr.return&&Wr.return()}finally{if(Go)throw hi}}++ot,++xe}return ae.join("")},z=function(te){return M(te,function(ae){return E.test(ae)?W(ae.slice(4).toLowerCase()):ae})},G=function(te){return M(te,function(ae){return C.test(ae)?"xn--"+F(ae):ae})},ee={version:"2.1.0",ucs2:{decode:B,encode:V},decode:W,encode:F,toASCII:G,toUnicode:z},ce={};function le(oe){var te=oe.charCodeAt(0),ae=void 0;return te<16?ae="%0"+te.toString(16).toUpperCase():te<128?ae="%"+te.toString(16).toUpperCase():te<2048?ae="%"+(te>>6|192).toString(16).toUpperCase()+"%"+(te&63|128).toString(16).toUpperCase():ae="%"+(te>>12|224).toString(16).toUpperCase()+"%"+(te>>6&63|128).toString(16).toUpperCase()+"%"+(te&63|128).toString(16).toUpperCase(),ae}function se(oe){for(var te="",ae=0,Se=oe.length;ae<Se;){var xe=parseInt(oe.substr(ae+1,2),16);if(xe<128)te+=String.fromCharCode(xe),ae+=3;else if(xe>=194&&xe<224){if(Se-ae>=6){var ot=parseInt(oe.substr(ae+4,2),16);te+=String.fromCharCode((xe&31)<<6|ot&63)}else te+=oe.substr(ae,6);ae+=6}else if(xe>=224){if(Se-ae>=9){var Pt=parseInt(oe.substr(ae+4,2),16),Wt=parseInt(oe.substr(ae+7,2),16);te+=String.fromCharCode((xe&15)<<12|(Pt&63)<<6|Wt&63)}else te+=oe.substr(ae,9);ae+=9}else te+=oe.substr(ae,3),ae+=3}return te}function ge(oe,te){function ae(Se){var xe=se(Se);return xe.match(te.UNRESERVED)?xe:Se}return oe.scheme&&(oe.scheme=String(oe.scheme).replace(te.PCT_ENCODED,ae).toLowerCase().replace(te.NOT_SCHEME,"")),oe.userinfo!==void 0&&(oe.userinfo=String(oe.userinfo).replace(te.PCT_ENCODED,ae).replace(te.NOT_USERINFO,le).replace(te.PCT_ENCODED,s)),oe.host!==void 0&&(oe.host=String(oe.host).replace(te.PCT_ENCODED,ae).toLowerCase().replace(te.NOT_HOST,le).replace(te.PCT_ENCODED,s)),oe.path!==void 0&&(oe.path=String(oe.path).replace(te.PCT_ENCODED,ae).replace(oe.scheme?te.NOT_PATH:te.NOT_PATH_NOSCHEME,le).replace(te.PCT_ENCODED,s)),oe.query!==void 0&&(oe.query=String(oe.query).replace(te.PCT_ENCODED,ae).replace(te.NOT_QUERY,le).replace(te.PCT_ENCODED,s)),oe.fragment!==void 0&&(oe.fragment=String(oe.fragment).replace(te.PCT_ENCODED,ae).replace(te.NOT_FRAGMENT,le).replace(te.PCT_ENCODED,s)),oe}function be(oe){return oe.replace(/^0*(.*)/,"$1")||"0"}function ve(oe,te){var ae=oe.match(te.IPV4ADDRESS)||[],Se=d(ae,2),xe=Se[1];return xe?xe.split(".").map(be).join("."):oe}function Ye(oe,te){var ae=oe.match(te.IPV6ADDRESS)||[],Se=d(ae,3),xe=Se[1],ot=Se[2];if(xe){for(var Pt=xe.toLowerCase().split("::").reverse(),Wt=d(Pt,2),yn=Wt[0],Sn=Wt[1],cn=Sn?Sn.split(":").map(be):[],Bn=yn.split(":").map(be),Zn=te.IPV4ADDRESS.test(Bn[Bn.length-1]),Et=Zn?7:8,xn=Bn.length-Et,wr=Array(Et),Cn=0;Cn<Et;++Cn)wr[Cn]=cn[Cn]||Bn[xn+Cn]||"";Zn&&(wr[Et-1]=ve(wr[Et-1],te));var Lr=wr.reduce(function(oi,xo,Go){if(!xo||xo==="0"){var hi=oi[oi.length-1];hi&&hi.index+hi.length===Go?hi.length++:oi.push({index:Go,length:1})}return oi},[]),Xi=Lr.sort(function(oi,xo){return xo.length-oi.length})[0],br=void 0;if(Xi&&Xi.length>1){var Ar=wr.slice(0,Xi.index),Er=wr.slice(Xi.index+Xi.length);br=Ar.join(":")+"::"+Er.join(":")}else br=wr.join(":");return ot&&(br+="%"+ot),br}else return oe}var Ue=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,ht="".match(/(){0}/)[1]===void 0;function Je(oe){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae={},Se=te.iri!==!1?f:c;te.reference==="suffix"&&(oe=(te.scheme?te.scheme+":":"")+"//"+oe);var xe=oe.match(Ue);if(xe){ht?(ae.scheme=xe[1],ae.userinfo=xe[3],ae.host=xe[4],ae.port=parseInt(xe[5],10),ae.path=xe[6]||"",ae.query=xe[7],ae.fragment=xe[8],isNaN(ae.port)&&(ae.port=xe[5])):(ae.scheme=xe[1]||void 0,ae.userinfo=oe.indexOf("@")!==-1?xe[3]:void 0,ae.host=oe.indexOf("//")!==-1?xe[4]:void 0,ae.port=parseInt(xe[5],10),ae.path=xe[6]||"",ae.query=oe.indexOf("?")!==-1?xe[7]:void 0,ae.fragment=oe.indexOf("#")!==-1?xe[8]:void 0,isNaN(ae.port)&&(ae.port=oe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?xe[4]:void 0)),ae.host&&(ae.host=Ye(ve(ae.host,Se),Se)),ae.scheme===void 0&&ae.userinfo===void 0&&ae.host===void 0&&ae.port===void 0&&!ae.path&&ae.query===void 0?ae.reference="same-document":ae.scheme===void 0?ae.reference="relative":ae.fragment===void 0?ae.reference="absolute":ae.reference="uri",te.reference&&te.reference!=="suffix"&&te.reference!==ae.reference&&(ae.error=ae.error||"URI is not a "+te.reference+" reference.");var ot=ce[(te.scheme||ae.scheme||"").toLowerCase()];if(!te.unicodeSupport&&(!ot||!ot.unicodeSupport)){if(ae.host&&(te.domainHost||ot&&ot.domainHost))try{ae.host=ee.toASCII(ae.host.replace(Se.PCT_ENCODED,se).toLowerCase())}catch(Pt){ae.error=ae.error||"Host's domain name can not be converted to ASCII via punycode: "+Pt}ge(ae,c)}else ge(ae,Se);ot&&ot.parse&&ot.parse(ae,te)}else ae.error=ae.error||"URI can not be parsed.";return ae}function ke(oe,te){var ae=te.iri!==!1?f:c,Se=[];return oe.userinfo!==void 0&&(Se.push(oe.userinfo),Se.push("@")),oe.host!==void 0&&Se.push(Ye(ve(String(oe.host),ae),ae).replace(ae.IPV6ADDRESS,function(xe,ot,Pt){return"["+ot+(Pt?"%25"+Pt:"")+"]"})),(typeof oe.port=="number"||typeof oe.port=="string")&&(Se.push(":"),Se.push(String(oe.port))),Se.length?Se.join(""):void 0}var Ne=/^\.\.?\//,ze=/^\/\.(\/|$)/,ut=/^\/\.\.(\/|$)/,Mt=/^\/?(?:.|\n)*?(?=\/|$)/;function qe(oe){for(var te=[];oe.length;)if(oe.match(Ne))oe=oe.replace(Ne,"");else if(oe.match(ze))oe=oe.replace(ze,"/");else if(oe.match(ut))oe=oe.replace(ut,"/"),te.pop();else if(oe==="."||oe==="..")oe="";else{var ae=oe.match(Mt);if(ae){var Se=ae[0];oe=oe.slice(Se.length),te.push(Se)}else throw new Error("Unexpected dot segment condition")}return te.join("")}function me(oe){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=te.iri?f:c,Se=[],xe=ce[(te.scheme||oe.scheme||"").toLowerCase()];if(xe&&xe.serialize&&xe.serialize(oe,te),oe.host&&!ae.IPV6ADDRESS.test(oe.host)){if(te.domainHost||xe&&xe.domainHost)try{oe.host=te.iri?ee.toUnicode(oe.host):ee.toASCII(oe.host.replace(ae.PCT_ENCODED,se).toLowerCase())}catch(Wt){oe.error=oe.error||"Host's domain name can not be converted to "+(te.iri?"Unicode":"ASCII")+" via punycode: "+Wt}}ge(oe,ae),te.reference!=="suffix"&&oe.scheme&&(Se.push(oe.scheme),Se.push(":"));var ot=ke(oe,te);if(ot!==void 0&&(te.reference!=="suffix"&&Se.push("//"),Se.push(ot),oe.path&&oe.path.charAt(0)!=="/"&&Se.push("/")),oe.path!==void 0){var Pt=oe.path;!te.absolutePath&&(!xe||!xe.absolutePath)&&(Pt=qe(Pt)),ot===void 0&&(Pt=Pt.replace(/^\/\//,"/%2F")),Se.push(Pt)}return oe.query!==void 0&&(Se.push("?"),Se.push(oe.query)),oe.fragment!==void 0&&(Se.push("#"),Se.push(oe.fragment)),Se.join("")}function Xe(oe,te){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Se=arguments[3],xe={};return Se||(oe=Je(me(oe,ae),ae),te=Je(me(te,ae),ae)),ae=ae||{},!ae.tolerant&&te.scheme?(xe.scheme=te.scheme,xe.userinfo=te.userinfo,xe.host=te.host,xe.port=te.port,xe.path=qe(te.path||""),xe.query=te.query):(te.userinfo!==void 0||te.host!==void 0||te.port!==void 0?(xe.userinfo=te.userinfo,xe.host=te.host,xe.port=te.port,xe.path=qe(te.path||""),xe.query=te.query):(te.path?(te.path.charAt(0)==="/"?xe.path=qe(te.path):((oe.userinfo!==void 0||oe.host!==void 0||oe.port!==void 0)&&!oe.path?xe.path="/"+te.path:oe.path?xe.path=oe.path.slice(0,oe.path.lastIndexOf("/")+1)+te.path:xe.path=te.path,xe.path=qe(xe.path)),xe.query=te.query):(xe.path=oe.path,te.query!==void 0?xe.query=te.query:xe.query=oe.query),xe.userinfo=oe.userinfo,xe.host=oe.host,xe.port=oe.port),xe.scheme=oe.scheme),xe.fragment=te.fragment,xe}function vt(oe,te,ae){var Se=u({scheme:"null"},ae);return me(Xe(Je(oe,Se),Je(te,Se),Se,!0),Se)}function he(oe,te){return typeof oe=="string"?oe=me(Je(oe,te),te):o(oe)==="object"&&(oe=Je(me(oe,te),te)),oe}function Te(oe,te,ae){return typeof oe=="string"?oe=me(Je(oe,ae),ae):o(oe)==="object"&&(oe=me(oe,ae)),typeof te=="string"?te=me(Je(te,ae),ae):o(te)==="object"&&(te=me(te,ae)),oe===te}function Le(oe,te){return oe&&oe.toString().replace(!te||!te.iri?c.ESCAPE:f.ESCAPE,le)}function He(oe,te){return oe&&oe.toString().replace(!te||!te.iri?c.PCT_ENCODED:f.PCT_ENCODED,se)}var lt={scheme:"http",domainHost:!0,parse:function(te,ae){return te.host||(te.error=te.error||"HTTP URIs must have a host."),te},serialize:function(te,ae){var Se=String(te.scheme).toLowerCase()==="https";return(te.port===(Se?443:80)||te.port==="")&&(te.port=void 0),te.path||(te.path="/"),te}},an={scheme:"https",domainHost:lt.domainHost,parse:lt.parse,serialize:lt.serialize};function $n(oe){return typeof oe.secure=="boolean"?oe.secure:String(oe.scheme).toLowerCase()==="wss"}var ct={scheme:"ws",domainHost:!0,parse:function(te,ae){var Se=te;return Se.secure=$n(Se),Se.resourceName=(Se.path||"/")+(Se.query?"?"+Se.query:""),Se.path=void 0,Se.query=void 0,Se},serialize:function(te,ae){if((te.port===($n(te)?443:80)||te.port==="")&&(te.port=void 0),typeof te.secure=="boolean"&&(te.scheme=te.secure?"wss":"ws",te.secure=void 0),te.resourceName){var Se=te.resourceName.split("?"),xe=d(Se,2),ot=xe[0],Pt=xe[1];te.path=ot&&ot!=="/"?ot:void 0,te.query=Pt,te.resourceName=void 0}return te.fragment=void 0,te}},$t={scheme:"wss",domainHost:ct.domainHost,parse:ct.parse,serialize:ct.serialize},pt={},Qt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",un="[0-9A-Fa-f]",Jt=i(i("%[EFef]"+un+"%"+un+un+"%"+un+un)+"|"+i("%[89A-Fa-f]"+un+"%"+un+un)+"|"+i("%"+un+un)),Yi="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ii="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ln=r(ii,'[\\"\\\\]'),ir="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",dr=new RegExp(Qt,"g"),qr=new RegExp(Jt,"g"),Ia=new RegExp(r("[^]",Yi,"[\\.]",'[\\"]',ln),"g"),Ks=new RegExp(r("[^]",Qt,ir),"g"),el=Ks;function En(oe){var te=se(oe);return te.match(dr)?te:oe}var Mr={scheme:"mailto",parse:function(te,ae){var Se=te,xe=Se.to=Se.path?Se.path.split(","):[];if(Se.path=void 0,Se.query){for(var ot=!1,Pt={},Wt=Se.query.split("&"),yn=0,Sn=Wt.length;yn<Sn;++yn){var cn=Wt[yn].split("=");switch(cn[0]){case"to":for(var Bn=cn[1].split(","),Zn=0,Et=Bn.length;Zn<Et;++Zn)xe.push(Bn[Zn]);break;case"subject":Se.subject=He(cn[1],ae);break;case"body":Se.body=He(cn[1],ae);break;default:ot=!0,Pt[He(cn[0],ae)]=He(cn[1],ae);break}}ot&&(Se.headers=Pt)}Se.query=void 0;for(var xn=0,wr=xe.length;xn<wr;++xn){var Cn=xe[xn].split("@");if(Cn[0]=He(Cn[0]),ae.unicodeSupport)Cn[1]=He(Cn[1],ae).toLowerCase();else try{Cn[1]=ee.toASCII(He(Cn[1],ae).toLowerCase())}catch(Lr){Se.error=Se.error||"Email address's domain name can not be converted to ASCII via punycode: "+Lr}xe[xn]=Cn.join("@")}return Se},serialize:function(te,ae){var Se=te,xe=a(te.to);if(xe){for(var ot=0,Pt=xe.length;ot<Pt;++ot){var Wt=String(xe[ot]),yn=Wt.lastIndexOf("@"),Sn=Wt.slice(0,yn).replace(qr,En).replace(qr,s).replace(Ia,le),cn=Wt.slice(yn+1);try{cn=ae.iri?ee.toUnicode(cn):ee.toASCII(He(cn,ae).toLowerCase())}catch(xn){Se.error=Se.error||"Email address's domain name can not be converted to "+(ae.iri?"Unicode":"ASCII")+" via punycode: "+xn}xe[ot]=Sn+"@"+cn}Se.path=xe.join(",")}var Bn=te.headers=te.headers||{};te.subject&&(Bn.subject=te.subject),te.body&&(Bn.body=te.body);var Zn=[];for(var Et in Bn)Bn[Et]!==pt[Et]&&Zn.push(Et.replace(qr,En).replace(qr,s).replace(Ks,le)+"="+Bn[Et].replace(qr,En).replace(qr,s).replace(el,le));return Zn.length&&(Se.query=Zn.join("&")),Se}},Jn=/^([^\:]+)\:(.*)/,Wo={scheme:"urn",parse:function(te,ae){var Se=te.path&&te.path.match(Jn),xe=te;if(Se){var ot=ae.scheme||xe.scheme||"urn",Pt=Se[1].toLowerCase(),Wt=Se[2],yn=ot+":"+(ae.nid||Pt),Sn=ce[yn];xe.nid=Pt,xe.nss=Wt,xe.path=void 0,Sn&&(xe=Sn.parse(xe,ae))}else xe.error=xe.error||"URN can not be parsed.";return xe},serialize:function(te,ae){var Se=ae.scheme||te.scheme||"urn",xe=te.nid,ot=Se+":"+(ae.nid||xe),Pt=ce[ot];Pt&&(te=Pt.serialize(te,ae));var Wt=te,yn=te.nss;return Wt.path=(xe||ae.nid)+":"+yn,Wt}},Eo=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ki={scheme:"urn:uuid",parse:function(te,ae){var Se=te;return Se.uuid=Se.nss,Se.nss=void 0,!ae.tolerant&&(!Se.uuid||!Se.uuid.match(Eo))&&(Se.error=Se.error||"UUID is not valid."),Se},serialize:function(te,ae){var Se=te;return Se.nss=(te.uuid||"").toLowerCase(),Se}};ce[lt.scheme]=lt,ce[an.scheme]=an,ce[ct.scheme]=ct,ce[$t.scheme]=$t,ce[Mr.scheme]=Mr,ce[Wo.scheme]=Wo,ce[Ki.scheme]=Ki,n.SCHEMES=ce,n.pctEncChar=le,n.pctDecChars=se,n.parse=Je,n.removeDotSegments=qe,n.serialize=me,n.resolveComponents=Xe,n.resolve=vt,n.normalize=he,n.equal=Te,n.escapeComponent=Le,n.unescapeComponent=He,Object.defineProperty(n,"__esModule",{value:!0})})})(c9,c9.exports);var sDt=c9.exports;Object.defineProperty(vq,"__esModule",{value:!0});const Qxe=sDt;Qxe.code='require("ajv/dist/runtime/uri").default';vq.default=Qxe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Nc;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Dn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=qC,i=iw,o=oy,s=Ha,a=Dn,u=os,l=so,c=Rt,f=oDt,d=vq,h=(D,U)=>new RegExp(D,U);h.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function b(D){var U,W,F,z,G,ee,ce,le,se,ge,be,ve,Ye,Ue,ht,Je,ke,Ne,ze,ut,Mt,qe,me,Xe,vt;const he=D.strict,Te=(U=D.code)===null||U===void 0?void 0:U.optimize,Le=Te===!0||Te===void 0?1:Te||0,He=(F=(W=D.code)===null||W===void 0?void 0:W.regExp)!==null&&F!==void 0?F:h,lt=(z=D.uriResolver)!==null&&z!==void 0?z:d.default;return{strictSchema:(ee=(G=D.strictSchema)!==null&&G!==void 0?G:he)!==null&&ee!==void 0?ee:!0,strictNumbers:(le=(ce=D.strictNumbers)!==null&&ce!==void 0?ce:he)!==null&&le!==void 0?le:!0,strictTypes:(ge=(se=D.strictTypes)!==null&&se!==void 0?se:he)!==null&&ge!==void 0?ge:"log",strictTuples:(ve=(be=D.strictTuples)!==null&&be!==void 0?be:he)!==null&&ve!==void 0?ve:"log",strictRequired:(Ue=(Ye=D.strictRequired)!==null&&Ye!==void 0?Ye:he)!==null&&Ue!==void 0?Ue:!1,code:D.code?{...D.code,optimize:Le,regExp:He}:{optimize:Le,regExp:He},loopRequired:(ht=D.loopRequired)!==null&&ht!==void 0?ht:v,loopEnum:(Je=D.loopEnum)!==null&&Je!==void 0?Je:v,meta:(ke=D.meta)!==null&&ke!==void 0?ke:!0,messages:(Ne=D.messages)!==null&&Ne!==void 0?Ne:!0,inlineRefs:(ze=D.inlineRefs)!==null&&ze!==void 0?ze:!0,schemaId:(ut=D.schemaId)!==null&&ut!==void 0?ut:"$id",addUsedSchema:(Mt=D.addUsedSchema)!==null&&Mt!==void 0?Mt:!0,validateSchema:(qe=D.validateSchema)!==null&&qe!==void 0?qe:!0,validateFormats:(me=D.validateFormats)!==null&&me!==void 0?me:!0,unicodeRegExp:(Xe=D.unicodeRegExp)!==null&&Xe!==void 0?Xe:!0,int32range:(vt=D.int32range)!==null&&vt!==void 0?vt:!0,uriResolver:lt}}class _{constructor(U={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,U=this.opts={...U,...b(U)};const{es5:W,lines:F}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:W,lines:F}),this.logger=$(U.logger);const z=U.validateFormats;U.validateFormats=!1,this.RULES=(0,o.getRules)(),w.call(this,g,U,"NOT SUPPORTED"),w.call(this,y,U,"DEPRECATED","warn"),this._metaOpts=k.call(this),U.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),U.keywords&&A.call(this,U.keywords),typeof U.meta=="object"&&this.addMetaSchema(U.meta),E.call(this),U.validateFormats=z}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:U,meta:W,schemaId:F}=this.opts;let z=f;F==="id"&&(z={...f},z.id=z.$id,delete z.$id),W&&U&&this.addMetaSchema(z,z[F],!1)}defaultMeta(){const{meta:U,schemaId:W}=this.opts;return this.opts.defaultMeta=typeof U=="object"?U[W]||U:void 0}validate(U,W){let F;if(typeof U=="string"){if(F=this.getSchema(U),!F)throw new Error(`no schema with key or ref "${U}"`)}else F=this.compile(U);const z=F(W);return"$async"in F||(this.errors=F.errors),z}compile(U,W){const F=this._addSchema(U,W);return F.validate||this._compileSchemaEnv(F)}compileAsync(U,W){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return z.call(this,U,W);async function z(ge,be){await G.call(this,ge.$schema);const ve=this._addSchema(ge,be);return ve.validate||ee.call(this,ve)}async function G(ge){ge&&!this.getSchema(ge)&&await z.call(this,{$ref:ge},!0)}async function ee(ge){try{return this._compileSchemaEnv(ge)}catch(be){if(!(be instanceof i.default))throw be;return ce.call(this,be),await le.call(this,be.missingSchema),ee.call(this,ge)}}function ce({missingSchema:ge,missingRef:be}){if(this.refs[ge])throw new Error(`AnySchema ${ge} is loaded but ${be} cannot be resolved`)}async function le(ge){const be=await se.call(this,ge);this.refs[ge]||await G.call(this,be.$schema),this.refs[ge]||this.addSchema(be,ge,W)}async function se(ge){const be=this._loading[ge];if(be)return be;try{return await(this._loading[ge]=F(ge))}finally{delete this._loading[ge]}}}addSchema(U,W,F,z=this.opts.validateSchema){if(Array.isArray(U)){for(const ee of U)this.addSchema(ee,void 0,F,z);return this}let G;if(typeof U=="object"){const{schemaId:ee}=this.opts;if(G=U[ee],G!==void 0&&typeof G!="string")throw new Error(`schema ${ee} must be string`)}return W=(0,u.normalizeId)(W||G),this._checkUnique(W),this.schemas[W]=this._addSchema(U,F,W,z,!0),this}addMetaSchema(U,W,F=this.opts.validateSchema){return this.addSchema(U,W,!0,F),this}validateSchema(U,W){if(typeof U=="boolean")return!0;let F;if(F=U.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const z=this.validate(F,U);if(!z&&W){const G="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(G);else throw new Error(G)}return z}getSchema(U){let W;for(;typeof(W=S.call(this,U))=="string";)U=W;if(W===void 0){const{schemaId:F}=this.opts,z=new s.SchemaEnv({schema:{},schemaId:F});if(W=s.resolveSchema.call(this,z,U),!W)return;this.refs[U]=W}return W.validate||this._compileSchemaEnv(W)}removeSchema(U){if(U instanceof RegExp)return this._removeAllSchemas(this.schemas,U),this._removeAllSchemas(this.refs,U),this;switch(typeof U){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const W=S.call(this,U);return typeof W=="object"&&this._cache.delete(W.schema),delete this.schemas[U],delete this.refs[U],this}case"object":{const W=U;this._cache.delete(W);let F=U[this.opts.schemaId];return F&&(F=(0,u.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(U){for(const W of U)this.addKeyword(W);return this}addKeyword(U,W){let F;if(typeof U=="string")F=U,typeof W=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),W.keyword=F);else if(typeof U=="object"&&W===void 0){if(W=U,F=W.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(O.call(this,F,W),!W)return(0,c.eachItem)(F,G=>j.call(this,G)),this;B.call(this,W);const z={...W,type:(0,l.getJSONTypes)(W.type),schemaType:(0,l.getJSONTypes)(W.schemaType)};return(0,c.eachItem)(F,z.type.length===0?G=>j.call(this,G,z):G=>z.type.forEach(ee=>j.call(this,G,z,ee))),this}getKeyword(U){const W=this.RULES.all[U];return typeof W=="object"?W.definition:!!W}removeKeyword(U){const{RULES:W}=this;delete W.keywords[U],delete W.all[U];for(const F of W.rules){const z=F.rules.findIndex(G=>G.keyword===U);z>=0&&F.rules.splice(z,1)}return this}addFormat(U,W){return typeof W=="string"&&(W=new RegExp(W)),this.formats[U]=W,this}errorsText(U=this.errors,{separator:W=", ",dataVar:F="data"}={}){return!U||U.length===0?"No errors":U.map(z=>`${F}${z.instancePath} ${z.message}`).reduce((z,G)=>z+W+G)}$dataMetaSchema(U,W){const F=this.RULES.all;U=JSON.parse(JSON.stringify(U));for(const z of W){const G=z.split("/").slice(1);let ee=U;for(const ce of G)ee=ee[ce];for(const ce in F){const le=F[ce];if(typeof le!="object")continue;const{$data:se}=le.definition,ge=ee[ce];se&&ge&&(ee[ce]=q(ge))}}return U}_removeAllSchemas(U,W){for(const F in U){const z=U[F];(!W||W.test(F))&&(typeof z=="string"?delete U[F]:z&&!z.meta&&(this._cache.delete(z.schema),delete U[F]))}}_addSchema(U,W,F,z=this.opts.validateSchema,G=this.opts.addUsedSchema){let ee;const{schemaId:ce}=this.opts;if(typeof U=="object")ee=U[ce];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof U!="boolean")throw new Error("schema must be object or boolean")}let le=this._cache.get(U);if(le!==void 0)return le;F=(0,u.normalizeId)(ee||F);const se=u.getSchemaRefs.call(this,U,F);return le=new s.SchemaEnv({schema:U,schemaId:ce,meta:W,baseId:F,localRefs:se}),this._cache.set(le.schema,le),G&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=le),z&&this.validateSchema(U,!0),le}_checkUnique(U){if(this.schemas[U]||this.refs[U])throw new Error(`schema with key or id "${U}" already exists`)}_compileSchemaEnv(U){if(U.meta?this._compileMetaSchema(U):s.compileSchema.call(this,U),!U.validate)throw new Error("ajv implementation error");return U.validate}_compileMetaSchema(U){const W=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,U)}finally{this.opts=W}}}_.ValidationError=r.default,_.MissingRefError=i.default,e.default=_;function w(D,U,W,F="error"){for(const z in D){const G=z;G in U&&this.logger[F](`${W}: option ${z}. ${D[G]}`)}}function S(D){return D=(0,u.normalizeId)(D),this.schemas[D]||this.refs[D]}function E(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const U in D)this.addSchema(D[U],U)}function C(){for(const D in this.opts.formats){const U=this.opts.formats[D];U&&this.addFormat(D,U)}}function A(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const U in D){const W=D[U];W.keyword||(W.keyword=U),this.addKeyword(W)}}function k(){const D={...this.opts};for(const U of p)delete D[U];return D}const P={log(){},warn(){},error(){}};function $(D){if(D===!1)return P;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const N=/^[a-z_$][a-z0-9_$:-]*$/i;function O(D,U){const{RULES:W}=this;if((0,c.eachItem)(D,F=>{if(W.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!N.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!U&&U.$data&&!("code"in U||"validate"in U))throw new Error('$data keyword must have "code" or "validate" function')}function j(D,U,W){var F;const z=U==null?void 0:U.post;if(W&&z)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:G}=this;let ee=z?G.post:G.rules.find(({type:le})=>le===W);if(ee||(ee={type:W,rules:[]},G.rules.push(ee)),G.keywords[D]=!0,!U)return;const ce={keyword:D,definition:{...U,type:(0,l.getJSONTypes)(U.type),schemaType:(0,l.getJSONTypes)(U.schemaType)}};U.before?M.call(this,ee,ce,U.before):ee.rules.push(ce),G.all[D]=ce,(F=U.implements)===null||F===void 0||F.forEach(le=>this.addKeyword(le))}function M(D,U,W){const F=D.rules.findIndex(z=>z.keyword===W);F>=0?D.rules.splice(F,0,U):(D.rules.push(U),this.logger.warn(`rule ${W} is not defined`))}function B(D){let{metaSchema:U}=D;U!==void 0&&(D.$data&&this.opts.$data&&(U=q(U)),D.validateSchema=this.compile(U,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function q(D){return{anyOf:[D,V]}}})(bxe);var bq={},_q={},wq={};Object.defineProperty(wq,"__esModule",{value:!0});const aDt={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};wq.default=aDt;var sy={};Object.defineProperty(sy,"__esModule",{value:!0});sy.callRef=sy.getValidate=void 0;const uDt=iw,pse=Pn,Oa=Dn,Fv=ld,mse=Ha,VA=Rt,lDt={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:i,schemaEnv:o,validateName:s,opts:a,self:u}=r,{root:l}=o;if((n==="#"||n==="#/")&&i===l.baseId)return f();const c=mse.resolveRef.call(u,l,i,n);if(c===void 0)throw new uDt.default(r.opts.uriResolver,i,n);if(c instanceof mse.SchemaEnv)return d(c);return h(c);function f(){if(o===l)return vk(e,s,o,o.$async);const p=t.scopeValue("root",{ref:l});return vk(e,(0,Oa._)`${p}.validate`,l,l.$async)}function d(p){const m=Jxe(e,p);vk(e,m,p,p.$async)}function h(p){const m=t.scopeValue("schema",a.code.source===!0?{ref:p,code:(0,Oa.stringify)(p)}:{ref:p}),g=t.name("valid"),y=e.subschema({schema:p,dataTypes:[],schemaPath:Oa.nil,topSchemaRef:m,errSchemaPath:n},g);e.mergeEvaluated(y),e.ok(g)}}};function Jxe(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,Oa._)`${n.scopeValue("wrapper",{ref:t})}.validate`}sy.getValidate=Jxe;function vk(e,t,n,r){const{gen:i,it:o}=e,{allErrors:s,schemaEnv:a,opts:u}=o,l=u.passContext?Fv.default.this:Oa.nil;r?c():f();function c(){if(!a.$async)throw new Error("async schema referenced by sync schema");const p=i.let("valid");i.try(()=>{i.code((0,Oa._)`await ${(0,pse.callValidateCode)(e,t,l)}`),h(t),s||i.assign(p,!0)},m=>{i.if((0,Oa._)`!(${m} instanceof ${o.ValidationError})`,()=>i.throw(m)),d(m),s||i.assign(p,!1)}),e.ok(p)}function f(){e.result((0,pse.callValidateCode)(e,t,l),()=>h(t),()=>d(t))}function d(p){const m=(0,Oa._)`${p}.errors`;i.assign(Fv.default.vErrors,(0,Oa._)`${Fv.default.vErrors} === null ? ${m} : ${Fv.default.vErrors}.concat(${m})`),i.assign(Fv.default.errors,(0,Oa._)`${Fv.default.vErrors}.length`)}function h(p){var m;if(!o.opts.unevaluated)return;const g=(m=n==null?void 0:n.validate)===null||m===void 0?void 0:m.evaluated;if(o.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(o.props=VA.mergeEvaluated.props(i,g.props,o.props));else{const y=i.var("props",(0,Oa._)`${p}.evaluated.props`);o.props=VA.mergeEvaluated.props(i,y,o.props,Oa.Name)}if(o.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(o.items=VA.mergeEvaluated.items(i,g.items,o.items));else{const y=i.var("items",(0,Oa._)`${p}.evaluated.items`);o.items=VA.mergeEvaluated.items(i,y,o.items,Oa.Name)}}}sy.callRef=vk;sy.default=lDt;Object.defineProperty(_q,"__esModule",{value:!0});const cDt=wq,fDt=sy,dDt=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",cDt.default,fDt.default];_q.default=dDt;var Eq={},xq={};Object.defineProperty(xq,"__esModule",{value:!0});const yP=Dn,cp=yP.operators,vP={maximum:{okStr:"<=",ok:cp.LTE,fail:cp.GT},minimum:{okStr:">=",ok:cp.GTE,fail:cp.LT},exclusiveMaximum:{okStr:"<",ok:cp.LT,fail:cp.GTE},exclusiveMinimum:{okStr:">",ok:cp.GT,fail:cp.LTE}},hDt={message:({keyword:e,schemaCode:t})=>(0,yP.str)`must be ${vP[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,yP._)`{comparison: ${vP[e].okStr}, limit: ${t}}`},pDt={keyword:Object.keys(vP),type:"number",schemaType:"number",$data:!0,error:hDt,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data((0,yP._)`${n} ${vP[t].fail} ${r} || isNaN(${n})`)}};xq.default=pDt;var Tq={};Object.defineProperty(Tq,"__esModule",{value:!0});const Kx=Dn,mDt={message:({schemaCode:e})=>(0,Kx.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Kx._)`{multipleOf: ${e}}`},gDt={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:mDt,code(e){const{gen:t,data:n,schemaCode:r,it:i}=e,o=i.opts.multipleOfPrecision,s=t.let("res"),a=o?(0,Kx._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${o}`:(0,Kx._)`${s} !== parseInt(${s})`;e.fail$data((0,Kx._)`(${r} === 0 || (${s} = ${n}/${r}, ${a}))`)}};Tq.default=gDt;var Sq={},Cq={};Object.defineProperty(Cq,"__esModule",{value:!0});function Zxe(e){const t=e.length;let n=0,r=0,i;for(;r<t;)n++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<t&&(i=e.charCodeAt(r),(i&64512)===56320&&r++);return n}Cq.default=Zxe;Zxe.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Sq,"__esModule",{value:!0});const e0=Dn,yDt=Rt,vDt=Cq,bDt={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,e0.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,e0._)`{limit: ${e}}`},_Dt={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:bDt,code(e){const{keyword:t,data:n,schemaCode:r,it:i}=e,o=t==="maxLength"?e0.operators.GT:e0.operators.LT,s=i.opts.unicode===!1?(0,e0._)`${n}.length`:(0,e0._)`${(0,yDt.useFunc)(e.gen,vDt.default)}(${n})`;e.fail$data((0,e0._)`${s} ${o} ${r}`)}};Sq.default=_Dt;var Aq={};Object.defineProperty(Aq,"__esModule",{value:!0});const wDt=Pn,bP=Dn,EDt={message:({schemaCode:e})=>(0,bP.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,bP._)`{pattern: ${e}}`},xDt={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:EDt,code(e){const{data:t,$data:n,schema:r,schemaCode:i,it:o}=e,s=o.opts.unicodeRegExp?"u":"",a=n?(0,bP._)`(new RegExp(${i}, ${s}))`:(0,wDt.usePattern)(e,r);e.fail$data((0,bP._)`!${a}.test(${t})`)}};Aq.default=xDt;var Iq={};Object.defineProperty(Iq,"__esModule",{value:!0});const Xx=Dn,TDt={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Xx.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Xx._)`{limit: ${e}}`},SDt={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:TDt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxProperties"?Xx.operators.GT:Xx.operators.LT;e.fail$data((0,Xx._)`Object.keys(${n}).length ${i} ${r}`)}};Iq.default=SDt;var kq={};Object.defineProperty(kq,"__esModule",{value:!0});const sE=Pn,Qx=Dn,CDt=Rt,ADt={message:({params:{missingProperty:e}})=>(0,Qx.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Qx._)`{missingProperty: ${e}}`},IDt={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ADt,code(e){const{gen:t,schema:n,schemaCode:r,data:i,$data:o,it:s}=e,{opts:a}=s;if(!o&&n.length===0)return;const u=n.length>=a.loopRequired;if(s.allErrors?l():c(),a.strictRequired){const h=e.parentSchema.properties,{definedProperties:p}=e.it;for(const m of n)if((h==null?void 0:h[m])===void 0&&!p.has(m)){const g=s.schemaEnv.baseId+s.errSchemaPath,y=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,CDt.checkStrictMode)(s,y,s.opts.strictRequired)}}function l(){if(u||o)e.block$data(Qx.nil,f);else for(const h of n)(0,sE.checkReportMissingProp)(e,h)}function c(){const h=t.let("missing");if(u||o){const p=t.let("valid",!0);e.block$data(p,()=>d(h,p)),e.ok(p)}else t.if((0,sE.checkMissingProp)(e,n,h)),(0,sE.reportMissingProp)(e,h),t.else()}function f(){t.forOf("prop",r,h=>{e.setParams({missingProperty:h}),t.if((0,sE.noPropertyInData)(t,i,h,a.ownProperties),()=>e.error())})}function d(h,p){e.setParams({missingProperty:h}),t.forOf(h,r,()=>{t.assign(p,(0,sE.propertyInData)(t,i,h,a.ownProperties)),t.if((0,Qx.not)(p),()=>{e.error(),t.break()})},Qx.nil)}}};kq.default=IDt;var Rq={};Object.defineProperty(Rq,"__esModule",{value:!0});const Jx=Dn,kDt={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Jx.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Jx._)`{limit: ${e}}`},RDt={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:kDt,code(e){const{keyword:t,data:n,schemaCode:r}=e,i=t==="maxItems"?Jx.operators.GT:Jx.operators.LT;e.fail$data((0,Jx._)`${n}.length ${i} ${r}`)}};Rq.default=RDt;var Pq={},WC={};Object.defineProperty(WC,"__esModule",{value:!0});const eTe=Jz;eTe.code='require("ajv/dist/runtime/equal").default';WC.default=eTe;Object.defineProperty(Pq,"__esModule",{value:!0});const j6=so,Zo=Dn,PDt=Rt,NDt=WC,DDt={message:({params:{i:e,j:t}})=>(0,Zo.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Zo._)`{i: ${e}, j: ${t}}`},$Dt={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:DDt,code(e){const{gen:t,data:n,$data:r,schema:i,parentSchema:o,schemaCode:s,it:a}=e;if(!r&&!i)return;const u=t.let("valid"),l=o.items?(0,j6.getSchemaTypes)(o.items):[];e.block$data(u,c,(0,Zo._)`${s} === false`),e.ok(u);function c(){const p=t.let("i",(0,Zo._)`${n}.length`),m=t.let("j");e.setParams({i:p,j:m}),t.assign(u,!0),t.if((0,Zo._)`${p} > 1`,()=>(f()?d:h)(p,m))}function f(){return l.length>0&&!l.some(p=>p==="object"||p==="array")}function d(p,m){const g=t.name("item"),y=(0,j6.checkDataTypes)(l,g,a.opts.strictNumbers,j6.DataType.Wrong),v=t.const("indices",(0,Zo._)`{}`);t.for((0,Zo._)`;${p}--;`,()=>{t.let(g,(0,Zo._)`${n}[${p}]`),t.if(y,(0,Zo._)`continue`),l.length>1&&t.if((0,Zo._)`typeof ${g} == "string"`,(0,Zo._)`${g} += "_"`),t.if((0,Zo._)`typeof ${v}[${g}] == "number"`,()=>{t.assign(m,(0,Zo._)`${v}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,Zo._)`${v}[${g}] = ${p}`)})}function h(p,m){const g=(0,PDt.useFunc)(t,NDt.default),y=t.name("outer");t.label(y).for((0,Zo._)`;${p}--;`,()=>t.for((0,Zo._)`${m} = ${p}; ${m}--;`,()=>t.if((0,Zo._)`${g}(${n}[${p}], ${n}[${m}])`,()=>{e.error(),t.assign(u,!1).break(y)})))}}};Pq.default=$Dt;var Nq={};Object.defineProperty(Nq,"__esModule",{value:!0});const f9=Dn,ODt=Rt,MDt=WC,LDt={message:"must be equal to constant",params:({schemaCode:e})=>(0,f9._)`{allowedValue: ${e}}`},FDt={keyword:"const",$data:!0,error:LDt,code(e){const{gen:t,data:n,$data:r,schemaCode:i,schema:o}=e;r||o&&typeof o=="object"?e.fail$data((0,f9._)`!${(0,ODt.useFunc)(t,MDt.default)}(${n}, ${i})`):e.fail((0,f9._)`${o} !== ${n}`)}};Nq.default=FDt;var Dq={};Object.defineProperty(Dq,"__esModule",{value:!0});const qE=Dn,jDt=Rt,BDt=WC,UDt={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,qE._)`{allowedValues: ${e}}`},zDt={keyword:"enum",schemaType:"array",$data:!0,error:UDt,code(e){const{gen:t,data:n,$data:r,schema:i,schemaCode:o,it:s}=e;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const a=i.length>=s.opts.loopEnum;let u;const l=()=>u??(u=(0,jDt.useFunc)(t,BDt.default));let c;if(a||r)c=t.let("valid"),e.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",o);c=(0,qE.or)(...i.map((p,m)=>d(h,m)))}e.pass(c);function f(){t.assign(c,!1),t.forOf("v",o,h=>t.if((0,qE._)`${l()}(${n}, ${h})`,()=>t.assign(c,!0).break()))}function d(h,p){const m=i[p];return typeof m=="object"&&m!==null?(0,qE._)`${l()}(${n}, ${h}[${p}])`:(0,qE._)`${n} === ${m}`}}};Dq.default=zDt;Object.defineProperty(Eq,"__esModule",{value:!0});const VDt=xq,HDt=Tq,qDt=Sq,WDt=Aq,GDt=Iq,YDt=kq,KDt=Rq,XDt=Pq,QDt=Nq,JDt=Dq,ZDt=[VDt.default,HDt.default,qDt.default,WDt.default,GDt.default,YDt.default,KDt.default,XDt.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},QDt.default,JDt.default];Eq.default=ZDt;var $q={},ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.validateAdditionalItems=void 0;const t0=Dn,d9=Rt,e$t={message:({params:{len:e}})=>(0,t0.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,t0._)`{limit: ${e}}`},t$t={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:e$t,code(e){const{parentSchema:t,it:n}=e,{items:r}=t;if(!Array.isArray(r)){(0,d9.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}tTe(e,r)}};function tTe(e,t){const{gen:n,schema:r,data:i,keyword:o,it:s}=e;s.items=!0;const a=n.const("len",(0,t0._)`${i}.length`);if(r===!1)e.setParams({len:t.length}),e.pass((0,t0._)`${a} <= ${t.length}`);else if(typeof r=="object"&&!(0,d9.alwaysValidSchema)(s,r)){const l=n.var("valid",(0,t0._)`${a} <= ${t.length}`);n.if((0,t0.not)(l),()=>u(l)),e.ok(l)}function u(l){n.forRange("i",t.length,a,c=>{e.subschema({keyword:o,dataProp:c,dataPropType:d9.Type.Num},l),s.allErrors||n.if((0,t0.not)(l),()=>n.break())})}}ow.validateAdditionalItems=tTe;ow.default=t$t;var Oq={},sw={};Object.defineProperty(sw,"__esModule",{value:!0});sw.validateTuple=void 0;const gse=Dn,bk=Rt,n$t=Pn,r$t={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return nTe(e,"additionalItems",t);n.items=!0,!(0,bk.alwaysValidSchema)(n,t)&&e.ok((0,n$t.validateArray)(e))}};function nTe(e,t,n=e.schema){const{gen:r,parentSchema:i,data:o,keyword:s,it:a}=e;c(i),a.opts.unevaluated&&n.length&&a.items!==!0&&(a.items=bk.mergeEvaluated.items(r,n.length,a.items));const u=r.name("valid"),l=r.const("len",(0,gse._)`${o}.length`);n.forEach((f,d)=>{(0,bk.alwaysValidSchema)(a,f)||(r.if((0,gse._)`${l} > ${d}`,()=>e.subschema({keyword:s,schemaProp:d,dataProp:d},u)),e.ok(u))});function c(f){const{opts:d,errSchemaPath:h}=a,p=n.length,m=p===f.minItems&&(p===f.maxItems||f[t]===!1);if(d.strictTuples&&!m){const g=`"${s}" is ${p}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,bk.checkStrictMode)(a,g,d.strictTuples)}}}sw.validateTuple=nTe;sw.default=r$t;Object.defineProperty(Oq,"__esModule",{value:!0});const i$t=sw,o$t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,i$t.validateTuple)(e,"items")};Oq.default=o$t;var Mq={};Object.defineProperty(Mq,"__esModule",{value:!0});const yse=Dn,s$t=Rt,a$t=Pn,u$t=ow,l$t={message:({params:{len:e}})=>(0,yse.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yse._)`{limit: ${e}}`},c$t={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:l$t,code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:i}=n;r.items=!0,!(0,s$t.alwaysValidSchema)(r,t)&&(i?(0,u$t.validateAdditionalItems)(e,i):e.ok((0,a$t.validateArray)(e)))}};Mq.default=c$t;var Lq={};Object.defineProperty(Lq,"__esModule",{value:!0});const ll=Dn,HA=Rt,f$t={message:({params:{min:e,max:t}})=>t===void 0?(0,ll.str)`must contain at least ${e} valid item(s)`:(0,ll.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ll._)`{minContains: ${e}}`:(0,ll._)`{minContains: ${e}, maxContains: ${t}}`},d$t={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:f$t,code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;let s,a;const{minContains:u,maxContains:l}=r;o.opts.next?(s=u===void 0?1:u,a=l):s=1;const c=t.const("len",(0,ll._)`${i}.length`);if(e.setParams({min:s,max:a}),a===void 0&&s===0){(0,HA.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(a!==void 0&&s>a){(0,HA.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,HA.alwaysValidSchema)(o,n)){let m=(0,ll._)`${c} >= ${s}`;a!==void 0&&(m=(0,ll._)`${m} && ${c} <= ${a}`),e.pass(m);return}o.items=!0;const f=t.name("valid");a===void 0&&s===1?h(f,()=>t.if(f,()=>t.break())):s===0?(t.let(f,!0),a!==void 0&&t.if((0,ll._)`${i}.length > 0`,d)):(t.let(f,!1),d()),e.result(f,()=>e.reset());function d(){const m=t.name("_valid"),g=t.let("count",0);h(m,()=>t.if(m,()=>p(g)))}function h(m,g){t.forRange("i",0,c,y=>{e.subschema({keyword:"contains",dataProp:y,dataPropType:HA.Type.Num,compositeRule:!0},m),g()})}function p(m){t.code((0,ll._)`${m}++`),a===void 0?t.if((0,ll._)`${m} >= ${s}`,()=>t.assign(f,!0).break()):(t.if((0,ll._)`${m} > ${a}`,()=>t.assign(f,!1).break()),s===1?t.assign(f,!0):t.if((0,ll._)`${m} >= ${s}`,()=>t.assign(f,!0)))}}};Lq.default=d$t;var rTe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Dn,n=Rt,r=Pn;e.error={message:({params:{property:u,depsCount:l,deps:c}})=>{const f=l===1?"property":"properties";return(0,t.str)`must have ${f} ${c} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:c,missingProperty:f}})=>(0,t._)`{property: ${u},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,c]=o(u);s(u,l),a(u,c)}};function o({schema:u}){const l={},c={};for(const f in u){if(f==="__proto__")continue;const d=Array.isArray(u[f])?l:c;d[f]=u[f]}return[l,c]}function s(u,l=u.schema){const{gen:c,data:f,it:d}=u;if(Object.keys(l).length===0)return;const h=c.let("missing");for(const p in l){const m=l[p];if(m.length===0)continue;const g=(0,r.propertyInData)(c,f,p,d.opts.ownProperties);u.setParams({property:p,depsCount:m.length,deps:m.join(", ")}),d.allErrors?c.if(g,()=>{for(const y of m)(0,r.checkReportMissingProp)(u,y)}):(c.if((0,t._)`${g} && (${(0,r.checkMissingProp)(u,m,h)})`),(0,r.reportMissingProp)(u,h),c.else())}}e.validatePropertyDeps=s;function a(u,l=u.schema){const{gen:c,data:f,keyword:d,it:h}=u,p=c.name("valid");for(const m in l)(0,n.alwaysValidSchema)(h,l[m])||(c.if((0,r.propertyInData)(c,f,m,h.opts.ownProperties),()=>{const g=u.subschema({keyword:d,schemaProp:m},p);u.mergeValidEvaluated(g,p)},()=>c.var(p,!0)),u.ok(p))}e.validateSchemaDeps=a,e.default=i})(rTe);var Fq={};Object.defineProperty(Fq,"__esModule",{value:!0});const iTe=Dn,h$t=Rt,p$t={message:"property name must be valid",params:({params:e})=>(0,iTe._)`{propertyName: ${e.propertyName}}`},m$t={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:p$t,code(e){const{gen:t,schema:n,data:r,it:i}=e;if((0,h$t.alwaysValidSchema)(i,n))return;const o=t.name("valid");t.forIn("key",r,s=>{e.setParams({propertyName:s}),e.subschema({keyword:"propertyNames",data:s,dataTypes:["string"],propertyName:s,compositeRule:!0},o),t.if((0,iTe.not)(o),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(o)}};Fq.default=m$t;var aO={};Object.defineProperty(aO,"__esModule",{value:!0});const qA=Pn,ic=Dn,g$t=ld,WA=Rt,y$t={message:"must NOT have additional properties",params:({params:e})=>(0,ic._)`{additionalProperty: ${e.additionalProperty}}`},v$t={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:y$t,code(e){const{gen:t,schema:n,parentSchema:r,data:i,errsCount:o,it:s}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:u}=s;if(s.props=!0,u.removeAdditional!=="all"&&(0,WA.alwaysValidSchema)(s,n))return;const l=(0,qA.allSchemaProperties)(r.properties),c=(0,qA.allSchemaProperties)(r.patternProperties);f(),e.ok((0,ic._)`${o} === ${g$t.default.errors}`);function f(){t.forIn("key",i,g=>{!l.length&&!c.length?p(g):t.if(d(g),()=>p(g))})}function d(g){let y;if(l.length>8){const v=(0,WA.schemaRefOrVal)(s,r.properties,"properties");y=(0,qA.isOwnProperty)(t,v,g)}else l.length?y=(0,ic.or)(...l.map(v=>(0,ic._)`${g} === ${v}`)):y=ic.nil;return c.length&&(y=(0,ic.or)(y,...c.map(v=>(0,ic._)`${(0,qA.usePattern)(e,v)}.test(${g})`))),(0,ic.not)(y)}function h(g){t.code((0,ic._)`delete ${i}[${g}]`)}function p(g){if(u.removeAdditional==="all"||u.removeAdditional&&n===!1){h(g);return}if(n===!1){e.setParams({additionalProperty:g}),e.error(),a||t.break();return}if(typeof n=="object"&&!(0,WA.alwaysValidSchema)(s,n)){const y=t.name("valid");u.removeAdditional==="failing"?(m(g,y,!1),t.if((0,ic.not)(y),()=>{e.reset(),h(g)})):(m(g,y),a||t.if((0,ic.not)(y),()=>t.break()))}}function m(g,y,v){const b={keyword:"additionalProperties",dataProp:g,dataPropType:WA.Type.Str};v===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(b,y)}}};aO.default=v$t;var jq={};Object.defineProperty(jq,"__esModule",{value:!0});const b$t=Nc,vse=Pn,B6=Rt,bse=aO,_$t={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:i,it:o}=e;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&bse.default.code(new b$t.KeywordCxt(o,bse.default,"additionalProperties"));const s=(0,vse.allSchemaProperties)(n);for(const f of s)o.definedProperties.add(f);o.opts.unevaluated&&s.length&&o.props!==!0&&(o.props=B6.mergeEvaluated.props(t,(0,B6.toHash)(s),o.props));const a=s.filter(f=>!(0,B6.alwaysValidSchema)(o,n[f]));if(a.length===0)return;const u=t.name("valid");for(const f of a)l(f)?c(f):(t.if((0,vse.propertyInData)(t,i,f,o.opts.ownProperties)),c(f),o.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(f),e.ok(u);function l(f){return o.opts.useDefaults&&!o.compositeRule&&n[f].default!==void 0}function c(f){e.subschema({keyword:"properties",schemaProp:f,dataProp:f},u)}}};jq.default=_$t;var Bq={};Object.defineProperty(Bq,"__esModule",{value:!0});const _se=Pn,GA=Dn,wse=Rt,Ese=Rt,w$t={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:i,it:o}=e,{opts:s}=o,a=(0,_se.allSchemaProperties)(n),u=a.filter(m=>(0,wse.alwaysValidSchema)(o,n[m]));if(a.length===0||u.length===a.length&&(!o.opts.unevaluated||o.props===!0))return;const l=s.strictSchema&&!s.allowMatchingProperties&&i.properties,c=t.name("valid");o.props!==!0&&!(o.props instanceof GA.Name)&&(o.props=(0,Ese.evaluatedPropsToName)(t,o.props));const{props:f}=o;d();function d(){for(const m of a)l&&h(m),o.allErrors?p(m):(t.var(c,!0),p(m),t.if(c))}function h(m){for(const g in l)new RegExp(m).test(g)&&(0,wse.checkStrictMode)(o,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function p(m){t.forIn("key",r,g=>{t.if((0,GA._)`${(0,_se.usePattern)(e,m)}.test(${g})`,()=>{const y=u.includes(m);y||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:Ese.Type.Str},c),o.opts.unevaluated&&f!==!0?t.assign((0,GA._)`${f}[${g}]`,!0):!y&&!o.allErrors&&t.if((0,GA.not)(c),()=>t.break())})})}}};Bq.default=w$t;var Uq={};Object.defineProperty(Uq,"__esModule",{value:!0});const E$t=Rt,x$t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,E$t.alwaysValidSchema)(r,n)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Uq.default=x$t;var zq={};Object.defineProperty(zq,"__esModule",{value:!0});const T$t=Pn,S$t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:T$t.validateUnion,error:{message:"must match a schema in anyOf"}};zq.default=S$t;var Vq={};Object.defineProperty(Vq,"__esModule",{value:!0});const _k=Dn,C$t=Rt,A$t={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,_k._)`{passingSchemas: ${e.passing}}`},I$t={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:A$t,code(e){const{gen:t,schema:n,parentSchema:r,it:i}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=n,s=t.let("valid",!1),a=t.let("passing",null),u=t.name("_valid");e.setParams({passing:a}),t.block(l),e.result(s,()=>e.reset(),()=>e.error(!0));function l(){o.forEach((c,f)=>{let d;(0,C$t.alwaysValidSchema)(i,c)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},u),f>0&&t.if((0,_k._)`${u} && ${s}`).assign(s,!1).assign(a,(0,_k._)`[${a}, ${f}]`).else(),t.if(u,()=>{t.assign(s,!0),t.assign(a,f),d&&e.mergeEvaluated(d,_k.Name)})})}}};Vq.default=I$t;var Hq={};Object.defineProperty(Hq,"__esModule",{value:!0});const k$t=Rt,R$t={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=t.name("valid");n.forEach((o,s)=>{if((0,k$t.alwaysValidSchema)(r,o))return;const a=e.subschema({keyword:"allOf",schemaProp:s},i);e.ok(i),e.mergeEvaluated(a)})}};Hq.default=R$t;var qq={};Object.defineProperty(qq,"__esModule",{value:!0});const _P=Dn,oTe=Rt,P$t={message:({params:e})=>(0,_P.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,_P._)`{failingKeyword: ${e.ifClause}}`},N$t={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:P$t,code(e){const{gen:t,parentSchema:n,it:r}=e;n.then===void 0&&n.else===void 0&&(0,oTe.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=xse(r,"then"),o=xse(r,"else");if(!i&&!o)return;const s=t.let("valid",!0),a=t.name("_valid");if(u(),e.reset(),i&&o){const c=t.let("ifClause");e.setParams({ifClause:c}),t.if(a,l("then",c),l("else",c))}else i?t.if(a,l("then")):t.if((0,_P.not)(a),l("else"));e.pass(s,()=>e.error(!0));function u(){const c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(c)}function l(c,f){return()=>{const d=e.subschema({keyword:c},a);t.assign(s,a),e.mergeValidEvaluated(d,s),f?t.assign(f,(0,_P._)`${c}`):e.setParams({ifClause:c})}}}};function xse(e,t){const n=e.schema[t];return n!==void 0&&!(0,oTe.alwaysValidSchema)(e,n)}qq.default=N$t;var Wq={};Object.defineProperty(Wq,"__esModule",{value:!0});const D$t=Rt,$$t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,D$t.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};Wq.default=$$t;Object.defineProperty($q,"__esModule",{value:!0});const O$t=ow,M$t=Oq,L$t=sw,F$t=Mq,j$t=Lq,B$t=rTe,U$t=Fq,z$t=aO,V$t=jq,H$t=Bq,q$t=Uq,W$t=zq,G$t=Vq,Y$t=Hq,K$t=qq,X$t=Wq;function Q$t(e=!1){const t=[q$t.default,W$t.default,G$t.default,Y$t.default,K$t.default,X$t.default,U$t.default,z$t.default,B$t.default,V$t.default,H$t.default];return e?t.push(M$t.default,F$t.default):t.push(O$t.default,L$t.default),t.push(j$t.default),t}$q.default=Q$t;var Gq={},Yq={};Object.defineProperty(Yq,"__esModule",{value:!0});const Li=Dn,J$t={message:({schemaCode:e})=>(0,Li.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Li._)`{format: ${e}}`},Z$t={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:J$t,code(e,t){const{gen:n,data:r,$data:i,schema:o,schemaCode:s,it:a}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:f}=a;if(!u.validateFormats)return;i?d():h();function d(){const p=n.scopeValue("formats",{ref:f.formats,code:u.code.formats}),m=n.const("fDef",(0,Li._)`${p}[${s}]`),g=n.let("fType"),y=n.let("format");n.if((0,Li._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>n.assign(g,(0,Li._)`${m}.type || "string"`).assign(y,(0,Li._)`${m}.validate`),()=>n.assign(g,(0,Li._)`"string"`).assign(y,m)),e.fail$data((0,Li.or)(v(),b()));function v(){return u.strictSchema===!1?Li.nil:(0,Li._)`${s} && !${y}`}function b(){const _=c.$async?(0,Li._)`(${m}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,Li._)`${y}(${r})`,w=(0,Li._)`(typeof ${y} == "function" ? ${_} : ${y}.test(${r}))`;return(0,Li._)`${y} && ${y} !== true && ${g} === ${t} && !${w}`}}function h(){const p=f.formats[o];if(!p){v();return}if(p===!0)return;const[m,g,y]=b(p);m===t&&e.pass(_());function v(){if(u.strictSchema===!1){f.logger.warn(w());return}throw new Error(w());function w(){return`unknown format "${o}" ignored in schema at path "${l}"`}}function b(w){const S=w instanceof RegExp?(0,Li.regexpCode)(w):u.code.formats?(0,Li._)`${u.code.formats}${(0,Li.getProperty)(o)}`:void 0,E=n.scopeValue("formats",{key:o,ref:w,code:S});return typeof w=="object"&&!(w instanceof RegExp)?[w.type||"string",w.validate,(0,Li._)`${E}.validate`]:["string",w,E]}function _(){if(typeof p=="object"&&!(p instanceof RegExp)&&p.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Li._)`await ${y}(${r})`}return typeof g=="function"?(0,Li._)`${y}(${r})`:(0,Li._)`${y}.test(${r})`}}}};Yq.default=Z$t;Object.defineProperty(Gq,"__esModule",{value:!0});const eOt=Yq,tOt=[eOt.default];Gq.default=tOt;var Fb={};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.contentVocabulary=Fb.metadataVocabulary=void 0;Fb.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Fb.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(bq,"__esModule",{value:!0});const nOt=_q,rOt=Eq,iOt=$q,oOt=Gq,Tse=Fb,sOt=[nOt.default,rOt.default,(0,iOt.default)(),oOt.default,Tse.metadataVocabulary,Tse.contentVocabulary];bq.default=sOt;var Kq={},uO={};Object.defineProperty(uO,"__esModule",{value:!0});uO.DiscrError=void 0;var Sse;(function(e){e.Tag="tag",e.Mapping="mapping"})(Sse||(uO.DiscrError=Sse={}));Object.defineProperty(Kq,"__esModule",{value:!0});const u1=Dn,h9=uO,Cse=Ha,aOt=iw,uOt=Rt,lOt={message:({params:{discrError:e,tagName:t}})=>e===h9.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,u1._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},cOt={keyword:"discriminator",type:"object",schemaType:"object",error:lOt,code(e){const{gen:t,data:n,schema:r,parentSchema:i,it:o}=e,{oneOf:s}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if(typeof a!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!s)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,u1._)`${n}${(0,u1.getProperty)(a)}`);t.if((0,u1._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:h9.DiscrError.Tag,tag:l,tagName:a})),e.ok(u);function c(){const h=d();t.if(!1);for(const p in h)t.elseIf((0,u1._)`${l} === ${p}`),t.assign(u,f(h[p]));t.else(),e.error(!1,{discrError:h9.DiscrError.Mapping,tag:l,tagName:a}),t.endIf()}function f(h){const p=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:h},p);return e.mergeEvaluated(m,u1.Name),p}function d(){var h;const p={},m=y(i);let g=!0;for(let _=0;_<s.length;_++){let w=s[_];if(w!=null&&w.$ref&&!(0,uOt.schemaHasRulesButRef)(w,o.self.RULES)){const E=w.$ref;if(w=Cse.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,E),w instanceof Cse.SchemaEnv&&(w=w.schema),w===void 0)throw new aOt.default(o.opts.uriResolver,o.baseId,E)}const S=(h=w==null?void 0:w.properties)===null||h===void 0?void 0:h[a];if(typeof S!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);g=g&&(m||y(w)),v(S,_)}if(!g)throw new Error(`discriminator: "${a}" must be required`);return p;function y({required:_}){return Array.isArray(_)&&_.includes(a)}function v(_,w){if(_.const)b(_.const,w);else if(_.enum)for(const S of _.enum)b(S,w);else throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`)}function b(_,w){if(typeof _!="string"||_ in p)throw new Error(`discriminator: "${a}" values must be unique strings`);p[_]=w}}}};Kq.default=cOt;const fOt="http://json-schema.org/draft-07/schema#",dOt="http://json-schema.org/draft-07/schema#",hOt="Core schema meta-schema",pOt={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},mOt=["object","boolean"],gOt={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},yOt={$schema:fOt,$id:dOt,title:hOt,definitions:pOt,type:mOt,properties:gOt,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=bxe,r=bq,i=Kq,o=yOt,s=["/properties"],a="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(o,s):o;this.addMetaSchema(p,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=Nc;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var c=Dn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=qC;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=iw;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(o9,o9.exports);var vOt=o9.exports;const sTe=gn(vOt),bOt="#/definitions/StudyConfig",_Ot="http://json-schema.org/draft-07/schema#",wOt={Answer:{additionalProperties:!1,description:`The Answer interface is used to define the properties of an answer. Answers are used to define the correct answer for a task. These are generally used in training tasks or if skip logic is required based on the answer.

Answers are used to defined correct answers for a task. These are generally used in training tasks or if skip logic is required based on the answer. The answer field is used to define the correct answer to the question. The acceptableLow and acceptableHigh fields are used to define a range of acceptable answers (these are currently only used for training). For example, if the correct answer is 5, and the acceptableLow is 4 and the acceptableHigh is 6, then any answer between 4 and 6 will be considered correct.

Here's an example of how to use the Answer interface to define the correct answer to a question:

\`\`\`js { "type": "markdown", "path": "<study-name>/assets/question.md", "response": [  {    "id": "response1",    "prompt": "What is 2 + 2?",    "required": true,    "location": "belowStimulus",    "type": "numerical"  } ] "correctAnswer": [{  "id": "response1",  "answer": 4 }] } \`\`\`

In this example, the correct answer to the question "What is 2 + 2?" is 4. If the participant answers 4, they will be considered correct. If they answer anything other than 4, they will be considered incorrect.`,properties:{acceptableHigh:{description:"The acceptable high value for the answer. This is used to define a range of acceptable answers.",type:"number"},acceptableLow:{description:"The acceptable low value for the answer. This is used to define a range of acceptable answers.",type:"number"},answer:{description:"The correct answer to the question."},id:{description:"The id of the answer. This is used to identify the answer in the data file.",type:"string"}},required:["id","answer"],type:"object"},BaseComponents:{additionalProperties:{additionalProperties:!1,properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},type:"object"},description:'The baseComponents is an optional set of components which can help template other components. For example, suppose you have a single HTML file that you want to display to the user several times. Instead of having the same component twice in the `components` list, you can have a single baseComponent with all the information that the two HTML components will share. A great example is showing the same HTML component but with two different questions;\n\n Using baseComponents:\n\n```js "baseComponents": { "my-image-component": { "instructionLocation": "sidebar", "nextButtonLocation": "sidebar", "path": "<study-name>/assets/my-image.jpg", "response": [   {     "id": "my-image-id",     "options": [       {         "label": "Europe",         "value": "Europe"       },       {         "label": "Japan",         "value": "Japan"       },       {         "label": "USA",         "value": "USA"       }     ],     "prompt": "Your Selected Answer:",     "type": "dropdown"   } ], "type": "image" } } ``` In the above code snippet, we have a single base component which holds the information about the type of component, the path to the image, and the response (which is a dropdown containing three choices). Any component which contains the `"baseComponent":"my-image-component"` key-value pair will inherit each of these properties. Thus, if we have three different questions which have the same choices and are concerning the same image, we can define our components like below: ```js "components": { "q1": { "baseComponent": "my-image-component", "description": "Choosing section with largest GDP", "instruction": "Which region has the largest GDP?" }, "q2": { "baseComponent": "my-image-component", "description": "Choosing section with lowest GDP", "instruction": "Which region has the lowest GDP?" }, "q3": { "baseComponent": "my-image-component", "description": "Choosing section with highest exports of Wheat", "instruction": "Which region had the most Wheat exported in 2022?" } } ```',type:"object"},CheckboxResponse:{additionalProperties:!1,description:'The CheckboxResponse interface is used to define the properties of a checkbox response. CheckboxResponses render as a checkbox input with user specified options.\n\n```js { "id": "q7", "prompt": "Checkbox example (not required)", "required": false, "location": "aboveStimulus", "type": "checkbox", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  },  {    "label": "Option 3",    "value": "opt-3"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"checkbox",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},ComponentBlock:{additionalProperties:!1,description:'The ComponentBlock interface is used to define order properties within the sequence. This is used to define the order of components in a study and the skip logic. It supports random assignment of trials using a pure random assignment and a [latin square](https://en.wikipedia.org/wiki/Latin_square).\n\nThe pure random assignment is a random assignment with no guarantees. For example, one component _could_ show up in the first position 10 times in a row. However, this situation is unlikely.\n\nHere\'s a snippet that shows how to use the random order:\n\n```js { "order": "random", "components": [ "component1", "component2", "component3" ] } ``` This snippet would produce a random order of the components in the sequence array. For example, the resulting sequence array could be :\n\n```js [ ["component2", "component3", "component1"], ["component1", "component3", "component2"], ["component3", "component1", "component2"], ... ] ```\n\nThe latin square assignment is a random assignment with some guarantees. It ensures that each component is shown an equal number of times in each position. Here\'s a snippet that shows how to use the latin square order:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2", "component3"], ["component2", "component3", "component1"], ["component3", "component1", "component2"], ... ] ```\n\nThe fixed assignment is a fixed assignment of components. This is used when you want to show the components in a specific order. Here\'s a snippet that shows how to use the fixed order:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3" ] } ```\n\nThis snippet would produce a fixed order of the components in the sequence array. The resulting sequence array would be:\n\n```js [ ["component1", "component2", "component3"], ["component1", "component2", "component3"], ["component1", "component2", "component3"], ... ] ```\n\nIn addition to the order property, the ComponentBlock interface also includes the `"numSamples"` property. This is used to reduce the number of components shown to a participant. This property respects the order property and the guarantees provided by the order property. For example, if you have three components in the components array and you set `"numSamples"` to 2, you would randomize across the three components while only showing a participant two of them. Here\'s a snippet that shows how to use the numSamples property:\n\n```js { "order": "latinSquare", "components": [ "component1", "component2", "component3" ], "numSamples": 2 } ```\n\nThis snippet would produce a latin square order of the components in the sequence array. Since the latin square guarantees that each component is shown an equal number of times in each position, the resulting sequence array could be:\n\n```js [ ["component1", "component2"], ["component2", "component3"], ["component3", "component1"], ... ] ```\n\nThe interruptions property specifies an array of interruptions. These can be used for breaks or attention checks. Interruptions can be deterministic or random. Please see [InterruptionBlock](../../type-aliases/InterruptionBlock) for more specific information.\n\nThe skip property is used to define skip conditions. This is used to skip to a different component or block based on the response to a component or the number of correct or incorrect responses in a block. Please see [SkipConditions](../../type-aliases/SkipConditions) for more specific information.',properties:{components:{description:"The components that are included in the order.",items:{anyOf:[{type:"string"},{$ref:"#/definitions/ComponentBlock"}]},type:"array"},id:{description:"The id of the block. This is used to identify the block in the SkipConditions and is only required if you want to refer to the whole block in the condition.to property.",type:"string"},interruptions:{description:"The interruptions property specifies an array of interruptions. These can be used for breaks or attention checks.",items:{$ref:"#/definitions/InterruptionBlock"},type:"array"},numSamples:{description:"The number of samples to use for the random assignments. This means you can randomize across 3 components while only showing a participant 2 at a time.",type:"number"},order:{description:"The type of order. This can be random (pure random), latinSquare (random with some guarantees), or fixed.",enum:["random","latinSquare","fixed"],type:"string"},skip:{$ref:"#/definitions/SkipConditions",description:"The skip conditions for the block."}},required:["order","components"],type:"object"},ComponentBlockCondition:{additionalProperties:!1,description:`The ComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect components in a block. All answers on all components in the block are checked.

Answers are checked against the correct answers defined in the IndividualComponent's [CorrectAnswer](../Answer). If no correct answers are defined, the component is considered correct by default.

You might use this if a participant answers two questions in a block incorrectly. Here's an example of how to use the ComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "check": "block",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of components with incorrect responses in the block is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.

When the condition is met, the participant will immediately be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.`,properties:{check:{const:"block",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["check","condition","value","to"],type:"object"},DeterministicInterruption:{additionalProperties:!1,description:`The DeterministicInterruption interface is used to define an interruption that will be shown at a specific location in the block.

For example, if you want to show an interruption after the second component in the block, you would set firstLocation to 2. If you want to show an interruption after every 3 components, you would set spacing to 3. If you want to show an interruption after the second component and then every 3 components, you would set firstLocation to 2 and spacing to 3.

The components property is an array of the components that will be inserted at the location specified by firstLocation and spacing. These components should reference components in the StudyConfig.components section of the config.

Here's an example of how to use the DeterministicInterruption:

\`\`\`js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "firstLocation": 2,   "spacing": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } \`\`\`

The resulting sequence array could be:

\`\`\`js [ ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ["component1", "component2", "interruption1", "component3", "component4", "component5", "interruption2", "component6"], ... ] \`\`\``,properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},firstLocation:{description:"The Location of the first instance of the interruption. If this is set to 2, the interruption will be shown after the second component (inserted at index 2).",type:"number"},spacing:{description:"The number of components between breaks.",type:"number"}},required:["firstLocation","spacing","components"],type:"object"},DropdownResponse:{additionalProperties:!1,description:'The DropdownResponse interface is used to define the properties of a dropdown response. DropdownResponses render as a select input with user specified options.\n\nExample: ```js { "id": "q-color", "prompt": "What is your favorite color?", "required": true, "location": "aboveStimulus", "type": "dropdown", "placeholder": "Please choose your favorite color", "options": [  {    "label": "Red",    "value": "red"  },  {    "label": "Blue",    "value": "blue"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed in the dropdown.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"dropdown",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},IFrameResponse:{additionalProperties:!1,description:"The IFrameResponse interface is used to define the properties of an iframe response. IFrameResponses render as a list, that is connected to a WebsiteComponent. When data is sent from the WebsiteComponent, it is displayed in the list.",properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"iframe",type:"string"}},required:["id","prompt","required","type"],type:"object"},ImageComponent:{additionalProperties:!1,description:'The ImageComponent interface is used to define the properties of an image component. This component is used to render an image with optional styling.\n\nFor example, to render an image with a path of `path/to/study/assets/image.jpg` and a max width of 50%, you would use the following snippet: ```js { "type": "image", "path": "<study-name>/assets/image.jpg", "style": { "maxWidth": "50%" } } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{const:"image",type:"string"}},required:["path","response","type"],type:"object"},IndividualComponent:{anyOf:[{$ref:"#/definitions/MarkdownComponent"},{$ref:"#/definitions/ReactComponent"},{$ref:"#/definitions/ImageComponent"},{$ref:"#/definitions/WebsiteComponent"},{$ref:"#/definitions/QuestionnaireComponent"}]},IndividualComponentAllResponsesCondition:{additionalProperties:!1,description:`The IndividualComponentAllResponsesCondition interface is used to define a SkipCondition based on all answers to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::


Here's an example of how to use the IndividualComponentAllResponsesCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "responses",   "to": "end" } ] ... } \`\`\`

In this example, if all responses to the component with the ID "attentionCheck" are correct, the participant will be redirected to the end of the study. If any response is incorrect, the participant will continue to the next component in the sequence.`,properties:{check:{const:"responses",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"}},required:["name","check","to"],type:"object"},IndividualComponentSingleResponseCondition:{additionalProperties:!1,description:`The IndividualComponentSingleResponseCondition interface is used to define a SkipCondition based on a single answer to a specific component. The skip logic will be checked for every component in the block that has the specified name.

:::info

If you need to check all instances of a repeated component, you should use the RepeatedComponentBlockCondition.

:::

For example, if you want to skip to a different component based on a response to a specific component, you would use the IndividualComponentSingleResponseCondition. Here's an example of how to use the IndividualComponentSingleResponseCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "response",   "responseId": "attentionCheckResponse",   "value": "the right answer",   "to": "end" } ] ... } \`\`\`

In this example, we assign our skip logic to the component whose ID is "attentionCheck". If the answer given to the response "attentionCheckResponse" is equal to "the right answer", then the user will be redirected to the end of the study. If the response is _not_ equal to "the right answer", then the participant will continue to the next component in the sequence.`,properties:{check:{const:"response",description:"The check we'll perform.",type:"string"},name:{description:"The name of the component to check.",type:"string"},responseId:{description:"The response id to check.",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The value to check.",type:["string","number"]}},required:["name","check","responseId","value","to"],type:"object"},InheritedComponent:{additionalProperties:!1,description:"An InheritedComponent is a component that inherits properties from a baseComponent. This is used to avoid repeating properties in components. This also means that components in the baseComponents object can be partially defined, while components in the components object can inherit from them and must be fully defined and include all properties (after potentially merging with a base component).",properties:{baseComponent:{type:"string"},correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{anyOf:[{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"}],description:"The parameters that are passed to the react component. These can be used within your react component to render different things."},path:{anyOf:[{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},{description:"The path to the image. This should be a relative path from the public folder.",type:"string"},{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"}],description:"The path to the markdown file. This should be a relative path from the public folder."},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},style:{additionalProperties:{type:"string"},description:"The style of the image. This is an object with css properties as keys and css values as values.",type:"object"},type:{enum:["markdown","react-component","image","website","questionnaire"],type:"string"}},required:["baseComponent"],type:"object"},InterruptionBlock:{anyOf:[{$ref:"#/definitions/DeterministicInterruption"},{$ref:"#/definitions/RandomInterruption"}],description:"The InterruptionBlock interface is used to define interruptions in a block. These can be used for breaks or attention checks. Interruptions can be deterministic or random."},LikertResponse:{additionalProperties:!1,description:`The LikertResponse interface is used to define the properties of a likert response. LikertResponses render as radio buttons with a user specified number of options, which can be controlled through the numItems. For example, numItems: 5 will render 5 radio buttons, and numItems: 7 will render 7 radio buttons. LikertResponses can also have a description, and left and right labels. The left and right labels are used to label the left and right ends of the likert scale with values such as 'Strongly Disagree' and 'Strongly Agree'.

Example for a five-point Likert Scale:

\`\`\`js { "id": "q-satisfaction", "prompt": "Rate your satisfaction from 1 (not enjoyable) to 5 (very enjoyable).", "required": true, "location": "aboveStimulus", "type": "likert", "leftLabel": "Not Enjoyable", "rightLabel": "Very Enjoyable", "numItems": 5 } \`\`\``,properties:{desc:{description:"The description of the likert scale.",type:"string"},hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the likert scale. E.g Strongly Disagree",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},numItems:{description:"The number of options to render.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the likert scale. E.g Strongly Agree",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"likert",type:"string"}},required:["id","numItems","prompt","required","type"],type:"object"},LongTextResponse:{additionalProperties:!1,description:'The LongTextResponse interface is used to define the properties of a long text response. LongTextResponses render as a text area that accepts any text and can optionally have a placeholder. ```js { "id": "q-name", "prompt": "What is your first name?", "required": true, "location": "aboveStimulus", "type": "longText", "placeholder": "Please enter your first name" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"longText",type:"string"}},required:["id","prompt","required","type"],type:"object"},MarkdownComponent:{additionalProperties:!1,description:'The MarkdownComponent interface is used to define the properties of a markdown component. The components can be used to render many different things, such as consent forms, instructions, and debriefs. Additionally, you can use the markdown component to render images, videos, and other media, with supporting text. Markdown components can have responses (e.g. in a consent form), or no responses (e.g. in a help text file). Here\'s an example with no responses for a simple help text file:\n\n```js { "type": "markdown", "path": "<study-name>/assets/help.md", "response": [] } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},path:{description:"The path to the markdown file. This should be a relative path from the public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"markdown",type:"string"}},required:["path","response","type"],type:"object"},NumberOption:{additionalProperties:!1,description:"The NumberOption interface is used to define the options for a slider response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"number"}},required:["label","value"],type:"object"},NumericalResponse:{additionalProperties:!1,description:'The NumericalResponse interface is used to define the properties of a numerical response. NumericalResponses render as a text input that only accepts numbers, and can optionally have a min and max value, or a placeholder.\n\nExample: ```js { "id": "q-numerical", "prompt": "Numerical example", "required": true, "location": "aboveStimulus", "type": "numerical", "placeholder": "Enter your age, range from 0 - 120", "max": 120, "min": 0 } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},max:{description:"The maximum value that is accepted in the input.",type:"number"},min:{description:"The minimum value that is accepted in the input.",type:"number"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"numerical",type:"string"}},required:["id","prompt","required","type"],type:"object"},QuestionnaireComponent:{additionalProperties:!1,description:'A QuestionnaireComponent is used to render simple questions that require a response. The main use case of this component type is to ask participants questions when you don\'t need to render a stimulus. Please note, that even though we\'re not using a stimulus, the responses still require a `location`. For example this could be used to collect demographic information from a participant using the following snippet:\n\n```js { "type": "questionnaire", "response": [  {    "id": "gender",    "prompt": "Gender:",    "required": true,    "location": "belowStimulus",    "type": "checkbox",    "options": [      {        "label": "Man",        "value": "Man"      },      {        "label": "Woman",        "value": "Woman"      },      {        "label": "Genderqueer",        "value": "Genderqueer"      },      {        "label": "Third-gender",        "value": "Third-gender"      },      ... etc.    ]  } ] } ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"questionnaire",type:"string"}},required:["response","type"],type:"object"},RadioResponse:{additionalProperties:!1,description:'The RadioResponse interface is used to define the properties of a radio response. Radios have only one allowable selection. RadioResponses render as a radio input with user specified options, and optionally left and right labels.\n\nExample: ```js { "id": "q-radio", "prompt": "Radio button example", "required": true, "location": "aboveStimulus", "type": "radio", "options": [  {    "label": "Option 1",    "value": "opt-1"  },  {    "label": "Option 2",    "value": "opt-2"  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},leftLabel:{description:"The left label of the radio group. Used in Likert scales for example",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"The options that are displayed as checkboxes, provided as an array of objects, with label and value fields.",items:{$ref:"#/definitions/StringOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},rightLabel:{description:"The right label of the radio group. Used in Likert scales for example",type:"string"},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"radio",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},RandomInterruption:{additionalProperties:!1,description:'The RandomInterruption interface is used to define an interruption that will be shown randomly in the block.\n\nFor example, if you want to show a single interruption randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 1. If you want to show 3 interruptions randomly in the block, you would set `"spacing"` to "random" and `"numInterruptions"` to 3.\n\nThe components property is an array of the components that will be inserted randomly in the block. These components should reference components in the StudyConfig.components section of the config.\n\nHere\'s an example of how to use the RandomInterruption:\n\n```js { "order": "fixed", "components": [ "component1", "component2", "component3", "component4", "component5", "component6" ], "interruptions": [ {   "spacing": "random",   "numInterruptions": 3,   "components": [     "interruption1",     "interruption2"   ] } ] } ```\n\nThe resulting sequence array could be:\n\n```js [ ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "component5", "interruption1", "interruption2", "component6], ["component1", "interruption1", "interruption2", "component2", "interruption1", "interruption2", "component3", "component4", "interruption1", "interruption2", "component5", "component6], ["component1", "component2" "interruption1", "interruption2", "component3", "interruption1", "interruption2", "component4", "component5", "interruption1", "interruption2", "component6], ... ] ```',properties:{components:{description:"The components that are included in the interruption. These reference components in the StudyConfig.components section of the config.",items:{type:"string"},type:"array"},numInterruptions:{description:"The number of times the interruption will be randomly added",type:"number"},spacing:{const:"random",description:"If spacing is set to random, reVISit will add interruptions randomly. These interruptions will not ever be displayed as the first component in the block.",type:"string"}},required:["spacing","numInterruptions","components"],type:"object"},ReactComponent:{additionalProperties:!1,description:"The ReactComponent interface is used to define the properties of a react component. This component is used to render react code with certain parameters. These parameters can be used within your react code to render different things.\n\nUnlike other types of components, the path for a React component is relative to the `src/public/` folder. Similar to our standard assets, we suggest creating a folder named `src/public/{studyName}/assets` to house all of the React component assets for a particular study. Your React component which you link to in the path must be default exported from its file.\n\nReact components created this way have a generic prop type passed to the component on render, `<StimulusParams<T>>`, which has the following types.\n\n```ts { parameters: T; setAnswer: ({ status, provenanceGraph, answers }: { status: boolean, provenanceGraph?: TrrackedProvenance, answers: Record<string, any> }) => void } ```\n\nparameters is the same object passed in from the ReactComponent type below, allowing you to pass options in from the config to your component. setAnswer is a callback function allowing the creator of the ReactComponent to programmatically set the answer, as well as the provenance graph. This can be useful if you don't use the default answer interface, and instead have something more unique.\n\nSo, for example, if I had the following ReactComponent in my config ```js { type: 'react-component'; path: 'my_study/CoolComponent.tsx'; parameters: {  name: 'Zach';  age: 26; } } ```\n\nMy react component, CoolComponent.tsx, would exist in src/public/my_study/assets, and look something like this\n\n```ts export default function CoolComponent({ parameters, setAnswer }: StimulusParams<{name: string, age: number}>) { // render something } ```\n\nFor in depth examples, see the following studies, and their associated codebases. https://revisit.dev/study/demo-click-accuracy-test (https://github.com/revisit-studies/study/tree/v1.0.0/src/public/demo-click-accuracy-test/assets) https://revisit.dev/study/demo-brush-interactions (https://github.com/revisit-studies/study/tree/v1.0.0/src/public/demo-brush-interactions/assets)",properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the react component. These can be used within your react component to render different things.",type:"object"},path:{description:"The path to the react component. This should be a relative path from the src/public folder.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"react-component",type:"string"}},required:["path","response","type"],type:"object"},RepeatedComponentBlockCondition:{additionalProperties:!1,description:`The RepeatedComponentBlockCondition interface is used to define a SkipCondition based on the number of correct or incorrect repeated components. You might use this if you need to check if an attention check was failed multiple times. This is similar to the [ComponentBlockCondition](../ComponentBlockCondition), but it only checks a specific repeated component.

Here's an example of how to use the RepeatedComponentBlockCondition:

\`\`\`js { ... "skip": [ {   "name": "attentionCheck",   "check": "repeatedComponent",   "condition": "numIncorrect",   "value": 2,   "to": "end" } ] ... } \`\`\`

In this example, when the number of incorrect responses to the repeated component with the name "attentionCheck" is two, the participant will be redirected to the end of the study. If the number of incorrect responses is less than two, the participant will continue to the next component in the sequence.`,properties:{check:{const:"repeatedComponent",description:"The check we'll perform.",type:"string"},condition:{description:"The condition to check.",enum:["numCorrect","numIncorrect"],type:"string"},name:{description:"The name of the repeated component to check (e.g. attentionCheck).",type:"string"},to:{description:"The id of the component or block to skip to",type:"string"},value:{description:"The number of correct or incorrect responses to check for.",type:"number"}},required:["name","check","condition","value","to"],type:"object"},Response:{anyOf:[{$ref:"#/definitions/NumericalResponse"},{$ref:"#/definitions/ShortTextResponse"},{$ref:"#/definitions/LongTextResponse"},{$ref:"#/definitions/LikertResponse"},{$ref:"#/definitions/DropdownResponse"},{$ref:"#/definitions/SliderResponse"},{$ref:"#/definitions/RadioResponse"},{$ref:"#/definitions/CheckboxResponse"},{$ref:"#/definitions/IFrameResponse"}]},ResponseBlockLocation:{enum:["sidebar","aboveStimulus","belowStimulus"],type:"string"},ShortTextResponse:{additionalProperties:!1,description:'The ShortTextResponse interface is used to define the properties of a short text response. ShortTextResponses render as a text input that accepts any text and can optionally have a placeholder.\n\n```js { "id": "q-short-text", "prompt": "Short text example", "required": true, "location": "aboveStimulus", "type": "shortText", "placeholder": "Enter your answer here" } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},placeholder:{description:"The placeholder text that is displayed in the input.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"shortText",type:"string"}},required:["id","prompt","required","type"],type:"object"},SkipConditions:{description:`The SkipConditions interface is used to define skip conditions. This is used to skip to a different component/block based on the response to a component or based on the number of correct/incorrect responses in a block. Skip conditions work recursively: if you have a nested block, the parent blocks' skip conditions will be considered when computing the skip logic.

Skip conditions are evaluated in the order they are defined in the array. If a condition is met, the participant will be redirected to the component or block specified in the \`"to"\` property. If no conditions are met, the participant will continue to the next component in the sequence.

Skip conditions allow you to jump to a different component or block. If you intend to skip to a block, you should specify a block id in the sequence. If you intend to skip to a component, you should specify a component id. Skipping backwards is not supported. Skipping to a repeated component will skip to the first instance of the component after the component that triggered the skip.

Please see the interface definitions for more specific information on the different types of skip conditions.`,items:{anyOf:[{$ref:"#/definitions/IndividualComponentSingleResponseCondition"},{$ref:"#/definitions/IndividualComponentAllResponsesCondition"},{$ref:"#/definitions/ComponentBlockCondition"},{$ref:"#/definitions/RepeatedComponentBlockCondition"}]},type:"array"},SliderResponse:{additionalProperties:!1,description:'The SliderResponse interface is used to define the properties of a slider response. SliderResponses render as a slider input with user specified steps. For example, you could have steps of 0, 50, and 100.\n\nExample: ```js { "id": "q-slider", "prompt": "How are you feeling?", "location": "aboveStimulus", "required": true, "type": "slider", "options": [  {    "label": "Bad",    "value": 0  },  {    "label": "OK",    "value": 50  },  {    "label": "Good",    "value": 100  } ] } ```',properties:{hidden:{description:"Controls whether the response is hidden.",type:"boolean"},id:{description:"The id of the response. This is used to identify the response in the data file.",type:"string"},location:{$ref:"#/definitions/ResponseBlockLocation",description:"Controls the response location. These might be the same for all responses, or differ across responses. Defaults to `belowStimulus`"},options:{description:"This defines the steps in the slider and the extent of the slider as an array of objects that have a label and a value.",items:{$ref:"#/definitions/NumberOption"},type:"array"},paramCapture:{description:"Use to capture querystring parameters in answers such as participant_name. See the examples for how this is used, but prefer uiConfig.urlParticipantIdParam if you are capturing a participant ID.",type:"string"},prompt:{description:"The prompt that is displayed to the participant. You can use markdown here to render images, links, etc.",type:"string"},required:{description:"Controls whether the response is required to be answered.",type:"boolean"},requiredLabel:{description:"You can provide a required label, which makes it so a participant has to answer with a response that matches label.",type:"string"},requiredValue:{description:"You can provide a required value, which makes it so a participant has to answer with that value."},secondaryText:{description:"The secondary text that is displayed to the participant under the prompt. This does not accept markdown.",type:"string"},type:{const:"slider",type:"string"}},required:["id","options","prompt","required","type"],type:"object"},StringOption:{additionalProperties:!1,description:"The StringOption interface is used to define the options for a dropdown, radio, or checkbox response. The label is the text that is displayed to the user, and the value is the value that is stored in the data file.",properties:{label:{description:"The label displayed to participants.",type:"string"},value:{description:"The value stored in the participant's data.",type:"string"}},required:["label","value"],type:"object"},StudyConfig:{additionalProperties:!1,description:'The StudyConfig interface is used to define the properties of a study configuration. This is a JSON object with four main components: the StudyMetadata, the UIConfig, the Components, and the Sequence. Below is the general template that should be followed when constructing a Study configuration file.\n\n```js { "$schema": "https://raw.githubusercontent.com/revisit-studies/study/v1.0.0/src/parser/StudyConfigSchema.json", "studyMetadata": {  ... }, "uiConfig": {  ... }, "components": {  ... }, "sequence": {  ... } } ```\n\n:::info For information about each of the individual pieces of the study configuration file, you can visit the documentation for each one individually. ::: <br/>\n\nThe `$schema` line is used to verify the schema. If you\'re using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration.',properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. The `$schema` line is used to verify the schema. If you're using VSCode (or other similar IDEs), including this line will allow for autocomplete and helpful suggestions when writing the study configuration. See examples for more information",type:"string"},baseComponents:{$ref:"#/definitions/BaseComponents",description:"The base components that are used in the study. These components can be used to template other components. See [BaseComponents](../../type-aliases/BaseComponents) for more information."},components:{additionalProperties:{anyOf:[{$ref:"#/definitions/IndividualComponent"},{$ref:"#/definitions/InheritedComponent"}]},description:"The components that are used in the study. They must be fully defined here with all properties. Some properties may be inherited from baseComponents.",type:"object"},sequence:{$ref:"#/definitions/ComponentBlock",description:"The order of the components in the study. This might include some randomness."},studyMetadata:{$ref:"#/definitions/StudyMetadata",description:"The metadata for the study. This is used to identify the study and version in the data file."},uiConfig:{$ref:"#/definitions/UIConfig",description:"The UI configuration for the study. This is used to configure the UI of the app."}},required:["$schema","studyMetadata","uiConfig","components","sequence"],type:"object"},StudyMetadata:{additionalProperties:!1,description:'The StudyMetadata is used to describe certain properties of a study. Some of this data is displayed on the landing page when running the app, such as the title and description. Below is an example of a StudyMetadata entry in your study configuration file:\n\n```js "studyMetadata" : { "title": "My New Study", "version": "pilot", "authors": [  "Jane Doe",  "John Doe" ], "date": "2024-04-01", "description": "This study is meant to test your ability.", "organizations": [  "The reVISit Team",  "The Other Team" ] } ```',properties:{authors:{description:"The authors of your study.",items:{type:"string"},type:"array"},date:{description:"The date of your study, may be useful for the researcher.",type:"string"},description:{description:"The description of your study, shown on the landing page.",type:"string"},organizations:{description:"The organizations that are associated with your study.",items:{type:"string"},type:"array"},title:{description:"The title of your study, shown on the landing page.",type:"string"},version:{description:"The version of your study. When you change a configuration file after a study has already been distributed to participants, you can change the version number so that the participants who see this new configuration file can be identified.",type:"string"}},required:["title","version","authors","date","description","organizations"],type:"object"},UIConfig:{additionalProperties:!1,description:'The UIConfig is used to configure the UI of the app. This includes the logo, contact email, and whether to show a progress bar. The UIConfig is also used to configure the sidebar, which can be used to display the task instructions and capture responses. Below is an example of how the UI Config would look in your study configuration (note, there are optional fields that are not shown here): ```js uiConfig:{ "contactEmail": "contact@revisit.dev", "helpTextPath": "<study-name>/assets/help.md", "logoPath": "<study-name>/assets/logo.jpg", "withProgressBar": true, "autoDownloadStudy": true "autoDownloadTime": 5000, "studyEndMsg": "Thank you for completing this study. You\'re the best!", "sidebar": true, "windowEventDebounceTime": 500, "urlParticipantIdParam": "PROLIFIC_ID", "numSequences": 500 } ``` In the above, the `path/to/assets/` path is referring to the path to your individual study assets. It is common practice to have your study directory contain an `assets` directory where all components and images relevant to your study reside. Note that this path is relative to the `public` folder of the repository - as is all other paths you define in reVISit (aside from React components whose paths are relative to `src/public`.)',properties:{autoDownloadStudy:{description:"Controls whether the study data is automatically downloaded at the end of the study.",type:"boolean"},autoDownloadTime:{description:"The time in milliseconds to wait before automatically downloading the study data.",type:"number"},contactEmail:{description:"The email address that used during the study if a participant clicks contact.",type:"string"},enumerateQuestions:{description:"Whether to prepend questions with their index (+ 1). This should only be used when all questions are in the same location, e.g. all are in the side bar.",type:"boolean"},helpTextPath:{description:"The path to the help text file. This is displayed when a participant clicks help. Markdown is supported.",type:"string"},logoPath:{description:"The path to the logo image. This is displayed on the landing page and the header.",type:"string"},numSequences:{description:"The number of sequences to generate for the study. This is used to generate the random sequences for the study. The default is 1000.",type:"number"},sidebar:{description:"Controls whether the left sidebar is rendered at all. Required to be true if your response's location is set to sidebar for any question.",type:"boolean"},sidebarWidth:{description:"The width of the left sidebar. Defaults to 300.",type:"number"},studyEndMsg:{description:"The message to display when the study ends.",type:"string"},urlParticipantIdParam:{description:"If the participant ID is passed in the URL, this is the name of the querystring parameter that is used to capture the participant ID (e.g. PROLIFIC_ID). This will allow a user to continue a study on different devices and browsers.",type:"string"},windowEventDebounceTime:{description:"Debounce time in milliseconds for automatically tracked window events. Defaults to 100. E.g 100 here means 1000ms / 100ms = 10 times a second, 200 here means 1000ms / 200ms = 5 times per second",type:"number"},withProgressBar:{description:"Controls whether the progress bar is rendered in the study.",type:"boolean"}},required:["contactEmail","logoPath","withProgressBar","sidebar"],type:"object"},WebsiteComponent:{additionalProperties:!1,description:'The WebsiteComponent interface is used to define the properties of a website component. A WebsiteComponent is used to render an iframe with a website inside of it. This can be used to display an external website or an html file that is located in the public folder.\n\n```js { "type": "website", "path": "<study-name>/assets/website.html", } ```\n\nTo pass a data from the config to the website, you can use the `parameters` field as below:\n\n```js { "type": "website", "path": "<study-name>/website.html", "parameters": {  "barData": [0.32, 0.01, 1.2, 1.3, 0.82, 0.4, 0.3] } "response": [  {    "id": "barChart",    "prompt": "Your selected answer:",    "required": true,    "location": "belowStimulus",    "type": "iframe"  } ], } ``` In the `website.html` file, by including `revisit-communicate.js`, you can use the `Revisit.onDataReceive` method to retrieve the data, and `Revisit.postAnswers` to send the user\'s responses back to the reVISit as shown in the example below:\n\n```html <script src="../../revisitUtilities/revisit-communicate.js"><\/script> <script> Revisit.onDataReceive((data) => {  const barData = data[\'barData\'];  ... });\n\n// Call out that \'barChart\' needs to match ID in \'response\' object Revisit.postAnswers({ barChart: userAnswer }); <\/script> ```\n\n If the html website implements Trrack library for provenance tracking, you can send the provenance graph back to reVISit by calling `Revisit.postProvenanceGraph` as shown in the example below. You need to call this each time the Trrack state is updated so that reVISit is kept aware of the changes in the provenance graph.\n\n```js const trrack = initializeTrrack({ initialState, registry });\n\n... Revisit.postProvenance(trrack.graph.backend); ```',properties:{correctAnswer:{description:"The correct answer to the component. This is used for training trials where the user is shown the correct answer after a guess.",items:{$ref:"#/definitions/Answer"},type:"array"},description:{description:"The description of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instruction:{description:"The instruction of the component. This is used to identify and provide additional information for the component in the admin panel.",type:"string"},instructionLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the instructions."},meta:{additionalProperties:{},description:"The meta data for the component. This is used to identify and provide additional information for the component in the admin panel.",type:"object"},nextButtonLocation:{$ref:"#/definitions/ResponseBlockLocation",description:"The location of the next button."},nextButtonText:{description:"The text that is displayed on the next button.",type:"string"},parameters:{additionalProperties:{},description:"The parameters that are passed to the website (iframe). These can be used within your website to render different things.",type:"object"},path:{description:"The path to the website. This should be a relative path from the public folder or could be an external website.",type:"string"},provideFeedback:{description:"Controls whether the component should provide feedback to the participant, such as in a training trial. If not provided, the default is false.",type:"boolean"},response:{description:"The responses to the component",items:{$ref:"#/definitions/Response"},type:"array"},type:{const:"website",type:"string"}},required:["path","response","type"],type:"object"}},EOt={$ref:bOt,$schema:_Ot,definitions:wOt},xOt="#/definitions/GlobalConfig",TOt="http://json-schema.org/draft-07/schema#",SOt={GlobalConfig:{additionalProperties:!1,description:"The GlobalConfig is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",properties:{$schema:{description:"A required json schema property. This should point to the github link for the version of the schema you would like. See examples in the public folder for more information",type:"string"},configs:{additionalProperties:{additionalProperties:!1,description:"The key is used to identify the study config file. This key is used in the configList property.",properties:{path:{description:"The path to the study config file. This should be a relative path from the public folder.",type:"string"},test:{description:"Indicates whether the study is a test study. This is used to hide the study from the landing page.",type:"boolean"}},required:["path"],type:"object"},description:"A required property that specifies the options for the configList property.",type:"object"},configsList:{description:"A required property that is used to generate the list of available studies in the UI. This list is displayed on the landing page when running the app.",items:{type:"string"},type:"array"}},required:["$schema","configs","configsList"],type:"object"}},COt={$ref:xOt,$schema:TOt,definitions:SOt},aTe=new sTe;aTe.addSchema(COt);const Ase=aTe.getSchema("#/definitions/GlobalConfig"),uTe=new sTe;uTe.addSchema(EOt);const U6=uTe.getSchema("#/definitions/StudyConfig");function AOt(e){const t=[];return[e.configsList.every(r=>e.configs[r]===void 0?(t.push({message:`Config ${r} is not defined in configs object, but is present in configsList`}),!1):!0),t]}function lO(e){return e.baseComponent!==void 0}function IOt(e){const t=BH.parse(e),n=Ase(t),r=AOt(t);if(n&&r[0])return t;throw console.error("Global config parsing errors",[...Ase.errors||[],...r[1]]),Error("There was an issue validating your file global.json")}function lTe(e,t,n=[]){if(e.components.length===0){n.push({message:"Sequence has an empty components array",instancePath:"/sequence/",params:{action:"remove empty components block"}});return}e.id&&t.map((i,o)=>i===e.id?o:null).forEach(i=>{i!==null&&t.splice(i,1)}),e.components.forEach(r=>{typeof r=="string"?t.includes(r)&&t.map((o,s)=>o===r?s:null).forEach(o=>{o!==null&&t.splice(o,1)}):lTe(r,t,n)}),e.skip&&t.push(...e.skip.map(r=>r.to).filter(r=>r!=="end"))}function kOt(e){const t=[],n=[];Object.entries(e.components).forEach(([o,s])=>{var a;lO(s)&&!((a=e.baseComponents)!=null&&a[s.baseComponent])&&t.push({message:`Base component \`${s.baseComponent}\` is not defined in baseComponents object`,instancePath:`/components/${o}`,params:{action:"add the base component to the baseComponents object"}})});const r=yve(e.sequence);r.forEach(o=>{var s;e.components[o]||t.push({message:(s=e.baseComponents)!=null&&s[o]?`Component \`${o}\` is a base component and cannot be used in the sequence`:`Component \`${o}\` is not defined in components object`,instancePath:"/sequence/",params:{action:"add the component to the components object"}})}),Object.keys(e.components).filter(o=>!r.includes(o)).forEach(o=>{n.push({message:`Component \`${o}\` is defined in components object but not used in the sequence`,instancePath:"/components/",params:{action:"remove the component from the components object or add it to the sequence"}})});const i=[];return lTe(e.sequence,i),i.forEach(o=>{t.push({message:`Skip target \`${o}\` does not occur after the skip block it is used in`,instancePath:"/sequence/",params:{action:"add the target to the sequence after the skip block"}})}),{errors:t,warnings:n}}function ROt(e){let t=!1,n;try{n=BH.parse(e),t=U6(n)}catch{t=!1}let r=[],i=[];if(t){const{errors:o,warnings:s}=kOt(n);r=[...U6.errors||[],...o],i=s}else r=U6.errors||[{message:"There was an issue validating your config file",instancePath:"root",params:{action:"fix the errors in your file or make sure the global config references the right file path"}}];return{...n,errors:r,warnings:i}}function cTe(){const e=rg(),{setAlertModal:t}=Wh(),n=Gh();I.useEffect(()=>{window.history.pushState(null,"",window.location.href),window.onpopstate=()=>{window.history.pushState(null,"",window.location.href),n(t({show:!0,message:"Using the browser's back button is prohibited during the study."}))}},[e,t,n])}var Ise=Object.prototype.hasOwnProperty;function kse(e,t,n){for(n of e.keys())if(Zx(n,t))return n}function Zx(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Zx(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=kse(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=kse(t,i),!i)||!Zx(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Ise.call(e,n)&&++r&&!Ise.call(t,n)||!(n in t)||!Zx(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function POt(e){var t=I.useRef(e),n=I.useRef(0);return Zx(e,t.current)||(t.current=e,n.current+=1),I.useMemo(function(){return t.current},[n.current])}function NOt(e,t){return I.useEffect(e,POt(t))}const DOt=(e,t=null)=>{const[n,r]=I.useState("idle"),[i,o]=I.useState(null),[s,a]=I.useState(null),u=I.useRef(),l=I.useRef(!1);I.useEffect(()=>(l.current=!0,()=>{l.current=!1}),[]);const c=I.useCallback((...f)=>{r("pending"),a(null);const d=Promise.resolve(e(...f)).then(h=>(l.current&&d===u.current&&(o(h),r("success")),h)).catch(h=>{throw l.current&&d===u.current&&(o(null),a(h),r("error")),h});return u.current=d,d},[e]);return NOt(()=>{if(t)try{c(...t)}catch{}},[c,t]),{execute:c,status:n,value:i,error:s}},Rse=["status","percentComplete","description","instruction","responsePrompt","answer","correctAnswer","responseMin","responseMax","startTime","endTime","duration","meta","configHash"],fTe=["participantId","trialId","trialOrder","responseId"];function Xq(e,t){const n=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),document.body.appendChild(r),r.click(),r.remove()}function $Ot(e,t,n){const r=(Object.entries(e.answers).filter(([i,o])=>o.endTime!==void 0).length/(Y0(e.sequence).length-1)*100).toFixed(2);return Object.entries(e.answers).map(([i,o])=>{const s=i.split("_").slice(0,-1).join("_"),a=parseInt(`${i.split("_").at(-1)}`,10),u=n.components[s],l=lO(u)&&u.baseComponent&&n.baseComponents?Kz({},n.baseComponents[u.baseComponent],u):u,c=o.endTime-o.startTime;return Object.entries(o.answer).map(([d,h])=>{var g,y;const p={participantId:e.participantId,trialId:s,trialOrder:a,responseId:d},m=l.response.find(v=>v.id===d);if(t.includes("status")&&(p.status=e.rejected?"rejected":e.completed?"completed":"in progress"),t.includes("configHash")&&(p.configHash=e.participantConfigHash),t.includes("percentComplete")&&(p.percentComplete=r),t.includes("description")&&(p.description=l.description),t.includes("instruction")&&(p.instruction=l.instruction),t.includes("responsePrompt")&&(p.responsePrompt=m==null?void 0:m.prompt),t.includes("answer")&&(p.answer=h),t.includes("correctAnswer")){const v=(y=(g=l.correctAnswer)==null?void 0:g.find(b=>b.id===d))==null?void 0:y.answer;p.correctAnswer=typeof v=="object"?JSON.stringify(v):v}return t.includes("responseMin")&&(p.responseMin=(m==null?void 0:m.type)==="numerical"?m.min:void 0),t.includes("responseMax")&&(p.responseMax=(m==null?void 0:m.type)==="numerical"?m.max:void 0),t.includes("startTime")&&(p.startTime=new Date(o.startTime).toISOString()),t.includes("endTime")&&(p.endTime=new Date(o.endTime).toISOString()),t.includes("duration")&&(p.duration=c),t.includes("meta")&&(p.meta=JSON.stringify(l.meta,null,2)),p}).flat()}).flat()}async function OOt(e,t,n,r){if(!n)return{header:[],rows:[]};const i=[...fTe,...e],o=[...new Set(t.map(c=>c.participantConfigHash))],s=await n.getAllConfigsFromHash(o,r),a=i,l=(await Promise.all(t.map(async c=>await $Ot(c,i,s[c.participantConfigHash])))).flat().sort((c,f)=>c!==f?c.participantId.localeCompare(f.participantId):c.trialOrder-f.trialOrder);return{header:a,rows:l}}function MOt({opened:e,close:t,filename:n,data:r,studyId:i}){const[o,s]=I.useState([...Rse].filter(h=>h!=="meta")),a=bo(),{value:u,status:l,error:c}=DOt(OOt,[o,r,a.storageEngine,i]),f=I.useCallback(()=>{if(!u)return;const h=[u.header.join(","),...u.rows.map(p=>u.header.map(m=>p[m]).join(","))].join(`
`);Xq(h,n)},[n,u]),d=I.useMemo(()=>{if(!u)return"";const h=u.rows.length>5?5:u.rows.length,p=h===1?"":"s";return`This is a preview of the first ${p?h:""} row${p} of the CSV. The full CSV contains ${u.rows.length} row${p}.`},[u]);return T.jsxs(no,{opened:e,size:"90%",onClose:t,title:"Tidy CSV Exporter",centered:!0,withCloseButton:!1,children:[T.jsx(ZU,{searchable:!0,nothingFoundMessage:"Property not found",data:[...Rse],value:o,onChange:h=>s(h),label:"Included optional columns:",leftSection:T.jsx(JUe,{}),variant:"filled"}),T.jsx(xl,{h:"md"}),T.jsxs(Ce,{mih:300,style:{width:"100%",overflow:"scroll"},children:[l==="success"&&u?T.jsxs(An,{striped:!0,captionSide:"bottom",withTableBorder:!0,children:[T.jsx(An.Thead,{children:T.jsx(An.Tr,{children:u.header.map(h=>T.jsx(An.Th,{style:{whiteSpace:"nowrap",minWidth:["description","instruction","participantId"].includes(h)?200:void 0},children:T.jsxs(Zt,{direction:"row",justify:"space-between",align:"center",children:[h,!fTe.includes(h)&&T.jsx(xm,{onClick:()=>s(o.filter(p=>p!==h)),style:{marginBottom:-3,marginLeft:8},variant:"subtle",color:"gray",children:T.jsx(Ez,{size:16})})]})},h))})}),T.jsx(An.Tbody,{children:u.rows.slice(0,5).map((h,p)=>T.jsx(An.Tr,{children:u.header.map(m=>T.jsx(An.Td,{style:{whiteSpace:["description","instruction","participantId"].includes(m)?"normal":"nowrap"},children:h[m]},`${p}-${m}`))},p))})]}):l==="error"&&c?T.jsx(eC,{variant:"light",children:c.message}):null,T.jsx(Vu,{visible:l==="pending"||l==="idle"})]}),T.jsx(xl,{h:"sm"}),T.jsx(Zt,{justify:"center",fz:"sm",c:"dimmed",children:T.jsx(Tt,{children:d})}),T.jsx(xl,{h:"md"}),T.jsxs(zu,{justify:"right",children:[T.jsx(Xn,{onClick:t,color:"dark",variant:"subtle",children:"Close"}),T.jsx(Xn,{leftSection:T.jsx(E0e,{}),onClick:()=>f(),"data-autofocus":!0,children:"Download"})]})]})}function LOt(){const e=K0(),{storageEngine:t}=bo(),{answers:n}=Hc(v=>v),[r,i]=I.useState(!1);I.useEffect(()=>{const v=setInterval(async()=>{await t.verifyCompletion(n)&&(i(!0),clearInterval(v))},1e3)},[]),cTe();const[o,s]=I.useState(),[a,u]=I.useState(""),l=e.studyMetadata.title.replace(" ","_");I.useEffect(()=>{async function v(){if(t){const b=await t.getCurrentParticipantId(),_=await t.getParticipantData();u(b),s(_)}}v()},[t]);const c=I.useCallback(async()=>{Xq(JSON.stringify(o,null,2),`${l}_${a}.json`)},[l,o,a]),f=e.uiConfig.autoDownloadStudy||!1,d=f&&e.uiConfig.autoDownloadTime||-1,[h,p]=I.useState(Math.floor(d/1e3));I.useEffect(()=>{if(r){const v=setInterval(()=>{p(b=>b-1)},1e3);return h<=0?(f&&c(),clearInterval(v),()=>clearInterval(v)):()=>clearInterval(v)}return()=>{}},[f,r,h,c]);const m=gC(),[g,y]=I.useState(!1);return I.useEffect(()=>{(async()=>{if(t){const b=await t.getModes(m);y(b.dataCollectionEnabled)}})()},[t,m]),T.jsx(FT,{style:{height:"100%"},children:T.jsx(Zt,{direction:"column",children:r||!g?T.jsx(Tt,{size:"xl",display:"block",children:e.uiConfig.studyEndMsg?T.jsx(va,{text:e.uiConfig.studyEndMsg}):"Thank you for completing the study. You may close this window now."}):T.jsxs(T.Fragment,{children:[T.jsx(Tt,{size:"xl",display:"block",children:"Please wait while your answers are uploaded."}),T.jsx(xl,{h:"lg"}),T.jsx(FT,{children:T.jsx(Ly,{color:"blue"})})]})})})}function FOt(){var d;const e=K0(),t=rg(),n=qy()||"Notfound",r=e.components[n],i=Qz();cTe();const{storageEngine:o}=bo(),s=Gh(),{setAlertModal:a}=Wh();if(I.useEffect(()=>{(o==null?void 0:o.getEngine())!=="firebase"&&s(a({show:!0,message:"There was an issue connecting to the firebase database. This could be caused by a network issue or your adblocker. If you are using an adblocker, please disable it for this website and refresh."}))},[a,o,s]),n==="end")return T.jsx(LOt,{});if(n==="Notfound")return T.jsx(X0,{email:e.uiConfig.contactEmail});const u=lO(r)&&e.baseComponents?Kz({},(d=e.baseComponents)==null?void 0:d[r.baseComponent],r):r,l=u.instruction||"",{instructionLocation:c}=u,f=e.uiConfig.sidebar&&(c==="sidebar"||c===void 0);return T.jsxs(T.Fragment,{children:[c==="aboveStimulus"&&T.jsx(va,{text:l}),T.jsx(LR,{status:i,config:u,location:"aboveStimulus"},`${t}-above-response-block`),T.jsxs(I.Suspense,{fallback:T.jsx("div",{children:"Loading..."}),children:[u.type==="markdown"&&T.jsx(sPt,{currentConfig:u}),u.type==="website"&&T.jsx(ZQe,{currentConfig:u}),u.type==="image"&&T.jsx(tJe,{currentConfig:u}),u.type==="react-component"&&T.jsx(oPt,{currentConfig:u})]},`${t}-stimulus`),(c==="belowStimulus"||c===void 0&&!f)&&T.jsx(va,{text:l}),T.jsx(LR,{status:i,config:u,location:"belowStimulus"},`${t}-below-response-block`)]})}function p9(e){const[t]=_z();return T.jsx(bz,{...e,to:{pathname:e.to,search:t.toString()}})}var jOt="Expected a function",Pse=NaN,BOt="[object Symbol]",UOt=/^\s+|\s+$/g,zOt=/^[-+]0x[0-9a-f]+$/i,VOt=/^0b[01]+$/i,HOt=/^0o[0-7]+$/i,qOt=parseInt,WOt=typeof ki=="object"&&ki&&ki.Object===Object&&ki,GOt=typeof self=="object"&&self&&self.Object===Object&&self,YOt=WOt||GOt||Function("return this")(),KOt=Object.prototype,XOt=KOt.toString,QOt=Math.max,JOt=Math.min,z6=function(){return YOt.Date.now()};function ZOt(e,t,n){var r,i,o,s,a,u,l=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(jOt);t=Nse(t)||0,m9(n)&&(c=!!n.leading,f="maxWait"in n,o=f?QOt(Nse(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(S){var E=r,C=i;return r=i=void 0,l=S,s=e.apply(C,E),s}function p(S){return l=S,a=setTimeout(y,t),c?h(S):s}function m(S){var E=S-u,C=S-l,A=t-E;return f?JOt(A,o-C):A}function g(S){var E=S-u,C=S-l;return u===void 0||E>=t||E<0||f&&C>=o}function y(){var S=z6();if(g(S))return v(S);a=setTimeout(y,m(S))}function v(S){return a=void 0,d&&r?h(S):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function _(){return a===void 0?s:v(z6())}function w(){var S=z6(),E=g(S);if(r=arguments,i=this,u=S,E){if(a===void 0)return p(u);if(f)return a=setTimeout(y,t),h(u)}return a===void 0&&(a=setTimeout(y,t)),s}return w.cancel=b,w.flush=_,w}function m9(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function eMt(e){return!!e&&typeof e=="object"}function tMt(e){return typeof e=="symbol"||eMt(e)&&XOt.call(e)==BOt}function Nse(e){if(typeof e=="number")return e;if(tMt(e))return Pse;if(m9(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=m9(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(UOt,"");var n=VOt.test(e);return n||HOt.test(e)?qOt(e.slice(2),n?2:8):zOt.test(e)?Pse:+e}var nMt=ZOt;const Id=gn(nMt);function rMt(e,t,n,r){e==null||e.nextParticipant().then(()=>{window.location.href=r}).catch(i=>{console.error(i)})}function iMt({studyNavigatorEnabled:e,dataCollectionEnabled:t}){const{config:n,metadata:r}=Hc(w=>w),i=Yz(),o=Gh(),{toggleShowHelpText:s,toggleStudyBrowser:a}=Wh(),{storageEngine:u}=bo(),l=rg(),c=i.length-1,f=typeof l=="number"?l/c*100:0,[d,h]=I.useState(!1),p=n==null?void 0:n.uiConfig.logoPath,m=n==null?void 0:n.uiConfig.withProgressBar,g=gC(),y=hUe(`/${g}`),v=I.useRef(null),[b,_]=I.useState(!1);return I.useEffect(()=>{const w=v.current;w&&_(w.scrollWidth>w.offsetWidth)},[n]),T.jsx(Ri.Header,{p:"md",children:T.jsxs(yl,{mt:-7,align:"center",children:[T.jsx(yl.Col,{span:4,children:T.jsxs(Zt,{align:"center",children:[T.jsx(Zm,{w:40,src:`${od}${p}`,alt:"Study Logo"}),T.jsx(xl,{w:"md"}),T.jsx(yi,{ref:v,order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:b?n==null?void 0:n.studyMetadata.title:void 0,children:n==null?void 0:n.studyMetadata.title})]})}),T.jsx(yl.Col,{span:4,children:m&&T.jsx($_,{radius:"md",size:"lg",value:f})}),T.jsx(yl.Col,{span:4,children:T.jsxs(zu,{wrap:"nowrap",justify:"right",children:[!t&&T.jsx(uo,{multiline:!0,withArrow:!0,arrowSize:6,w:300,label:"This is a demo version of the study, were not collecting any data.",children:T.jsx(x0,{size:"lg",color:"orange",children:"Demo Mode"})}),(n==null?void 0:n.uiConfig.helpTextPath)!==void 0&&T.jsx(Xn,{variant:"outline",onClick:()=>o(s()),children:"Help"}),T.jsxs(Ba,{shadow:"md",width:200,withinPortal:!0,opened:d,onChange:h,children:[T.jsx(Ba.Target,{children:T.jsx(xm,{size:"lg",className:"studyBrowserMenuDropdown",variant:"subtle",color:"gray",children:T.jsx(KUe,{})})}),T.jsxs(Ba.Dropdown,{children:[e&&T.jsx(Ba.Item,{leftSection:T.jsx(nze,{size:14}),onClick:()=>o(a()),children:"Study Browser"}),T.jsx(Ba.Item,{component:"a",href:n!==null?`mailto:${n.uiConfig.contactEmail}`:void 0,leftSection:T.jsx(ZUe,{size:14}),children:"Contact"}),e&&T.jsx(Ba.Item,{leftSection:T.jsx(T0e,{size:14}),onClick:()=>rMt(u,n,r,y),children:"Next Participant"})]})]})]})})]})})}function oMt(){var u;const e=(u=K0())==null?void 0:u.uiConfig.sidebar,t=K0(),n=qy(),r=t.components[n],i=I.useMemo(()=>{var l;return r?lO(r)&&t.baseComponents?Kz({},(l=t.baseComponents)==null?void 0:l[r.baseComponent],r):r:null},[r,t.baseComponents]),o=Qz(),s=(i==null?void 0:i.instruction)||"",a=(i==null?void 0:i.instructionLocation)==="sidebar"||(i==null?void 0:i.instructionLocation)===void 0;return e&&i?T.jsxs(Ri.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:[a&&s!==""&&T.jsx(Ri.Section,{bg:"gray.3",p:"md",children:T.jsxs(Tt,{c:"gray.9",children:[T.jsx(Tt,{span:!0,c:"orange.8",fw:700,inherit:!0,children:"Task:"}),T.jsx(va,{text:s})]})}),T.jsx(Ri.Section,{p:"md",children:T.jsx(LR,{status:o,config:i,location:"sidebar"},`${n}-sidebar-response-block`)})]}):T.jsx(Ri.Navbar,{bg:"gray.1",display:"block",style:{zIndex:0,overflowY:"scroll"},children:T.jsx(LR,{status:o,config:i,location:"sidebar",style:{display:"hidden"}},`${n}-sidebar-response-block`)})}function sMt(){const{showHelpText:e,config:t}=Hc(u=>u),n=Gh(),{toggleShowHelpText:r}=Wh(),[i,o]=I.useState(""),[s,a]=I.useState(!0);return I.useEffect(()=>{async function u(){const l=await Zz(t.uiConfig.helpTextPath);l!==void 0&&o(l),a(!1)}u()},[t.uiConfig.helpTextPath]),T.jsx(no,{size:"70%",opened:e,withCloseButton:!1,onClose:()=>n(r()),children:s||i?T.jsx(va,{text:i}):T.jsx(X0,{path:t.uiConfig.helpTextPath})})}function aMt(){const{alertModal:e}=Hc(s=>s),{setAlertModal:t}=Wh(),n=Gh(),[r,i]=I.useState(e.show),o=I.useCallback(()=>n(t({...e,show:!1})),[e,t,n]);return I.useEffect(()=>i(e.show),[e.show]),T.jsx(no,{opened:r,centered:!0,size:"lg",withCloseButton:!1,onClose:o,children:T.jsxs(eC,{color:"red",radius:"xs",title:"Alert",icon:T.jsx(VUe,{}),onClose:o,styles:{root:{backgroundColor:"unset"}},children:[T.jsx(Tt,{my:"md",children:e.message}),T.jsx(zu,{w:"100%",justify:"end",children:T.jsx(Xn,{onClick:o,color:"red",variant:"filled",m:"xs",children:"Continue Study"})})]})})}function uMt(){const e=I.useRef([]),t=K0(),n=t.uiConfig.windowEventDebounceTime??100,r=Hc(d=>d.showStudyBrowser);I.useEffect(()=>{const d=Id(w=>{e.current.push([Date.now(),"focus",w.target instanceof HTMLElement?w.target.tagName:""])},n,{maxWait:n}),h=Id(w=>{e.current.push([Date.now(),"input",w.data??""])},n,{maxWait:n}),p=Id(w=>{e.current.push([Date.now(),"keypress",w.key])},n,{maxWait:n}),m=Id(w=>{e.current.push([Date.now(),"mousedown",[w.clientX,w.clientY]])},n,{maxWait:n}),g=Id(w=>{e.current.push([Date.now(),"mouseup",[w.clientX,w.clientY]])},n,{maxWait:n}),y=Id(()=>{e.current.push([Date.now(),"resize",[window.innerWidth,window.innerHeight]])},n,{maxWait:n}),v=Id(w=>{e.current.push([Date.now(),"mousemove",[w.clientX,w.clientY]])},n,{maxWait:n}),b=Id(()=>{e.current.push([Date.now(),"scroll",[window.scrollX,window.scrollY]])},n,{maxWait:n}),_=Id(()=>{e.current.push([Date.now(),"visibility",document.visibilityState])},n,{maxWait:n});return window.addEventListener("focus",d,!0),window.addEventListener("input",h),window.addEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.addEventListener("resize",y),window.addEventListener("mousemove",v),window.addEventListener("scroll",b),document.addEventListener("visibilitychange",_),()=>{window.removeEventListener("focus",d,!0),window.removeEventListener("input",h),window.removeEventListener("keypress",p),window.addEventListener("mousedown",m),window.addEventListener("mouseup",g),window.removeEventListener("resize",y),window.removeEventListener("mousemove",v),window.removeEventListener("scroll",b),document.removeEventListener("visibilitychange",_)}},[]);const i=t.uiConfig.sidebarWidth??300,{storageEngine:o}=bo(),s=gC(),[a,u]=I.useState(!1),[l,c]=I.useState(!1);I.useEffect(()=>{(async()=>{if(o){const h=await o.getModes(s);u(h.studyNavigatorEnabled),c(h.dataCollectionEnabled)}})()},[o,s]);const f=I.useMemo(()=>a&&r,[a,r]);return T.jsx(xve.Provider,{value:e,children:T.jsxs(Ri,{padding:"md",header:{height:70},navbar:{width:i,breakpoint:"xs",collapsed:{desktop:!t.uiConfig.sidebar,mobile:!t.uiConfig.sidebar}},aside:{width:360,breakpoint:"xs",collapsed:{desktop:!f,mobile:!f}},children:[T.jsx(oMt,{}),T.jsx(iMt,{studyNavigatorEnabled:a,dataCollectionEnabled:l}),T.jsx(sMt,{}),T.jsx(aMt,{}),T.jsx(Ri.Main,{children:T.jsx(kUe,{})})]})})}function lMt(e,t=!1){return typeof e=="number"?Dse(e,t):Dse(e.length,t).map(r=>r.map(i=>e[i]))}function Dse(e,t){if(e<0)throw new Error("Latin square size must be > 0");if(e==0)return[];if(e==1)return[[0]];let n=new Array(e);for(let o=0;o<e;o++)o<2?n[o]=o:o%2==0?n[o]=e-o/2:n[o]=Math.floor(o/2)+1;let r=[n],i=n;for(let o=1;o<e;o+=1){let s=i.map(a=>(a+1)%e);r.push(s),i=s}if(t&&e%2>0)for(let o=0;o<e;o+=1)r.push(r[o].slice().reverse());return r}function dTe(e,t,n){let r=e.components;e.order==="random"?r=e.components.sort(()=>.5-Math.random()):e.order==="latinSquare"&&t&&(r=t[n].pop().map(i=>i.startsWith("_componentBlock")?e.components[+i.slice(15)]:i)),r=r.slice(0,e.numSamples);for(let i=0;i<r.length;i+=1){const o=r[i];if(typeof o!="string"&&!Array.isArray(o)){const s=e.components.indexOf(o);r[i]=dTe(o,t,`${n}-${s}`)}}return e.interruptions&&e.interruptions.forEach(i=>{const o=[];if(i.spacing!=="random")for(let s=0;s<r.length;s+=1)(s===i.firstLocation||s>i.firstLocation&&s%i.spacing===0)&&o.push(i.components),o.push(r[s]);if(i.spacing==="random"){const s=new Set;if(i.numInterruptions>r.length-1)throw new Error("Number of interruptions cannot be greater than the number of components");for(;s.size<i.numInterruptions;){const l=Math.floor(Math.random()*r.length-1)+1;s.add(l)}const a=Array.from(s).sort((l,c)=>l-c);let u=0;for(let l=0;l<r.length;l+=1)l===a[u]&&(o.push(i.components),u+=1),o.push(r[l])}r=o}),{id:e.id,orderPath:n,components:r.flat(),skip:e.skip}}function cMt(e,t){const n=Xz(e);return dTe(n,t,"root")}function hTe(e,t,n,r=0){const i=n.length>0?`${n}-${r}`:"root";e.order==="latinSquare"&&t.push(i),e.components.forEach((o,s)=>{typeof o!="string"&&hTe(o,t,i,s)})}function fMt(e){const t=[];return hTe(e,t,"",0),t}function $se(e,t){const n=t.split("-");let r={};n.forEach(s=>{s==="root"?r=e.sequence:r=r.components[+s]});const i=r.components.map((s,a)=>typeof s=="string"?s:`_componentBlock${a}`);return lMt(i.sort(()=>.5-Math.random()),!0)}function dMt(e){const n=fMt(e.sequence).map(o=>({[o]:$se(e,o)})).reduce((o,s)=>({...o,...s}),{}),r=e.uiConfig.numSequences||1e3,i=[];return Array.from({length:r}).forEach(()=>{const o=cMt(e.sequence,n);o.components.push("end"),i.push(o),Object.entries(n).forEach(([s,a])=>{a.length===0&&(n[s]=$se(e,s))})}),i}var hMt={VITE_BASE_PATH:"/revisit_study/",VITE_FIREBASE_CONFIG:`
{
  apiKey: "AIzaSyAJ-0YQ0RmvMmasIiWqjJJy5wYE1_NPxcg",
  authDomain: "complexity-study.firebaseapp.com",
  projectId: "complexity-study",
  storageBucket: "complexity-study.appspot.com",
  messagingSenderId: "469647865113",
  appId: "1:469647865113:web:58f0c2a373c25ac300c188",
}
`,VITE_STORAGE_ENGINE:"firebase",VITE_RECAPTCHAV3TOKEN:"6LevDyAqAAAAADnS8blPjlwdJFlE-tec65g9WvwZ",BASE_URL:"/revisit_study/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};async function pMt(e){const t=await(await fetch(`${od}${e}`)).text();return ROt(t)}async function cO(e,t){const n=t.configsList.find(r=>S0e(r)===e);if(n){const r=t.configs[n];return await pMt(`${r.path}`)}return null}async function mMt(e){const t={},n=e.configsList.filter(i=>hMt.VITE_CI==="true"?!0:!e.configs[i].test).map(async i=>cO(i,e)),r=await Promise.all(n);return e.configsList.forEach((i,o)=>{t[i]=r[o]}),t}function gMt({globalConfig:e}){const t=gC(),[n,r]=I.useState(null),i=e.configsList.includes(t);I.useEffect(()=>{cO(t,e).then(h=>{r(h)})},[e,t]);const[o,s]=I.useState([]),[a,u]=I.useState(null),{storageEngine:l}=bo(),[c]=_z();I.useEffect(()=>{async function h(){if(!l||!n||!t)return;await l.initializeStudyDb(t,n),await l.getSequenceArray()||await l.setSequenceArray(await dMt(n));const m=n.uiConfig.urlParticipantIdParam&&c.get(n.uiConfig.urlParticipantIdParam)||void 0,g=Object.fromEntries(c.entries()),y=await fetch("https://api.ipify.org?format=json").catch(S=>""),v=y instanceof Response?await y.json():{ip:""},b={language:navigator.language,userAgent:navigator.userAgent,resolution:{width:window.screen.width,height:window.screen.height,availHeight:window.screen.availHeight,availWidth:window.screen.availWidth,colorDepth:window.screen.colorDepth,orientation:window.screen.orientation.type,pixelDepth:window.screen.pixelDepth},ip:v.ip},_=await l.initializeParticipantSession(t,g,n,b,m),w=await yQe(t,n,_.sequence,b,_.answers);u(w),s([{element:T.jsx(uMt,{}),children:[{path:"/",element:T.jsx(p9,{to:"0",replace:!0})},{path:"/:index",element:n.errors.length>0?T.jsxs(T.Fragment,{children:[T.jsx(yi,{order:2,mb:8,children:"Error loading config"}),T.jsx(Y5,{issues:n.errors,type:"error"})]}):T.jsx(FOt,{})}]}])}h()},[l,n,t,c]);const f=g0e(o);let d=null;return i?o.length===0?d=T.jsx(Vu,{visible:!0}):d=f&&a?T.jsx(Eve.Provider,{value:a,children:T.jsx(fXe,{store:a.store,children:f})}):T.jsx(X0,{}):d=T.jsx(X0,{}),d}const pTe=I.createContext({user:{user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},logout:async()=>{},triggerAuth:()=>{},verifyAdminStatus:()=>Promise.resolve(!1)}),tv=()=>I.useContext(pTe);function yMt({children:e}){const t={user:null,determiningStatus:!0,isAdmin:!1,adminVerification:!1},n={user:null,determiningStatus:!1,isAdmin:!1,adminVerification:!1},r={user:{name:"fakeName",email:"fakeEmail@fake.com",uid:"fakeUid"},determiningStatus:!1,isAdmin:!0,adminVerification:!0},[i,o]=I.useState(t),[s,a]=I.useState(!1),{storageEngine:u}=bo(),l=async()=>{const h=hP();try{await Mkt(h)}catch(p){console.error(`There was an issue signing-out the user: ${p.message}`)}finally{o(n)}},c=()=>{a(!0)},f=async h=>u?await u.validateUser(h):!1;I.useEffect(()=>{o(t);let h;if(u instanceof Tu)try{h=hP()}catch{console.warn("No firebase store.")}const p=async y=>{if(o(v=>({user:v.user,isAdmin:v.isAdmin,determiningStatus:!0,adminVerification:!1})),y){const v={user:y,determiningStatus:!1,isAdmin:!1,adminVerification:!0},b=await f(v);v.isAdmin=!!b,o(v)}else l()},g=(async()=>{if(u instanceof Tu){const y=await(u==null?void 0:u.getUserManagementData("authentication"));if(y!=null&&y.isEnabled){const v=Okt(h,async b=>await p(b));return()=>v()}o(r)}else u&&o(r);return()=>{}})();return()=>{g.then(y=>y())}},[u,s]);const d=I.useMemo(()=>({user:i,triggerAuth:c,logout:l,verifyAdminStatus:f}),[i]);return T.jsx(pTe.Provider,{value:d,children:i.determiningStatus?T.jsx(Vu,{visible:!0}):e})}function eT({studyIds:e}){const t=eg(),{studyId:n}=W0(),r=zy(),i=e.map(d=>({value:d,label:d})),{storageEngine:o}=bo(),{user:s,logout:a}=tv(),[u,l]=I.useState(!1),c=r.pathname.includes("analysis"),f=[{name:"Studies",leftIcon:T.jsx(XUe,{}),href:"/",needAdmin:!1},{name:"Analysis",leftIcon:T.jsx(qUe,{}),href:"/analysis/dashboard",needAdmin:!1},{name:"Settings",leftIcon:T.jsx(w0e,{}),href:"/settings",needAdmin:!0}];return T.jsx(Ri.Header,{p:"md",children:T.jsxs(yl,{mt:-7,align:"center",children:[T.jsx(yl.Col,{span:6,children:T.jsxs(Zt,{align:"center",onClick:()=>t(c?"/analysis/dashboard":"/"),style:{cursor:"pointer"},children:[T.jsx(Zm,{w:40,src:`${od}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),T.jsx(xl,{w:"md"}),T.jsx(yi,{order:4,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:c?"ReVISit Analytics Platform":"ReVISit Studies"})]})}),T.jsx(yl.Col,{span:6,children:T.jsxs(Zt,{justify:"flex-end",direction:"row",children:[c&&T.jsx(sC,{allowDeselect:!1,placeholder:"Select Study",data:i,value:n,onChange:d=>t(`/analysis/stats/${d}`),mr:16}),T.jsx(LU,{opened:!1,onClick:()=>l(!0),style:{visibility:u?"hidden":void 0}}),T.jsx(rd,{opened:u,onClose:()=>l(!1),position:"right",withCloseButton:!1,children:T.jsxs(Zt,{direction:"column",mt:20,children:[T.jsx(Tt,{ml:15,mb:20,fw:700,size:"lg",children:"Navigation"}),f.map(d=>d.needAdmin?s.isAdmin?T.jsx(Xn,{leftSection:d.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:()=>{t(d.href),l(!1)},children:d.name},`menu-item-${d.name}`):null:T.jsx(Xn,{leftSection:d.leftIcon,variant:"default",style:{border:"none",display:"flex",justifyContent:"flex-start"},onClick:()=>{t(d.href),l(!1)},children:d.name},`menu-item-${d.name}`)),T.jsxs(Ce,{ml:10,children:[T.jsx(BU,{my:"sm"}),(o==null?void 0:o.getEngine())==="firebase"?s.isAdmin?T.jsx(Tt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{a(),t("/login"),l(!1)},children:"Logout"}):T.jsx(Tt,{size:"sm",ml:10,style:{cursor:"pointer"},onClick:()=>{t("/login"),l(!1)},children:"Login"}):null]})]})})]})})]})})}function mTe({allParticipants:e,studyId:t}){const[n,{close:r,open:i}]=Ax(!1),[o,{close:s,open:a}]=Ax(!1),[u,{open:l,close:c}]=Ax(!1);return T.jsxs(T.Fragment,{children:[T.jsxs(zu,{children:[T.jsxs(gi,{opened:n,children:[T.jsx(gi.Target,{children:T.jsx(Xn,{variant:"light",disabled:e.length===0,onClick:()=>{Xq(JSON.stringify(e,null,2),`${t}_all.json`)},onMouseEnter:i,onMouseLeave:r,px:4,children:T.jsx(YUe,{})})}),T.jsx(gi.Dropdown,{children:T.jsx(Tt,{children:"Download all participants data as JSON"})})]}),T.jsxs(gi,{opened:o,children:[T.jsx(gi.Target,{children:T.jsx(Xn,{variant:"light",disabled:e.length===0,onClick:l,onMouseEnter:a,onMouseLeave:s,px:4,children:T.jsx(E0e,{})})}),T.jsx(gi.Dropdown,{children:T.jsx(Tt,{children:"Download all participants data as a tidy CSV"})})]})]}),u&&T.jsx(MOt,{opened:u,close:c,filename:`${t}_all_tidy.csv`,data:e,studyId:t})]})}function vMt({cellData:e}){return T.jsx(An.Td,{children:T.jsx(aC,{miw:100,children:Object.entries(e.answer).map(([t,n])=>T.jsxs(Ce,{children:[T.jsxs(Tt,{fw:700,span:!0,children:[" ",`${t}: `]}),T.jsx(Tt,{span:!0,children:`${n}`})]},`cell-${t}`))})})}function Ose({cellData:e}){const t=(e.endTime-e.startTime)/1e3;return T.jsxs(An.Td,{children:[t.toFixed(1)," ","s"]})}function bMt(e){const{metaData:t}=e;return T.jsx(An.Td,{children:T.jsx(uz,{w:200,hideLabel:"hide",maxHeight:50,showLabel:"more",children:T.jsxs(aC,{gap:"xs",children:[T.jsxs(Ce,{children:["IP:"," ",t.ip]}),T.jsxs(Ce,{children:["Language:"," ",t.language]}),T.jsxs(Ce,{children:["Resolution:"," ",JSON.stringify(t.resolution)]}),T.jsxs(Ce,{children:["User Agent:"," ",t.userAgent]})]})})})}function _Mt({completed:e,inProgress:t,studyConfig:n,refresh:r}){const{storageEngine:i}=bo(),{studyId:o}=W0(),{user:s}=tv(),a=async y=>{i&&o&&(s.isAdmin?(await i.rejectParticipant(o,y),await r()):console.warn("You are not authorized to perform this action."))},[u,l]=I.useState([]),[c,f]=I.useState(!1),d=()=>D5({title:"Confirm rejecting participants",children:T.jsxs(Tt,{size:"sm",children:["Are you sure you want to reject the selected participants? This action is"," ",T.jsx(Tt,{span:!0,fw:700,td:"underline",inherit:!0,children:"irreversible"}),", and will return the participants' sequences to the beginning of the sequence array."]}),labels:{confirm:"Reject Participants",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:async()=>{f(!0);const y=u.map(async v=>await a(v));await Promise.all(y),l([]),await r(),f(!1)}});function h(y){y==="all"?u.length===[...e,...t].length?l([]):l([...e,...t].map(v=>v.participantId)):u.includes(y)?l(u.filter(v=>v!==y)):l([...u,y])}const p=wve(n.sequence),m=[T.jsx(An.Th,{children:T.jsx(Zt,{justify:"center",children:T.jsx(Sh,{mb:-4,checked:u.length===[...e,...t].length,onChange:()=>h("all")})})},"action"),T.jsx(An.Th,{children:"ID"},"ID"),T.jsx(An.Th,{children:"Status"},"status"),T.jsx(An.Th,{children:"Meta"},"meta"),...p.flatMap(y=>[T.jsx(An.Th,{children:y.componentName},`header-${y.componentName}-${y.timesSeenInBlock}`),T.jsxs(An.Th,{children:[y.componentName," ","Duration"]},`header-${y.componentName}-${y.timesSeenInBlock}-duration`)]),T.jsx(An.Th,{children:"Total Duration"},"total-duration")],g=[...e,...t].map(y=>T.jsxs(An.Tr,{children:[T.jsx(An.Td,{children:T.jsx(Zt,{justify:"center",children:T.jsx(Sh,{mb:-4,checked:u.includes(y.participantId),onChange:()=>h(y.participantId)})})}),T.jsx(An.Td,{style:{whiteSpace:"nowrap"},children:y.participantId}),T.jsx(An.Td,{children:T.jsxs(Zt,{direction:"row",align:"center",children:[y.rejected?T.jsx(uo,{label:"Rejected",children:T.jsx(Ez,{size:16,color:"red",style:{marginBottom:-3}})}):y.completed?T.jsx(uo,{label:"Completed",children:T.jsx(b0e,{size:16,color:"teal",style:{marginBottom:-3}})}):T.jsx(uo,{label:"In Progress",children:T.jsx(_0e,{size:16,color:"orange",style:{marginBottom:-3}})}),!y.completed&&T.jsxs(Tt,{size:"sm",mb:-1,ml:4,children:[(Object.entries(y.answers).filter(([v,b])=>b.endTime!==void 0).length/(Y0(y.sequence).length-1)*100).toFixed(2),"%"]})]})}),y.metadata?T.jsx(bMt,{metaData:y.metadata}):T.jsx(An.Td,{children:"N/A"}),p.map(v=>{const b=bve(y.sequence,v.orderPath),_=b&&Object.entries(y.answers).sort((w,S)=>{const E=parseInt(w[0].slice(w[0].lastIndexOf("_")+1),10),C=parseInt(S[0].slice(S[0].lastIndexOf("_")+1),10);return E-C}).filter(([w])=>{const S=w.slice(0,w.lastIndexOf("_")),E=parseInt(w.slice(w.lastIndexOf("_")+1),10);return S===v.componentName&&E<=b[0].lastIndex&&E>=b[0].firstIndex});return _!==null&&_.length>=v.timesSeenInBlock+1?T.jsxs(ue.Fragment,{children:[T.jsx(vMt,{cellData:_[v.timesSeenInBlock][1]}),T.jsx(Ose,{cellData:_[v.timesSeenInBlock][1]})]},`cellgroup-${y.participantId}-${v.componentName}-${v.timesSeenInBlock}`):T.jsxs(ue.Fragment,{children:[T.jsx(An.Td,{children:"N/A"}),T.jsx(An.Td,{children:"N/A"})]},`cellgroup-${y.participantId}-${v.componentName}-${v.timesSeenInBlock}`)}),T.jsx(Ose,{cellData:{startTime:Math.min(...Object.values(y.answers).map(v=>v.startTime)),endTime:Math.max(...Object.values(y.answers).map(v=>v.endTime)),answer:{},windowEvents:[]}},`cell-${y.participantId}-total-duration`)]},y.participantId));return[...e,...t].length>0?T.jsxs(T.Fragment,{children:[T.jsx(Vu,{visible:c,overlayProps:{blur:2}}),T.jsxs(Zt,{justify:"space-between",mb:8,p:8,children:[T.jsx(zu,{children:T.jsx(sC,{w:350,variant:"filled",placeholder:"Search for a participant ID",data:[...e,...t].map(y=>({value:y.participantId,label:y.participantId})),searchable:!0,value:null,leftSection:T.jsx(rze,{size:14}),onChange:y=>y&&h(y)})}),T.jsxs(zu,{children:[T.jsx(mTe,{allParticipants:[...e,...t],studyId:o||""}),T.jsx(Xn,{disabled:u.length===0||!s.isAdmin,onClick:d,color:"red",children:"Reject Participants"})]})]}),T.jsx(Zt,{direction:"column",style:{width:"100%",overflow:"auto"},children:T.jsxs(An,{striped:!0,withTableBorder:!0,children:[T.jsx(An.Thead,{children:T.jsx(An.Tr,{children:m})}),T.jsx(An.Tbody,{children:g})]})})]}):T.jsx(Zt,{justify:"center",align:"center",style:{height:"100%"},children:T.jsx(Tt,{children:"No data available"})})}const jv=14;function gTe({completed:e,inProgress:t,rejected:n,filteredCompleted:r}){return T.jsxs(Zt,{ml:4,gap:4,children:[T.jsx(uo,{label:"Completed",children:T.jsx(x0,{variant:"light",color:"green",leftSection:T.jsx(b0e,{width:jv,height:jv,style:{paddingTop:1}}),pb:1,children:r&&r!==e?`${r}/${e}`:e})}),T.jsx(uo,{label:"In Progress",children:T.jsx(x0,{variant:"light",color:"orange",leftSection:T.jsx(_0e,{width:jv,height:jv,style:{paddingTop:1}}),pb:1,children:t})}),T.jsx(uo,{label:"Rejected",children:T.jsx(x0,{variant:"light",color:"red",leftSection:T.jsx(Ez,{width:jv,height:jv,style:{paddingTop:1}}),pb:1,children:n})})]})}function wMt({studyId:e,refresh:t}){const[n,r]=I.useState(!1),[i,o]=I.useState(!1),[s,a]=I.useState(!1),[u,l]=I.useState(""),[c,f]=I.useState([]),[d,h]=I.useState(""),[p,m]=I.useState(!1),[g,y]=I.useState(!1),{storageEngine:v}=bo(),b=v,_=I.useCallback(async()=>{y(!0);const $=await b.getSnapshots(e);f($),y(!1)},[b,e]);I.useEffect(()=>{_()},[_]);const w=async()=>{m(!0),await b.createSnapshot(e,!1),_(),m(!1),await t()},S=async()=>{m(!0),h(""),r(!1),await b.createSnapshot(e,!0),_(),m(!1),await t()},E=async $=>{m(!0),await b.restoreSnapshot(e,$),_(),m(!1),await t()},C=async()=>{m(!0),h(""),o(!1),await b.removeSnapshotOrLive(u,!0),_(),m(!1),await t()},A=async()=>{m(!0),h(""),a(!1),await b.removeSnapshotOrLive(e,!0),_(),m(!1),await t()},k=()=>D5({title:"Create a Snapshot",children:T.jsx(Tt,{mb:30,children:"This will create a snapshot of the live database without impacting the live data."}),labels:{confirm:"Create",cancel:"Cancel"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>w()}),P=$=>D5({title:"Restore Snapshot",children:T.jsx(Tt,{mb:30,children:"Restoring this snapshot will perform 2 actions. First, we will create a snapshot of the current live database, then we will restore the selected snapshot into the live database."}),labels:{confirm:"Restore",cancel:"Cancel"},confirmProps:{color:"red"},cancelProps:{variant:"subtle",color:"dark"},onCancel:()=>{},onConfirm:()=>E($)});return T.jsxs(T.Fragment,{children:[T.jsx(Vu,{visible:p}),T.jsxs(Zt,{justify:"space-between",align:"center",children:[T.jsxs(Ce,{style:{width:"70%"},children:[T.jsx(yi,{order:5,children:"Create a Snapshot"}),T.jsxs(Tt,{children:["This will create a snapshot of the live"," ",T.jsx(Tt,{span:!0,fw:700,children:e})," ","database. It will"," ",T.jsx(Tt,{span:!0,fw:700,fs:"italic",children:"not"})," ","remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),T.jsx(uo,{label:"Create a snapshot",children:T.jsx(Xn,{onClick:k,children:"Snapshot"})})]}),T.jsx(xl,{h:"lg"}),T.jsxs(Zt,{justify:"space-between",align:"center",children:[T.jsxs(Ce,{style:{width:"70%"},children:[T.jsx(yi,{order:5,children:"Archive Data"}),T.jsxs(Tt,{children:["This will create a snapshot of the live"," ",T.jsx(Tt,{span:!0,fw:700,children:e})," ","database. It will then remove this data from the live database. The current study data can be restored from a snapshot at any time."]})]}),T.jsx(uo,{label:"Snapshot and Delete Data",children:T.jsx(Xn,{color:"red",onClick:()=>r(!0),children:"Archive"})})]}),T.jsx(xl,{h:"lg"}),T.jsxs(Zt,{justify:"space-between",align:"center",children:[T.jsxs(Ce,{style:{width:"70%"},children:[T.jsx(yi,{order:5,children:"Delete Data"}),T.jsxs(Tt,{children:["This will delete the live"," ",T.jsx(Tt,{span:!0,fw:700,children:e})," ","database. Since this does not create a snapshot the data will be permanently deleted and cannot be restored."]})]}),T.jsx(uo,{label:"Delete Data",children:T.jsx(Xn,{color:"red",onClick:()=>a(!0),children:"Delete"})})]}),T.jsx(xl,{h:"xl"}),T.jsxs(Zt,{direction:"column",children:[T.jsx(Zt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:"xs",pb:"sm",children:T.jsx(yi,{order:5,children:"Snapshots"})}),T.jsxs(Ce,{style:{position:"relative"},children:[T.jsx(Vu,{visible:g}),c.length>0?c.map($=>T.jsxs(Zt,{justify:"space-between",mb:"xs",children:[T.jsx(Tt,{children:$}),T.jsxs(Zt,{direction:"row",gap:"xs",children:[T.jsx(uo,{label:"Restore Snapshot",children:T.jsx(xm,{color:"blue",variant:"subtle",onClick:()=>{P($)},children:T.jsx(tze,{})})}),T.jsx(uo,{label:"Delete Snapshot",children:T.jsx(xm,{color:"red",variant:"subtle",onClick:()=>{o(!0),l($)},children:T.jsx(x0e,{})})})]})]},$)):T.jsx(Tt,{children:"No snapshots."})]})]}),T.jsxs(no,{opened:n,onClose:()=>{r(!1),h("")},title:T.jsx(Tt,{children:"Archive Data"}),children:[T.jsx(Tt,{mb:"sm",children:"This will create a snapshot of the live database and remove the data from the live database."}),T.jsx(T0,{label:"To archive this data, please enter the name of the study.",placeholder:e,onChange:$=>h($.target.value)}),T.jsxs(Zt,{mt:"sm",justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{r(!1),h("")},children:"Cancel"}),T.jsx(Xn,{color:"red",onClick:S,disabled:d!==e,children:"Archive"})]})]}),T.jsxs(no,{opened:i,onClose:()=>{o(!1),h("")},title:T.jsx(Tt,{children:"Delete Snapshot"}),children:[T.jsxs(Tt,{mb:"sm",children:["This will permanently remove this snapshot. This action is"," ",T.jsx(Tt,{span:!0,fw:700,children:"irreversible"}),"."]}),T.jsx(T0,{label:"To delete this snapshot, please enter the name of the study.",placeholder:e,onChange:$=>h($.target.value)}),T.jsxs(Zt,{mt:"sm",justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{o(!1),h("")},children:"Cancel"}),T.jsx(Xn,{color:"red",onClick:C,disabled:d!==e,children:"Delete"})]})]}),T.jsxs(no,{opened:s,onClose:()=>{a(!1),h("")},title:T.jsx(Tt,{children:"Delete Live Data"}),children:[T.jsxs(Tt,{mb:"sm",children:["This will permanently delete the live"," ",T.jsx(Tt,{span:!0,fw:700,children:e})," ","data. This action is"," ",T.jsx(Tt,{span:!0,fw:700,children:"irreversible"}),". Please consider using archive data to create a snapshot of the live data before deleting."]}),T.jsx(T0,{label:"To delete this live data, please enter the name of the study.",placeholder:e,onChange:$=>h($.target.value)}),T.jsxs(Zt,{mt:"sm",justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"dark",onClick:()=>{a(!1),h("")},children:"Cancel"}),T.jsx(Xn,{color:"red",onClick:A,disabled:d!==e,children:"Delete"})]})]})]})}function EMt({studyId:e}){const{storageEngine:t}=bo(),[n,r]=I.useState(!1),[i,o]=I.useState(!1),[s,a]=I.useState(!1),[u,l]=I.useState(!1);I.useEffect(()=>{(async()=>{if(t){const d=await t.getModes(e);o(d.dataCollectionEnabled),a(d.studyNavigatorEnabled),l(d.analyticsInterfacePubliclyAccessible),r(!0)}})()},[t,e]);const c=async(f,d)=>{t&&(await t.setMode(e,f,d),f==="dataCollectionEnabled"?o(d):f==="studyNavigatorEnabled"?a(d):f==="analyticsInterfacePubliclyAccessible"&&l(d))};return n&&T.jsxs(aC,{children:[T.jsx(H1,{label:"Data Collection Enabled",checked:i,onChange:f=>c("dataCollectionEnabled",f.currentTarget.checked)}),T.jsx(H1,{label:"Study Navigator Enabled",checked:s,onChange:f=>c("studyNavigatorEnabled",f.currentTarget.checked)}),T.jsx(H1,{label:"Analytics Interface Publicly Accessible",checked:u,onChange:f=>c("analyticsInterfacePubliclyAccessible",f.currentTarget.checked)})]})}function xMt({studyId:e,refresh:t}){const{storageEngine:n}=bo();return T.jsx(Pl,{children:T.jsxs(La,{multiple:!0,variant:"contained",children:[T.jsxs(La.Item,{value:"ReVISit Modes",children:[T.jsx(La.Control,{children:T.jsx(yi,{order:5,children:"ReVISit Modes"})}),T.jsx(La.Panel,{children:T.jsx(EMt,{studyId:e})})]},"modes"),T.jsxs(La.Item,{value:"Data Management",children:[T.jsx(La.Control,{disabled:(n==null?void 0:n.getEngine())==="localStorage",children:T.jsx(yi,{order:5,children:"Data Management"})}),T.jsx(La.Panel,{children:(n==null?void 0:n.getEngine())!=="localStorage"&&T.jsx(wMt,{studyId:e,refresh:t})})]},"dataManagement")]})})}function TMt(e){const{globalConfig:t}=e,{studyId:n}=W0(),[r,i]=I.useState([]),[o,s]=I.useState(void 0),[a,u]=I.useState(!1),{storageEngine:l}=bo(),c=eg(),{tab:f}=W0(),{user:d}=tv(),h=I.useCallback(async()=>{if(u(!0),n){const y=await cO(n,t);if(!y||!l)return;await l.initializeStudyDb(n,y);const v=await l.getAllParticipantsData();i(v),s(y),u(!1)}},[t,l,n]);I.useEffect(()=>{h()},[t,l,n,h]);const[p,m,g]=I.useMemo(()=>{const y=r.filter(_=>!_.rejected&&_.completed),v=r.filter(_=>!_.rejected&&!_.completed),b=r.filter(_=>_.rejected);return[y,v,b]},[r]);return T.jsxs(T.Fragment,{children:[T.jsx(eT,{studyIds:e.globalConfig.configsList}),T.jsx(Ri.Main,{children:T.jsxs(Pl,{fluid:!0,style:{height:"100%"},children:[T.jsx(Vu,{visible:a}),T.jsxs(Zt,{direction:"row",align:"center",children:[T.jsx(yi,{order:5,children:n}),T.jsx(gTe,{completed:p.length,inProgress:m.length,rejected:g.length})]}),T.jsx(xl,{h:"xs"}),T.jsxs(ta,{variant:"outline",value:f,onChange:y=>c(`./../${y}`),style:{height:"100%"},children:[T.jsxs(ta.List,{children:[T.jsx(ta.Tab,{value:"table",leftSection:T.jsx(ize,{size:16}),children:"Table View"}),T.jsx(uo,{label:"Coming soon",position:"bottom",children:T.jsx(ta.Tab,{value:"stats",leftSection:T.jsx(WUe,{size:16}),disabled:!0,children:"Trial Stats"})}),T.jsx(uo,{label:"Coming soon",position:"bottom",children:T.jsx(ta.Tab,{value:"replay",leftSection:T.jsx(eze,{size:16}),disabled:!0,children:"Participant Replay"})}),T.jsx(ta.Tab,{value:"manage",leftSection:T.jsx(w0e,{size:16}),disabled:!d.isAdmin,children:"Manage"})]}),T.jsx(ta.Panel,{value:"table",pt:"xs",children:o&&T.jsx(_Mt,{completed:p,inProgress:m,studyConfig:o,refresh:h})}),T.jsx(ta.Panel,{value:"stats",pt:"xs",children:"statsboard"}),T.jsx(ta.Panel,{value:"replay",pt:"xs",children:"Replay Tab Content"}),T.jsx(ta.Panel,{value:"manage",pt:"xs",children:n&&d.isAdmin?T.jsx(xMt,{studyId:n,refresh:h}):T.jsx(Pl,{mt:20,children:T.jsx(eC,{title:"Unauthorized Access",variant:"light",color:"red",icon:T.jsx(QUe,{}),children:"You are not authorized to manage the data for this study."})})})]})]})})]})}function Mse({children:e,paramToCheck:t,paramCallback:n}){const{user:r,verifyAdminStatus:i,logout:o}=tv(),{storageEngine:s}=bo(),[a,u]=I.useState(!1),l=W0();return I.useEffect(()=>{(async()=>{if(a===!1)if(t&&n&&l[t]){const f=await n(l[t]);f&&u(f)}else u(!0);if(a)try{r&&await i(r)||o()}catch(f){o(),console.warn(f)}})()},[r.isAdmin,a]),r.determiningStatus||!s?T.jsx(Vu,{visible:r.determiningStatus||!(s!=null&&s.getEngine())}):a&&!r.isAdmin&&!r.determiningStatus?T.jsx(bz,{to:"/login"}):T.jsx(T.Fragment,{children:e})}async function yTe(e,t,n){if(e instanceof Tu){t(!0);const r=new Ud,i=hP();try{await rRt(i,r,pxe)}catch(o){n&&n(o.message)}finally{t(!1)}return i.currentUser}return null}function SMt(){const{user:e}=tv(),[t,n]=I.useState(null),[r,i]=I.useState(!1),{storageEngine:o}=bo();return I.useEffect(()=>{!e.determiningStatus&&!e.isAdmin&&e.adminVerification&&n("You are not authorized to use this application.")},[e.adminVerification]),!e.determiningStatus&&e.isAdmin?T.jsx(bz,{to:"/"}):T.jsx(Pl,{children:T.jsx(jy,{padding:"lg",children:T.jsxs(Zt,{align:"center",direction:"column",justify:"center",children:[T.jsx(Zm,{maw:200,mt:50,mb:100,src:`${od}revisitAssets/revisitLogoSquare.svg`,alt:"Revisit Logo"}),T.jsxs(T.Fragment,{children:[T.jsx(Tt,{mb:20,children:"To access admin settings, please sign in using your Google account."}),T.jsx(Xn,{onClick:()=>yTe(o,i,n),leftSection:T.jsx(oze,{}),variant:"filled",children:"Sign In With Google"})]}),t?T.jsx(x0,{size:"lg",color:"red",mt:30,children:t}):null,T.jsx(Vu,{visible:r})]})})})}var vTe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ki,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",u="hour",l="day",c="week",f="month",d="quarter",h="year",p="date",m="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var j=["th","st","nd","rd"],M=O%100;return"["+O+(j[(M-20)%10]||j[M]||j[0])+"]"}},b=function(O,j,M){var B=String(O);return!B||B.length>=j?O:""+Array(j+1-B.length).join(M)+O},_={s:b,z:function(O){var j=-O.utcOffset(),M=Math.abs(j),B=Math.floor(M/60),V=M%60;return(j<=0?"+":"-")+b(B,2,"0")+":"+b(V,2,"0")},m:function O(j,M){if(j.date()<M.date())return-O(M,j);var B=12*(M.year()-j.year())+(M.month()-j.month()),V=j.clone().add(B,f),q=M-V<0,D=j.clone().add(B+(q?-1:1),f);return+(-(B+(M-V)/(q?V-D:D-V))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:f,y:h,w:c,d:l,D:p,h:u,m:a,s,ms:o,Q:d}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},w="en",S={};S[w]=v;var E="$isDayjsObject",C=function(O){return O instanceof $||!(!O||!O[E])},A=function O(j,M,B){var V;if(!j)return w;if(typeof j=="string"){var q=j.toLowerCase();S[q]&&(V=q),M&&(S[q]=M,V=q);var D=j.split("-");if(!V&&D.length>1)return O(D[0])}else{var U=j.name;S[U]=j,V=U}return!B&&V&&(w=V),V||!B&&w},k=function(O,j){if(C(O))return O.clone();var M=typeof j=="object"?j:{};return M.date=O,M.args=arguments,new $(M)},P=_;P.l=A,P.i=C,P.w=function(O,j){return k(O,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var $=function(){function O(M){this.$L=A(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[E]=!0}var j=O.prototype;return j.parse=function(M){this.$d=function(B){var V=B.date,q=B.utc;if(V===null)return new Date(NaN);if(P.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var D=V.match(g);if(D){var U=D[2]-1||0,W=(D[7]||"0").substring(0,3);return q?new Date(Date.UTC(D[1],U,D[3]||1,D[4]||0,D[5]||0,D[6]||0,W)):new Date(D[1],U,D[3]||1,D[4]||0,D[5]||0,D[6]||0,W)}}return new Date(V)}(M),this.init()},j.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},j.$utils=function(){return P},j.isValid=function(){return this.$d.toString()!==m},j.isSame=function(M,B){var V=k(M);return this.startOf(B)<=V&&V<=this.endOf(B)},j.isAfter=function(M,B){return k(M)<this.startOf(B)},j.isBefore=function(M,B){return this.endOf(B)<k(M)},j.$g=function(M,B,V){return P.u(M)?this[B]:this.set(V,M)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(M,B){var V=this,q=!!P.u(B)||B,D=P.p(M),U=function(se,ge){var be=P.w(V.$u?Date.UTC(V.$y,ge,se):new Date(V.$y,ge,se),V);return q?be:be.endOf(l)},W=function(se,ge){return P.w(V.toDate()[se].apply(V.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(ge)),V)},F=this.$W,z=this.$M,G=this.$D,ee="set"+(this.$u?"UTC":"");switch(D){case h:return q?U(1,0):U(31,11);case f:return q?U(1,z):U(0,z+1);case c:var ce=this.$locale().weekStart||0,le=(F<ce?F+7:F)-ce;return U(q?G-le:G+(6-le),z);case l:case p:return W(ee+"Hours",0);case u:return W(ee+"Minutes",1);case a:return W(ee+"Seconds",2);case s:return W(ee+"Milliseconds",3);default:return this.clone()}},j.endOf=function(M){return this.startOf(M,!1)},j.$set=function(M,B){var V,q=P.p(M),D="set"+(this.$u?"UTC":""),U=(V={},V[l]=D+"Date",V[p]=D+"Date",V[f]=D+"Month",V[h]=D+"FullYear",V[u]=D+"Hours",V[a]=D+"Minutes",V[s]=D+"Seconds",V[o]=D+"Milliseconds",V)[q],W=q===l?this.$D+(B-this.$W):B;if(q===f||q===h){var F=this.clone().set(p,1);F.$d[U](W),F.init(),this.$d=F.set(p,Math.min(this.$D,F.daysInMonth())).$d}else U&&this.$d[U](W);return this.init(),this},j.set=function(M,B){return this.clone().$set(M,B)},j.get=function(M){return this[P.p(M)]()},j.add=function(M,B){var V,q=this;M=Number(M);var D=P.p(B),U=function(z){var G=k(q);return P.w(G.date(G.date()+Math.round(z*M)),q)};if(D===f)return this.set(f,this.$M+M);if(D===h)return this.set(h,this.$y+M);if(D===l)return U(1);if(D===c)return U(7);var W=(V={},V[a]=r,V[u]=i,V[s]=n,V)[D]||1,F=this.$d.getTime()+M*W;return P.w(F,this)},j.subtract=function(M,B){return this.add(-1*M,B)},j.format=function(M){var B=this,V=this.$locale();if(!this.isValid())return V.invalidDate||m;var q=M||"YYYY-MM-DDTHH:mm:ssZ",D=P.z(this),U=this.$H,W=this.$m,F=this.$M,z=V.weekdays,G=V.months,ee=V.meridiem,ce=function(ge,be,ve,Ye){return ge&&(ge[be]||ge(B,q))||ve[be].slice(0,Ye)},le=function(ge){return P.s(U%12||12,ge,"0")},se=ee||function(ge,be,ve){var Ye=ge<12?"AM":"PM";return ve?Ye.toLowerCase():Ye};return q.replace(y,function(ge,be){return be||function(ve){switch(ve){case"YY":return String(B.$y).slice(-2);case"YYYY":return P.s(B.$y,4,"0");case"M":return F+1;case"MM":return P.s(F+1,2,"0");case"MMM":return ce(V.monthsShort,F,G,3);case"MMMM":return ce(G,F);case"D":return B.$D;case"DD":return P.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return ce(V.weekdaysMin,B.$W,z,2);case"ddd":return ce(V.weekdaysShort,B.$W,z,3);case"dddd":return z[B.$W];case"H":return String(U);case"HH":return P.s(U,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return se(U,W,!0);case"A":return se(U,W,!1);case"m":return String(W);case"mm":return P.s(W,2,"0");case"s":return String(B.$s);case"ss":return P.s(B.$s,2,"0");case"SSS":return P.s(B.$ms,3,"0");case"Z":return D}return null}(ge)||D.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(M,B,V){var q,D=this,U=P.p(B),W=k(M),F=(W.utcOffset()-this.utcOffset())*r,z=this-W,G=function(){return P.m(D,W)};switch(U){case h:q=G()/12;break;case f:q=G();break;case d:q=G()/3;break;case c:q=(z-F)/6048e5;break;case l:q=(z-F)/864e5;break;case u:q=z/i;break;case a:q=z/r;break;case s:q=z/n;break;default:q=z}return V?q:P.a(q)},j.daysInMonth=function(){return this.endOf(f).$D},j.$locale=function(){return S[this.$L]},j.locale=function(M,B){if(!M)return this.$L;var V=this.clone(),q=A(M,B,!0);return q&&(V.$L=q),V},j.clone=function(){return P.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},O}(),N=$.prototype;return k.prototype=N,[["$ms",o],["$s",s],["$m",a],["$H",u],["$W",l],["$M",f],["$y",h],["$D",p]].forEach(function(O){N[O[1]]=function(j){return this.$g(j,O[0],O[1])}}),k.extend=function(O,j){return O.$i||(O(j,$,k),O.$i=!0),k},k.locale=A,k.isDayjs=C,k.unix=function(O){return k(1e3*O)},k.en=S[w],k.Ls=S,k.p={},k})})(vTe);var CMt=vTe.exports;const Ot=gn(CMt);function AMt({type:e,date:t,locale:n,format:r,labelSeparator:i}){const o=s=>Ot(s).locale(n).format(r);return e==="default"?t===null?"":o(t):e==="multiple"?t.map(o).join(", "):e==="range"&&Array.isArray(t)?t[0]&&t[1]?`${o(t[0])} ${i} ${o(t[1])}`:t[0]?`${o(t[0])} ${i} `:"":""}function IMt({formatter:e,...t}){return(e||AMt)(t)}function kMt({direction:e,levelIndex:t,rowIndex:n,cellIndex:r,size:i}){switch(e){case"up":return t===0&&n===0?null:n===0?{levelIndex:t-1,rowIndex:r<=i[t-1][i[t-1].length-1]-1?i[t-1].length-1:i[t-1].length-2,cellIndex:r}:{levelIndex:t,rowIndex:n-1,cellIndex:r};case"down":return n===i[t].length-1?{levelIndex:t+1,rowIndex:0,cellIndex:r}:n===i[t].length-2&&r>=i[t][i[t].length-1]?{levelIndex:t+1,rowIndex:0,cellIndex:r}:{levelIndex:t,rowIndex:n+1,cellIndex:r};case"left":return t===0&&n===0&&r===0?null:n===0&&r===0?{levelIndex:t-1,rowIndex:i[t-1].length-1,cellIndex:i[t-1][i[t-1].length-1]-1}:r===0?{levelIndex:t,rowIndex:n-1,cellIndex:i[t][n-1]-1}:{levelIndex:t,rowIndex:n,cellIndex:r-1};case"right":return n===i[t].length-1&&r===i[t][n]-1?{levelIndex:t+1,rowIndex:0,cellIndex:0}:r===i[t][n]-1?{levelIndex:t,rowIndex:n+1,cellIndex:0}:{levelIndex:t,rowIndex:n,cellIndex:r+1};default:return{levelIndex:t,rowIndex:n,cellIndex:r}}}function bTe({controlsRef:e,direction:t,levelIndex:n,rowIndex:r,cellIndex:i,size:o}){var u,l,c;const s=kMt({direction:t,size:o,rowIndex:r,cellIndex:i,levelIndex:n});if(!s)return;const a=(c=(l=(u=e.current)==null?void 0:u[s.levelIndex])==null?void 0:l[s.rowIndex])==null?void 0:c[s.cellIndex];a&&(a.disabled||a.getAttribute("data-hidden")||a.getAttribute("data-outside")?bTe({controlsRef:e,direction:t,levelIndex:s.levelIndex,cellIndex:s.cellIndex,rowIndex:s.rowIndex,size:o}):a.focus())}function RMt(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function PMt(e){var t;return(t=e.current)==null?void 0:t.map(n=>n.map(r=>r.length))}function Qq({controlsRef:e,levelIndex:t,rowIndex:n,cellIndex:r,event:i}){const o=RMt(i.key);if(o){i.preventDefault();const s=PMt(e);bTe({controlsRef:e,direction:o,levelIndex:t,rowIndex:n,cellIndex:r,size:s})}}var _Te={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ki,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,o,s){var a,u=function(d,h,p){p===void 0&&(p={});var m=new Date(d),g=function(y,v){v===void 0&&(v={});var b=v.timeZoneName||"short",_=y+"|"+b,w=r[_];return w||(w=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:b}),r[_]=w),w}(h,p);return g.formatToParts(m)},l=function(d,h){for(var p=u(d,h),m=[],g=0;g<p.length;g+=1){var y=p[g],v=y.type,b=y.value,_=n[v];_>=0&&(m[_]=parseInt(b,10))}var w=m[3],S=w===24?0:w,E=m[0]+"-"+m[1]+"-"+m[2]+" "+S+":"+m[4]+":"+m[5]+":000",C=+d;return(s.utc(E).valueOf()-(C-=C%1e3))/6e4},c=o.prototype;c.tz=function(d,h){d===void 0&&(d=a);var p=this.utcOffset(),m=this.toDate(),g=m.toLocaleString("en-US",{timeZone:d}),y=Math.round((m-new Date(g))/1e3/60),v=s(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(m.getTimezoneOffset()/15)-y,!0);if(h){var b=v.utcOffset();v=v.add(p-b,"minute")}return v.$x.$timezone=d,v},c.offsetName=function(d){var h=this.$x.$timezone||s.tz.guess(),p=u(this.valueOf(),h,{timeZoneName:d}).find(function(m){return m.type.toLowerCase()==="timezonename"});return p&&p.value};var f=c.startOf;c.startOf=function(d,h){if(!this.$x||!this.$x.$timezone)return f.call(this,d,h);var p=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(p,d,h).tz(this.$x.$timezone,!0)},s.tz=function(d,h,p){var m=p&&h,g=p||h||a,y=l(+s(),g);if(typeof d!="string")return s(d).tz(g);var v=function(S,E,C){var A=S-60*E*1e3,k=l(A,C);if(E===k)return[A,E];var P=l(A-=60*(k-E)*1e3,C);return k===P?[A,k]:[S-60*Math.min(k,P)*1e3,Math.max(k,P)]}(s.utc(d,m).valueOf(),y,g),b=v[0],_=v[1],w=s(b).utcOffset(_);return w.$x.$timezone=g,w},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(d){a=d}}})})(_Te);var NMt=_Te.exports;const DMt=gn(NMt);var wTe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ki,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,s,a){var u=s.prototype;a.utc=function(m){var g={date:m,utc:!0,args:arguments};return new s(g)},u.utc=function(m){var g=a(this.toDate(),{locale:this.$L,utc:!0});return m?g.add(this.utcOffset(),n):g},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),l.call(this,m)};var c=u.init;u.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else c.call(this)};var f=u.utcOffset;u.utcOffset=function(m,g){var y=this.$utils().u;if(y(m))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(w){w===void 0&&(w="");var S=w.match(r);if(!S)return null;var E=(""+S[0]).match(i)||["-",0,0],C=E[0],A=60*+E[1]+ +E[2];return A===0?0:C==="+"?A:-A}(m),m===null))return this;var v=Math.abs(m)<=16?60*m:m,b=this;if(g)return b.$offset=v,b.$u=m===0,b;if(m!==0){var _=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(v+_,n)).$offset=v,b.$x.$localOffset=_}else b=this.utc();return b};var d=u.format;u.format=function(m){var g=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,g)},u.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var h=u.toDate;u.toDate=function(m){return m==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var p=u.diff;u.diff=function(m,g,y){if(m&&this.$u===m.$u)return p.call(this,m,g,y);var v=this.local(),b=a(m).local();return p.call(v,b,g,y)}}})})(wTe);var $Mt=wTe.exports;const OMt=gn($Mt);Ot.extend(OMt);Ot.extend(DMt);function MMt(e,t){return t?Ot(e).tz(t).utcOffset()+e.getTimezoneOffset():0}const Lse=(e,t,n)=>{if(!e)return null;if(!t)return e;let r=MMt(e,t);return n==="remove"&&(r*=-1),Ot(e).add(r,"minutes").toDate()};function dm(e,t,n,r){return r||!t?t:Array.isArray(t)?t.map(i=>Lse(i,n,e)):Lse(t,n,e)}function LMt({minDate:e,maxDate:t,timezone:n}){const r=dm("add",new Date,n);return!e&&!t?r:e&&Ot(r).isBefore(e)?e:t&&Ot(r).isAfter(t)?t:r}const FMt={locale:"en",timezone:null,firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},jMt=I.createContext(FMt);function Zu(){const e=I.useContext(jMt),t=I.useCallback(s=>s||e.locale,[e.locale]),n=I.useCallback(s=>s||e.timezone||void 0,[e.timezone]),r=I.useCallback(s=>typeof s=="number"?s:e.firstDayOfWeek,[e.firstDayOfWeek]),i=I.useCallback(s=>Array.isArray(s)?s:e.weekendDays,[e.weekendDays]),o=I.useCallback(s=>typeof s=="string"?s:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:t,getTimezone:n,getFirstDayOfWeek:r,getWeekendDays:i,getLabelSeparator:o}}function BMt(e,t){if(t==="range"&&Array.isArray(e)){const[n,r]=e;return n?r?`${n.toISOString()}  ${r.toISOString()}`:`${n.toISOString()} `:""}return t==="multiple"&&Array.isArray(e)?e.map(n=>n==null?void 0:n.toISOString()).filter(Boolean).join(", "):!Array.isArray(e)&&e?e.toISOString():""}function ETe({value:e,type:t,name:n,form:r}){return T.jsx("input",{type:"hidden",value:BMt(e,t),name:n,form:r})}ETe.displayName="@mantine/dates/HiddenDatesInput";var xTe={day:"m_396ce5cb"};const UMt={},zMt=(e,{size:t})=>({day:{"--day-size":dn(t,"day-size")}}),Jq=Be((e,t)=>{const n=Ae("Day",UMt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,date:l,disabled:c,__staticSelector:f,weekend:d,outside:h,selected:p,renderDay:m,inRange:g,firstInRange:y,lastInRange:v,hidden:b,static:_,...w}=n,S=It({name:f||"Day",classes:xTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:zMt,rootSelector:"day"}),E=Zu();return T.jsx(po,{...S("day",{style:b?{display:"none"}:void 0}),component:_?"div":"button",ref:t,disabled:c,"data-today":Ot(l).isSame(dm("add",new Date,E.getTimezone()),"day")||void 0,"data-hidden":b||void 0,"data-disabled":c||void 0,"data-weekend":!c&&!h&&d||void 0,"data-outside":!c&&h||void 0,"data-selected":!c&&p||void 0,"data-in-range":g&&!c||void 0,"data-first-in-range":y&&!c||void 0,"data-last-in-range":v&&!c||void 0,"data-static":_||void 0,unstyled:a,...w,children:(m==null?void 0:m(l))||l.getDate()})});Jq.classes=xTe;Jq.displayName="@mantine/dates/Day";function VMt({locale:e,format:t="dd",firstDayOfWeek:n=1}){const r=Ot().day(n),i=[];for(let o=0;o<7;o+=1)typeof t=="string"?i.push(Ot(r).add(o,"days").locale(e).format(t)):i.push(t(Ot(r).add(o,"days").toDate()));return i}var TTe={weekday:"m_18a3eca"};const HMt={},qMt=(e,{size:t})=>({weekdaysRow:{"--wr-fz":cs(t),"--wr-spacing":kl(t)}}),Zq=Be((e,t)=>{const n=Ae("WeekdaysRow",HMt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,locale:l,firstDayOfWeek:c,weekdayFormat:f,cellComponent:d="th",__staticSelector:h,...p}=n,m=It({name:h||"WeekdaysRow",classes:TTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:qMt,rootSelector:"weekdaysRow"}),g=Zu(),y=VMt({locale:g.getLocale(l),format:f,firstDayOfWeek:g.getFirstDayOfWeek(c)}).map((v,b)=>T.jsx(d,{...m("weekday"),children:v},b));return T.jsx(Ce,{component:"tr",ref:t,...m("weekdaysRow"),...p,children:y})});Zq.classes=TTe;Zq.displayName="@mantine/dates/WeekdaysRow";function WMt(e,t=1){const n=new Date(e),r=t===0?6:t-1;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function GMt(e,t=1){const n=new Date(e);for(;n.getDay()!==t;)n.setDate(n.getDate()-1);return n}function YMt({month:e,firstDayOfWeek:t=1,consistentWeeks:n}){const r=e.getMonth(),i=new Date(e.getFullYear(),r,1),o=new Date(e.getFullYear(),e.getMonth()+1,0),s=WMt(o,t),a=GMt(i,t),u=[];for(;a<=s;){const l=[];for(let c=0;c<7;c+=1)l.push(new Date(a)),a.setDate(a.getDate()+1);u.push(l)}if(n&&u.length<6){const l=u[u.length-1],c=l[l.length-1],f=new Date(c);for(f.setDate(f.getDate()+1);u.length<6;){const d=[];for(let h=0;h<7;h+=1)d.push(new Date(f)),f.setDate(f.getDate()+1);u.push(d)}}return u}function STe(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function CTe(e,t){return t instanceof Date?Ot(e).isAfter(Ot(t).subtract(1,"day"),"day"):!0}function ATe(e,t){return t instanceof Date?Ot(e).isBefore(Ot(t).add(1,"day"),"day"):!0}function KMt(e,t,n,r,i,o,s){const a=e.flat().filter(c=>{var f;return ATe(c,n)&&CTe(c,t)&&!(i!=null&&i(c))&&!((f=r==null?void 0:r(c))!=null&&f.disabled)&&(!o||STe(c,s))}),u=a.find(c=>{var f;return(f=r==null?void 0:r(c))==null?void 0:f.selected});if(u)return u;const l=a.find(c=>Ot().isSame(c,"date"));return l||a[0]}var ITe={month:"m_cc9820d3",monthCell:"m_8f457cd5"};const XMt={withCellSpacing:!0},fO=Be((e,t)=>{const n=Ae("Month",XMt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,__staticSelector:l,locale:c,firstDayOfWeek:f,weekdayFormat:d,month:h,weekendDays:p,getDayProps:m,excludeDate:g,minDate:y,maxDate:v,renderDay:b,hideOutsideDates:_,hideWeekdays:w,getDayAriaLabel:S,static:E,__getDayRef:C,__onDayKeyDown:A,__onDayClick:k,__onDayMouseEnter:P,__preventFocus:$,__stopPropagation:N,withCellSpacing:O,size:j,...M}=n,B=It({name:l||"Month",classes:ITe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,rootSelector:"month"}),V=Zu(),q=YMt({month:h,firstDayOfWeek:V.getFirstDayOfWeek(f),consistentWeeks:V.consistentWeeks}),D=KMt(q,y,v,m,g,_,h),{resolvedClassNames:U,resolvedStyles:W}=jh({classNames:r,styles:s,props:n}),F=q.map((z,G)=>{const ee=z.map((ce,le)=>{const se=!STe(ce,h),ge=(S==null?void 0:S(ce))||Ot(ce).locale(c||V.locale).format("D MMMM YYYY"),be=m==null?void 0:m(ce),ve=Ot(ce).isSame(D,"date");return T.jsx("td",{...B("monthCell"),"data-with-spacing":O||void 0,children:T.jsx(Jq,{__staticSelector:l||"Month",classNames:U,styles:W,unstyled:a,"data-mantine-stop-propagation":N||void 0,renderDay:b,date:ce,size:j,weekend:V.getWeekendDays(p).includes(ce.getDay()),outside:se,hidden:_?se:!1,"aria-label":ge,static:E,disabled:(g==null?void 0:g(ce))||!ATe(ce,v)||!CTe(ce,y),ref:Ye=>C==null?void 0:C(G,le,Ye),...be,onKeyDown:Ye=>{var Ue;(Ue=be==null?void 0:be.onKeyDown)==null||Ue.call(be,Ye),A==null||A(Ye,{rowIndex:G,cellIndex:le,date:ce})},onMouseEnter:Ye=>{var Ue;(Ue=be==null?void 0:be.onMouseEnter)==null||Ue.call(be,Ye),P==null||P(Ye,ce)},onClick:Ye=>{var Ue;(Ue=be==null?void 0:be.onClick)==null||Ue.call(be,Ye),k==null||k(Ye,ce)},onMouseDown:Ye=>{var Ue;(Ue=be==null?void 0:be.onMouseDown)==null||Ue.call(be,Ye),$&&Ye.preventDefault()},tabIndex:$||!ve?-1:0})},ce.toString())});return T.jsx("tr",{...B("monthRow"),children:ee},G)});return T.jsxs(Ce,{component:"table",...B("month"),size:j,ref:t,...M,children:[!w&&T.jsx("thead",{...B("monthThead"),children:T.jsx(Zq,{__staticSelector:l||"Month",locale:c,firstDayOfWeek:f,weekdayFormat:d,size:j,classNames:U,styles:W,unstyled:a})}),T.jsx("tbody",{...B("monthTbody"),children:F})]})});fO.classes=ITe;fO.displayName="@mantine/dates/Month";var kTe={pickerControl:"m_dc6a3c71"};const QMt={},JMt=(e,{size:t})=>({pickerControl:{"--dpc-fz":cs(t),"--dpc-size":dn(t,"dpc-size")}}),dO=Be((e,t)=>{const n=Ae("PickerControl",QMt,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,firstInRange:l,lastInRange:c,inRange:f,__staticSelector:d,selected:h,disabled:p,...m}=n,g=It({name:d||"PickerControl",classes:kTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:JMt,rootSelector:"pickerControl"});return T.jsx(po,{...g("pickerControl"),ref:t,unstyled:a,"data-picker-control":!0,"data-selected":h&&!p||void 0,"data-disabled":p||void 0,"data-in-range":f&&!p&&!h||void 0,"data-first-in-range":l&&!p||void 0,"data-last-in-range":c&&!p||void 0,disabled:p,...m})});dO.classes=kTe;dO.displayName="@mantine/dates/PickerControl";function RTe(e,t,n){return!t&&!n?!1:!!(t&&Ot(e).isBefore(t,"year")||n&&Ot(e).isAfter(n,"year"))}function ZMt(e,t,n,r){const i=e.flat().filter(a=>{var u;return!RTe(a,t,n)&&!((u=r==null?void 0:r(a))!=null&&u.disabled)}),o=i.find(a=>{var u;return(u=r==null?void 0:r(a))==null?void 0:u.selected});if(o)return o;const s=i.find(a=>Ot().isSame(a,"year"));return s||i[0]}function PTe(e){const t=e.getFullYear(),n=t-t%10;let r=0;const i=[[],[],[],[]];for(let o=0;o<4;o+=1){const s=o===3?1:3;for(let a=0;a<s;a+=1)i[o].push(new Date(n+r,0)),r+=1}return i}var NTe={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const e3t={yearsListFormat:"YYYY",withCellSpacing:!0},hO=Be((e,t)=>{const n=Ae("YearsList",e3t,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,decade:l,yearsListFormat:c,locale:f,minDate:d,maxDate:h,getYearControlProps:p,__staticSelector:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:b,__preventFocus:_,__stopPropagation:w,withCellSpacing:S,size:E,...C}=n,A=It({name:m||"YearsList",classes:NTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,rootSelector:"yearsList"}),k=Zu(),P=PTe(l),$=ZMt(P,d,h,p),N=P.map((O,j)=>{const M=O.map((B,V)=>{const q=p==null?void 0:p(B),D=Ot(B).isSame($,"year");return T.jsx("td",{...A("yearsListCell"),"data-with-spacing":S||void 0,children:T.jsx(dO,{...A("yearsListControl"),size:E,unstyled:a,"data-mantine-stop-propagation":w||void 0,disabled:RTe(B,d,h),ref:U=>g==null?void 0:g(j,V,U),...q,onKeyDown:U=>{var W;(W=q==null?void 0:q.onKeyDown)==null||W.call(q,U),y==null||y(U,{rowIndex:j,cellIndex:V,date:B})},onClick:U=>{var W;(W=q==null?void 0:q.onClick)==null||W.call(q,U),v==null||v(U,B)},onMouseEnter:U=>{var W;(W=q==null?void 0:q.onMouseEnter)==null||W.call(q,U),b==null||b(U,B)},onMouseDown:U=>{var W;(W=q==null?void 0:q.onMouseDown)==null||W.call(q,U),_&&U.preventDefault()},tabIndex:_||!D?-1:0,children:Ot(B).locale(k.getLocale(f)).format(c)})},V)});return T.jsx("tr",{...A("yearsListRow"),children:M},j)});return T.jsx(Ce,{component:"table",ref:t,size:E,...A("yearsList"),...C,children:T.jsx("tbody",{children:N})})});hO.classes=NTe;hO.displayName="@mantine/dates/YearsList";function DTe(e,t,n){return!t&&!n?!1:!!(t&&Ot(e).isBefore(t,"month")||n&&Ot(e).isAfter(n,"month"))}function t3t(e,t,n,r){const i=e.flat().filter(a=>{var u;return!DTe(a,t,n)&&!((u=r==null?void 0:r(a))!=null&&u.disabled)}),o=i.find(a=>{var u;return(u=r==null?void 0:r(a))==null?void 0:u.selected});if(o)return o;const s=i.find(a=>Ot().isSame(a,"month"));return s||i[0]}function n3t(e){const t=Ot(e).startOf("year").toDate(),n=[[],[],[],[]];let r=0;for(let i=0;i<4;i+=1)for(let o=0;o<3;o+=1)n[i].push(Ot(t).add(r,"months").toDate()),r+=1;return n}var $Te={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const r3t={monthsListFormat:"MMM",withCellSpacing:!0},pO=Be((e,t)=>{const n=Ae("MonthsList",r3t,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,__staticSelector:l,year:c,monthsListFormat:f,locale:d,minDate:h,maxDate:p,getMonthControlProps:m,__getControlRef:g,__onControlKeyDown:y,__onControlClick:v,__onControlMouseEnter:b,__preventFocus:_,__stopPropagation:w,withCellSpacing:S,size:E,...C}=n,A=It({name:l||"MonthsList",classes:$Te,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,rootSelector:"monthsList"}),k=Zu(),P=n3t(c),$=t3t(P,h,p,m),N=P.map((O,j)=>{const M=O.map((B,V)=>{const q=m==null?void 0:m(B),D=Ot(B).isSame($,"month");return T.jsx("td",{...A("monthsListCell"),"data-with-spacing":S||void 0,children:T.jsx(dO,{...A("monthsListControl"),size:E,unstyled:a,__staticSelector:l||"MonthsList","data-mantine-stop-propagation":w||void 0,disabled:DTe(B,h,p),ref:U=>g==null?void 0:g(j,V,U),...q,onKeyDown:U=>{var W;(W=q==null?void 0:q.onKeyDown)==null||W.call(q,U),y==null||y(U,{rowIndex:j,cellIndex:V,date:B})},onClick:U=>{var W;(W=q==null?void 0:q.onClick)==null||W.call(q,U),v==null||v(U,B)},onMouseEnter:U=>{var W;(W=q==null?void 0:q.onMouseEnter)==null||W.call(q,U),b==null||b(U,B)},onMouseDown:U=>{var W;(W=q==null?void 0:q.onMouseDown)==null||W.call(q,U),_&&U.preventDefault()},tabIndex:_||!D?-1:0,children:Ot(B).locale(k.getLocale(d)).format(f)})},V)});return T.jsx("tr",{...A("monthsListRow"),children:M},j)});return T.jsx(Ce,{component:"table",ref:t,size:E,...A("monthsList"),...C,children:T.jsx("tbody",{children:N})})});pO.classes=$Te;pO.displayName="@mantine/dates/MonthsList";var OTe={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const i3t={nextDisabled:!1,previousDisabled:!1,hasNextLevel:!0,withNext:!0,withPrevious:!0},o3t=(e,{size:t})=>({calendarHeader:{"--dch-control-size":dn(t,"dch-control-size"),"--dch-fz":cs(t)}}),ug=Be((e,t)=>{const n=Ae("CalendarHeader",i3t,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,nextIcon:l,previousIcon:c,nextLabel:f,previousLabel:d,onNext:h,onPrevious:p,onLevelClick:m,label:g,nextDisabled:y,previousDisabled:v,hasNextLevel:b,levelControlAriaLabel:_,withNext:w,withPrevious:S,__staticSelector:E,__preventFocus:C,__stopPropagation:A,...k}=n,P=It({name:E||"CalendarHeader",classes:OTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:o3t,rootSelector:"calendarHeader"}),$=C?N=>N.preventDefault():void 0;return T.jsxs(Ce,{...P("calendarHeader"),ref:t,...k,children:[S&&T.jsx(po,{...P("calendarHeaderControl"),"data-direction":"previous","aria-label":d,onClick:p,unstyled:a,onMouseDown:$,disabled:v,"data-disabled":v||void 0,tabIndex:C||v?-1:0,"data-mantine-stop-propagation":A||void 0,children:c||T.jsx(LT,{...P("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})}),T.jsx(po,{component:b?"button":"div",...P("calendarHeaderLevel"),onClick:b?m:void 0,unstyled:a,onMouseDown:b?$:void 0,disabled:!b,"data-static":!b||void 0,"aria-label":_,tabIndex:C||!b?-1:0,"data-mantine-stop-propagation":A||void 0,children:g}),w&&T.jsx(po,{...P("calendarHeaderControl"),"data-direction":"next","aria-label":f,onClick:h,unstyled:a,onMouseDown:$,disabled:y,"data-disabled":y||void 0,tabIndex:C||y?-1:0,"data-mantine-stop-propagation":A||void 0,children:l||T.jsx(LT,{...P("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})})]})});ug.classes=OTe;ug.displayName="@mantine/dates/CalendarHeader";function s3t(e){const t=PTe(e);return[t[0][0],t[3][0]]}const a3t={decadeLabelFormat:"YYYY"},mO=Be((e,t)=>{const n=Ae("DecadeLevel",a3t,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:_,nextDisabled:w,previousDisabled:S,levelControlAriaLabel:E,withNext:C,withPrevious:A,decadeLabelFormat:k,classNames:P,styles:$,unstyled:N,__staticSelector:O,__stopPropagation:j,size:M,...B}=n,V=Zu(),[q,D]=s3t(r),U={__staticSelector:O||"DecadeLevel",classNames:P,styles:$,unstyled:N,size:M},W=typeof w=="boolean"?w:s?!Ot(D).endOf("year").isBefore(s):!1,F=typeof S=="boolean"?S:o?!Ot(q).startOf("year").isAfter(o):!1,z=(G,ee)=>Ot(G).locale(i||V.locale).format(ee);return T.jsxs(Ce,{"data-decade-level":!0,size:M,ref:t,...B,children:[T.jsx(ug,{label:typeof k=="function"?k(q,D):`${z(q,k)}  ${z(D,k)}`,__preventFocus:p,__stopPropagation:j,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:_,nextDisabled:W,previousDisabled:F,hasNextLevel:!1,levelControlAriaLabel:E,withNext:C,withPrevious:A,...U}),T.jsx(hO,{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,__preventFocus:p,__stopPropagation:j,withCellSpacing:h,...U})]})});mO.classes={...hO.classes,...ug.classes};mO.displayName="@mantine/dates/DecadeLevel";const u3t={yearLabelFormat:"YYYY"},gO=Be((e,t)=>{const n=Ae("YearLevel",u3t,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,withCellSpacing:h,__preventFocus:p,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:_,onLevelClick:w,nextDisabled:S,previousDisabled:E,hasNextLevel:C,levelControlAriaLabel:A,withNext:k,withPrevious:P,yearLabelFormat:$,__staticSelector:N,__stopPropagation:O,size:j,classNames:M,styles:B,unstyled:V,...q}=n,D=Zu(),U={__staticSelector:N||"YearLevel",classNames:M,styles:B,unstyled:V,size:j},W=typeof S=="boolean"?S:s?!Ot(r).endOf("year").isBefore(s):!1,F=typeof E=="boolean"?E:o?!Ot(r).startOf("year").isAfter(o):!1;return T.jsxs(Ce,{"data-year-level":!0,size:j,ref:t,...q,children:[T.jsx(ug,{label:typeof $=="function"?$(r):Ot(r).locale(i||D.locale).format($),__preventFocus:p,__stopPropagation:O,nextIcon:m,previousIcon:g,nextLabel:y,previousLabel:v,onNext:b,onPrevious:_,onLevelClick:w,nextDisabled:W,previousDisabled:F,hasNextLevel:C,levelControlAriaLabel:A,withNext:k,withPrevious:P,...U}),T.jsx(pO,{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:u,__getControlRef:l,__onControlKeyDown:c,__onControlClick:f,__onControlMouseEnter:d,__preventFocus:p,__stopPropagation:O,withCellSpacing:h,...U})]})});gO.classes={...ug.classes,...pO.classes};gO.displayName="@mantine/dates/YearLevel";const l3t={monthLabelFormat:"MMMM YYYY"},yO=Be((e,t)=>{const n=Ae("MonthLevel",l3t,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:b,withCellSpacing:_,__preventFocus:w,__stopPropagation:S,nextIcon:E,previousIcon:C,nextLabel:A,previousLabel:k,onNext:P,onPrevious:$,onLevelClick:N,nextDisabled:O,previousDisabled:j,hasNextLevel:M,levelControlAriaLabel:B,withNext:V,withPrevious:q,monthLabelFormat:D,classNames:U,styles:W,unstyled:F,__staticSelector:z,size:G,static:ee,...ce}=n,le=Zu(),se={__staticSelector:z||"MonthLevel",classNames:U,styles:W,unstyled:F,size:G},ge=typeof O=="boolean"?O:f?!Ot(r).endOf("month").isBefore(f):!1,be=typeof j=="boolean"?j:c?!Ot(r).startOf("month").isAfter(c):!1;return T.jsxs(Ce,{"data-month-level":!0,size:G,ref:t,...ce,children:[T.jsx(ug,{label:typeof D=="function"?D(r):Ot(r).locale(i||le.locale).format(D),__preventFocus:w,__stopPropagation:S,nextIcon:E,previousIcon:C,nextLabel:A,previousLabel:k,onNext:P,onPrevious:$,onLevelClick:N,nextDisabled:ge,previousDisabled:be,hasNextLevel:M,levelControlAriaLabel:B,withNext:V,withPrevious:q,...se}),T.jsx(fO,{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__getDayRef:g,__onDayKeyDown:y,__onDayClick:v,__onDayMouseEnter:b,__preventFocus:w,__stopPropagation:S,static:ee,withCellSpacing:_,...se})]})});yO.classes={...fO.classes,...ug.classes};yO.displayName="@mantine/dates/MonthLevel";var MTe={levelsGroup:"m_30b26e33"};const c3t={},lg=Be((e,t)=>{const n=Ae("LevelsGroup",c3t,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,__staticSelector:l,...c}=n,f=It({name:l||"LevelsGroup",classes:MTe,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,rootSelector:"levelsGroup"});return T.jsx(Ce,{ref:t,...f("levelsGroup"),...c})});lg.classes=MTe;lg.displayName="@mantine/dates/LevelsGroup";const f3t={numberOfColumns:1},vO=Be((e,t)=>{const n=Ae("DecadeLevelGroup",f3t,e),{decade:r,locale:i,minDate:o,maxDate:s,yearsListFormat:a,getYearControlProps:u,__onControlClick:l,__onControlMouseEnter:c,withCellSpacing:f,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:b,previousDisabled:_,classNames:w,styles:S,unstyled:E,__staticSelector:C,__stopPropagation:A,numberOfColumns:k,levelControlAriaLabel:P,decadeLabelFormat:$,size:N,vars:O,...j}=n,M=I.useRef([]),B=Array(k).fill(0).map((V,q)=>{const D=Ot(r).add(q*10,"years").toDate();return T.jsx(mO,{size:N,yearsListFormat:a,decade:D,withNext:q===k-1,withPrevious:q===0,decadeLabelFormat:$,__onControlClick:l,__onControlMouseEnter:c,__onControlKeyDown:(U,W)=>Qq({levelIndex:q,rowIndex:W.rowIndex,cellIndex:W.cellIndex,event:U,controlsRef:M}),__getControlRef:(U,W,F)=>{Array.isArray(M.current[q])||(M.current[q]=[]),Array.isArray(M.current[q][U])||(M.current[q][U]=[]),M.current[q][U][W]=F},levelControlAriaLabel:typeof P=="function"?P(D):P,locale:i,minDate:o,maxDate:s,__preventFocus:d,__stopPropagation:A,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,nextDisabled:b,previousDisabled:_,getYearControlProps:u,__staticSelector:C||"DecadeLevelGroup",classNames:w,styles:S,unstyled:E,withCellSpacing:f},q)});return T.jsx(lg,{classNames:w,styles:S,__staticSelector:C||"DecadeLevelGroup",ref:t,size:N,unstyled:E,...j,children:B})});vO.classes={...lg.classes,...mO.classes};vO.displayName="@mantine/dates/DecadeLevelGroup";const d3t={numberOfColumns:1},bO=Be((e,t)=>{const n=Ae("YearLevelGroup",d3t,e),{year:r,locale:i,minDate:o,maxDate:s,monthsListFormat:a,getMonthControlProps:u,__onControlClick:l,__onControlMouseEnter:c,withCellSpacing:f,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:b,nextDisabled:_,previousDisabled:w,hasNextLevel:S,classNames:E,styles:C,unstyled:A,__staticSelector:k,__stopPropagation:P,numberOfColumns:$,levelControlAriaLabel:N,yearLabelFormat:O,size:j,vars:M,...B}=n,V=I.useRef([]),q=Array($).fill(0).map((D,U)=>{const W=Ot(r).add(U,"years").toDate();return T.jsx(gO,{size:j,monthsListFormat:a,year:W,withNext:U===$-1,withPrevious:U===0,yearLabelFormat:O,__stopPropagation:P,__onControlClick:l,__onControlMouseEnter:c,__onControlKeyDown:(F,z)=>Qq({levelIndex:U,rowIndex:z.rowIndex,cellIndex:z.cellIndex,event:F,controlsRef:V}),__getControlRef:(F,z,G)=>{Array.isArray(V.current[U])||(V.current[U]=[]),Array.isArray(V.current[U][F])||(V.current[U][F]=[]),V.current[U][F][z]=G},levelControlAriaLabel:typeof N=="function"?N(W):N,locale:i,minDate:o,maxDate:s,__preventFocus:d,nextIcon:h,previousIcon:p,nextLabel:m,previousLabel:g,onNext:y,onPrevious:v,onLevelClick:b,nextDisabled:_,previousDisabled:w,hasNextLevel:S,getMonthControlProps:u,classNames:E,styles:C,unstyled:A,__staticSelector:k||"YearLevelGroup",withCellSpacing:f},U)});return T.jsx(lg,{classNames:E,styles:C,__staticSelector:k||"YearLevelGroup",ref:t,size:j,unstyled:A,...B,children:q})});bO.classes={...gO.classes,...lg.classes};bO.displayName="@mantine/dates/YearLevelGroup";const h3t={numberOfColumns:1},_O=Be((e,t)=>{const n=Ae("MonthLevelGroup",h3t,e),{month:r,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__onDayClick:g,__onDayMouseEnter:y,withCellSpacing:v,__preventFocus:b,nextIcon:_,previousIcon:w,nextLabel:S,previousLabel:E,onNext:C,onPrevious:A,onLevelClick:k,nextDisabled:P,previousDisabled:$,hasNextLevel:N,classNames:O,styles:j,unstyled:M,numberOfColumns:B,levelControlAriaLabel:V,monthLabelFormat:q,__staticSelector:D,__stopPropagation:U,size:W,static:F,vars:z,...G}=n,ee=I.useRef([]),ce=Array(B).fill(0).map((le,se)=>{const ge=Ot(r).add(se,"months").toDate();return T.jsx(yO,{month:ge,withNext:se===B-1,withPrevious:se===0,monthLabelFormat:q,__stopPropagation:U,__onDayClick:g,__onDayMouseEnter:y,__onDayKeyDown:(be,ve)=>Qq({levelIndex:se,rowIndex:ve.rowIndex,cellIndex:ve.cellIndex,event:be,controlsRef:ee}),__getDayRef:(be,ve,Ye)=>{Array.isArray(ee.current[se])||(ee.current[se]=[]),Array.isArray(ee.current[se][be])||(ee.current[se][be]=[]),ee.current[se][be][ve]=Ye},levelControlAriaLabel:typeof V=="function"?V(ge):V,locale:i,firstDayOfWeek:o,weekdayFormat:s,weekendDays:a,getDayProps:u,excludeDate:l,minDate:c,maxDate:f,renderDay:d,hideOutsideDates:h,hideWeekdays:p,getDayAriaLabel:m,__preventFocus:b,nextIcon:_,previousIcon:w,nextLabel:S,previousLabel:E,onNext:C,onPrevious:A,onLevelClick:k,nextDisabled:P,previousDisabled:$,hasNextLevel:N,classNames:O,styles:j,unstyled:M,__staticSelector:D||"MonthLevelGroup",size:W,static:F,withCellSpacing:v},se)});return T.jsx(lg,{classNames:O,styles:j,__staticSelector:D||"MonthLevelGroup",ref:t,size:W,...G,children:ce})});_O.classes={...lg.classes,...yO.classes};_O.displayName="@mantine/dates/MonthLevelGroup";var LTe={input:"m_6fa5e2aa"};const p3t={},wO=Be((e,t)=>{const{inputProps:n,wrapperProps:r,placeholder:i,classNames:o,styles:s,unstyled:a,popoverProps:u,modalProps:l,dropdownType:c,children:f,formattedValue:d,dropdownHandlers:h,dropdownOpened:p,onClick:m,clearable:g,onClear:y,clearButtonProps:v,rightSection:b,shouldClear:_,readOnly:w,disabled:S,value:E,name:C,form:A,type:k,...P}=Gme("PickerInputBase",p3t,e),$=b||(g&&_&&!w&&!S?T.jsx(Fy,{variant:"transparent",onClick:y,unstyled:a,size:n.size||"sm",...v}):null),N=()=>{k==="range"&&Array.isArray(E)&&E[0]&&!E[1]&&y(),h.close()};return T.jsxs(T.Fragment,{children:[c==="modal"&&!w&&T.jsx(no,{opened:p,onClose:N,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:a,...l,children:f}),T.jsx(ti.Wrapper,{...r,children:T.jsxs(gi,{position:"bottom-start",opened:p,trapFocus:!0,returnFocus:!0,unstyled:a,...u,disabled:(u==null?void 0:u.disabled)||c==="modal"||w,onClose:()=>{var O;(O=u==null?void 0:u.onClose)==null||O.call(u),N()},children:[T.jsx(gi.Target,{children:T.jsx(ti,{"aria-label":d||i,"data-dates-input":!0,"data-read-only":w||void 0,disabled:S,component:"button",type:"button",multiline:!0,onClick:O=>{m==null||m(O),h.toggle()},rightSection:$,...n,ref:t,classNames:{...o,input:Ni(LTe.input,o==null?void 0:o.input)},...P,children:d||T.jsx(ti.Placeholder,{error:n.error,unstyled:a,className:o==null?void 0:o.placeholder,style:s==null?void 0:s.placeholder,children:i})})}),T.jsx(gi.Dropdown,{"data-dates-dropdown":!0,children:f})]})}),T.jsx(ETe,{value:E,name:C,form:A,type:k})]})});wO.classes=LTe;wO.displayName="@mantine/dates/PickerInputBase";const Fse=e=>e==="range"?[null,null]:e==="multiple"?[]:null;function eW({type:e,value:t,defaultValue:n,onChange:r,applyTimezone:i=!0}){const o=I.useRef(e),s=Zu(),[a,u,l]=ms({value:dm("add",t,s.getTimezone(),!i),defaultValue:dm("add",n,s.getTimezone(),!i),finalValue:Fse(e),onChange:f=>{r==null||r(dm("remove",f,s.getTimezone(),!i))}});let c=a;return o.current!==e&&(o.current=e,t===void 0&&(c=n!==void 0?n:Fse(e),u(c))),[c,u,l]}function V6(e,t){return e?e==="month"?0:e==="year"?1:2:t||0}function m3t(e){return e===0?"month":e===1?"year":"decade"}function aE(e,t,n){return m3t(Cf(V6(e,0),V6(t,0),V6(n,2)))}const g3t={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},EO=Be((e,t)=>{const n=Ae("Calendar",g3t,e),{vars:r,maxLevel:i,minLevel:o,defaultLevel:s,level:a,onLevelChange:u,date:l,defaultDate:c,onDateChange:f,numberOfColumns:d,columnsToScroll:h,ariaLabels:p,onYearSelect:m,onMonthSelect:g,onYearMouseEnter:y,onMonthMouseEnter:v,__updateDateOnYearSelect:b,__updateDateOnMonthSelect:_,firstDayOfWeek:w,weekdayFormat:S,weekendDays:E,getDayProps:C,excludeDate:A,renderDay:k,hideOutsideDates:P,hideWeekdays:$,getDayAriaLabel:N,monthLabelFormat:O,nextIcon:j,previousIcon:M,__onDayClick:B,__onDayMouseEnter:V,withCellSpacing:q,monthsListFormat:D,getMonthControlProps:U,yearLabelFormat:W,yearsListFormat:F,getYearControlProps:z,decadeLabelFormat:G,classNames:ee,styles:ce,unstyled:le,minDate:se,maxDate:ge,locale:be,__staticSelector:ve,size:Ye,__preventFocus:Ue,__stopPropagation:ht,onNextDecade:Je,onPreviousDecade:ke,onNextYear:Ne,onPreviousYear:ze,onNextMonth:ut,onPreviousMonth:Mt,static:qe,__timezoneApplied:me,...Xe}=n,{resolvedClassNames:vt,resolvedStyles:he}=jh({classNames:ee,styles:ce,props:n}),[Te,Le]=ms({value:a?aE(a,o,i):void 0,defaultValue:s?aE(s,o,i):void 0,finalValue:aE(void 0,o,i),onChange:u}),[He,lt]=eW({type:"default",value:l,defaultValue:c,onChange:f,applyTimezone:!me}),an={__staticSelector:ve||"Calendar",styles:he,classNames:vt,unstyled:le,size:Ye},$n=Zu(),ct=h||d||1,$t=He||dm("add",new Date,$n.getTimezone()),pt=()=>{const ln=Ot($t).add(ct,"month").toDate();ut==null||ut(ln),lt(ln)},Qt=()=>{const ln=Ot($t).subtract(ct,"month").toDate();Mt==null||Mt(ln),lt(ln)},un=()=>{const ln=Ot($t).add(ct,"year").toDate();Ne==null||Ne(ln),lt(ln)},Jt=()=>{const ln=Ot($t).subtract(ct,"year").toDate();ze==null||ze(ln),lt(ln)},Yi=()=>{const ln=Ot($t).add(10*ct,"year").toDate();Je==null||Je(ln),lt(ln)},ii=()=>{const ln=Ot($t).subtract(10*ct,"year").toDate();ke==null||ke(ln),lt(ln)};return T.jsxs(Ce,{ref:t,size:Ye,"data-calendar":!0,...Xe,children:[Te==="month"&&T.jsx(_O,{month:$t,minDate:se,maxDate:ge,firstDayOfWeek:w,weekdayFormat:S,weekendDays:E,getDayProps:C,excludeDate:A,renderDay:k,hideOutsideDates:P,hideWeekdays:$,getDayAriaLabel:N,onNext:pt,onPrevious:Qt,hasNextLevel:i!=="month",onLevelClick:()=>Le("year"),numberOfColumns:d,locale:be,levelControlAriaLabel:p==null?void 0:p.monthLevelControl,nextLabel:p==null?void 0:p.nextMonth,nextIcon:j,previousLabel:p==null?void 0:p.previousMonth,previousIcon:M,monthLabelFormat:O,__onDayClick:B,__onDayMouseEnter:V,__preventFocus:Ue,__stopPropagation:ht,static:qe,withCellSpacing:q,...an}),Te==="year"&&T.jsx(bO,{year:$t,numberOfColumns:d,minDate:se,maxDate:ge,monthsListFormat:D,getMonthControlProps:U,locale:be,onNext:un,onPrevious:Jt,hasNextLevel:i!=="month"&&i!=="year",onLevelClick:()=>Le("decade"),levelControlAriaLabel:p==null?void 0:p.yearLevelControl,nextLabel:p==null?void 0:p.nextYear,nextIcon:j,previousLabel:p==null?void 0:p.previousYear,previousIcon:M,yearLabelFormat:W,__onControlMouseEnter:v,__onControlClick:(ln,ir)=>{_&&lt(ir),Le(aE("month",o,i)),g==null||g(ir)},__preventFocus:Ue,__stopPropagation:ht,withCellSpacing:q,...an}),Te==="decade"&&T.jsx(vO,{decade:$t,minDate:se,maxDate:ge,yearsListFormat:F,getYearControlProps:z,locale:be,onNext:Yi,onPrevious:ii,numberOfColumns:d,nextLabel:p==null?void 0:p.nextDecade,nextIcon:j,previousLabel:p==null?void 0:p.previousDecade,previousIcon:M,decadeLabelFormat:G,__onControlMouseEnter:y,__onControlClick:(ln,ir)=>{b&&lt(ir),Le(aE("year",o,i)),m==null||m(ir)},__preventFocus:Ue,__stopPropagation:ht,withCellSpacing:q,...an})]})});EO.classes={...vO.classes,...bO.classes,..._O.classes};EO.displayName="@mantine/dates/Calendar";function y3t(e){const{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:u,defaultDate:l,onDateChange:c,numberOfColumns:f,columnsToScroll:d,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:b,onNextYear:_,onPreviousYear:w,onNextDecade:S,onPreviousDecade:E,withCellSpacing:C,__updateDateOnYearSelect:A,__updateDateOnMonthSelect:k,firstDayOfWeek:P,weekdayFormat:$,weekendDays:N,getDayProps:O,excludeDate:j,renderDay:M,hideOutsideDates:B,hideWeekdays:V,getDayAriaLabel:q,monthLabelFormat:D,monthsListFormat:U,getMonthControlProps:W,yearLabelFormat:F,yearsListFormat:z,getYearControlProps:G,decadeLabelFormat:ee,allowSingleDateInRange:ce,allowDeselect:le,minDate:se,maxDate:ge,locale:be,...ve}=e;return{calendarProps:{maxLevel:t,minLevel:n,defaultLevel:r,level:i,onLevelChange:o,nextIcon:s,previousIcon:a,date:u,defaultDate:l,onDateChange:c,numberOfColumns:f,columnsToScroll:d,ariaLabels:h,onYearSelect:p,onMonthSelect:m,onYearMouseEnter:g,onMonthMouseEnter:y,onNextMonth:v,onPreviousMonth:b,onNextYear:_,onPreviousYear:w,onNextDecade:S,onPreviousDecade:E,withCellSpacing:C,__updateDateOnYearSelect:A,__updateDateOnMonthSelect:k,firstDayOfWeek:P,weekdayFormat:$,weekendDays:N,getDayProps:O,excludeDate:j,renderDay:M,hideOutsideDates:B,hideWeekdays:V,getDayAriaLabel:q,monthLabelFormat:D,monthsListFormat:U,getMonthControlProps:W,yearLabelFormat:F,yearsListFormat:z,getYearControlProps:G,decadeLabelFormat:ee,allowSingleDateInRange:ce,allowDeselect:le,minDate:se,maxDate:ge,locale:be},others:ve}}function jse(e,t){const n=[...t].sort((r,i)=>r.getTime()-i.getTime());return Ot(n[0]).startOf("day").subtract(1,"ms").isBefore(e)&&Ot(n[1]).endOf("day").add(1,"ms").isAfter(e)}function v3t({type:e,level:t,value:n,defaultValue:r,onChange:i,allowSingleDateInRange:o,allowDeselect:s,onMouseLeave:a,applyTimezone:u=!0}){const[l,c]=eW({type:e,value:n,defaultValue:r,onChange:i,applyTimezone:u}),[f,d]=I.useState(e==="range"&&l[0]&&!l[1]?l[0]:null),[h,p]=I.useState(null),m=S=>{if(e==="range"){if(f instanceof Date&&!l[1]){if(Ot(S).isSame(f,t)&&!o){d(null),p(null),c([null,null]);return}const E=[S,f];E.sort((C,A)=>C.getTime()-A.getTime()),c(E),p(null),d(null);return}if(l[0]&&!l[1]&&Ot(S).isSame(l[0],t)&&!o){d(null),p(null),c([null,null]);return}c([S,null]),p(null),d(S);return}if(e==="multiple"){l.some(E=>Ot(E).isSame(S,t))?c(l.filter(E=>!Ot(E).isSame(S,t))):c([...l,S]);return}l&&s&&Ot(S).isSame(l,t)?c(null):c(S)},g=S=>f instanceof Date&&h instanceof Date?jse(S,[h,f]):l[0]instanceof Date&&l[1]instanceof Date?jse(S,l):!1,y=e==="range"?S=>{a==null||a(S),p(null)}:a,v=S=>l[0]instanceof Date&&Ot(S).isSame(l[0],t)?!(h&&Ot(h).isBefore(l[0])):!1,b=S=>l[1]instanceof Date?Ot(S).isSame(l[1],t):!(l[0]instanceof Date)||!h?!1:Ot(h).isBefore(l[0])&&Ot(S).isSame(l[0],t),_=S=>{if(e==="range")return{selected:l.some(C=>C&&Ot(C).isSame(S,t)),inRange:g(S),firstInRange:v(S),lastInRange:b(S),"data-autofocus":!!l[0]&&Ot(l[0]).isSame(S,t)||void 0};if(e==="multiple")return{selected:l.some(C=>C&&Ot(C).isSame(S,t)),"data-autofocus":!!l[0]&&Ot(l[0]).isSame(S,t)||void 0};const E=Ot(l).isSame(S,t);return{selected:E,"data-autofocus":E||void 0}},w=e==="range"&&f?p:()=>{};return I.useEffect(()=>{e==="range"&&!l[0]&&!l[1]&&d(null)},[n]),{onDateChange:m,onRootMouseLeave:y,onHoveredDateChange:w,getControlProps:_,_value:l,setValue:c}}const b3t={type:"default",defaultLevel:"month",numberOfColumns:1},xO=Be((e,t)=>{const n=Ae("DatePicker",b3t,e),{classNames:r,styles:i,vars:o,type:s,defaultValue:a,value:u,onChange:l,__staticSelector:c,getDayProps:f,allowSingleDateInRange:d,allowDeselect:h,onMouseLeave:p,numberOfColumns:m,hideOutsideDates:g,__onDayMouseEnter:y,__onDayClick:v,__timezoneApplied:b,..._}=n,{onDateChange:w,onRootMouseLeave:S,onHoveredDateChange:E,getControlProps:C}=v3t({type:s,level:"day",allowDeselect:h,allowSingleDateInRange:d,value:u,defaultValue:a,onChange:l,onMouseLeave:p,applyTimezone:!b}),{resolvedClassNames:A,resolvedStyles:k}=jh({classNames:r,styles:i,props:n}),P=Zu();return T.jsx(EO,{ref:t,minLevel:"month",classNames:A,styles:k,__staticSelector:c||"DatePicker",onMouseLeave:S,numberOfColumns:m,hideOutsideDates:g??m!==1,__onDayMouseEnter:($,N)=>{E(N),y==null||y($,N)},__onDayClick:($,N)=>{w(N),v==null||v($,N)},getDayProps:$=>({...C($),...f==null?void 0:f($)}),..._,date:dm("add",_.date,P.getTimezone(),b),__timezoneApplied:!0})});xO.classes=EO.classes;xO.displayName="@mantine/dates/DatePicker";function _3t({type:e,value:t,defaultValue:n,onChange:r,locale:i,format:o,closeOnChange:s,sortDates:a,labelSeparator:u,valueFormatter:l}){const c=Zu(),[f,d]=Ax(!1),[h,p]=eW({type:e,value:t,defaultValue:n,onChange:r}),m=IMt({type:e,date:h,locale:c.getLocale(i),format:o,labelSeparator:c.getLabelSeparator(u),formatter:l}),g=b=>{s&&(e==="default"&&d.close(),e==="range"&&b[0]&&b[1]&&d.close()),p(a&&e==="multiple"?[...b].sort((_,w)=>_.getTime()-w.getTime()):b)},y=()=>g(e==="range"?[null,null]:e==="multiple"?[]:null),v=e==="range"?!!h[0]:e==="multiple"?h.length>0:h!==null;return{_value:h,setValue:g,onClear:y,shouldClear:v,formattedValue:m,dropdownOpened:f,dropdownHandlers:d}}const w3t={type:"default",valueFormat:"MMMM D, YYYY",closeOnChange:!0,sortDates:!0,dropdownType:"popover"},tW=Be((e,t)=>{const n=Ae("DatePickerInput",w3t,e),{type:r,value:i,defaultValue:o,onChange:s,valueFormat:a,labelSeparator:u,locale:l,classNames:c,styles:f,unstyled:d,closeOnChange:h,size:p,variant:m,dropdownType:g,sortDates:y,minDate:v,maxDate:b,vars:_,defaultDate:w,valueFormatter:S,...E}=n,{resolvedClassNames:C,resolvedStyles:A}=jh({classNames:c,styles:f,props:n}),{calendarProps:k,others:P}=y3t(E),{_value:$,setValue:N,formattedValue:O,dropdownHandlers:j,dropdownOpened:M,onClear:B,shouldClear:V}=_3t({type:r,value:i,defaultValue:o,onChange:s,locale:l,format:a,labelSeparator:u,closeOnChange:h,sortDates:y,valueFormatter:S}),q=Array.isArray($)?$[0]||w:$||w,D=Zu();return T.jsx(wO,{formattedValue:O,dropdownOpened:M,dropdownHandlers:j,classNames:C,styles:A,unstyled:d,ref:t,onClear:B,shouldClear:V,value:$,size:p,variant:m,dropdownType:g,...P,type:r,__staticSelector:"DatePickerInput",children:T.jsx(xO,{...k,size:p,variant:m,type:r,value:$,defaultDate:q||LMt({maxDate:b,minDate:v,timezone:D.getTimezone()}),onChange:N,locale:l,classNames:C,styles:A,unstyled:d,__staticSelector:"DatePickerInput",__stopPropagation:g==="popover",minDate:v,maxDate:b,date:dm("add",k.date,D.getTimezone()),__timezoneApplied:!0})})});tW.classes={...wO.classes,...xO.classes};tW.displayName="@mantine/dates/DatePickerInput";const Bse={};function g9(e,t){e===void 0&&(e=Bse),t===void 0&&(t=Bse);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var E3t=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),x3t=Object.prototype.hasOwnProperty;function y9(e,t){return x3t.call(e,t)}function v9(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)y9(e,i)&&r.push(i);return r}function Nu(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function b9(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function Wg(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function FTe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function _9(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(_9(e[t]))return!0}else if(typeof e=="object"){for(var r=v9(e),i=r.length,o=0;o<i;o++)if(_9(e[r[o]]))return!0}}return!1}function Use(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var jTe=function(e){E3t(t,e);function t(n,r,i,o,s){var a=this.constructor,u=e.call(this,Use(n,{name:r,index:i,operation:o,tree:s}))||this;return u.name=r,u.index=i,u.operation=o,u.tree=s,Object.setPrototypeOf(u,a.prototype),u.message=Use(n,{name:r,index:i,operation:o,tree:s}),u}return t}(Error),Si=jTe,T3t=Nu,I1={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=wP(n,this.path);r&&(r=Nu(r));var i=k0(n,{op:"remove",path:this.from}).removed;return k0(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=wP(n,this.from);return k0(n,{op:"add",path:this.path,value:Nu(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:dS(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},S3t={add:function(e,t,n){return b9(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:I1.move,copy:I1.copy,test:I1.test,_get:I1._get};function wP(e,t){if(t=="")return e;var n={op:"_get",path:t};return k0(e,n),n.value}function k0(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):EP(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=wP(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=dS(e,t.value),s.test===!1)throw new Si("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Si("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Nu(e));var a=t.path||"",u=a.split("/"),l=e,c=1,f=u.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=EP;;){if(h=u[c],h&&h.indexOf("~")!=-1&&(h=FTe(h)),i&&(h=="__proto__"||h=="prototype"&&c>0&&u[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(l[h]===void 0?d=u.slice(0,c).join("/"):c==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),c++,Array.isArray(l)){if(h==="-")h=l.length;else{if(n&&!b9(h))throw new Si("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);b9(h)&&(h=~~h)}if(c>=f){if(n&&t.op==="add"&&h>l.length)throw new Si("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=S3t[t.op].call(t,l,h,e);if(s.test===!1)throw new Si("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(c>=f){var s=I1[t.op].call(t,l,h,e);if(s.test===!1)throw new Si("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(l=l[h],n&&c<f&&(!l||typeof l!="object"))throw new Si("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function TO(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Si("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Nu(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=k0(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function C3t(e,t,n){var r=k0(e,t);if(r.test===!1)throw new Si("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function EP(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Si("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(I1[e.op]){if(typeof e.path!="string")throw new Si("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Si('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Si("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Si("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&_9(e.value))throw new Si("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Si("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Si("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=BTe([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Si("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Si("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function BTe(e,t,n){try{if(!Array.isArray(e))throw new Si("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)TO(Nu(t),Nu(e),n||!0);else{n=n||EP;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Si)return i;throw i}}function dS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!dS(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!dS(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const A3t=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Si,_areEquals:dS,applyOperation:k0,applyPatch:TO,applyReducer:C3t,deepClone:T3t,getValueByPointer:wP,validate:BTe,validator:EP},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var nW=new WeakMap,I3t=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),k3t=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function R3t(e){return nW.get(e)}function P3t(e,t){return e.observers.get(t)}function N3t(e,t){e.observers.delete(t.callback)}function D3t(e,t){t.unobserve()}function $3t(e,t){var n=[],r,i=R3t(e);if(!i)i=new I3t(e),nW.set(e,i);else{var o=P3t(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Nu(e),t){r.callback=t,r.next=null;var s=function(){w9(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){w9(r),clearTimeout(r.next),N3t(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new k3t(t,r)),r}function w9(e,t){t===void 0&&(t=!1);var n=nW.get(e.object);rW(n.value,e.object,e.patches,"",t),e.patches.length&&TO(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function rW(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=v9(t),s=v9(e),a=!1,u=s.length-1;u>=0;u--){var l=s[u],c=e[l];if(y9(t,l)&&!(t[l]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var f=t[l];typeof c=="object"&&c!=null&&typeof f=="object"&&f!=null&&Array.isArray(c)===Array.isArray(f)?rW(c,f,n,r+"/"+Wg(l),i):c!==f&&(i&&n.push({op:"test",path:r+"/"+Wg(l),value:Nu(c)}),n.push({op:"replace",path:r+"/"+Wg(l),value:Nu(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+Wg(l),value:Nu(c)}),n.push({op:"remove",path:r+"/"+Wg(l)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var u=0;u<o.length;u++){var l=o[u];!y9(e,l)&&t[l]!==void 0&&n.push({op:"add",path:r+"/"+Wg(l),value:Nu(t[l])})}}}function O3t(e,t,n){n===void 0&&(n=!1);var r=[];return rW(e,t,r,"",n),r}const M3t=Object.freeze(Object.defineProperty({__proto__:null,compare:O3t,generate:w9,observe:$3t,unobserve:D3t},Symbol.toStringTag,{value:"Module"}));Object.assign({},A3t,M3t,{JsonPatchError:jTe,deepClone:Nu,escapePathComponent:Wg,unescapePathComponent:FTe});var L3t=/("(?:[^\\"]|\\.)*")|[:,]/g,F3t=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,u,l){var c,f,d,h,p,m,g,y,v,b,_,w;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),_=JSON.stringify(a,o),_===void 0)return _;if(g=i-u.length-l,_.length<=g&&(v=_.replace(L3t,function(S,E){return E||S+" "}),v.length<=g))return v;if(o!=null&&(a=JSON.parse(_),o=void 0),typeof a=="object"&&a!==null){if(y=u+r,d=[],f=0,Array.isArray(a))for(b="[",c="]",g=a.length;f<g;f++)d.push(s(a[f],y,f===g-1?0:1)||"null");else for(b="{",c="}",m=Object.keys(a),g=m.length;f<g;f++)h=m[f],p=JSON.stringify(h)+": ",w=s(a[h],y,p.length+(f===g-1?0:1)),w!==void 0&&d.push(p+w);if(d.length>0)return[b,r+d.join(`,
`+y),c].join(`
`+u)}return _}(t,"",0)};const H6=gn(F3t);function mu(e,t,n){return e.fields=t||[],e.fname=n,e}function Pi(e){return e==null?null:e.fname}function Fs(e){return e==null?null:e.fields}function UTe(e){return e.length===1?j3t(e[0]):B3t(e)}const j3t=e=>function(t){return t[e]},B3t=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function Me(e){throw Error(e)}function cd(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,u;e=e+"";function l(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(u=e[a],u==="\\")o+=e.substring(s,a++),s=a;else if(u===r)l(),r=null,i=-1;else{if(r)continue;s===i&&u==='"'||s===i&&u==="'"?(s=a+1,r=u):u==="."&&!i?a>s?l():s=a+1:u==="["?(a>s&&l(),i=s=a+1):u==="]"&&(i||Me("Access path missing open bracket: "+e),i>0&&l(),i=0,s=a+1)}return i&&Me("Access path missing closing bracket: "+e),r&&Me("Access path missing closing quote: "+e),a>s&&(a++,l()),t}function Dl(e,t,n){const r=cd(e);return e=r.length===1?r[0]:e,mu((n&&n.get||UTe)(r),[e],t||e)}const GC=Dl("id"),qs=mu(e=>e,[],"identity"),$p=mu(()=>0,[],"zero"),aw=mu(()=>1,[],"one"),$l=mu(()=>!0,[],"true"),pp=mu(()=>!1,[],"false");function U3t(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const zTe=0,iW=1,oW=2,VTe=3,HTe=4;function sW(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U3t,r=e||zTe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=iW&&n(t||"error","ERROR",arguments),this},warn(){return r>=oW&&n(t||"warn","WARN",arguments),this},info(){return r>=VTe&&n(t||"log","INFO",arguments),this},debug(){return r>=HTe&&n(t||"log","DEBUG",arguments),this}}}var je=Array.isArray;function wt(e){return e===Object(e)}const zse=e=>e!=="__proto__";function uw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=z3t(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;lw(r,o,i[o],s)}return r},{})}function lw(e,t,n,r){if(!zse(t))return;let i,o;if(wt(n)&&!je(n)){o=wt(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?lw(o,i,n[i]):zse(i)&&(o[i]=n[i])}else e[t]=n}function z3t(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function Wn(e){return e[e.length-1]}function Os(e){return e==null||e===""?null:+e}const qTe=e=>t=>e*Math.exp(t),WTe=e=>t=>Math.log(e*t),GTe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),YTe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,xP=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function SO(e,t,n,r){const i=n(e[0]),o=n(Wn(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function KTe(e,t){return SO(e,t,Os,qs)}function XTe(e,t){var n=Math.sign(e[0]);return SO(e,t,WTe(n),qTe(n))}function QTe(e,t,n){return SO(e,t,xP(n),xP(1/n))}function JTe(e,t,n){return SO(e,t,GTe(n),YTe(n))}function CO(e,t,n,r,i){const o=r(e[0]),s=r(Wn(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function aW(e,t,n){return CO(e,t,n,Os,qs)}function uW(e,t,n){const r=Math.sign(e[0]);return CO(e,t,n,WTe(r),qTe(r))}function TP(e,t,n,r){return CO(e,t,n,xP(r),xP(1/r))}function lW(e,t,n,r){return CO(e,t,n,GTe(r),YTe(r))}function ZTe(e){return 1+~~(new Date(e).getMonth()/3)}function eSe(e){return 1+~~(new Date(e).getUTCMonth()/3)}function bt(e){return e!=null?je(e)?e:[e]:[]}function tSe(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function wn(e){return typeof e=="function"}const V3t="descending";function cW(e,t,n){n=n||{},t=bt(t)||[];const r=[],i=[],o={},s=n.comparator||H3t;return bt(e).forEach((a,u)=>{a!=null&&(r.push(t[u]===V3t?-1:1),i.push(a=wn(a)?a:Dl(a,null,n)),(Fs(a)||[]).forEach(l=>o[l]=1))}),i.length===0?null:mu(s(i,r),Object.keys(o))}const AO=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),H3t=(e,t)=>e.length===1?q3t(e[0],t[0]):W3t(e,t,e.length),q3t=(e,t)=>function(n,r){return AO(e(n),e(r))*t},W3t=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=AO(o(r),o(i));return s*t[a]});function Ws(e){return wn(e)?e:()=>e}function fW(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function _n(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Gf(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function nSe(e,t){const n=e.length;let r=-1,i,o,s,a,u;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,u=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=u=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,u=r))}return[a,u]}const G3t=Object.prototype.hasOwnProperty;function qt(e,t){return G3t.call(e,t)}const YA={};function cw(e){let t={},n;function r(o){return qt(t,o)&&t[o]!==YA}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===YA&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=YA),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const u=t[a];u!==YA&&(!n||!n(u))&&(o[a]=u,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function rSe(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],u=Wn(e),l;u<a&&(l=a,a=u,u=l),l=Math.abs(t-a);const c=Math.abs(u-t);return l<c&&l<=s?r:c<=s?i:o}function dt(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),_n(r,n)}function k1(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function cg(e){return typeof e=="boolean"}function hm(e){return Object.prototype.toString.call(e)==="[object Date]"}function iSe(e){return e&&wn(e[Symbol.iterator])}function tr(e){return typeof e=="number"}function oSe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function _t(e){return typeof e=="string"}function dW(e,t,n){e&&(e=t?bt(e).map(a=>a.replace(/\\(.)/g,"$1")):bt(e));const r=e&&e.length,i=n&&n.get||UTe,o=a=>i(t?[a]:cd(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(u){return""+a(u)}}else{const a=e.map(o);s=function(u){let l=""+a[0](u),c=0;for(;++c<r;)l+="|"+a[c](u);return l}}return mu(s,e,"key")}function sSe(e,t){const n=e[0],r=Wn(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Y3t=1e4;function aSe(e){e=+e||Y3t;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>qt(t,s)||qt(n,s),get:s=>qt(t,s)?t[s]:qt(n,s)?o(s,n[s]):void 0,set:(s,a)=>qt(t,s)?t[s]=a:o(s,a)}}function uSe(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,u=0,l=0;for(;a<i&&u<o;++l)s[l]=e(t[a],n[u])>0?n[u++]:t[a++];for(;a<i;++a,++l)s[l]=t[a];for(;u<o;++u,++l)s[l]=n[u];return s}function WE(e,t){let n="";for(;--t>=0;)n+=e;return n}function lSe(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?WE(i,s)+o:r==="center"?WE(i,~~(s/2))+o+WE(i,Math.ceil(s/2)):o+WE(i,s)}function YC(e){return e&&Wn(e)-e[0]||0}function at(e){return je(e)?"["+e.map(at)+"]":wt(e)||_t(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function hW(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const K3t=e=>tr(e)||hm(e)?e:Date.parse(e);function pW(e,t){return t=t||K3t,e==null||e===""?null:t(e)}function mW(e){return e==null||e===""?null:e+""}function Fc(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function cSe(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function _p(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Vse={},q6={},W6=34,uE=10,G6=13;function fSe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function X3t(e,t){var n=fSe(e);return function(r,i){return t(n(r),i,e)}}function Hse(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function $a(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Q3t(e){return e<0?"-"+$a(-e,6):e>9999?"+"+$a(e,6):$a(e,4)}function J3t(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Q3t(e.getUTCFullYear())+"-"+$a(e.getUTCMonth()+1,2)+"-"+$a(e.getUTCDate(),2)+(i?"T"+$a(t,2)+":"+$a(n,2)+":"+$a(r,2)+"."+$a(i,3)+"Z":r?"T"+$a(t,2)+":"+$a(n,2)+":"+$a(r,2)+"Z":n||t?"T"+$a(t,2)+":"+$a(n,2)+"Z":"")}function Z3t(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,m=i(f,function(g,y){if(h)return h(g,y-1);p=g,h=d?X3t(g,d):fSe(g)});return m.columns=p||[],m}function i(f,d){var h=[],p=f.length,m=0,g=0,y,v=p<=0,b=!1;f.charCodeAt(p-1)===uE&&--p,f.charCodeAt(p-1)===G6&&--p;function _(){if(v)return q6;if(b)return b=!1,Vse;var S,E=m,C;if(f.charCodeAt(E)===W6){for(;m++<p&&f.charCodeAt(m)!==W6||f.charCodeAt(++m)===W6;);return(S=m)>=p?v=!0:(C=f.charCodeAt(m++))===uE?b=!0:C===G6&&(b=!0,f.charCodeAt(m)===uE&&++m),f.slice(E+1,S-1).replace(/""/g,'"')}for(;m<p;){if((C=f.charCodeAt(S=m++))===uE)b=!0;else if(C===G6)b=!0,f.charCodeAt(m)===uE&&++m;else if(C!==n)continue;return f.slice(E,S)}return v=!0,f.slice(E,p)}for(;(y=_())!==q6;){for(var w=[];y!==Vse&&y!==q6;)w.push(y),y=_();d&&(w=d(w,g++))==null||h.push(w)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function s(f,d){return d==null&&(d=Hse(f)),[d.map(c).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Hse(f)),o(f,d).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?J3t(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:u,formatRow:l,formatValue:c}}function eLt(e){return e}function tLt(e){if(e==null)return eLt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,u){u||(t=n=0);var l=2,c=a.length,f=new Array(c);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;l<c;)f[l]=a[l],++l;return f}}function nLt(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function rLt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return qse(e,n)})}:qse(e,t)}function qse(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=dSe(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function dSe(e,t){var n=tLt(e.transform),r=e.arcs;function i(c,f){f.length&&f.pop();for(var d=r[c<0?~c:c],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));c<0&&nLt(f,p)}function o(c){return n(c)}function s(c){for(var f=[],d=0,h=c.length;d<h;++d)i(c[d],f);return f.length<2&&f.push(f[0]),f}function a(c){for(var f=s(c);f.length<4;)f.push(f[0]);return f}function u(c){return c.map(a)}function l(c){var f=c.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:c.geometries.map(l)};case"Point":d=o(c.coordinates);break;case"MultiPoint":d=c.coordinates.map(o);break;case"LineString":d=s(c.arcs);break;case"MultiLineString":d=c.arcs.map(s);break;case"Polygon":d=u(c.arcs);break;case"MultiPolygon":d=c.arcs.map(u);break;default:return null}return{type:f,coordinates:d}}return l(t)}function iLt(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(l,c){var f=e.arcs[l<0?~l:l],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=l,t[c]=d)}),t.forEach(function(l){var c=a(l),f=c[0],d=c[1],h,p;if(h=i[f])if(delete i[h.end],h.push(l),h.end=d,p=r[d]){delete r[p.start];var m=p===h?h:h.concat(p);r[m.start=h.start]=i[m.end=p.end]=m}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(l),h.start=f,p=i[f]){delete i[p.end];var g=p===h?h:p.concat(h);r[g.start=p.start]=i[g.end=h.end]=g}else r[h.start]=i[h.end]=h;else h=[l],r[h.start=f]=i[h.end=d]=h});function a(l){var c=e.arcs[l<0?~l:l],f=c[0],d;return e.transform?(d=[0,0],c.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=c[c.length-1],l<0?[d,f]:[f,d]}function u(l,c){for(var f in l){var d=l[f];delete c[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return u(i,r),u(r,i),t.forEach(function(l){n[l<0?~l:l]||o.push([l])}),o}function oLt(e){return dSe(e,sLt.apply(this,arguments))}function sLt(e,t,n){var r,i,o;if(arguments.length>1)r=aLt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:iLt(e,r)}}function aLt(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function u(f){f.forEach(a)}function l(f){f.forEach(u)}function c(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(c);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":u(f.arcs);break;case"MultiPolygon":l(f.arcs);break}}return c(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function fh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uLt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fw(e){let t,n,r;e.length!==2?(t=fh,n=(a,u)=>fh(e(a),u),r=(a,u)=>e(a)-u):(t=e===fh||e===uLt?e:lLt,n=e,r=e);function i(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(t(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:s,right:o}}function lLt(){return 0}function hSe(e){return e===null?NaN:+e}function*cLt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const pSe=fw(fh),Rm=pSe.right,fLt=pSe.left;fw(hSe).center;function dLt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function hLt(e,t){const n=dLt(e,t);return n&&Math.sqrt(n)}class ga{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Wse extends Map{constructor(t,n=ySe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(E9(this,t))}has(t){return super.has(E9(this,t))}set(t,n){return super.set(mSe(this,t),n)}delete(t){return super.delete(gSe(this,t))}}class SP extends Set{constructor(t,n=ySe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(E9(this,t))}add(t){return super.add(mSe(this,t))}delete(t){return super.delete(gSe(this,t))}}function E9({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gSe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ySe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pLt(e,t){return Array.from(t,n=>e[n])}function mLt(e=fh){if(e===fh)return vSe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function vSe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const gLt=Math.sqrt(50),yLt=Math.sqrt(10),vLt=Math.sqrt(2);function CP(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=gLt?10:o>=yLt?5:o>=vLt?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(e*l),u=Math.round(t*l),a/l<e&&++a,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*s,a=Math.round(e/l),u=Math.round(t/l),a*l<e&&++a,u*l>t&&--u),u<a&&.5<=n&&n<2?CP(e,t,n*2):[a,u,l]}function x9(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?CP(t,e,n):CP(e,t,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)u[l]=(o-l)/-s;else for(let l=0;l<a;++l)u[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)u[l]=(i+l)/-s;else for(let l=0;l<a;++l)u[l]=(i+l)*s;return u}function T9(e,t,n){return t=+t,e=+e,n=+n,CP(e,t,n)[2]}function Pm(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?T9(t,e,n):T9(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function R0(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function S9(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function bSe(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?vSe:mLt(i);r>n;){if(r-n>600){const u=r-n+1,l=t-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),h=Math.max(n,Math.floor(t-l*f/u+d)),p=Math.min(r,Math.floor(t+(u-l)*f/u+d));bSe(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(lE(e,n,t),i(e[r],o)>0&&lE(e,n,r);s<a;){for(lE(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?lE(e,n,a):(++a,lE(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function lE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function C9(e,t,n){if(e=Float64Array.from(cLt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return S9(e);if(t>=1)return R0(e);var r,i=(r-1)*t,o=Math.floor(i),s=R0(bSe(e,o).subarray(0,o+1)),a=S9(e.subarray(o+1));return s+(a-s)*(i-o)}}function _Se(e,t,n=hSe){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function bLt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function wSe(e,t){return C9(e,.5,t)}function*_Lt(e){for(const t of e)yield*t}function ESe(e){return Array.from(_Lt(e))}function Du(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function xSe(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function wLt(e,...t){e=new SP(e),t=t.map(ELt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function ELt(e){return e instanceof SP?e:new SP(e)}function xLt(...e){const t=new SP;for(const n of e)for(const r of n)t.add(r);return t}function TLt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function AP(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jb(e){return e=AP(Math.abs(e)),e?e[1]:NaN}function SLt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function CLt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ALt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ay(e){if(!(t=ALt.exec(e)))throw new Error("invalid format: "+e);var t;return new gW({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ay.prototype=gW.prototype;function gW(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gW.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ILt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var TSe;function kLt(e,t){var n=AP(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(TSe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+AP(e,Math.max(0,t+o-1))[0]}function Gse(e,t){var n=AP(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yse={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TLt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gse(e*100,t),r:Gse,s:kLt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kse(e){return e}var Xse=Array.prototype.map,Qse=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SSe(e){var t=e.grouping===void 0||e.thousands===void 0?Kse:SLt(Xse.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Kse:CLt(Xse.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=ay(f);var d=f.fill,h=f.align,p=f.sign,m=f.symbol,g=f.zero,y=f.width,v=f.comma,b=f.precision,_=f.trim,w=f.type;w==="n"?(v=!0,w="g"):Yse[w]||(b===void 0&&(b=12),_=!0,w="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",E=m==="$"?r:/[%p]/.test(w)?s:"",C=Yse[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(P){var $=S,N=E,O,j,M;if(w==="c")N=C(P)+N,P="";else{P=+P;var B=P<0||1/P<0;if(P=isNaN(P)?u:C(Math.abs(P),b),_&&(P=ILt(P)),B&&+P==0&&p!=="+"&&(B=!1),$=(B?p==="("?p:a:p==="-"||p==="("?"":p)+$,N=(w==="s"?Qse[8+TSe/3]:"")+N+(B&&p==="("?")":""),A){for(O=-1,j=P.length;++O<j;)if(M=P.charCodeAt(O),48>M||M>57){N=(M===46?i+P.slice(O+1):P.slice(O))+N,P=P.slice(0,O);break}}}v&&!g&&(P=t(P,1/0));var V=$.length+P.length+N.length,q=V<y?new Array(y-V+1).join(d):"";switch(v&&g&&(P=t(q+P,q.length?y-N.length:1/0),q=""),h){case"<":P=$+P+N+q;break;case"=":P=$+q+P+N;break;case"^":P=q.slice(0,V=q.length>>1)+$+P+N+q.slice(V);break;default:P=q+$+P+N;break}return o(P)}return k.toString=function(){return f+""},k}function c(f,d){var h=l((f=ay(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(jb(d)/3)))*3,m=Math.pow(10,-p),g=Qse[8+p/3];return function(y){return h(m*y)+g}}return{format:l,formatPrefix:c}}var KA,IO,yW;RLt({thousands:",",grouping:[3],currency:["$",""]});function RLt(e){return KA=SSe(e),IO=KA.format,yW=KA.formatPrefix,KA}function CSe(e){return Math.max(0,-jb(Math.abs(e)))}function ASe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jb(t)/3)))*3-jb(Math.abs(e)))}function ISe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jb(t)-jb(e))+1}const Y6=new Date,K6=new Date;function _o(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const u=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return u;let l;do u.push(l=new Date(+o)),t(o,a),e(o);while(l<o&&o<s);return u},i.filter=o=>_o(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(Y6.setTime(+o),K6.setTime(+s),e(Y6),e(K6),Math.floor(n(Y6,K6))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Bb=_o(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_o(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Bb);Bb.range;const Jd=1e3,vl=Jd*60,Zd=vl*60,Dh=Zd*24,vW=Dh*7,Jse=Dh*30,X6=Dh*365,eh=_o(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jd)},(e,t)=>(t-e)/Jd,e=>e.getUTCSeconds());eh.range;const kO=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jd)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getMinutes());kO.range;const RO=_o(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCMinutes());RO.range;const PO=_o(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jd-e.getMinutes()*vl)},(e,t)=>{e.setTime(+e+t*Zd)},(e,t)=>(t-e)/Zd,e=>e.getHours());PO.range;const NO=_o(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zd)},(e,t)=>(t-e)/Zd,e=>e.getUTCHours());NO.range;const dh=_o(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vl)/Dh,e=>e.getDate()-1);dh.range;const pm=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dh,e=>e.getUTCDate()-1);pm.range;const kSe=_o(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dh,e=>Math.floor(e/Dh));kSe.range;function nv(e){return _o(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*vl)/vW)}const dw=nv(0),IP=nv(1),PLt=nv(2),NLt=nv(3),Ub=nv(4),DLt=nv(5),$Lt=nv(6);dw.range;IP.range;PLt.range;NLt.range;Ub.range;DLt.range;$Lt.range;function rv(e){return _o(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vW)}const hw=rv(0),kP=rv(1),OLt=rv(2),MLt=rv(3),zb=rv(4),LLt=rv(5),FLt=rv(6);hw.range;kP.range;OLt.range;MLt.range;zb.range;LLt.range;FLt.range;const hS=_o(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hS.range;const pS=_o(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pS.range;const Yf=_o(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Yf.range;const Kf=_o(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_o(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Kf.range;function RSe(e,t,n,r,i,o){const s=[[eh,1,Jd],[eh,5,5*Jd],[eh,15,15*Jd],[eh,30,30*Jd],[o,1,vl],[o,5,5*vl],[o,15,15*vl],[o,30,30*vl],[i,1,Zd],[i,3,3*Zd],[i,6,6*Zd],[i,12,12*Zd],[r,1,Dh],[r,2,2*Dh],[n,1,vW],[t,1,Jse],[t,3,3*Jse],[e,1,X6]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const h=f&&typeof f.range=="function"?f:u(l,c,f),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function u(l,c,f){const d=Math.abs(c-l)/f,h=fw(([,,g])=>g).right(s,d);if(h===s.length)return e.every(Pm(l/X6,c/X6,f));if(h===0)return Bb.every(Math.max(Pm(l,c,f),1));const[p,m]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(m)}return[a,u]}const[jLt,BLt]=RSe(Kf,pS,hw,kSe,NO,RO),[ULt,zLt]=RSe(Yf,hS,dw,dh,PO,kO),ds="year",uu="quarter",js="month",fo="week",lu="date",$s="day",Xf="dayofyear",Wu="hours",Gu="minutes",Ol="seconds",jc="milliseconds",bW=[ds,uu,js,fo,lu,$s,Xf,Wu,Gu,Ol,jc],Q6=bW.reduce((e,t,n)=>(e[t]=1+n,e),{});function _W(e){const t=bt(e).slice(),n={};return t.length||Me("Missing time unit."),t.forEach(i=>{qt(Q6,i)?n[i]=1:Me(`Invalid time unit: ${i}.`)}),(n[fo]||n[$s]?1:0)+(n[uu]||n[js]||n[lu]?1:0)+(n[Xf]?1:0)>1&&Me(`Incompatible time units: ${e}`),t.sort((i,o)=>Q6[i]-Q6[o]),t}const VLt={[ds]:"%Y ",[uu]:"Q%q ",[js]:"%b ",[lu]:"%d ",[fo]:"W%U ",[$s]:"%a ",[Xf]:"%j ",[Wu]:"%H:00",[Gu]:"00:%M",[Ol]:":%S",[jc]:".%L",[`${ds}-${js}`]:"%Y-%m ",[`${ds}-${js}-${lu}`]:"%Y-%m-%d ",[`${Wu}-${Gu}`]:"%H:%M"};function PSe(e,t){const n=_n({},VLt,t),r=_W(e),i=r.length;let o="",s=0,a,u;for(s=0;s<i;)for(a=r.length;a>s;--a)if(u=r.slice(s,a).join("-"),n[u]!=null){o+=n[u],s=a;break}return o.trim()}const n0=new Date;function wW(e){return n0.setFullYear(e),n0.setMonth(0),n0.setDate(1),n0.setHours(0,0,0,0),n0}function NSe(e){return $Se(new Date(e))}function DSe(e){return A9(new Date(e))}function $Se(e){return dh.count(wW(e.getFullYear())-1,e)}function A9(e){return dw.count(wW(e.getFullYear())-1,e)}function I9(e){return wW(e).getDay()}function HLt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function OSe(e){return LSe(new Date(e))}function MSe(e){return k9(new Date(e))}function LSe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return pm.count(t-1,e)}function k9(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return hw.count(t-1,e)}function R9(e){return n0.setTime(Date.UTC(e,0,1)),n0.getUTCDay()}function qLt(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function FSe(e,t,n,r,i){const o=t||1,s=Wn(e),a=(y,v,b)=>(b=b||y,WLt(n[b],r[b],y===s&&o,v)),u=new Date,l=Fc(e),c=l[ds]?a(ds):Ws(2012),f=l[js]?a(js):l[uu]?a(uu):$p,d=l[fo]&&l[$s]?a($s,1,fo+$s):l[fo]?a(fo,1):l[$s]?a($s,1):l[lu]?a(lu,1):l[Xf]?a(Xf,1):aw,h=l[Wu]?a(Wu):$p,p=l[Gu]?a(Gu):$p,m=l[Ol]?a(Ol):$p,g=l[jc]?a(jc):$p;return function(y){u.setTime(+y);const v=c(u);return i(v,f(u),d(u,v),h(u),p(u),m(u),g(u))}}function WLt(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function Vb(e,t,n){return t+e*7-(n+6)%7}const GLt={[ds]:e=>e.getFullYear(),[uu]:e=>Math.floor(e.getMonth()/3),[js]:e=>e.getMonth(),[lu]:e=>e.getDate(),[Wu]:e=>e.getHours(),[Gu]:e=>e.getMinutes(),[Ol]:e=>e.getSeconds(),[jc]:e=>e.getMilliseconds(),[Xf]:e=>$Se(e),[fo]:e=>A9(e),[fo+$s]:(e,t)=>Vb(A9(e),e.getDay(),I9(t)),[$s]:(e,t)=>Vb(1,e.getDay(),I9(t))},YLt={[uu]:e=>3*e,[fo]:(e,t)=>Vb(e,0,I9(t))};function jSe(e,t){return FSe(e,t||1,GLt,YLt,HLt)}const KLt={[ds]:e=>e.getUTCFullYear(),[uu]:e=>Math.floor(e.getUTCMonth()/3),[js]:e=>e.getUTCMonth(),[lu]:e=>e.getUTCDate(),[Wu]:e=>e.getUTCHours(),[Gu]:e=>e.getUTCMinutes(),[Ol]:e=>e.getUTCSeconds(),[jc]:e=>e.getUTCMilliseconds(),[Xf]:e=>LSe(e),[fo]:e=>k9(e),[$s]:(e,t)=>Vb(1,e.getUTCDay(),R9(t)),[fo+$s]:(e,t)=>Vb(k9(e),e.getUTCDay(),R9(t))},XLt={[uu]:e=>3*e,[fo]:(e,t)=>Vb(e,0,R9(t))};function BSe(e,t){return FSe(e,t||1,KLt,XLt,qLt)}const QLt={[ds]:Yf,[uu]:hS.every(3),[js]:hS,[fo]:dw,[lu]:dh,[$s]:dh,[Xf]:dh,[Wu]:PO,[Gu]:kO,[Ol]:eh,[jc]:Bb},JLt={[ds]:Kf,[uu]:pS.every(3),[js]:pS,[fo]:hw,[lu]:pm,[$s]:pm,[Xf]:pm,[Wu]:NO,[Gu]:RO,[Ol]:eh,[jc]:Bb};function pw(e){return QLt[e]}function mw(e){return JLt[e]}function USe(e,t,n){return e?e.offset(t,n):void 0}function zSe(e,t,n){return USe(pw(e),t,n)}function VSe(e,t,n){return USe(mw(e),t,n)}function HSe(e,t,n,r){return e?e.range(t,n,r):void 0}function qSe(e,t,n,r){return HSe(pw(e),t,n,r)}function WSe(e,t,n,r){return HSe(mw(e),t,n,r)}const GE=1e3,YE=GE*60,KE=YE*60,DO=KE*24,ZLt=DO*7,Zse=DO*30,P9=DO*365,GSe=[ds,js,lu,Wu,Gu,Ol,jc],XE=GSe.slice(0,-1),QE=XE.slice(0,-1),JE=QE.slice(0,-1),e6t=JE.slice(0,-1),t6t=[ds,fo],eae=[ds,js],YSe=[ds],cE=[[XE,1,GE],[XE,5,5*GE],[XE,15,15*GE],[XE,30,30*GE],[QE,1,YE],[QE,5,5*YE],[QE,15,15*YE],[QE,30,30*YE],[JE,1,KE],[JE,3,3*KE],[JE,6,6*KE],[JE,12,12*KE],[e6t,1,DO],[t6t,1,ZLt],[eae,1,Zse],[eae,3,3*Zse],[YSe,1,P9]];function KSe(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(YC(t))/n;let i=fw(a=>a[2]).right(cE,r),o,s;return i===cE.length?(o=YSe,s=Pm(t[0]/P9,t[1]/P9,n)):i?(i=cE[r/cE[i-1][2]<cE[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=GSe,s=Math.max(Pm(t[0],t[1],n),1)),{units:o,step:s}}function J6(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Z6(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fE(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function XSe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,u=e.shortMonths,l=dE(i),c=hE(i),f=dE(o),d=hE(o),h=dE(s),p=hE(s),m=dE(a),g=hE(a),y=dE(u),v=hE(u),b={a:B,A:V,b:q,B:D,c:null,d:sae,e:sae,f:T6t,g:$6t,G:M6t,H:w6t,I:E6t,j:x6t,L:QSe,m:S6t,M:C6t,p:U,q:W,Q:lae,s:cae,S:A6t,u:I6t,U:k6t,V:R6t,w:P6t,W:N6t,x:null,X:null,y:D6t,Y:O6t,Z:L6t,"%":uae},_={a:F,A:z,b:G,B:ee,c:null,d:aae,e:aae,f:U6t,g:Q6t,G:Z6t,H:F6t,I:j6t,j:B6t,L:ZSe,m:z6t,M:V6t,p:ce,q:le,Q:lae,s:cae,S:H6t,u:q6t,U:W6t,V:G6t,w:Y6t,W:K6t,x:null,X:null,y:X6t,Y:J6t,Z:e4t,"%":uae},w={a:k,A:P,b:$,B:N,c:O,d:iae,e:iae,f:y6t,g:rae,G:nae,H:oae,I:oae,j:h6t,L:g6t,m:d6t,M:p6t,p:A,q:f6t,Q:b6t,s:_6t,S:m6t,u:s6t,U:a6t,V:u6t,w:o6t,W:l6t,x:j,X:M,y:rae,Y:nae,Z:c6t,"%":v6t};b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),_.x=S(n,_),_.X=S(r,_),_.c=S(t,_);function S(se,ge){return function(be){var ve=[],Ye=-1,Ue=0,ht=se.length,Je,ke,Ne;for(be instanceof Date||(be=new Date(+be));++Ye<ht;)se.charCodeAt(Ye)===37&&(ve.push(se.slice(Ue,Ye)),(ke=tae[Je=se.charAt(++Ye)])!=null?Je=se.charAt(++Ye):ke=Je==="e"?" ":"0",(Ne=ge[Je])&&(Je=Ne(be,ke)),ve.push(Je),Ue=Ye+1);return ve.push(se.slice(Ue,Ye)),ve.join("")}}function E(se,ge){return function(be){var ve=fE(1900,void 0,1),Ye=C(ve,se,be+="",0),Ue,ht;if(Ye!=be.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(ge&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Ue=Z6(fE(ve.y,0,1)),ht=Ue.getUTCDay(),Ue=ht>4||ht===0?kP.ceil(Ue):kP(Ue),Ue=pm.offset(Ue,(ve.V-1)*7),ve.y=Ue.getUTCFullYear(),ve.m=Ue.getUTCMonth(),ve.d=Ue.getUTCDate()+(ve.w+6)%7):(Ue=J6(fE(ve.y,0,1)),ht=Ue.getDay(),Ue=ht>4||ht===0?IP.ceil(Ue):IP(Ue),Ue=dh.offset(Ue,(ve.V-1)*7),ve.y=Ue.getFullYear(),ve.m=Ue.getMonth(),ve.d=Ue.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),ht="Z"in ve?Z6(fE(ve.y,0,1)).getUTCDay():J6(fE(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(ht+5)%7:ve.w+ve.U*7-(ht+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,Z6(ve)):J6(ve)}}function C(se,ge,be,ve){for(var Ye=0,Ue=ge.length,ht=be.length,Je,ke;Ye<Ue;){if(ve>=ht)return-1;if(Je=ge.charCodeAt(Ye++),Je===37){if(Je=ge.charAt(Ye++),ke=w[Je in tae?ge.charAt(Ye++):Je],!ke||(ve=ke(se,be,ve))<0)return-1}else if(Je!=be.charCodeAt(ve++))return-1}return ve}function A(se,ge,be){var ve=l.exec(ge.slice(be));return ve?(se.p=c.get(ve[0].toLowerCase()),be+ve[0].length):-1}function k(se,ge,be){var ve=h.exec(ge.slice(be));return ve?(se.w=p.get(ve[0].toLowerCase()),be+ve[0].length):-1}function P(se,ge,be){var ve=f.exec(ge.slice(be));return ve?(se.w=d.get(ve[0].toLowerCase()),be+ve[0].length):-1}function $(se,ge,be){var ve=y.exec(ge.slice(be));return ve?(se.m=v.get(ve[0].toLowerCase()),be+ve[0].length):-1}function N(se,ge,be){var ve=m.exec(ge.slice(be));return ve?(se.m=g.get(ve[0].toLowerCase()),be+ve[0].length):-1}function O(se,ge,be){return C(se,t,ge,be)}function j(se,ge,be){return C(se,n,ge,be)}function M(se,ge,be){return C(se,r,ge,be)}function B(se){return s[se.getDay()]}function V(se){return o[se.getDay()]}function q(se){return u[se.getMonth()]}function D(se){return a[se.getMonth()]}function U(se){return i[+(se.getHours()>=12)]}function W(se){return 1+~~(se.getMonth()/3)}function F(se){return s[se.getUTCDay()]}function z(se){return o[se.getUTCDay()]}function G(se){return u[se.getUTCMonth()]}function ee(se){return a[se.getUTCMonth()]}function ce(se){return i[+(se.getUTCHours()>=12)]}function le(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ge=S(se+="",b);return ge.toString=function(){return se},ge},parse:function(se){var ge=E(se+="",!1);return ge.toString=function(){return se},ge},utcFormat:function(se){var ge=S(se+="",_);return ge.toString=function(){return se},ge},utcParse:function(se){var ge=E(se+="",!0);return ge.toString=function(){return se},ge}}}var tae={"-":"",_:" ",0:"0"},Ho=/^\s*\d+/,n6t=/^%/,r6t=/[\\^$*+?|[\]().{}]/g;function lr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function i6t(e){return e.replace(r6t,"\\$&")}function dE(e){return new RegExp("^(?:"+e.map(i6t).join("|")+")","i")}function hE(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function o6t(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function s6t(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function a6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function u6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function l6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nae(e,t,n){var r=Ho.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rae(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function c6t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function f6t(e,t,n){var r=Ho.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function d6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function iae(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function h6t(e,t,n){var r=Ho.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oae(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function p6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function m6t(e,t,n){var r=Ho.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function g6t(e,t,n){var r=Ho.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function y6t(e,t,n){var r=Ho.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function v6t(e,t,n){var r=n6t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function b6t(e,t,n){var r=Ho.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _6t(e,t,n){var r=Ho.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function sae(e,t){return lr(e.getDate(),t,2)}function w6t(e,t){return lr(e.getHours(),t,2)}function E6t(e,t){return lr(e.getHours()%12||12,t,2)}function x6t(e,t){return lr(1+dh.count(Yf(e),e),t,3)}function QSe(e,t){return lr(e.getMilliseconds(),t,3)}function T6t(e,t){return QSe(e,t)+"000"}function S6t(e,t){return lr(e.getMonth()+1,t,2)}function C6t(e,t){return lr(e.getMinutes(),t,2)}function A6t(e,t){return lr(e.getSeconds(),t,2)}function I6t(e){var t=e.getDay();return t===0?7:t}function k6t(e,t){return lr(dw.count(Yf(e)-1,e),t,2)}function JSe(e){var t=e.getDay();return t>=4||t===0?Ub(e):Ub.ceil(e)}function R6t(e,t){return e=JSe(e),lr(Ub.count(Yf(e),e)+(Yf(e).getDay()===4),t,2)}function P6t(e){return e.getDay()}function N6t(e,t){return lr(IP.count(Yf(e)-1,e),t,2)}function D6t(e,t){return lr(e.getFullYear()%100,t,2)}function $6t(e,t){return e=JSe(e),lr(e.getFullYear()%100,t,2)}function O6t(e,t){return lr(e.getFullYear()%1e4,t,4)}function M6t(e,t){var n=e.getDay();return e=n>=4||n===0?Ub(e):Ub.ceil(e),lr(e.getFullYear()%1e4,t,4)}function L6t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lr(t/60|0,"0",2)+lr(t%60,"0",2)}function aae(e,t){return lr(e.getUTCDate(),t,2)}function F6t(e,t){return lr(e.getUTCHours(),t,2)}function j6t(e,t){return lr(e.getUTCHours()%12||12,t,2)}function B6t(e,t){return lr(1+pm.count(Kf(e),e),t,3)}function ZSe(e,t){return lr(e.getUTCMilliseconds(),t,3)}function U6t(e,t){return ZSe(e,t)+"000"}function z6t(e,t){return lr(e.getUTCMonth()+1,t,2)}function V6t(e,t){return lr(e.getUTCMinutes(),t,2)}function H6t(e,t){return lr(e.getUTCSeconds(),t,2)}function q6t(e){var t=e.getUTCDay();return t===0?7:t}function W6t(e,t){return lr(hw.count(Kf(e)-1,e),t,2)}function eCe(e){var t=e.getUTCDay();return t>=4||t===0?zb(e):zb.ceil(e)}function G6t(e,t){return e=eCe(e),lr(zb.count(Kf(e),e)+(Kf(e).getUTCDay()===4),t,2)}function Y6t(e){return e.getUTCDay()}function K6t(e,t){return lr(kP.count(Kf(e)-1,e),t,2)}function X6t(e,t){return lr(e.getUTCFullYear()%100,t,2)}function Q6t(e,t){return e=eCe(e),lr(e.getUTCFullYear()%100,t,2)}function J6t(e,t){return lr(e.getUTCFullYear()%1e4,t,4)}function Z6t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zb(e):zb.ceil(e),lr(e.getUTCFullYear()%1e4,t,4)}function e4t(){return"+0000"}function uae(){return"%"}function lae(e){return+e}function cae(e){return Math.floor(+e/1e3)}var Bv,EW,tCe,xW,nCe;t4t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t4t(e){return Bv=XSe(e),EW=Bv.format,tCe=Bv.parse,xW=Bv.utcFormat,nCe=Bv.utcParse,Bv}function ZE(e){const t={};return n=>t[n]||(t[n]=e(n))}function n4t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=r4t(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function r4t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function rCe(e){const t=ZE(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=ay(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return n4t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=ay(s??",f");const a=Pm(r,i,o),u=Math.max(Math.abs(r),Math.abs(i));let l;if(s.precision==null)switch(s.type){case"s":return isNaN(l=ASe(a,u))||(s.precision=l),n(s,u);case"":case"e":case"g":case"p":case"r":{isNaN(l=ISe(a,u))||(s.precision=l-(s.type==="e"));break}case"f":case"%":{isNaN(l=CSe(a))||(s.precision=l-(s.type==="%")*2);break}}return t(s)}}}let N9;iCe();function iCe(){return N9=rCe({format:IO,formatPrefix:yW})}function oCe(e){return rCe(SSe(e))}function RP(e){return arguments.length?N9=oCe(e):N9}function fae(e,t,n){n=n||{},wt(n)||Me(`Invalid time multi-format specifier: ${n}`);const r=t(Ol),i=t(Gu),o=t(Wu),s=t(lu),a=t(fo),u=t(js),l=t(uu),c=t(ds),f=e(n[jc]||".%L"),d=e(n[Ol]||":%S"),h=e(n[Gu]||"%I:%M"),p=e(n[Wu]||"%I %p"),m=e(n[lu]||n[$s]||"%a %d"),g=e(n[fo]||"%b %d"),y=e(n[js]||"%B"),v=e(n[uu]||"%B"),b=e(n[ds]||"%Y");return _=>(r(_)<_?f:i(_)<_?d:o(_)<_?h:s(_)<_?p:u(_)<_?a(_)<_?m:g:c(_)<_?l(_)<_?y:v:b)(_)}function sCe(e){const t=ZE(e.format),n=ZE(e.utcFormat);return{timeFormat:r=>_t(r)?t(r):fae(t,pw,r),utcFormat:r=>_t(r)?n(r):fae(n,mw,r),timeParse:ZE(e.parse),utcParse:ZE(e.utcParse)}}let D9;aCe();function aCe(){return D9=sCe({format:EW,parse:tCe,utcFormat:xW,utcParse:nCe})}function uCe(e){return sCe(XSe(e))}function mS(e){return arguments.length?D9=uCe(e):D9}const $9=(e,t)=>_n({},e,t);function lCe(e,t){const n=e?oCe(e):RP(),r=t?uCe(t):mS();return $9(n,r)}function TW(e,t){const n=arguments.length;return n&&n!==2&&Me("defaultLocale expects either zero or two arguments."),n?$9(RP(e),mS(t)):$9(RP(),mS())}function i4t(){return iCe(),aCe(),TW()}const o4t=/^(data:|([A-Za-z]+:)?\/\/)/,s4t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,a4t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,dae="file://";function u4t(e,t){return n=>({options:n||{},sanitize:c4t,load:l4t,fileAccess:!!t,file:f4t(t),http:h4t(e)})}async function l4t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function c4t(e,t){t=_n({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=s4t.test(e.replace(a4t,""));(e==null||typeof e!="string"||!a)&&Me("Sanitize failure, invalid URI: "+at(e));const u=o4t.test(e);return(s=t.baseURL)&&!u&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(dae))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(dae.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function f4t(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):d4t}async function d4t(){Me("No file system access.")}function h4t(e){return e?async function(t,n){const r=_n({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?wn(o[i])?o[i]():o.text():Me(o.status+""+o.statusText)}:p4t}async function p4t(){Me("No HTTP fetch method available.")}const m4t=e=>e!=null&&e===e,g4t=e=>e==="true"||e==="false"||e===!0||e===!1,y4t=e=>!Number.isNaN(Date.parse(e)),cCe=e=>!Number.isNaN(+e)&&!(e instanceof Date),v4t=e=>cCe(e)&&Number.isInteger(+e),O9={boolean:hW,integer:Os,number:Os,date:pW,string:mW,unknown:qs},XA=[g4t,v4t,cCe,y4t],b4t=["boolean","integer","number","date"];function fCe(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=XA.length,i=XA.map((o,s)=>s+1);for(let o=0,s=0,a,u;o<n;++o)for(u=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&m4t(u)&&!XA[a](u)&&(i[a]=0,++s,s===XA.length))return"string";return b4t[i.reduce((o,s)=>o===0?s:o,0)-1]}function dCe(e,t){return t.reduce((n,r)=>(n[r]=fCe(e,r),n),{})}function hae(e){const t=function(n,r){const i={delimiter:e};return SW(n,r?_n(r,i):i)};return t.responseType="text",t}function SW(e,t){return t.header&&(e=t.header.map(at).join(t.delimiter)+`
`+e),Z3t(t.delimiter).parse(e+"")}SW.responseType="text";function _4t(e){return typeof Buffer=="function"&&wn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function CW(e,t){const n=t&&t.property?Dl(t.property):qs;return wt(e)&&!_4t(e)?w4t(n(e),t):n(JSON.parse(e))}CW.responseType="json";function w4t(e,t){return!je(e)&&iSe(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const E4t={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function hCe(e,t){let n,r,i,o;return e=CW(e,t),t&&t.feature?(n=rLt,i=t.feature):t&&t.mesh?(n=oLt,i=t.mesh,o=E4t[t.filter]):Me("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):Me("Invalid TopoJSON object: "+i),r&&r.features||[r]}hCe.responseType="json";const wk={dsv:SW,csv:hae(","),tsv:hae("	"),json:CW,topojson:hCe};function AW(e,t){return arguments.length>1?(wk[e]=t,this):qt(wk,e)?wk[e]:null}function pCe(e){const t=AW(e);return t&&t.responseType||"text"}function mCe(e,t,n,r){t=t||{};const i=AW(t.type||"json");return i||Me("Unknown data format type: "+t.type),e=i(e,t),t.parse&&x4t(e,t.parse,n,r),qt(e,"columns")&&delete e.columns,e}function x4t(e,t,n,r){if(!e.length)return;const i=mS();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,u,l,c,f;t==="auto"&&(t=dCe(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let m,g;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return m=p.split(/:(.+)?/,2),g=m[1],(g[0]==="'"&&g[g.length-1]==="'"||g[0]==='"'&&g[g.length-1]==='"')&&(g=g.slice(1,-1)),(m[0]==="utc"?r:n)(g);if(!O9[p])throw Error("Illegal format pattern: "+h+":"+p);return O9[p]});for(u=0,c=e.length,f=o.length;u<c;++u)for(s=e[u],l=0;l<f;++l)a=o[l],s[a]=d[l](s[a])}const $O=u4t(typeof fetch<"u"&&fetch,null);function OO(e){const t=e||qs,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Ek(e,t){try{await t(e)}catch(n){e.error(n)}}const gCe=Symbol("vega_id");let T4t=1;function MO(e){return!!(e&&Vt(e))}function Vt(e){return e[gCe]}function yCe(e,t){return e[gCe]=t,e}function yr(e){const t=e===Object(e)?e:{data:e};return Vt(t)?t:yCe(t,T4t++)}function IW(e){return LO(e,yr({}))}function LO(e,t){for(const n in e)t[n]=e[n];return t}function vCe(e,t){return yCe(t,Vt(e))}function iv(e,t){return e?t?(n,r)=>e(n,r)||Vt(t(n))-Vt(t(r)):(n,r)=>e(n,r)||Vt(n)-Vt(r):null}function bCe(e){return e&&e.constructor===ov}function ov(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:ov,insert(a){const u=bt(a),l=u.length;for(let c=0;c<l;++c)e.push(u[c]);return this},remove(a){const u=wn(a)?r:t,l=bt(a),c=l.length;for(let f=0;f<c;++f)u.push(l[f]);return this},modify(a,u,l){const c={field:u,value:Ws(l)};return wn(a)?(c.filter=a,i.push(c)):(c.tuple=a,n.push(c)),this},encode(a,u){return wn(a)?i.push({filter:a,field:u}):n.push({tuple:a,field:u}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,u){const l={},c={};let f,d,h,p,m,g;for(f=0,d=u.length;f<d;++f)l[Vt(u[f])]=1;for(f=0,d=t.length;f<d;++f)m=t[f],l[Vt(m)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],u.forEach(v=>{p(v)&&(l[Vt(v)]=-1)});for(f=0,d=e.length;f<d;++f)m=e[f],g=Vt(m),l[g]?l[g]=1:a.add.push(yr(e[f]));for(f=0,d=u.length;f<d;++f)m=u[f],l[Vt(m)]<0&&a.rem.push(m);function y(v,b,_){_?v[b]=_(v):a.encode=b,s||(c[Vt(v)]=v)}for(f=0,d=n.length;f<d;++f)h=n[f],m=h.tuple,p=h.field,g=l[Vt(m)],g>0&&(y(m,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,u.forEach(v=>{p(v)&&l[Vt(v)]>0&&y(v,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?u.filter(v=>l[Vt(v)]>0):u.slice();else for(g in c)a.mod.push(c[g]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const xk="_:mod:_";function FO(){Object.defineProperty(this,xk,{writable:!0,value:{}})}FO.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[xk];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=je(n)?1+n.length:-1),i},modified(e,t){const n=this[xk];if(arguments.length){if(je(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[xk]={},this}};let S4t=0;const C4t="pulse",A4t=new FO,I4t=1,k4t=2;function $r(e,t,n,r){this.id=++S4t,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function pae(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}$r.prototype={targets(){return this._targets||(this._targets=OO(GC))},set(e){return this.value!==e?(this.value=e,1):0},skip:pae(I4t),modified:pae(k4t),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new FO,i=this._argops=this._argops||[],o=[];let s,a,u,l;const c=(f,d,h)=>{h instanceof $r?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===C4t)bt(a).forEach(f=>{f instanceof $r?f!==this&&(f.targets().add(this),o.push(f)):Me("Pulse parameters must be operator instances.")}),this.source=a;else if(je(a))for(r.set(s,-1,Array(u=a.length)),l=0;l<u;++l)c(s,l,a[l]);else c(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||A4t,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function R4t(e,t,n,r){let i=1,o;return e instanceof $r?o=e:e&&e.prototype instanceof $r?o=new e:wn(e)?o=new $r(null,e):(i=0,o=new $r(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function P4t(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let N4t=0;function jO(e,t,n){this.id=++N4t,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function mp(e,t,n){return new jO(e,t,n)}jO.prototype={_filter:$l,_apply:qs,targets(){return this._targets||(this._targets=OO(GC))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=mp(e);return this.targets().add(t),t},apply(e){const t=mp(null,e);return this.targets().add(t),t},merge(){const e=mp();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=mp();return this.targets().add(mp(null,null,fW(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(mp(null,null,()=>n=!0)),t.targets().add(mp(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=$l,this._targets=null}};function D4t(e,t,n,r){const i=this,o=mp(n,r),s=function(l){l.dataflow=i;try{o.receive(l)}catch(c){i.error(c)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=bt(e);const u=a.length;for(let l=0;l<u;++l)a[l].addEventListener(t,s);return o}function $4t(e,t){const n=this.locale();return mCe(e,t,n.timeParse,n.utcParse)}function O4t(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function M4t(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:pCe(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function L4t(e,t,n){const r=this,i=r._pending||F4t(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove($l).insert(o.data||[])),i.done(),o}function F4t(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const j4t={skip:!0};function B4t(e,t,n,r,i){return(e instanceof $r?z4t:U4t)(this,e,t,n,r,i),this}function U4t(e,t,n,r,i,o){const s=_n({},o,j4t);let a,u;wn(n)||(n=Ws(n)),r===void 0?a=l=>e.touch(n(l)):wn(r)?(u=new $r(null,r,i,!1),a=l=>{u.evaluate(l);const c=n(l),f=u.value;bCe(f)?e.pulse(c,f,o):e.update(c,f,s)}):a=l=>e.update(n(l),r,s),t.apply(a)}function z4t(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new $r(null,V4t(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function V4t(e,t){return t=wn(t)?t:Ws(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function H4t(e){e.rank=++this._rank}function q4t(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&Me("Cycle detected in dataflow graph.")}const PP={},hf=1,wp=2,Od=4,W4t=hf|wp,mae=hf|Od,Uv=hf|wp|Od,gae=8,pE=16,yae=32,vae=64;function mm(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function e4(e,t){const n=[];return _p(e,t,r=>n.push(r)),n}function bae(e,t){const n={};return e.visit(t,r=>{n[Vt(r)]=1}),r=>n[Vt(r)]?null:r}function QA(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}mm.prototype={StopPropagation:PP,ADD:hf,REM:wp,MOD:Od,ADD_REM:W4t,ADD_MOD:mae,ALL:Uv,REFLOW:gae,SOURCE:pE,NO_SOURCE:yae,NO_FIELDS:vae,fork(e){return new mm(this.dataflow).init(this,e)},clone(){const e=this.fork(Uv);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(Uv|pE)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new mm(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&vae)&&(n.fields=e.fields),t&hf?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&wp?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Od?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&yae?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||Uv;return t&hf&&this.add.length||t&wp&&this.rem.length||t&Od&&this.mod.length},reflow(e){if(e)return this.fork(Uv).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Od,bae(this,hf))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return je(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?je(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&hf&&(n.addF=QA(n.addF,t)),e&wp&&(n.remF=QA(n.remF,t)),e&Od&&(n.modF=QA(n.modF,t)),e&pE&&(n.srcF=QA(n.srcF,t)),n},materialize(e){e=e||Uv;const t=this;return e&hf&&t.addF&&(t.add=e4(t.add,t.addF),t.addF=null),e&wp&&t.remF&&(t.rem=e4(t.rem,t.remF),t.remF=null),e&Od&&t.modF&&(t.mod=e4(t.mod,t.modF),t.modF=null),e&pE&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&pE)return _p(n.source,n.srcF,r),n;e&hf&&_p(n.add,n.addF,r),e&wp&&_p(n.rem,n.remF,r),e&Od&&_p(n.mod,n.modF,r);const i=n.source;if(e&gae&&i){const o=n.add.length+n.mod.length;o===i.length||(o?_p(i,bae(n,mae),r):_p(i,n.srcF,r))}return n}};function kW(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const u in s.fields)a[u]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}dt(kW,mm,{fork(e){const t=new mm(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?je(e)?e.some(r=>n[r]):n[e]:0},filter(){Me("MultiPulse does not support filtering.")},materialize(){Me("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function G4t(e,t,n){const r=this,i=[];if(r._pulse)return _Ce(r);if(r._pending&&await r._pending,t&&await Ek(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new mm(r,o,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=OO(GC);let s=0,a,u,l;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}u=a.run(r._getPulse(a,e)),u.then?u=await u:u.async&&(i.push(u.async),u=PP),u!==PP&&a._targets&&a._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),l=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),l&&(r._postrun=[],r.error(l)),r._postrun.length){const c=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<c.length;++f)await Ek(r,c[f].callback)}return n&&await Ek(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function Y4t(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function K4t(e,t,n){return this._pulse?_Ce(this):(this.evaluate(e,t,n),this)}function X4t(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function _Ce(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Q4t(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function J4t(e,t){const n=e.source,r=this._clock;return n&&je(n)?new kW(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Z4t(this._pulse,n&&n.pulse)}function Z4t(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==PP&&(e.source=t.source),e)}const RW={skip:!1,force:!1};function eFt(e,t){const n=t||RW;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function tFt(e,t,n){const r=n||RW;return(e.set(t)||r.force)&&this.touch(e,r),this}function nFt(e,t,n){this.touch(e,n||RW);const r=new mm(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function rFt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),wCe(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,iFt(t,0,e)):r=n,r}}}function wCe(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function iFt(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,wCe(e,r,t,n)}function nb(){this.logger(sW()),this.logLevel(iW),this._clock=0,this._rank=0,this._locale=TW();try{this._loader=$O()}catch{}this._touched=OO(GC),this._input={},this._pulse=null,this._heap=rFt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function mE(e){return function(){return this._log[e].apply(this,arguments)}}nb.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:mE("error"),warn:mE("warn"),info:mE("info"),debug:mE("debug"),logLevel:mE("level"),cleanThreshold:1e4,add:R4t,connect:P4t,rank:H4t,rerank:q4t,pulse:nFt,touch:eFt,update:tFt,changeset:ov,ingest:O4t,parse:$4t,preload:L4t,request:M4t,events:D4t,on:B4t,evaluate:G4t,run:K4t,runAsync:Y4t,runAfter:X4t,_enqueue:Q4t,_getPulse:J4t};function Pe(e,t){$r.call(this,e,null,t)}dt(Pe,$r,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const Hb={};function ECe(e){const t=xCe(e);return t&&t.Definition||null}function xCe(e){return e=e&&e.toLowerCase(),qt(Hb,e)?Hb[e]:null}function*TCe(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function PW(e,t,n){const r=Float64Array.from(TCe(e,n));return r.sort(fh),t.map(i=>_Se(r,i))}function NW(e,t){return PW(e,[.25,.5,.75],t)}function DW(e,t){const n=e.length,r=hLt(e,t),i=NW(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function SCe(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,u,l,c,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(c=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<c;++f);a=e.steps[Math.max(0,f-1)]}else{for(u=Math.ceil(Math.log(t)/r),l=e.minstep||0,a=Math.max(l,Math.pow(n,Math.round(Math.log(h)/r)-u));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)c=a/i[f],c>=l&&h/c<=t&&(a=c)}c=Math.log(a);const p=c>=0?0:~~(-c/r)+1,m=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(o/a+m)*a,o=o<c?c-a:c,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Ml=Math.random;function oFt(e){Ml=e}function CCe(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(TCe(e,r)),o=i.length,s=t;let a,u,l,c;for(l=0,c=Array(s);l<s;++l){for(a=0,u=0;u<o;++u)a+=i[~~(Ml()*o)];c[l]=a/o}return c.sort(fh),[C9(c,n/2),C9(c,1-n/2)]}function ACe(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,u=r(e[0]),l=u,c=u+t,f;for(;a<i;++a){if(f=r(e[a]),f>=c){for(l=(u+l)/2;s<a;++s)o[s]=l;c=f+t,u=f}l=f}for(l=(u+l)/2;s<a;++s)o[s]=l;return n?sFt(o,t+t/4):o}function sFt(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function aFt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function uFt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Ml())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const ICe=Math.sqrt(2*Math.PI),lFt=Math.SQRT2;let gE=NaN;function BO(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(gE===gE)n=gE,gE=NaN;else{do n=Ml()*2-1,r=Ml()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,gE=r*o}return e+n*t}function $W(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*ICe)}function UO(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function zO(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*lFt*cFt(2*e-1)}function cFt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function OW(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>BO(n,r),pdf:o=>$W(o,n,r),cdf:o=>UO(o,n,r),icdf:o=>zO(o,n,r)};return i.mean(e).stdev(t)}function MW(e,t){const n=OW();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=DW(e)),i):t},sample(){return e[~~(Ml()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function LW(e,t){return e=e||0,t=t??1,Math.exp(e+BO()*t)}function FW(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*ICe*e)}function jW(e,t,n){return UO(Math.log(e),t,n)}function BW(e,t,n){return Math.exp(zO(e,t,n))}function kCe(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>LW(n,r),pdf:o=>FW(o,n,r),cdf:o=>jW(o,n,r),icdf:o=>BW(o,n,r)};return i.mean(e).stdev(t)}function RCe(e,t){let n=0,r;function i(s){const a=[];let u=0,l;for(l=0;l<n;++l)u+=a[l]=s[l]==null?1:+s[l];for(l=0;l<n;++l)a[l]/=u;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Ml();let a=e[n-1],u=r[0],l=0;for(;l<n-1;u+=r[++l])if(s<u){a=e[l];break}return a.sample()},pdf(s){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].pdf(s);return a},cdf(s){let a=0,u=0;for(;u<n;++u)a+=r[u]*e[u].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function UW(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Ml()}function zW(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function VW(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function HW(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function PCe(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>UW(n,r),pdf:o=>zW(o,n,r),cdf:o=>VW(o,n,r),icdf:o=>HW(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function qW(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function KC(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function VO(e,t,n,r){e=e.filter(h=>{let p=t(h),m=n(h);return p!=null&&(p=+p)>=p&&m!=null&&(m=+m)>=m}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,u=0,l=0,c,f,d;for(d of e)o[a]=c=+t(d),s[a]=f=+n(d),++a,u+=(c-u)/a,l+=(f-l)/a;for(a=0;a<i;++a)o[a]-=u,s[a]-=l;return[o,s,u,l]}function XC(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function gw(e,t,n,r,i){let o=0,s=0;return XC(e,t,n,(a,u)=>{const l=u-i(a),c=u-r;o+=l*l,s+=c*c}),1-o/s}function WW(e,t,n){let r=0,i=0,o=0,s=0,a=0;XC(e,t,n,(c,f)=>{++a,r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const u=KC(r,i,o,s),l=c=>u[0]+u[1]*c;return{coef:u,predict:l,rSquared:gw(e,t,n,i,l)}}function NCe(e,t,n){let r=0,i=0,o=0,s=0,a=0;XC(e,t,n,(c,f)=>{++a,c=Math.log(c),r+=(c-r)/a,i+=(f-i)/a,o+=(c*f-o)/a,s+=(c*c-s)/a});const u=KC(r,i,o,s),l=c=>u[0]+u[1]*Math.log(c);return{coef:u,predict:l,rSquared:gw(e,t,n,i,l)}}function DCe(e,t,n){const[r,i,o,s]=VO(e,t,n);let a=0,u=0,l=0,c=0,f=0,d,h,p;XC(e,t,n,(v,b)=>{d=r[f++],h=Math.log(b),p=d*b,a+=(b*h-a)/f,u+=(p-u)/f,l+=(p*h-l)/f,c+=(d*p-c)/f});const[m,g]=KC(u/s,a/s,l/s,c/s),y=v=>Math.exp(m+g*(v-o));return{coef:[Math.exp(m-g*o),g],predict:y,rSquared:gw(e,t,n,s,y)}}function $Ce(e,t,n){let r=0,i=0,o=0,s=0,a=0,u=0;XC(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++u,r+=(h-r)/u,i+=(p-i)/u,o+=(h*p-o)/u,s+=(h*h-s)/u,a+=(d-a)/u});const l=KC(r,i,o,s),c=f=>l[0]*Math.pow(f,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:c,rSquared:gw(e,t,n,a,c)}}function GW(e,t,n){const[r,i,o,s]=VO(e,t,n),a=r.length;let u=0,l=0,c=0,f=0,d=0,h,p,m,g;for(h=0;h<a;)p=r[h],m=i[h++],g=p*p,u+=(g-u)/h,l+=(g*p-l)/h,c+=(g*g-c)/h,f+=(p*m-f)/h,d+=(g*m-d)/h;const y=c-u*u,v=u*y-l*l,b=(d*u-f*l)/v,_=(f*y-d*l)/v,w=-b*u,S=E=>(E=E-o,b*E*E+_*E+w+s);return{coef:[w-_*o+b*o*o+s,_-2*b*o,b],predict:S,rSquared:gw(e,t,n,s,S)}}function OCe(e,t,n,r){if(r===0)return qW(e,t,n);if(r===1)return WW(e,t,n);if(r===2)return GW(e,t,n);const[i,o,s,a]=VO(e,t,n),u=i.length,l=[],c=[],f=r+1;let d,h,p,m,g;for(d=0;d<f;++d){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d)*o[p];for(l.push(m),g=new Float64Array(f),h=0;h<f;++h){for(p=0,m=0;p<u;++p)m+=Math.pow(i[p],d+h);g[h]=m}c.push(g)}c.push(l);const y=dFt(c),v=b=>{b-=s;let _=a+y[0]+y[1]*b+y[2]*b*b;for(d=3;d<f;++d)_+=y[d]*Math.pow(b,d);return _};return{coef:fFt(f,y,-s,a),predict:v,rSquared:gw(e,t,n,a,v)}}function fFt(e,t,n,r){const i=Array(e);let o,s,a,u;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],u=1,i[o]+=a,s=1;s<=o;++s)u*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*u;return i[0]+=r,i}function dFt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const _ae=2,wae=1e-12;function MCe(e,t,n,r){const[i,o,s,a]=VO(e,t,n,!0),u=i.length,l=Math.max(2,~~(r*u)),c=new Float64Array(u),f=new Float64Array(u),d=new Float64Array(u).fill(1);for(let h=-1;++h<=_ae;){const p=[0,l-1];for(let g=0;g<u;++g){const y=i[g],v=p[0],b=p[1],_=y-i[v]>i[b]-y?v:b;let w=0,S=0,E=0,C=0,A=0;const k=1/Math.abs(i[_]-y||1);for(let N=v;N<=b;++N){const O=i[N],j=o[N],M=hFt(Math.abs(y-O)*k)*d[N],B=O*M;w+=M,S+=B,E+=j*M,C+=j*B,A+=O*B}const[P,$]=KC(S/w,E/w,C/w,A/w);c[g]=P+$*y,f[g]=Math.abs(o[g]-c[g]),pFt(i,g+1,p)}if(h===_ae)break;const m=wSe(f);if(Math.abs(m)<wae)break;for(let g=0,y,v;g<u;++g)y=f[g]/(6*m),d[g]=y>=1?wae:(v=1-y*y)*v}return mFt(i,c,s,a)}function hFt(e){return(e=1-e*e*e)*e*e}function pFt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function mFt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,u=[],l;for(;s<i;++s)l=e[s]+n,u[0]===l?u[1]+=(t[s]-u[1])/++a:(a=0,u[1]+=r,u=[l,t[s]],o.push(u));return u[1]+=r,o}const gFt=.5*Math.PI/180;function HO(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=m=>[m,e(m)],o=t[0],s=t[1],a=s-o,u=a/r,l=[i(o)],c=[];if(n===r){for(let m=1;m<r;++m)l.push(i(o+m/n*a));return l.push(i(s)),l}else{c.push(i(s));for(let m=n;--m>0;)c.push(i(o+m/n*a))}let f=l[0],d=c[c.length-1];const h=1/a,p=yFt(f[1],c);for(;d;){const m=i((f[0]+d[0])/2);m[0]-f[0]>=u&&vFt(f,m,d,h,p)>gFt?c.push(m):(f=d,l.push(d),c.pop()),d=c[c.length-1]}return l}function yFt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function vFt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function bFt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function M9(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:bFt(e)}function LCe(e,t,n){return n||e+(t?"_"+t:"")}const t4=()=>{},_Ft={init:t4,add:t4,rem:t4,idx:0},gS={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},QC=Object.keys(gS).filter(e=>e!=="__count__");function wFt(e,t){return(n,r)=>_n({name:e,aggregate_param:r,out:n||e},_Ft,t)}[...QC,"__count__"].forEach(e=>{gS[e]=wFt(e,gS[e])});function FCe(e,t,n){return gS[e](n,t)}function jCe(e,t){return e.idx-t.idx}function EFt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=gS[i]())})};return e.forEach(n),Object.values(t).sort(jCe)}function xFt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function TFt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function SFt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function CFt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function BCe(e,t){const n=t||qs,r=EFt(e),i=e.slice().sort(jCe);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=xFt,o.prototype.add=TFt,o.prototype.rem=SFt,o.prototype.set=CFt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function YW(e){this._key=e?Dl(e):Vt,this.reset()}const vs=YW.prototype;vs.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};vs.add=function(e){this._add.push(e)};vs.rem=function(e){this._rem.push(e)};vs.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,u,l;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,u=0;a<r;++a)s[n(l=e[a])]?s[n(l)]=0:o[u++]=l;return this._rem=[],this._add=o};vs.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",qt(n,o)||(n[o]=1,++i);return i};vs.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=nSe(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};vs.argmin=function(e){return this.extent(e)[0]||{}};vs.argmax=function(e){return this.extent(e)[1]||{}};vs.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};vs.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};vs.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=NW(this.values(),e),this._get=e),this._q};vs.q1=function(e){return this.quartile(e)[0]};vs.q2=function(e){return this.quartile(e)[1]};vs.q3=function(e){return this.quartile(e)[2]};vs.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=CCe(this.values(),1e3,.05,e),this._get=e),this._ci};vs.ci0=function(e){return this.ci(e)[0]};vs.ci1=function(e){return this.ci(e)[1]};function Nm(e){Pe.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}Nm.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:QC},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};dt(Nm,Pe,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let u,l,c,f;for(u in a)for(c=a[u].tuple,l=0;l<i;++l)r[l][f=c[n[l]]]=f}o(e._prev),o(t);function s(a,u,l){const c=n[l],f=r[l++];for(const d in f){const h=a?a+"|"+d:d;u[c]=f[d],l<i?s(h,u,l):t[h]||e.cell(h,u)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(v){const b=bt(Fs(v)),_=b.length;let w=0,S;for(;w<_;++w)r[S=b[w]]||(r[S]=1,t.push(S))}this._dims=bt(e.groupby),this._dnames=this._dims.map(v=>{const b=Pi(v);return i(v),n.push(b),b}),this.cellkey=e.key?e.key:M9(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.aggregate_params||[null],u=e.as||[],l=o.length,c={};let f,d,h,p,m,g,y;for(l!==s.length&&Me("Unmatched number of fields and aggregate ops."),y=0;y<l;++y){if(f=o[y],d=s[y],h=a[y]||null,f==null&&d!=="count"&&Me("Null aggregate field specified."),m=Pi(f),g=LCe(d,m,u[y]),n.push(g),d==="count"){this._counts.push(g);continue}p=c[m],p||(i(f),p=c[m]=[],p.field=f,this._measures.push(p)),d!=="count"&&(this._countOnly=!1),p.push(FCe(d,h,g))}return this._measures=this._measures.map(v=>BCe(v,v.field)),Object.create(null)},cellkey:M9(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new YW),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?vCe(t.tuple,o):yr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let u,l,c,f;if(r)for(l in r)u=r[l],(!i||u.num)&&s.push(u.tuple);for(c=0,f=this._alen;c<f;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,f=this._mlen;c<f;++c)u=n[c],(u.num===0&&i?s:a).push(this.celltuple(u)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const AFt=1e-14;function KW(e){Pe.call(this,null,e)}KW.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};dt(KW,Pe,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],u=s[1];let l;return e.modified()?(t=t.reflow(!0),l=t.SOURCE):l=t.modified(Fs(e.field))?t.ADD_MOD:t.ADD,t.visit(l,n?c=>{const f=r(c);c[a]=f,c[u]=f==null?null:i+o*(1+(f-i)/o)}:c=>c[a]=r(c)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=SCe(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const u=function(l){let c=Os(t(l));return c==null?null:c<i?-1/0:c>o?1/0:(c=Math.max(i,Math.min(c,o-r)),i+r*Math.floor(AFt+(c-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=mu(u,Fs(t),e.name||"bin_"+Pi(t))}});function UCe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:u=>o.push(u),remove:u=>s[r(u)]=++a,size:()=>i.length,data:(u,l)=>(a&&(i=i.filter(c=>!s[r(c)]),s={},a=0),l&&u&&i.sort(u),o.length&&(i=u?uSe(u,i,o.sort(u)):i.concat(o),o=[]),i)}}function XW(e){Pe.call(this,[],e)}XW.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};dt(XW,Pe,{transform(e,t){const n=t.fork(t.ALL),r=UCe(Vt,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(iv(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function zCe(e){$r.call(this,null,IFt,e)}dt(zCe,$r);function IFt(e){return this.value&&!e.modified()?this.value:cW(e.fields,e.orders)}function QW(e){Pe.call(this,null,e)}QW.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function kFt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}dt(QW,Pe,{transform(e,t){const n=f=>d=>{for(var h=kFt(a(d),e.case,o)||[],p,m=0,g=h.length;m<g;++m)s.test(p=h[m])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,u=e.as||["text","count"],l=n(f=>i[f]=1+(i[f]||0)),c=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,u,l;for(a in n)u=r[a],l=n[a]||0,!u&&l?(r[a]=u=yr({}),u[i]=a,u[o]=l,s.add.push(u)):l===0?(u&&s.rem.push(u),n[a]=null,r[a]=null):u[o]!==l&&(u[o]=l,s.mod.push(u));return s.modifies(t)}});function JW(e){Pe.call(this,null,e)}JW.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};dt(JW,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=RFt(a,i,o,e.filter||$l)):n.mod=a,n.source=this.value,n.modifies(r)}});function RFt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,u,l;a<s;++a)for(o[t]=l=e[a],u=0;u<s;++u)o[n]=e[u],r(o)&&(i.push(yr(o)),o={},o[t]=l);return i}const Eae={kde:MW,mixture:RCe,normal:OW,lognormal:kCe,uniform:PCe},PFt="distributions",xae="function",NFt="field";function VCe(e,t){const n=e[xae];qt(Eae,n)||Me("Unknown distribution function: "+n);const r=Eae[n]();for(const i in e)i===NFt?r.data((e.from||t()).map(e[i])):i===PFt?r[i](e[i].map(o=>VCe(o,t))):typeof r[i]===xae&&r[i](e[i]);return r}function ZW(e){Pe.call(this,null,e)}const HCe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],DFt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:HCe},{name:"weights",type:"number",array:!0}]};ZW.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:HCe.concat(DFt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};dt(ZW,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=VCe(e.distribution,$Ft(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&Me("Invalid density method: "+s),!e.extent&&!r.data&&Me("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],u=e.extent||Gf(r.data()),l=HO(s,u,i,o).map(c=>{const f={};return f[a[0]]=c[0],f[a[1]]=c[1],yr(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function $Ft(e){return()=>e.materialize(e.SOURCE).source}function qCe(e,t){return e?e.map((n,r)=>t[r]||Pi(n)):null}function eG(e,t,n){const r=[],i=f=>f(u);let o,s,a,u,l,c;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)u=e[s],l=t.map(i),c=o[l],c||(o[l]=c=[],c.dims=l,r.push(c)),c.push(n(u));return r}const WCe="bin";function tG(e){Pe.call(this,null,e)}tG.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:WCe}]};const OFt=(e,t)=>YC(Gf(e,t))/30;dt(tG,Pe,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=eG(t.source,e.groupby,qs),i=e.smooth||!1,o=e.field,s=e.step||OFt(n,o),a=iv((p,m)=>o(p)-o(m)),u=e.as||WCe,l=r.length;let c=1/0,f=-1/0,d=0,h;for(;d<l;++d){const p=r[d].sort(a);h=-1;for(const m of ACe(p,s,i,o))m<c&&(c=m),m>f&&(f=m),p[++h][u]=m}return this.value={start:c,stop:f,step:s},t.reflow(!0).modifies(u)}});function GCe(e){$r.call(this,null,MFt,e),this.modified(!0)}dt(GCe,$r);function MFt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:mu(n=>t(n,e),Fs(t),Pi(t))}function nG(e){Pe.call(this,[void 0,void 0],e)}nG.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};dt(nG,Pe,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const u=Os(r(a));u!=null&&(u<o&&(o=u),u>s&&(s=u))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Pi(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function rG(e,t){$r.call(this,e),this.parent=t,this.count=0}dt(rG,$r,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function qO(e){Pe.call(this,{},e),this._keys=cw();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}dt(qO,Pe,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=qt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new rG(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const l=Vt(u),c=o.get(l);c!==void 0&&(o.delete(l),a(c).rem(u))}),t.visit(t.ADD,u=>{const l=r(u);o.set(Vt(u),l),a(l).add(u)}),s||t.modified(r.fields)?t.visit(t.MOD,u=>{const l=Vt(u),c=o.get(l),f=r(u);c===f?a(f).mod(u):(o.set(l,f),a(c).rem(u),a(f).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{a(o.get(Vt(u))).mod(u)}),s&&t.visit(t.REFLOW,u=>{const l=Vt(u),c=o.get(l),f=r(u);c!==f&&(o.set(l,f),a(c).rem(u),a(f).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function YCe(e){$r.call(this,null,LFt,e)}dt(YCe,$r);function LFt(e){return this.value&&!e.modified()?this.value:je(e.name)?bt(e.name).map(t=>Dl(t)):Dl(e.name,e.as)}function iG(e){Pe.call(this,cw(),e)}iG.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};dt(iG,Pe,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,u=e.expr;let l=!0;t.visit(t.REM,f=>{const d=Vt(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{u(f,e)?o.push(f):r.set(Vt(f),1)});function c(f){const d=Vt(f),h=u(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):l&&h&&!p&&a.push(f)}return t.visit(t.MOD,c),e.modified()&&(l=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function oG(e){Pe.call(this,[],e)}oG.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};dt(oG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=qCe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const u=r.map(p=>p(a)),l=u.reduce((p,m)=>Math.max(p,m.length),0);let c=0,f,d,h;for(;c<l;++c){for(d=IW(a),f=0;f<s;++f)d[i[f]]=(h=u[f][c])==null?null:h;o&&(d[o]=c),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function sG(e){Pe.call(this,[],e)}sG.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};dt(sG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Pi),o=e.as||["key","value"],s=o[0],a=o[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,l=>{for(let c=0,f;c<u;++c)f=IW(l),f[s]=i[c],f[a]=r[c](l),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function aG(e){Pe.call(this,null,e)}aG.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};dt(aG,Pe,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function KCe(e){Pe.call(this,[],e)}dt(KCe,Pe,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,u;if(o>0){for(s=[];--o>=0;)s.push(u=yr(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const JA={value:"value",median:wSe,mean:bLt,min:S9,max:R0},FFt=[];function uG(e){Pe.call(this,[],e)}uG.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function jFt(e){var t=e.method||JA.value,n;if(JA[t]==null)Me("Unrecognized imputation method: "+t);else return t===JA.value?(n=e.value!==void 0?e.value:0,()=>n):JA[t]}function BFt(e){const t=e.field;return n=>n?t(n):NaN}dt(uG,Pe,{transform(e,t){var n=t.fork(t.ALL),r=jFt(e),i=BFt(e),o=Pi(e.field),s=Pi(e.key),a=(e.groupby||[]).map(Pi),u=UFt(t.source,e.groupby,e.key,e.keyvals),l=[],c=this.value,f=u.domain.length,d,h,p,m,g,y,v,b,_,w;for(g=0,b=u.length;g<b;++g)for(d=u[g],p=d.values,h=NaN,v=0;v<f;++v)if(d[v]==null){for(m=u.domain[v],w={_impute:!0},y=0,_=p.length;y<_;++y)w[a[y]]=p[y];w[s]=m,w[o]=Number.isNaN(h)?h=r(d,i):h,l.push(yr(w))}return l.length&&(n.add=n.materialize(n.ADD).add.concat(l)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=l,n}});function UFt(e,t,n,r){var i=y=>y(g),o=[],s=r?r.slice():[],a={},u={},l,c,f,d,h,p,m,g;for(s.forEach((y,v)=>a[y]=v+1),d=0,m=e.length;d<m;++d)g=e[d],p=n(g),h=a[p]||(a[p]=s.push(p)),c=(l=t?t.map(i):FFt)+"",(f=u[c])||(f=u[c]=[],o.push(f),f.values=l),f[h-1]=g;return o.domain=s,o}function lG(e){Nm.call(this,e)}lG.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:QC},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};dt(lG,Nm,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{_n(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function cG(e){Pe.call(this,null,e)}cG.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};dt(cG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=eG(r,e.groupby,e.field),o=(e.groupby||[]).map(Pi),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],l=[];let c=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&Me("Invalid density method: "+a),e.resolve==="shared"&&(c||(c=Gf(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=MW(h,s)[a],m=e.counts?h.length:1,g=c||Gf(h);HO(p,g,f,d).forEach(y=>{const v={};for(let b=0;b<o.length;++b)v[o[b]]=h.dims[b];v[u[0]]=y[0],v[u[1]]=y[1]*m,l.push(yr(v))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});function XCe(e){$r.call(this,null,zFt,e)}dt(XCe,$r);function zFt(e){return this.value&&!e.modified()?this.value:dW(e.fields,e.flat)}function QCe(e){Pe.call(this,[],e),this._pending=null}dt(QCe,Pe,{transform(e,t){const n=t.dataflow;return this._pending?n4(this,t,this._pending):VFt(e)?t.StopPropagation:e.values?n4(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=bt(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>n4(this,t,bt(r.data)))}});function VFt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function n4(e,t,n){n.forEach(yr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function fG(e){Pe.call(this,{},e)}fG.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};dt(fG,Pe,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let u=s?t.SOURCE:t.ADD,l=t,c=e.as,f,d,h;return i?(d=i.length,a>1&&!c&&Me('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==a*d&&Me('The "as" parameter has too few output field names.'),c=c||i.map(Pi),f=function(p){for(var m=0,g=0,y,v;m<a;++m)if(v=r.get(n[m](p)),v==null)for(y=0;y<d;++y,++g)p[c[g]]=o;else for(y=0;y<d;++y,++g)p[c[g]]=i[y](v)}):(c||Me("Missing output field names."),f=function(p){for(var m=0,g;m<a;++m)g=r.get(n[m](p)),p[c[m]]=g??o}),s?l=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),u|=h?t.MOD:0),t.visit(u,f),l.modifies(c)}});function JCe(e){$r.call(this,null,HFt,e)}dt(JCe,$r);function HFt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function ZCe(e){$r.call(this,null,qFt,e)}dt(ZCe,$r);function qFt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function e2e(e){Pe.call(this,null,e)}dt(e2e,Pe,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function dG(e){Nm.call(this,e)}dG.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:QC,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};dt(dG,Nm,{_transform:Nm.prototype.transform,transform(e,t){return this._transform(WFt(e,t),t)}});function WFt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=Fs(n).concat(Fs(r)),s=YFt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>GFt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function GFt(e,t,n,r){return mu(i=>t(i)===e?n(i):NaN,r,e+"")}function YFt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(AO),t?i.slice(0,t):i}function t2e(e){qO.call(this,e)}dt(t2e,qO,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Vt(o),n,t,o);return(e.modified("field")||r&&t.modified(Fs(r)))&&Me("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(yr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function hG(e){Pe.call(this,null,e)}hG.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};dt(hG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=qCe(e.fields,e.as||[]),o=r?(a,u)=>KFt(a,u,r,i):LO;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const u=Vt(a);n.rem.push(s[u]),s[u]=null}),t.visit(t.ADD,a=>{const u=o(a,yr({}));s[Vt(a)]=u,n.add.push(u)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[Vt(a)]))}),n}});function KFt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function n2e(e){Pe.call(this,null,e)}dt(n2e,Pe,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function pG(e){Pe.call(this,null,e)}pG.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const XFt=1e-14;dt(pG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=eG(i,e.groupby,e.field),s=(e.groupby||[]).map(Pi),a=[],u=e.step||.01,l=e.probs||Du(u/2,1-XFt,u),c=l.length;return o.forEach(f=>{const d=PW(f,l);for(let h=0;h<c;++h){const p={};for(let m=0;m<s.length;++m)p[s[m]]=f.dims[m];p[r[0]]=l[h],p[r[1]]=d[h],a.push(yr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function r2e(e){Pe.call(this,null,e)}dt(r2e,Pe,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Vt(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=IW(i);r[Vt(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Vt(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function mG(e){Pe.call(this,[],e),this.count=0}mG.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};dt(mG,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((c,f)=>(c[Vt(f)]=1,c),{});let s=this.value,a=this.count,u=0;function l(c){let f,d;s.length<i?s.push(c):(d=~~((a+1)*Ml()),d<s.length&&d>=u&&(f=s[d],o[Vt(f)]&&n.rem.push(f),s[d]=c)),++a}if(t.rem.length&&(t.visit(t.REM,c=>{const f=Vt(c);o[f]&&(o[f]=-1,n.rem.push(c)),--a}),s=s.filter(c=>o[Vt(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(u=a=s.length,t.visit(t.SOURCE,c=>{o[Vt(c)]||l(c)}),u=-1),r&&s.length>i){const c=s.length-i;for(let f=0;f<c;++f)o[Vt(s[f])]=-1,n.rem.push(s[f]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{o[Vt(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,l),(t.add.length||u<0)&&(n.add=s.filter(c=>!o[Vt(c)])),this.count=a,this.value=n.source=s,n}});function gG(e){Pe.call(this,null,e)}gG.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};dt(gG,Pe,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Du(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,yr(o)}),n.add=t.add.concat(this.value),n}});function i2e(e){Pe.call(this,null,e),this.modified(!0)}dt(i2e,Pe,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function yG(e){Pe.call(this,null,e)}const o2e=["unit0","unit1"];yG.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:bW,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:o2e}]};dt(yG,Pe,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?mw:pw)(o.unit).offset,a=e.as||o2e,u=a[0],l=a[1],c=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(Fs(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const m=n(p);let g,y;m==null?(p[u]=null,r&&(p[l]=null)):(p[u]=g=y=o(m),r&&(p[l]=y=s(g,c)),g<f&&(f=g),y>d&&(d=y))}),o.start=f,o.stop=d,t.modifies(r?a:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:KSe({extent:e.extent||Gf(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=_W(r),s=this.value||{},a=(n?BSe:jSe)(o,i);return a.unit=Wn(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function s2e(e){Pe.call(this,cw(),e)}dt(s2e,Pe,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function a2e(e){Pe.call(this,null,e)}dt(a2e,Pe,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(iv(e.sort)):t.source).map(e.field))}});function QFt(e,t,n,r){const i=yS[e](t,n);return{init:i.init||$p,update:function(o,s){s[r]=i.next(o)}}}const yS={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=yS.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||Me("ntile num must be greater than zero.");const n=yS.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||Me("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=JFt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function JFt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const ZFt=Object.keys(yS);function u2e(e){const t=bt(e.ops),n=bt(e.fields),r=bt(e.params),i=bt(e.aggregate_params),o=bt(e.as),s=this.outputs=[],a=this.windows=[],u={},l={},c=[],f=[];let d=!0;function h(p){bt(Fs(p)).forEach(m=>u[m]=1)}h(e.sort),t.forEach((p,m)=>{const g=n[m],y=r[m],v=i[m]||null,b=Pi(g),_=LCe(p,b,o[m]);if(h(g),s.push(_),qt(yS,p))a.push(QFt(p,g,y,_));else{if(g==null&&p!=="count"&&Me("Null aggregate field specified."),p==="count"){c.push(_);return}d=!1;let w=l[b];w||(w=l[b]=[],w.field=g,f.push(w)),w.push(FCe(p,v,_))}}),(c.length||f.length)&&(this.cell=e5t(f,c,d)),this.inputs=Object.keys(u)}const l2e=u2e.prototype;l2e.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};l2e.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function e5t(e,t,n){e=e.map(u=>BCe(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new YW;return r.add=function(u){if(r.num+=1,!n){a&&a.add(u);for(let l=0;l<i;++l)o[l].add(o[l].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){a&&a.rem(u);for(let l=0;l<i;++l)o[l].rem(o[l].get(u),u)}},r.set=function(u){let l,c;for(a&&a.values(),l=0,c=t.length;l<c;++l)u[t[l]]=r.num;if(!n)for(l=0,c=o.length;l<c;++l)o[l].set(u)},r.init=function(){r.num=0,a&&a.reset();for(let u=0;u<i;++u)o[u].init()},r}function vG(e){Pe.call(this,{},e),this._mlen=0,this._mods=[]}vG.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ZFt.concat(QC)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};dt(vG,Pe,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=iv(e.sort),i=M9(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new u2e(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,u=this._mlen;a<u;++a)t5t(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=UCe(Vt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function t5t(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),u=a.length,l=o?fw(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Ws(-1)};t.init();for(let f=0;f<u;++f)n5t(c,s,f,u),o&&r5t(c,l),t.update(c,a[f])}function n5t(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function r5t(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const i5t=Object.freeze(Object.defineProperty({__proto__:null,aggregate:Nm,bin:KW,collect:XW,compare:zCe,countpattern:QW,cross:JW,density:ZW,dotbin:tG,expression:GCe,extent:nG,facet:qO,field:YCe,filter:iG,flatten:oG,fold:sG,formula:aG,generate:KCe,impute:uG,joinaggregate:lG,kde:cG,key:XCe,load:QCe,lookup:fG,multiextent:JCe,multivalues:ZCe,params:e2e,pivot:dG,prefacet:t2e,project:hG,proxy:n2e,quantile:pG,relay:r2e,sample:mG,sequence:gG,sieve:i2e,subflow:rG,timeunit:yG,tupleindex:s2e,values:a2e,window:vG},Symbol.toStringTag,{value:"Module"}));function _r(e){return function(){return e}}const Tae=Math.abs,Cs=Math.atan2,kg=Math.cos,o5t=Math.max,r4=Math.min,sf=Math.sin,m0=Math.sqrt,Is=1e-12,qb=Math.PI,NP=qb/2,c2e=2*qb;function s5t(e){return e>1?0:e<-1?qb:Math.acos(e)}function Sae(e){return e>=1?NP:e<=-1?-NP:Math.asin(e)}const L9=Math.PI,F9=2*L9,Gg=1e-6,a5t=F9-Gg;function f2e(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function u5t(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return f2e;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let bG=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?f2e:u5t(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-t,l=i-n,c=s-t,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Gg)if(!(Math.abs(f*u-l*c)>Gg)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,m=u*u+l*l,g=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(d),b=o*Math.tan((L9-Math.acos((m+d-g)/(2*y*v)))/2),_=b/v,w=b/y;Math.abs(_-1)>Gg&&this._append`L${t+_*c},${n+_*f}`,this._append`A${o},${o},0,0,${+(f*h>c*p)},${this._x1=t+w*u},${this._y1=n+w*l}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=t+a,c=n+u,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Gg||Math.abs(this._y1-c)>Gg)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%F9+F9),d>a5t?this._append`A${r},${r},0,1,${f},${t-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>Gg&&this._append`A${r},${r},0,${+(d>=L9)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function WO(){return new bG}WO.prototype=bG.prototype;function GO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new bG(t)}function l5t(e){return e.innerRadius}function c5t(e){return e.outerRadius}function f5t(e){return e.startAngle}function d5t(e){return e.endAngle}function h5t(e){return e&&e.padAngle}function p5t(e,t,n,r,i,o,s,a){var u=n-e,l=r-t,c=s-i,f=a-o,d=f*u-c*l;if(!(d*d<Is))return d=(c*(t-o)-f*(e-i))/d,[e+d*u,t+d*l]}function ZA(e,t,n,r,i,o,s){var a=e-n,u=t-r,l=(s?o:-o)/m0(a*a+u*u),c=l*u,f=-l*a,d=e+c,h=t+f,p=n+c,m=r+f,g=(d+p)/2,y=(h+m)/2,v=p-d,b=m-h,_=v*v+b*b,w=i-o,S=d*m-p*h,E=(b<0?-1:1)*m0(o5t(0,w*w*_-S*S)),C=(S*b-v*E)/_,A=(-S*v-b*E)/_,k=(S*b+v*E)/_,P=(-S*v+b*E)/_,$=C-g,N=A-y,O=k-g,j=P-y;return $*$+N*N>O*O+j*j&&(C=k,A=P),{cx:C,cy:A,x01:-c,y01:-f,x11:C*(i/w-1),y11:A*(i/w-1)}}function m5t(){var e=l5t,t=c5t,n=_r(0),r=null,i=f5t,o=d5t,s=h5t,a=null,u=GO(l);function l(){var c,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-NP,m=o.apply(this,arguments)-NP,g=Tae(m-p),y=m>p;if(a||(a=c=u()),h<d&&(f=h,h=d,d=f),!(h>Is))a.moveTo(0,0);else if(g>c2e-Is)a.moveTo(h*kg(p),h*sf(p)),a.arc(0,0,h,p,m,!y),d>Is&&(a.moveTo(d*kg(m),d*sf(m)),a.arc(0,0,d,m,p,y));else{var v=p,b=m,_=p,w=m,S=g,E=g,C=s.apply(this,arguments)/2,A=C>Is&&(r?+r.apply(this,arguments):m0(d*d+h*h)),k=r4(Tae(h-d)/2,+n.apply(this,arguments)),P=k,$=k,N,O;if(A>Is){var j=Sae(A/d*sf(C)),M=Sae(A/h*sf(C));(S-=j*2)>Is?(j*=y?1:-1,_+=j,w-=j):(S=0,_=w=(p+m)/2),(E-=M*2)>Is?(M*=y?1:-1,v+=M,b-=M):(E=0,v=b=(p+m)/2)}var B=h*kg(v),V=h*sf(v),q=d*kg(w),D=d*sf(w);if(k>Is){var U=h*kg(b),W=h*sf(b),F=d*kg(_),z=d*sf(_),G;if(g<qb)if(G=p5t(B,V,F,z,U,W,q,D)){var ee=B-G[0],ce=V-G[1],le=U-G[0],se=W-G[1],ge=1/sf(s5t((ee*le+ce*se)/(m0(ee*ee+ce*ce)*m0(le*le+se*se)))/2),be=m0(G[0]*G[0]+G[1]*G[1]);P=r4(k,(d-be)/(ge-1)),$=r4(k,(h-be)/(ge+1))}else P=$=0}E>Is?$>Is?(N=ZA(F,z,B,V,h,$,y),O=ZA(U,W,q,D,h,$,y),a.moveTo(N.cx+N.x01,N.cy+N.y01),$<k?a.arc(N.cx,N.cy,$,Cs(N.y01,N.x01),Cs(O.y01,O.x01),!y):(a.arc(N.cx,N.cy,$,Cs(N.y01,N.x01),Cs(N.y11,N.x11),!y),a.arc(0,0,h,Cs(N.cy+N.y11,N.cx+N.x11),Cs(O.cy+O.y11,O.cx+O.x11),!y),a.arc(O.cx,O.cy,$,Cs(O.y11,O.x11),Cs(O.y01,O.x01),!y))):(a.moveTo(B,V),a.arc(0,0,h,v,b,!y)):a.moveTo(B,V),!(d>Is)||!(S>Is)?a.lineTo(q,D):P>Is?(N=ZA(q,D,U,W,d,-P,y),O=ZA(B,V,F,z,d,-P,y),a.lineTo(N.cx+N.x01,N.cy+N.y01),P<k?a.arc(N.cx,N.cy,P,Cs(N.y01,N.x01),Cs(O.y01,O.x01),!y):(a.arc(N.cx,N.cy,P,Cs(N.y01,N.x01),Cs(N.y11,N.x11),!y),a.arc(0,0,d,Cs(N.cy+N.y11,N.cx+N.x11),Cs(O.cy+O.y11,O.cx+O.x11),y),a.arc(O.cx,O.cy,P,Cs(O.y11,O.x11),Cs(O.y01,O.x01),!y))):a.arc(0,0,d,w,_,y)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-qb/2;return[kg(f)*c,sf(f)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:_r(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:_r(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:_r(+c),l):n},l.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:_r(+c),l):r},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:_r(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:_r(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:_r(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function d2e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h2e(e){this._context=e}h2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _G(e){return new h2e(e)}function p2e(e){return e[0]}function m2e(e){return e[1]}function g2e(e,t){var n=_r(!0),r=null,i=_G,o=null,s=GO(a);e=typeof e=="function"?e:e===void 0?p2e:_r(e),t=typeof t=="function"?t:t===void 0?m2e:_r(t);function a(u){var l,c=(u=d2e(u)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,l,u),+t(f,l,u));if(h)return o=null,h+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:_r(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:_r(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_r(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),a):r},a}function y2e(e,t,n){var r=null,i=_r(!0),o=null,s=_G,a=null,u=GO(l);e=typeof e=="function"?e:e===void 0?p2e:_r(+e),t=typeof t=="function"?t:_r(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?m2e:_r(+n);function l(f){var d,h,p,m=(f=d2e(f)).length,g,y=!1,v,b=new Array(m),_=new Array(m);for(o==null&&(a=s(v=u())),d=0;d<=m;++d){if(!(d<m&&i(g=f[d],d,f))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(b[p],_[p]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+e(g,d,f),_[d]=+t(g,d,f),a.point(r?+r(g,d,f):b[d],n?+n(g,d,f):_[d]))}if(v)return a=null,v+""||null}function c(){return g2e().defined(i).curve(s).context(o)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),r=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_r(+f),l):e},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_r(+f),l):r},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:_r(+f),n=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:_r(+f),l):t},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_r(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(n)},l.lineX1=function(){return c().x(r).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:_r(!!f),l):i},l.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),l):s},l.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),l):o},l}const g5t={draw(e,t){const n=m0(t/qb);e.moveTo(n,0),e.arc(0,0,n,0,c2e)}};function y5t(e,t){let n=null,r=GO(i);e=typeof e=="function"?e:_r(e||g5t),t=typeof t=="function"?t:_r(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:_r(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:_r(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Dm(){}function DP(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:DP(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:DP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v5t(e){return new YO(e)}function v2e(e){this._context=e}v2e.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:DP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b5t(e){return new v2e(e)}function b2e(e){this._context=e}b2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:DP(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _5t(e){return new b2e(e)}function _2e(e,t){this._basis=new YO(e),this._beta=t}_2e.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,u;++a<=n;)u=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+u*o),this._beta*t[a]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const w5t=function e(t){function n(r){return t===1?new YO(r):new _2e(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function $P(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function wG(e,t){this._context=e,this._k=(1-t)/6}wG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$P(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:$P(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const E5t=function e(t){function n(r){return new wG(r,t)}return n.tension=function(r){return e(+r)},n}(0);function EG(e,t){this._context=e,this._k=(1-t)/6}EG.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:$P(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const x5t=function e(t){function n(r){return new EG(r,t)}return n.tension=function(r){return e(+r)},n}(0);function xG(e,t){this._context=e,this._k=(1-t)/6}xG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$P(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const T5t=function e(t){function n(r){return new xG(r,t)}return n.tension=function(r){return e(+r)},n}(0);function TG(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Is){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Is){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function w2e(e,t){this._context=e,this._alpha=t}w2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:TG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const S5t=function e(t){function n(r){return t?new w2e(r,t):new wG(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function E2e(e,t){this._context=e,this._alpha=t}E2e.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:TG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const C5t=function e(t){function n(r){return t?new E2e(r,t):new EG(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function x2e(e,t){this._context=e,this._alpha=t}x2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:TG(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const A5t=function e(t){function n(r){return t?new x2e(r,t):new xG(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function T2e(e){this._context=e}T2e.prototype={areaStart:Dm,areaEnd:Dm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function I5t(e){return new T2e(e)}function Cae(e){return e<0?-1:1}function Aae(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Cae(o)+Cae(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Iae(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function i4(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function OP(e){this._context=e}OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i4(this,this._t0,Iae(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,i4(this,Iae(this,n=Aae(this,e,t)),n);break;default:i4(this,this._t0,n=Aae(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function S2e(e){this._context=new C2e(e)}(S2e.prototype=Object.create(OP.prototype)).point=function(e,t){OP.prototype.point.call(this,t,e)};function C2e(e){this._context=e}C2e.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function k5t(e){return new OP(e)}function R5t(e){return new S2e(e)}function A2e(e){this._context=e}A2e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=kae(e),i=kae(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kae(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function P5t(e){return new A2e(e)}function KO(e,t){this._context=e,this._t=t}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function N5t(e){return new KO(e,.5)}function D5t(e){return new KO(e,0)}function $5t(e){return new KO(e,1)}function gm(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const O5t=()=>typeof Image<"u"?Image:null;function fd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fg(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const j9=Symbol("implicit");function SG(){var e=new Wse,t=[],n=[],r=j9;function i(o){let s=e.get(o);if(s===void 0){if(r!==j9)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Wse;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return SG(t,n).unknown(r)},fd.apply(i,arguments),i}function yw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function JC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dg(){}var uy=.7,Wb=1/uy,rb="\\s*([+-]?\\d+)\\s*",vS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M5t=/^#([0-9a-f]{3,8})$/,L5t=new RegExp(`^rgb\\(${rb},${rb},${rb}\\)$`),F5t=new RegExp(`^rgb\\(${Ff},${Ff},${Ff}\\)$`),j5t=new RegExp(`^rgba\\(${rb},${rb},${rb},${vS}\\)$`),B5t=new RegExp(`^rgba\\(${Ff},${Ff},${Ff},${vS}\\)$`),U5t=new RegExp(`^hsl\\(${vS},${Ff},${Ff}\\)$`),z5t=new RegExp(`^hsla\\(${vS},${Ff},${Ff},${vS}\\)$`),Rae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yw(dg,bS,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pae,formatHex:Pae,formatHex8:V5t,formatHsl:H5t,formatRgb:Nae,toString:Nae});function Pae(){return this.rgb().formatHex()}function V5t(){return this.rgb().formatHex8()}function H5t(){return I2e(this).formatHsl()}function Nae(){return this.rgb().formatRgb()}function bS(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=M5t.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Dae(t):n===3?new Do(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?eI(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?eI(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L5t.exec(e))?new Do(t[1],t[2],t[3],1):(t=F5t.exec(e))?new Do(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=j5t.exec(e))?eI(t[1],t[2],t[3],t[4]):(t=B5t.exec(e))?eI(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=U5t.exec(e))?Mae(t[1],t[2]/100,t[3]/100,1):(t=z5t.exec(e))?Mae(t[1],t[2]/100,t[3]/100,t[4]):Rae.hasOwnProperty(e)?Dae(Rae[e]):e==="transparent"?new Do(NaN,NaN,NaN,0):null}function Dae(e){return new Do(e>>16&255,e>>8&255,e&255,1)}function eI(e,t,n,r){return r<=0&&(e=t=n=NaN),new Do(e,t,n,r)}function CG(e){return e instanceof dg||(e=bS(e)),e?(e=e.rgb(),new Do(e.r,e.g,e.b,e.opacity)):new Do}function $m(e,t,n,r){return arguments.length===1?CG(e):new Do(e,t,n,r??1)}function Do(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yw(Do,$m,JC(dg,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uy:Math.pow(uy,e),new Do(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Do(P0(this.r),P0(this.g),P0(this.b),MP(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$ae,formatHex:$ae,formatHex8:q5t,formatRgb:Oae,toString:Oae}));function $ae(){return`#${g0(this.r)}${g0(this.g)}${g0(this.b)}`}function q5t(){return`#${g0(this.r)}${g0(this.g)}${g0(this.b)}${g0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oae(){const e=MP(this.opacity);return`${e===1?"rgb(":"rgba("}${P0(this.r)}, ${P0(this.g)}, ${P0(this.b)}${e===1?")":`, ${e})`}`}function MP(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function P0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function g0(e){return e=P0(e),(e<16?"0":"")+e.toString(16)}function Mae(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bc(e,t,n,r)}function I2e(e){if(e instanceof bc)return new bc(e.h,e.s,e.l,e.opacity);if(e instanceof dg||(e=bS(e)),!e)return new bc;if(e instanceof bc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new bc(s,a,u,e.opacity)}function LP(e,t,n,r){return arguments.length===1?I2e(e):new bc(e,t,n,r??1)}function bc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yw(bc,LP,JC(dg,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new bc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uy:Math.pow(uy,e),new bc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Do(o4(e>=240?e-240:e+120,i,r),o4(e,i,r),o4(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new bc(Lae(this.h),tI(this.s),tI(this.l),MP(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=MP(this.opacity);return`${e===1?"hsl(":"hsla("}${Lae(this.h)}, ${tI(this.s)*100}%, ${tI(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lae(e){return e=(e||0)%360,e<0?e+360:e}function tI(e){return Math.max(0,Math.min(1,e||0))}function o4(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k2e=Math.PI/180,R2e=180/Math.PI,FP=18,P2e=.96422,N2e=1,D2e=.82521,$2e=4/29,ib=6/29,O2e=3*ib*ib,W5t=ib*ib*ib;function M2e(e){if(e instanceof jf)return new jf(e.l,e.a,e.b,e.opacity);if(e instanceof th)return L2e(e);e instanceof Do||(e=CG(e));var t=l4(e.r),n=l4(e.g),r=l4(e.b),i=s4((.2225045*t+.7168786*n+.0606169*r)/N2e),o,s;return t===n&&n===r?o=s=i:(o=s4((.4360747*t+.3850649*n+.1430804*r)/P2e),s=s4((.0139322*t+.0971045*n+.7141733*r)/D2e)),new jf(116*i-16,500*(o-i),200*(i-s),e.opacity)}function jP(e,t,n,r){return arguments.length===1?M2e(e):new jf(e,t,n,r??1)}function jf(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}yw(jf,jP,JC(dg,{brighter(e){return new jf(this.l+FP*(e??1),this.a,this.b,this.opacity)},darker(e){return new jf(this.l-FP*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=P2e*a4(t),e=N2e*a4(e),n=D2e*a4(n),new Do(u4(3.1338561*t-1.6168667*e-.4906146*n),u4(-.9787684*t+1.9161415*e+.033454*n),u4(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function s4(e){return e>W5t?Math.pow(e,1/3):e/O2e+$2e}function a4(e){return e>ib?e*e*e:O2e*(e-$2e)}function u4(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l4(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function G5t(e){if(e instanceof th)return new th(e.h,e.c,e.l,e.opacity);if(e instanceof jf||(e=M2e(e)),e.a===0&&e.b===0)return new th(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*R2e;return new th(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function BP(e,t,n,r){return arguments.length===1?G5t(e):new th(e,t,n,r??1)}function th(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function L2e(e){if(isNaN(e.h))return new jf(e.l,0,0,e.opacity);var t=e.h*k2e;return new jf(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yw(th,BP,JC(dg,{brighter(e){return new th(this.h,this.c,this.l+FP*(e??1),this.opacity)},darker(e){return new th(this.h,this.c,this.l-FP*(e??1),this.opacity)},rgb(){return L2e(this).rgb()}}));var F2e=-.14861,AG=1.78277,IG=-.29227,XO=-.90649,_S=1.97294,Fae=_S*XO,jae=_S*AG,Bae=AG*IG-XO*F2e;function Y5t(e){if(e instanceof N0)return new N0(e.h,e.s,e.l,e.opacity);e instanceof Do||(e=CG(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Bae*r+Fae*t-jae*n)/(Bae+Fae-jae),o=r-i,s=(_S*(n-i)-IG*o)/XO,a=Math.sqrt(s*s+o*o)/(_S*i*(1-i)),u=a?Math.atan2(s,o)*R2e-120:NaN;return new N0(u<0?u+360:u,a,i,e.opacity)}function B9(e,t,n,r){return arguments.length===1?Y5t(e):new N0(e,t,n,r??1)}function N0(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yw(N0,B9,JC(dg,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new N0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uy:Math.pow(uy,e),new N0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*k2e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Do(255*(t+n*(F2e*r+AG*i)),255*(t+n*(IG*r+XO*i)),255*(t+n*(_S*r)),this.opacity)}}));function j2e(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function B2e(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return j2e((n-r/t)*t,s,i,o,a)}}function U2e(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return j2e((n-r/t)*t,i,o,s,a)}}const QO=e=>()=>e;function z2e(e,t){return function(n){return e+n*t}}function K5t(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JO(e,t){var n=t-e;return n?z2e(e,n>180||n<-180?n-360*Math.round(n/360):n):QO(isNaN(e)?t:e)}function X5t(e){return(e=+e)==1?$o:function(t,n){return n-t?K5t(t,n,e):QO(isNaN(t)?n:t)}}function $o(e,t){var n=t-e;return n?z2e(e,n):QO(isNaN(e)?t:e)}const U9=function e(t){var n=X5t(t);function r(i,o){var s=n((i=$m(i)).r,(o=$m(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=$o(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function V2e(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=$m(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(u){return a.r=r(u),a.g=i(u),a.b=o(u),a+""}}}var Q5t=V2e(B2e),J5t=V2e(U2e);function kG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function H2e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Z5t(e,t){return(H2e(t)?kG:q2e)(e,t)}function q2e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=hg(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function W2e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function mc(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function G2e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hg(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var z9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c4=new RegExp(z9.source,"g");function e8t(e){return function(){return e}}function t8t(e){return function(t){return e(t)+""}}function Y2e(e,t){var n=z9.lastIndex=c4.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(r=z9.exec(e))&&(i=c4.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:mc(r,i)})),n=c4.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?t8t(u[0].x):e8t(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function hg(e,t){var n=typeof t,r;return t==null||n==="boolean"?QO(t):(n==="number"?mc:n==="string"?(r=bS(t))?(t=r,U9):Y2e:t instanceof bS?U9:t instanceof Date?W2e:H2e(t)?kG:Array.isArray(t)?q2e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G2e:mc)(e,t)}function n8t(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function r8t(e,t){var n=JO(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function ZC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Uae=180/Math.PI,V9={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function K2e(e,t,n,r,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Uae,skewX:Math.atan(u)*Uae,scaleX:s,scaleY:a}}var nI;function i8t(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?V9:K2e(t.a,t.b,t.c,t.d,t.e,t.f)}function o8t(e){return e==null||(nI||(nI=document.createElementNS("http://www.w3.org/2000/svg","g")),nI.setAttribute("transform",e),!(e=nI.transform.baseVal.consolidate()))?V9:(e=e.matrix,K2e(e.a,e.b,e.c,e.d,e.e,e.f))}function X2e(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:mc(l,f)},{i:m-2,x:mc(c,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:mc(l,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:mc(l,c)}):c&&f.push(i(f)+"skewX("+c+r)}function u(l,c,f,d,h,p){if(l!==f||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:mc(l,f)},{i:m-2,x:mc(c,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),s(l.rotate,c.rotate,f,d),a(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)f[(g=d[p]).i]=g.x(h);return f.join("")}}}var s8t=X2e(i8t,"px, ","px)","deg)"),a8t=X2e(o8t,", ",")",")"),u8t=1e-12;function zae(e){return((e=Math.exp(e))+1/e)/2}function l8t(e){return((e=Math.exp(e))-1/e)/2}function c8t(e){return((e=Math.exp(2*e))-1)/(e+1)}const f8t=function e(t,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],c=s[0],f=s[1],d=s[2],h=c-a,p=f-u,m=h*h+p*p,g,y;if(m<u8t)y=Math.log(d/l)/t,g=function(E){return[a+E*h,u+E*p,l*Math.exp(t*E*y)]};else{var v=Math.sqrt(m),b=(d*d-l*l+r*m)/(2*l*n*v),_=(d*d-l*l-r*m)/(2*d*n*v),w=Math.log(Math.sqrt(b*b+1)-b),S=Math.log(Math.sqrt(_*_+1)-_);y=(S-w)/t,g=function(E){var C=E*y,A=zae(w),k=l/(n*v)*(A*c8t(t*C+w)-l8t(w));return[a+k*h,u+k*p,l*A/zae(t*C+w)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return e(s,a,u)},i}(Math.SQRT2,2,4);function Q2e(e){return function(t,n){var r=e((t=LP(t)).h,(n=LP(n)).h),i=$o(t.s,n.s),o=$o(t.l,n.l),s=$o(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const d8t=Q2e(JO);var h8t=Q2e($o);function p8t(e,t){var n=$o((e=jP(e)).l,(t=jP(t)).l),r=$o(e.a,t.a),i=$o(e.b,t.b),o=$o(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function J2e(e){return function(t,n){var r=e((t=BP(t)).h,(n=BP(n)).h),i=$o(t.c,n.c),o=$o(t.l,n.l),s=$o(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const m8t=J2e(JO);var g8t=J2e($o);function Z2e(e){return function t(n){n=+n;function r(i,o){var s=e((i=B9(i)).h,(o=B9(o)).h),a=$o(i.s,o.s),u=$o(i.l,o.l),l=$o(i.opacity,o.opacity);return function(c){return i.h=s(c),i.s=a(c),i.l=u(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}const y8t=Z2e(JO);var v8t=Z2e($o);function RG(e,t){t===void 0&&(t=e,e=hg);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function b8t(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const _8t=Object.freeze(Object.defineProperty({__proto__:null,interpolate:hg,interpolateArray:Z5t,interpolateBasis:B2e,interpolateBasisClosed:U2e,interpolateCubehelix:y8t,interpolateCubehelixLong:v8t,interpolateDate:W2e,interpolateDiscrete:n8t,interpolateHcl:m8t,interpolateHclLong:g8t,interpolateHsl:d8t,interpolateHslLong:h8t,interpolateHue:r8t,interpolateLab:p8t,interpolateNumber:mc,interpolateNumberArray:kG,interpolateObject:G2e,interpolateRgb:U9,interpolateRgbBasis:Q5t,interpolateRgbBasisClosed:J5t,interpolateRound:ZC,interpolateString:Y2e,interpolateTransformCss:s8t,interpolateTransformSvg:a8t,interpolateZoom:f8t,piecewise:RG,quantize:b8t},Symbol.toStringTag,{value:"Module"}));function w8t(e){return function(){return e}}function H9(e){return+e}var Vae=[0,1];function Xa(e){return e}function q9(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:w8t(isNaN(t)?NaN:.5)}function E8t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function x8t(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=q9(i,r),o=n(s,o)):(r=q9(r,i),o=n(o,s)),function(a){return o(r(a))}}function T8t(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=q9(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var u=Rm(e,a,1,r)-1;return o[u](i[u](a))}}function e2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZO(){var e=Vae,t=Vae,n=hg,r,i,o,s=Xa,a,u,l;function c(){var d=Math.min(e.length,t.length);return s!==Xa&&(s=E8t(e[0],e[d-1])),a=d>2?T8t:x8t,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(u||(u=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((l||(l=a(t,e.map(r),mc)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,H9),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=ZC,c()},f.clamp=function(d){return arguments.length?(s=d?!0:Xa,c()):s!==Xa},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,c()}}function eAe(){return ZO()(Xa,Xa)}function tAe(e,t,n,r){var i=Pm(e,t,n),o;switch(r=ay(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=ASe(i,s))&&(r.precision=o),yW(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ISe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=CSe(i))&&(r.precision=o-(r.type==="%")*2);break}}return IO(r)}function sv(e){var t=e.domain;return e.ticks=function(n){var r=t();return x9(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return tAe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=T9(s,a,n),l===u)return r[i]=s,r[o]=a,t(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return e},e}function nAe(){var e=eAe();return e.copy=function(){return e2(e,nAe())},fd.apply(e,arguments),sv(e)}function rAe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,H9),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return rAe(e).unknown(t)},e=arguments.length?Array.from(e,H9):[0,1],sv(n)}function iAe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Hae(e){return Math.log(e)}function qae(e){return Math.exp(e)}function S8t(e){return-Math.log(-e)}function C8t(e){return-Math.exp(-e)}function A8t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function I8t(e){return e===10?A8t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function k8t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Wae(e){return(t,n)=>-e(-t,n)}function PG(e){const t=e(Hae,qae),n=t.domain;let r=10,i,o;function s(){return i=k8t(r),o=I8t(r),n()[0]<0?(i=Wae(i),o=Wae(o),e(S8t,C8t)):e(Hae,qae),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),h=i(c),p,m;const g=a==null?10:+a;let y=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/o(-d):p*o(d),!(m<l)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/o(-d):p*o(d),!(m<l)){if(m>c)break;y.push(m)}y.length*2<g&&(y=x9(l,c,g))}else y=x9(d,h,Math.min(h-d,g)).map(o);return f?y.reverse():y},t.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ay(u)).precision==null&&(u.trim=!0),u=IO(u)),a===1/0)return u;const l=Math.max(1,r*a/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},t.nice=()=>n(iAe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function oAe(){const e=PG(ZO()).domain([1,10]);return e.copy=()=>e2(e,oAe()).base(e.base()),fd.apply(e,arguments),e}function Gae(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Yae(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function NG(e){var t=1,n=e(Gae(t),Yae(t));return n.constant=function(r){return arguments.length?e(Gae(t=+r),Yae(t)):t},sv(n)}function sAe(){var e=NG(ZO());return e.copy=function(){return e2(e,sAe()).constant(e.constant())},fd.apply(e,arguments)}function Kae(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function R8t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P8t(e){return e<0?-e*e:e*e}function DG(e){var t=e(Xa,Xa),n=1;function r(){return n===1?e(Xa,Xa):n===.5?e(R8t,P8t):e(Kae(n),Kae(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},sv(t)}function $G(){var e=DG(ZO());return e.copy=function(){return e2(e,$G()).exponent(e.exponent())},fd.apply(e,arguments),e}function N8t(){return $G.apply(null,arguments).exponent(.5)}function aAe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=_Se(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[Rm(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(fh),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aAe().domain(e).range(t).unknown(r)},fd.apply(o,arguments)}function uAe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[Rm(r,u,0,n)]:o}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,a()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},s.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,r[0]]:l>=n?[r[n-1],t]:[r[l-1],r[l]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return uAe().domain([e,t]).range(i).unknown(o)},fd.apply(sv(s),arguments)}function lAe(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Rm(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lAe().domain(e).range(t).unknown(n)},fd.apply(i,arguments)}function D8t(e){return new Date(e)}function $8t(e){return e instanceof Date?+e:+new Date(+e)}function OG(e,t,n,r,i,o,s,a,u,l){var c=eAe(),f=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),y=l("%a %d"),v=l("%b %d"),b=l("%B"),_=l("%Y");function w(S){return(u(S)<S?h:a(S)<S?p:s(S)<S?m:o(S)<S?g:r(S)<S?i(S)<S?y:v:n(S)<S?b:_)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,$8t)):d().map(D8t)},c.ticks=function(S){var E=d();return e(E[0],E[E.length-1],S??10)},c.tickFormat=function(S,E){return E==null?w:l(E)},c.nice=function(S){var E=d();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?d(iAe(E,S)):c},c.copy=function(){return e2(c,OG(e,t,n,r,i,o,s,a,u,l))},c}function O8t(){return fd.apply(OG(ULt,zLt,Yf,hS,dw,dh,PO,kO,eh,EW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M8t(){return fd.apply(OG(jLt,BLt,Kf,pS,hw,pm,NO,RO,eh,xW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eM(){var e=0,t=1,n,r,i,o,s=Xa,a=!1,u;function l(f){return f==null||isNaN(f=+f)?u:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(s=f,l):s};function c(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),l):[s(0),s(1)]}}return l.range=c(hg),l.rangeRound=c(ZC),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),l}}function pg(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MG(){var e=sv(eM()(Xa));return e.copy=function(){return pg(e,MG())},fg.apply(e,arguments)}function cAe(){var e=PG(eM()).domain([1,10]);return e.copy=function(){return pg(e,cAe()).base(e.base())},fg.apply(e,arguments)}function fAe(){var e=NG(eM());return e.copy=function(){return pg(e,fAe()).constant(e.constant())},fg.apply(e,arguments)}function LG(){var e=DG(eM());return e.copy=function(){return pg(e,LG()).exponent(e.exponent())},fg.apply(e,arguments)}function L8t(){return LG.apply(null,arguments).exponent(.5)}function tM(){var e=0,t=.5,n=1,r=1,i,o,s,a,u,l=Xa,c,f=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:u),l(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),s=c(n=+n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(g){var y,v,b;return arguments.length?([y,v,b]=g,l=RG(m,[y,v,b]),h):[l(0),l(.5),l(1)]}}return h.range=p(hg),h.rangeRound=p(ZC),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),o=m(t),s=m(n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function dAe(){var e=sv(tM()(Xa));return e.copy=function(){return pg(e,dAe())},fg.apply(e,arguments)}function hAe(){var e=PG(tM()).domain([.1,1,10]);return e.copy=function(){return pg(e,hAe()).base(e.base())},fg.apply(e,arguments)}function pAe(){var e=NG(tM());return e.copy=function(){return pg(e,pAe()).constant(e.constant())},fg.apply(e,arguments)}function FG(){var e=DG(tM());return e.copy=function(){return pg(e,FG()).exponent(e.exponent())},fg.apply(e,arguments)}function F8t(){return FG.apply(null,arguments).exponent(.5)}function dd(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const j8t=dd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),B8t=dd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),U8t=dd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),z8t=dd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),V8t=dd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),H8t=dd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),q8t=dd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),W8t=dd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),G8t=dd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Y8t=dd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function jG(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const K8t="identity",Gb="linear",$h="log",t2="pow",n2="sqrt",nM="symlog",ly="time",cy="utc",Bf="sequential",vw="diverging",Yb="quantile",rM="quantize",iM="threshold",BG="ordinal",W9="point",mAe="band",UG="bin-ordinal",wo="continuous",r2="discrete",i2="discretizing",Gl="interpolating",zG="temporal";function X8t(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function Q8t(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,u,l;for(i<r&&(a=r,r=i,i=a),u=0,l=n.length;u<l;++u)n[u]>=r&&n[u]<=i&&(o<0&&(o=u),s=u);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function VG(){const e=SG().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,u=0,l=.5;delete e.unknown;function c(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=jG(f,a,u);let m=r[d-0];i=(h-m)/(p||1),s&&(i=Math.floor(i)),m+=(h-m-i*(f-a))*l,o=i*(1-a),s&&(m=Math.round(m),o=Math.round(o));const g=Du(f).map(y=>m+i*y);return n(d?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),c()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],c()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,c()):s},e.padding=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),a=u,c()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),c()):a},e.paddingOuter=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let m=+f[0],g=+f[1],y,v,b;if(!(m!==m||g!==g)&&(g<m&&(b=m,m=g,g=b),!(g<h[0]||m>r[1-d])))return y=Math.max(0,Rm(h,m)-1),v=m===g?y:Rm(h,g)-1,m-h[y]>o+1e-10&&++y,d&&(b=y,y=p-v,v=p-b),y>v?void 0:t().slice(y,v+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return VG().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(u).align(l)},c()}function gAe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return gAe(t())},e}function J8t(){return gAe(VG().paddingInner(1))}var Z8t=Array.prototype.map;function e9t(e){return Z8t.call(e,Os)}const t9t=Array.prototype.slice;function yAe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(Rm(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=e9t(r),n):e.slice()},n.range=function(r){return arguments.length?(t=t9t.call(r),n):t.slice()},n.tickFormat=function(r,i){return tAe(e[0],Wn(e),r??10,i)},n.copy=function(){return yAe().domain(n.domain()).range(n.range())},n}const UP=new Map,vAe=Symbol("vega_scale");function bAe(e){return e[vAe]=!0,e}function n9t(e){return e&&e[vAe]===!0}function r9t(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?X8t(o):o.invertExtent?Q8t(o):void 0),o.type=e,bAe(o)};return r.metadata=Fc(bt(n)),r}function cr(e,t,n){return arguments.length>1?(UP.set(e,r9t(e,t,n)),this):_Ae(e)?UP.get(e):void 0}cr(K8t,rAe);cr(Gb,nAe,wo);cr($h,oAe,[wo,$h]);cr(t2,$G,wo);cr(n2,N8t,wo);cr(nM,sAe,wo);cr(ly,O8t,[wo,zG]);cr(cy,M8t,[wo,zG]);cr(Bf,MG,[wo,Gl]);cr(`${Bf}-${Gb}`,MG,[wo,Gl]);cr(`${Bf}-${$h}`,cAe,[wo,Gl,$h]);cr(`${Bf}-${t2}`,LG,[wo,Gl]);cr(`${Bf}-${n2}`,L8t,[wo,Gl]);cr(`${Bf}-${nM}`,fAe,[wo,Gl]);cr(`${vw}-${Gb}`,dAe,[wo,Gl]);cr(`${vw}-${$h}`,hAe,[wo,Gl,$h]);cr(`${vw}-${t2}`,FG,[wo,Gl]);cr(`${vw}-${n2}`,F8t,[wo,Gl]);cr(`${vw}-${nM}`,pAe,[wo,Gl]);cr(Yb,aAe,[i2,Yb]);cr(rM,uAe,i2);cr(iM,lAe,i2);cr(UG,yAe,[r2,i2]);cr(BG,SG,r2);cr(mAe,VG,r2);cr(W9,J8t,r2);function _Ae(e){return UP.has(e)}function av(e,t){const n=UP.get(e);return n&&n.metadata[t]}function HG(e){return av(e,wo)}function Kb(e){return av(e,r2)}function G9(e){return av(e,i2)}function wAe(e){return av(e,$h)}function i9t(e){return av(e,zG)}function EAe(e){return av(e,Gl)}function xAe(e){return av(e,Yb)}const o9t=["clamp","base","constant","exponent"];function TAe(e,t){const n=t[0],r=Wn(t)-n;return function(i){return e(n+i*r)}}function oM(e,t,n){return RG(qG(t||"rgb",n),e)}function SAe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function CAe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Ws(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=cr(o)().domain([t,n]).range([0,1]),o9t.forEach(a=>e[a]?s[a](e[a]()):0),s)}function qG(e,t){const n=_8t[s9t(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function s9t(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const a9t={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},u9t={accent:B8t,category10:j8t,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:U8t,observable10:z8t,paired:V8t,pastel1:H8t,pastel2:q8t,set1:W8t,set2:G8t,set3:Y8t,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function AAe(e){if(je(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function IAe(e,t){for(const n in e)WG(n,t(e[n]))}const Xae={};IAe(u9t,AAe);IAe(a9t,e=>oM(AAe(e)));function WG(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Xae[e]=t,this):Xae[e]}const Tk="symbol",l9t="discrete",c9t="gradient",f9t=e=>je(e)?e.map(t=>String(t)):String(e),d9t=(e,t)=>e[1]-t[1],h9t=(e,t)=>t[1]-e[1];function GG(e,t,n){let r;return tr(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(YC(e.domain())/n||1)+1))),wt(t)&&(r=t.step,t=t.interval),_t(t)&&(t=e.type===ly?pw(t):e.type==cy?mw(t):Me("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function kAe(e,t,n){let r=e.range(),i=r[0],o=Wn(r),s=d9t;if(i>o&&(r=o,o=i,i=r,s=h9t),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],Wn(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,l)=>!(l%2));t.length<3&&(t=a)}return t}function YG(e,t){return e.bins?kAe(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function RAe(e,t,n,r,i,o){const s=t.type;let a=f9t;if(s===ly||i===ly)a=e.timeFormat(r);else if(s===cy||i===cy)a=e.utcFormat(r);else if(wAe(s)){const u=e.formatFloat(r);if(o||t.bins)a=u;else{const l=PAe(t,n,!1);a=c=>l(c)?u(c):""}}else if(t.tickFormat){const u=t.domain();a=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(a=e.format(r));return a}function PAe(e,t,n){const r=YG(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=u=>{let l=u/Math.pow(i,Math.round(Math.log(u)/o));return l*i<i-.5&&(l*=i),l<=s};return n?r.filter(a):a}const Y9={[Yb]:"quantiles",[rM]:"thresholds",[iM]:"domain"},NAe={[Yb]:"quantiles",[rM]:"domain"};function DAe(e,t){return e.bins?g9t(e.bins):e.type===$h?PAe(e,t,!0):Y9[e.type]?m9t(e[Y9[e.type]]()):YG(e,t)}function p9t(e,t,n){const r=t[NAe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function m9t(e){const t=[-1/0].concat(e);return t.max=1/0,t}function g9t(e){const t=e.slice(0,-1);return t.max=Wn(e),t}const y9t=e=>Y9[e.type]||e.bins;function $Ae(e,t,n,r,i,o,s){const a=NAe[t.type]&&o!==ly&&o!==cy?p9t(e,t,i):RAe(e,t,n,i,o,s);return r===Tk&&y9t(t)?v9t(a):r===l9t?b9t(a):_9t(a)}const v9t=e=>(t,n,r)=>{const i=Qae(r[n+1],Qae(r.max,1/0)),o=Jae(t,e),s=Jae(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},Qae=(e,t)=>e??t,b9t=e=>(t,n)=>n?e(t):null,_9t=e=>t=>e(t),Jae=(e,t)=>Number.isFinite(e)?t(e):null;function w9t(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Wn(t),o=i-r;if(e.type===iM){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function E9t(e,t,n,r){const i=r||t.type;return _t(n)&&i9t(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===ly?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===cy?e.utcFormat("%A, %d %B %Y, %X UTC"):$Ae(e,t,5,null,n,r,!0)}function OAe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=E9t(e,t,n.format,n.formatType);if(G9(t.type)){const o=DAe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(Kb(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(Wn(o))}`}}let MAe=0;function x9t(){MAe=0}const zP="p_";function KG(e){return e&&e.gradient}function LAe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?zP:"";return i||(i=e.id="gradient_"+MAe++,r==="radial"?(e.x1=af(e.x1,.5),e.y1=af(e.y1,.5),e.r1=af(e.r1,0),e.x2=af(e.x2,.5),e.y2=af(e.y2,.5),e.r2=af(e.r2,.5),o=zP):(e.x1=af(e.x1,0),e.y1=af(e.y1,0),e.x2=af(e.x2,1),e.y2=af(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function af(e,t){return e??t}function FAe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const Zae={basis:{curve:v5t},"basis-closed":{curve:b5t},"basis-open":{curve:_5t},bundle:{curve:w5t,tension:"beta",value:.85},cardinal:{curve:E5t,tension:"tension",value:0},"cardinal-open":{curve:T5t,tension:"tension",value:0},"cardinal-closed":{curve:x5t,tension:"tension",value:0},"catmull-rom":{curve:S5t,tension:"alpha",value:.5},"catmull-rom-closed":{curve:C5t,tension:"alpha",value:.5},"catmull-rom-open":{curve:A5t,tension:"alpha",value:.5},linear:{curve:_G},"linear-closed":{curve:I5t},monotone:{horizontal:R5t,vertical:k5t},natural:{curve:P5t},step:{curve:N5t},"step-after":{curve:$5t},"step-before":{curve:D5t}};function XG(e,t,n){var r=qt(Zae,e)&&Zae[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const T9t={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},S9t=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,C9t=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,A9t=/^((\s+,?\s*)|(,\s*))/,I9t=/^[01]/;function Xb(e){const t=[];return(e.match(S9t)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=T9t[o],a=k9t(o,s,r.slice(1).trim()),u=a.length;if(u<s||u&&u%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),u!==s){o==="m"&&(i=i==="M"?"L":"l");for(let l=s;l<u;l+=s)t.push([i,...a.slice(l,l+s)])}}),t}function k9t(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?I9t:C9t,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const u=n.slice(i).match(A9t);u!==null&&(i+=u[0].length)}return r}const Om=Math.PI/180,R9t=1e-14,r0=Math.PI/2,xf=Math.PI*2,zv=Math.sqrt(3)/2;var f4={},d4={},jAe=[].join;function P9t(e,t,n,r,i,o,s,a,u){const l=jAe.call(arguments);if(f4[l])return f4[l];const c=s*Om,f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(u-t)*.5,p=d*(u-t)*.5-f*(a-e)*.5;let m=h*h/(n*n)+p*p/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);const g=d/n,y=f/n,v=-f/r,b=d/r,_=g*a+y*u,w=v*a+b*u,S=g*e+y*t,E=v*e+b*t;let A=1/((S-_)*(S-_)+(E-w)*(E-w))-.25;A<0&&(A=0);let k=Math.sqrt(A);o==i&&(k=-k);const P=.5*(_+S)-k*(E-w),$=.5*(w+E)+k*(S-_),N=Math.atan2(w-$,_-P);let j=Math.atan2(E-$,S-P)-N;j<0&&o===1?j+=xf:j>0&&o===0&&(j-=xf);const M=Math.ceil(Math.abs(j/(r0+.001))),B=[];for(let V=0;V<M;++V){const q=N+V*j/M,D=N+(V+1)*j/M;B[V]=[P,$,q,D,n,r,f,d]}return f4[l]=B}function N9t(e){const t=jAe.call(e);if(d4[t])return d4[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7];const c=l*s,f=-u*a,d=u*s,h=l*a,p=Math.cos(i),m=Math.sin(i),g=Math.cos(o),y=Math.sin(o),v=.5*(o-i),b=Math.sin(v*.5),_=8/3*b*b/Math.sin(v),w=n+p-_*m,S=r+m+_*p,E=n+g,C=r+y,A=E+_*y,k=C-_*g;return d4[t]=[c*w+f*S,d*w+h*S,c*A+f*k,d*A+h*k,c*E+f*C,d*E+h*C]}const ol=["l",0,0,0,0,0,0,0];function D9t(e,t,n){const r=ol[0]=e[0];if(r==="a"||r==="A")ol[1]=t*e[1],ol[2]=n*e[2],ol[3]=e[3],ol[4]=e[4],ol[5]=e[5],ol[6]=t*e[6],ol[7]=n*e[7];else if(r==="h"||r==="H")ol[1]=t*e[1];else if(r==="v"||r==="V")ol[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)ol[i]=(i%2==1?t:n)*e[i];return ol}function wS(e,t,n,r,i,o){var s,a=null,u=0,l=0,c=0,f=0,d,h,p,m,g=0,y=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var v=0,b=t.length;v<b;++v){switch(s=t[v],(i!==1||o!==1)&&(s=D9t(s,i,o)),s[0]){case"l":u+=s[1],l+=s[2],e.lineTo(u+n,l+r);break;case"L":u=s[1],l=s[2],e.lineTo(u+n,l+r);break;case"h":u+=s[1],e.lineTo(u+n,l+r);break;case"H":u=s[1],e.lineTo(u+n,l+r);break;case"v":l+=s[1],e.lineTo(u+n,l+r);break;case"V":l=s[1],e.lineTo(u+n,l+r);break;case"m":u+=s[1],l+=s[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"M":u=s[1],l=s[2],g=u,y=l,e.moveTo(u+n,l+r);break;case"c":d=u+s[5],h=l+s[6],c=u+s[3],f=l+s[4],e.bezierCurveTo(u+s[1]+n,l+s[2]+r,c+n,f+r,d+n,h+r),u=d,l=h;break;case"C":u=s[5],l=s[6],c=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,f+r,u+n,l+r);break;case"s":d=u+s[3],h=l+s[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,u+s[1]+n,l+s[2]+r,d+n,h+r),c=u+s[1],f=l+s[2],u=d,l=h;break;case"S":d=s[3],h=s[4],c=2*u-c,f=2*l-f,e.bezierCurveTo(c+n,f+r,s[1]+n,s[2]+r,d+n,h+r),u=d,l=h,c=s[1],f=s[2];break;case"q":d=u+s[3],h=l+s[4],c=u+s[1],f=l+s[2],e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),u=d,l=h,c=s[1],f=s[2];break;case"t":d=u+s[1],h=l+s[2],a[0].match(/[QqTt]/)===null?(c=u,f=l):a[0]==="t"?(c=2*u-p,f=2*l-m):a[0]==="q"&&(c=2*u-c,f=2*l-f),p=c,m=f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h,c=u+s[1],f=l+s[2];break;case"T":d=s[1],h=s[2],c=2*u-c,f=2*l-f,e.quadraticCurveTo(c+n,f+r,d+n,h+r),u=d,l=h;break;case"a":eue(e,u+n,l+r,[s[1],s[2],s[3],s[4],s[5],s[6]+u+n,s[7]+l+r]),u+=s[6],l+=s[7];break;case"A":eue(e,u+n,l+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),u=s[6],l=s[7];break;case"z":case"Z":u=g,l=y,e.closePath();break}a=s}}function eue(e,t,n,r){const i=P9t(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=N9t(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const tue=.5773502691896257,nue={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,xf)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n,i=r-n*tue,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n,i=r-n*tue;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=zv*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function BAe(e){return qt(nue,e)?nue[e]:$9t(e)}var h4={};function $9t(e){if(!qt(h4,e)){const t=Xb(e);h4[e]={draw:function(n,r){wS(n,t,0,0,Math.sqrt(r)/2)}}}return h4[e]}const fp=.448084975506;function O9t(e){return e.x}function M9t(e){return e.y}function L9t(e){return e.width}function F9t(e){return e.height}function kd(e){return typeof e=="function"?e:()=>+e}function rI(e,t,n){return Math.max(t,Math.min(e,n))}function UAe(){var e=O9t,t=M9t,n=L9t,r=F9t,i=kd(0),o=i,s=i,a=i,u=null;function l(c,f,d){var h,p=f??+e.call(this,c),m=d??+t.call(this,c),g=+n.call(this,c),y=+r.call(this,c),v=Math.min(g,y)/2,b=rI(+i.call(this,c),0,v),_=rI(+o.call(this,c),0,v),w=rI(+s.call(this,c),0,v),S=rI(+a.call(this,c),0,v);if(u||(u=h=WO()),b<=0&&_<=0&&w<=0&&S<=0)u.rect(p,m,g,y);else{var E=p+g,C=m+y;u.moveTo(p+b,m),u.lineTo(E-_,m),u.bezierCurveTo(E-fp*_,m,E,m+fp*_,E,m+_),u.lineTo(E,C-S),u.bezierCurveTo(E,C-fp*S,E-fp*S,C,E-S,C),u.lineTo(p+w,C),u.bezierCurveTo(p+fp*w,C,p,C-fp*w,p,C-w),u.lineTo(p,m+b),u.bezierCurveTo(p,m+fp*b,p+fp*b,m,p+b,m),u.closePath()}if(h)return u=null,h+""||null}return l.x=function(c){return arguments.length?(e=kd(c),l):e},l.y=function(c){return arguments.length?(t=kd(c),l):t},l.width=function(c){return arguments.length?(n=kd(c),l):n},l.height=function(c){return arguments.length?(r=kd(c),l):r},l.cornerRadius=function(c,f,d,h){return arguments.length?(i=kd(c),o=f!=null?kd(f):i,a=d!=null?kd(d):i,s=h!=null?kd(h):o,l):i},l.context=function(c){return arguments.length?(u=c??null,l):u},l}function zAe(){var e,t,n,r,i=null,o,s,a,u;function l(f,d,h){const p=h/2;if(o){var m=a-d,g=f-s;if(m||g){var y=Math.hypot(m,g),v=(m/=y)*u,b=(g/=y)*u,_=Math.atan2(g,m);i.moveTo(s-v,a-b),i.lineTo(f-m*p,d-g*p),i.arc(f,d,p,_-Math.PI,_),i.lineTo(s+v,a+b),i.arc(s,a,u,_,_+Math.PI)}else i.arc(f,d,p,0,xf);i.closePath()}else o=1;s=f,a=d,u=p}function c(f){var d,h=f.length,p,m=!1,g;for(i==null&&(i=g=WO()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===m&&(m=!m)&&(o=0),m&&l(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(g)return i=null,g+""||null}return c.x=function(f){return arguments.length?(e=f,c):e},c.y=function(f){return arguments.length?(t=f,c):t},c.size=function(f){return arguments.length?(n=f,c):n},c.defined=function(f){return arguments.length?(r=f,c):r},c.context=function(f){return arguments.length?(f==null?i=null:i=f,c):i},c}function o2(e,t){return e??t}const s2=e=>e.x||0,a2=e=>e.y||0,j9t=e=>e.width||0,B9t=e=>e.height||0,U9t=e=>(e.x||0)+(e.width||0),z9t=e=>(e.y||0)+(e.height||0),V9t=e=>e.startAngle||0,H9t=e=>e.endAngle||0,q9t=e=>e.padAngle||0,W9t=e=>e.innerRadius||0,G9t=e=>e.outerRadius||0,Y9t=e=>e.cornerRadius||0,K9t=e=>o2(e.cornerRadiusTopLeft,e.cornerRadius)||0,X9t=e=>o2(e.cornerRadiusTopRight,e.cornerRadius)||0,Q9t=e=>o2(e.cornerRadiusBottomRight,e.cornerRadius)||0,J9t=e=>o2(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Z9t=e=>o2(e.size,64),ejt=e=>e.size||1,sM=e=>e.defined!==!1,tjt=e=>BAe(e.shape||"circle"),njt=m5t().startAngle(V9t).endAngle(H9t).padAngle(q9t).innerRadius(W9t).outerRadius(G9t).cornerRadius(Y9t),rjt=y2e().x(s2).y1(a2).y0(z9t).defined(sM),ijt=y2e().y(a2).x1(s2).x0(U9t).defined(sM),ojt=g2e().x(s2).y(a2).defined(sM),sjt=UAe().x(s2).y(a2).width(j9t).height(B9t).cornerRadius(K9t,X9t,Q9t,J9t),ajt=y5t().type(tjt).size(Z9t),ujt=zAe().x(s2).y(a2).defined(sM).size(ejt);function QG(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function ljt(e,t){return njt.context(e)(t)}function cjt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?ijt:rjt).curve(XG(r,n.orient,n.tension)).context(e)(t)}function fjt(e,t){const n=t[0],r=n.interpolate||"linear";return ojt.curve(XG(r,n.orient,n.tension)).context(e)(t)}function bw(e,t,n,r){return sjt.context(e)(t,n,r)}function djt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function hjt(e,t){return ajt.context(e)(t)}function pjt(e,t){return ujt.context(e)(t)}var VAe=1;function HAe(){VAe=1}function JG(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+VAe++),s=i.clipping[o]||(i.clipping[o]={id:o});return wn(r)?s.path=r(null):QG(n)?s.path=bw(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function ro(e){this.clear(),e&&this.union(e)}ro.prototype={clone(){return new ro(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),u=Math.sin(e),l=t-t*a+n*u,c=n-t*u-n*a;return[a*r-u*i+l,u*r+a*i+c,a*r-u*s+l,u*r+a*s+c,a*o-u*i+l,u*o+a*i+c,a*o-u*s+l,u*o+a*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function aM(e){this.mark=e,this.bounds=this.bounds||new ro}function uM(e){aM.call(this,e),this.items=this.items||[]}dt(uM,aM);class qAe{constructor(t){this._pending=0,this._loader=t||$O()}pending(){return this._pending}sanitizeURL(t){const n=this;return rue(n),n._loader.sanitize(t,{context:"href"}).then(r=>(yE(n),r)).catch(()=>(yE(n),null))}loadImage(t){const n=this,r=O5t();return rue(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const o=i.href;if(!o||!r)throw{url:o};const s=new r,a=qt(i,"crossOrigin")?i.crossOrigin:"anonymous";return a!=null&&(s.crossOrigin=a),s.onload=()=>yE(n),s.onerror=()=>yE(n),s.src=o,s}).catch(i=>(yE(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function rue(e){e._pending+=1}function yE(e){e._pending-=1}function Xh(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?mjt(t,r):0))}return e}function mjt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const gjt=xf-1e-8;let lM,Sk,Ck,y0,K9,Ak,X9,Q9;const Up=(e,t)=>lM.add(e,t),Ik=(e,t)=>Up(Sk=e,Ck=t),iue=e=>Up(e,lM.y1),oue=e=>Up(lM.x1,e),i0=(e,t)=>K9*e+X9*t,o0=(e,t)=>Ak*e+Q9*t,p4=(e,t)=>Up(i0(e,t),o0(e,t)),m4=(e,t)=>Ik(i0(e,t),o0(e,t));function u2(e,t){return lM=e,t?(y0=t*Om,K9=Q9=Math.cos(y0),Ak=Math.sin(y0),X9=-Ak):(K9=Q9=1,y0=Ak=X9=0),yjt}const yjt={beginPath(){},closePath(){},moveTo:m4,lineTo:m4,rect(e,t,n,r){y0?(p4(e+n,t),p4(e+n,t+r),p4(e,t+r),m4(e,t)):(Up(e+n,t+r),Ik(e,t))},quadraticCurveTo(e,t,n,r){const i=i0(e,t),o=o0(e,t),s=i0(n,r),a=o0(n,r);sue(Sk,i,s,iue),sue(Ck,o,a,oue),Ik(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=i0(e,t),a=o0(e,t),u=i0(n,r),l=o0(n,r),c=i0(i,o),f=o0(i,o);aue(Sk,s,u,c,iue),aue(Ck,a,l,f,oue),Ik(c,f)},arc(e,t,n,r,i,o){if(r+=y0,i+=y0,Sk=n*Math.cos(i)+e,Ck=n*Math.sin(i)+t,Math.abs(i-r)>gjt)Up(e-n,t-n),Up(e+n,t+n);else{const s=l=>Up(n*Math.cos(l)+e,n*Math.sin(l)+t);let a,u;if(s(r),s(i),i!==r)if(r=r%xf,r<0&&(r+=xf),i=i%xf,i<0&&(i+=xf),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=xf,a=r-r%r0,u=0;u<4&&a>i;++u,a-=r0)s(a);else for(a=r-r%r0+r0,u=0;u<4&&a<i;++u,a=a+r0)s(a)}}};function sue(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function aue(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let u=0,l=0,c;Math.abs(o)>R9t?(c=s*s+a*o,c>=0&&(c=Math.sqrt(c),u=(-s+c)/o,l=(-s-c)/o)):u=.5*a/s,0<u&&u<1&&i(uue(u,e,t,n,r)),0<l&&l<1&&i(uue(l,e,t,n,r))}function uue(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var ym=(ym=gm(1,1))?ym.getContext("2d"):null;const J9=new ro;function ZG(e){return function(t,n){if(!ym)return!0;e(ym,t),J9.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=J9;for(let a=i;a<=s;++a)for(let u=r;u<=o;++u)if(ym.isPointInPath(u,a))return!0;return!1}}function eY(e,t){return t.contains(e.x||0,e.y||0)}function WAe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(J9.set(n,r,n+i,r+o))}function GAe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return R1(t,n,r,i,o)}function R1(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:u}=e,l=r-t,c=i-n;let f=0,d=1,h,p,m,g;for(g=0;g<4;++g){if(g===0&&(h=-l,p=-(o-t)),g===1&&(h=l,p=a-t),g===2&&(h=-c,p=-(s-n)),g===3&&(h=c,p=u-n),Math.abs(h)<1e-10&&p<0)return!1;if(m=p/h,h<0){if(m>d)return!1;m>f&&(f=m)}else if(h>0){if(m<f)return!1;m<d&&(d=m)}}return!0}function Qb(e,t){e.globalCompositeOperation=t.blend||"source-over"}function oc(e,t){return e??t}function lue(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function vjt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+oc(t.x1,.5)*r,n.y1+oc(t.y1,.5)*i,Math.max(r,i)*oc(t.r1,0),n.x1+oc(t.x2,.5)*r,n.y1+oc(t.y2,.5)*i,Math.max(r,i)*oc(t.r2,.5));else{const s=oc(t.x1,0),a=oc(t.y1,0),u=oc(t.x2,1),l=oc(t.y2,0);if(s===u||a===l||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+u*r,n.y1+l*i);else{const c=gm(Math.ceil(r),Math.ceil(i)),f=c.getContext("2d");return f.scale(r,i),f.fillStyle=lue(f.createLinearGradient(s,a,u,l),t.stops),f.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return lue(o,t.stops)}function YAe(e,t,n){return KG(n)?vjt(e,n,t.bounds):n}function VP(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=YAe(e,t,t.fill),!0):!1}var bjt=[];function Jb(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=YAe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||bjt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function _jt(e,t){return e.zindex-t.zindex||e.index-t.index}function tY(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(_jt)}function Bc(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=tY(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function HP(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=tY(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function nY(e){return function(t,n,r){Bc(n,i=>{(!r||r.intersects(i.bounds))&&KAe(e,t,i,i)})}}function wjt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&KAe(e,t,n.items[0],n.items)}}function KAe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(Qb(t,n),n.fill&&VP(t,n,i)&&t.fill(),n.stroke&&Jb(t,n,i)&&t.stroke()))}function cM(e){return e=e||$l,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,HP(n,a=>{const u=a.bounds;if(!(u&&!u.contains(o,s)||!u)&&e(t,a,r,i,o,s))return a})}}function l2(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,u=s.stroke&&n.isPointInStroke,l,c;return u&&(l=s.strokeWidth,c=s.strokeCap,n.lineWidth=l??1,n.lineCap=c??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||u&&n.isPointInStroke(i,o)}}function rY(e){return cM(l2(e))}function D0(e,t){return"translate("+e+","+t+")"}function iY(e){return"rotate("+e+")"}function Ejt(e,t){return"scale("+e+","+t+")"}function XAe(e){return D0(e.x||0,e.y||0)}function xjt(e){return D0(e.x||0,e.y||0)+(e.angle?" "+iY(e.angle):"")}function Tjt(e){return D0(e.x||0,e.y||0)+(e.angle?" "+iY(e.angle):"")+(e.scaleX||e.scaleY?" "+Ejt(e.scaleX||1,e.scaleY||1):"")}function oY(e,t,n){function r(s,a){s("transform",xjt(a)),s("d",t(null,a))}function i(s,a){return t(u2(s,a.angle),a),Xh(s,a).translate(a.x||0,a.y||0)}function o(s,a){var u=a.x||0,l=a.y||0,c=a.angle||0;s.translate(u,l),c&&s.rotate(c*=Om),s.beginPath(),t(s,a),c&&s.rotate(-c),s.translate(-u,-l)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:nY(o),pick:rY(o),isect:n||ZG(o)}}var Sjt=oY("arc",ljt);function Cjt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function Ajt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function Ijt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function sY(e,t,n){function r(u,l){var c=l.mark.items;c.length&&u("d",t(null,c))}function i(u,l){var c=l.items;return c.length===0?u:(t(u2(u),c),Xh(u,c[0]))}function o(u,l){u.beginPath(),t(u,l)}const s=l2(o);function a(u,l,c,f,d,h){var p=l.items,m=l.bounds;return!p||!p.length||m&&!m.contains(d,h)?null:(c*=u.pixelRatio,f*=u.pixelRatio,s(u,p,c,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:wjt(o),pick:a,isect:eY,tip:n}}var kjt=sY("area",cjt,Cjt);function Rjt(e,t){var n=t.clip;e.save(),wn(n)?(e.beginPath(),n(e),e.clip()):QAe(e,t.group)}function QAe(e,t){e.beginPath(),QG(t)?bw(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function JAe(e){const t=oc(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Pjt(e,t){e("transform",XAe(t))}function ZAe(e,t){const n=JAe(t);e("d",bw(null,t,n,n))}function Njt(e,t){e("class","background"),e("aria-hidden",!0),ZAe(e,t)}function Djt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?ZAe(e,t):e("d","")}function $jt(e,t,n){const r=t.clip?JG(n,t,t):null;e("clip-path",r)}function Ojt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Xh(e,t),e.translate(t.x||0,t.y||0)}function ES(e,t,n,r){const i=JAe(t);e.beginPath(),bw(e,t,(n||0)+i,(r||0)+i)}const Mjt=l2(ES),Ljt=l2(ES,!1),Fjt=l2(ES,!0);function jjt(e,t,n,r){Bc(t,i=>{const o=i.x||0,s=i.y||0,a=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(ES(e,i,o,s),Qb(e,i),i.fill&&VP(e,i,u)&&e.fill(),i.stroke&&!a&&Jb(e,i,u)&&e.stroke()),e.save(),e.translate(o,s),i.clip&&QAe(e,i),n&&n.translate(-o,-s),Bc(i,l=>{(l.marktype==="group"||r==null||r.includes(l.marktype))&&this.draw(e,l,n,r)}),n&&n.translate(o,s),e.restore(),a&&i.stroke&&u&&(ES(e,i,o,s),Qb(e,i),Jb(e,i,u)&&e.stroke())})}function Bjt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return HP(t,u=>{let l,c,f;const d=u.bounds;if(d&&!d.contains(i,o))return;c=u.x||0,f=u.y||0;const h=c+(u.width||0),p=f+(u.height||0),m=u.clip;if(m&&(i<c||i>h||o<f||o>p))return;if(e.save(),e.translate(c,f),c=i-c,f=o-f,m&&QG(u)&&!Fjt(e,u,s,a))return e.restore(),null;const g=u.strokeForeground,y=t.interactive!==!1;return y&&g&&u.stroke&&Ljt(e,u,s,a)?(e.restore(),u):(l=HP(u,v=>Ujt(v,c,f)?this.pick(v,n,r,c,f):null),!l&&y&&(u.fill||!g&&u.stroke)&&Mjt(e,u,s,a)&&(l=u),e.restore(),l||null)})}function Ujt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var zjt={type:"group",tag:"g",nested:!1,attr:Pjt,bound:Ojt,draw:jjt,pick:Bjt,isect:WAe,content:$jt,background:Njt,foreground:Djt},xS={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function aY(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function uY(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function lY(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function fM(e,t){return e==="center"?t/2:e==="right"?t:0}function dM(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function Vjt(e,t,n){const r=aY(t,n),i=uY(t,r),o=lY(t,r),s=(t.x||0)-fM(t.align,i),a=(t.y||0)-dM(t.baseline,o),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,xS["xmlns:xlink"],"xlink:href"),e("transform",D0(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Hjt(e,t){const n=t.image,r=uY(t,n),i=lY(t,n),o=(t.x||0)-fM(t.align,r),s=(t.y||0)-dM(t.baseline,i);return e.set(o,s,o+r,s+i)}function qjt(e,t,n){Bc(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=aY(r,this);let o=uY(r,i),s=lY(r,i);if(o===0||s===0)return;let a=(r.x||0)-fM(r.align,o),u=(r.y||0)-dM(r.baseline,s),l,c,f,d;r.aspect!==!1&&(c=i.width/i.height,f=r.width/r.height,c===c&&f===f&&c!==f&&(f<c?(d=o/c,u+=(s-d)/2,s=d):(d=s*c,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(Qb(e,r),e.globalAlpha=(l=r.opacity)!=null?l:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,u,o,s))})}var Wjt={type:"image",tag:"image",nested:!1,attr:Vjt,bound:Hjt,draw:qjt,pick:cM(),isect:$l,get:aY,xOffset:fM,yOffset:dM},Gjt=sY("line",fjt,Ajt);function Yjt(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",Tjt(t)),e("d",t.path)}function kk(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*Om,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=Xb(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),wS(e,u,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):wS(e,u,r,i,o,s)}function Kjt(e,t){return kk(u2(e,t.angle),t)?e.set(0,0,0,0):Xh(e,t,!0)}var Xjt={type:"path",tag:"path",nested:!1,attr:Yjt,bound:Kjt,draw:nY(kk),pick:rY(kk),isect:ZG(kk)};function Qjt(e,t){e("d",bw(null,t))}function Jjt(e,t){var n,r;return Xh(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function cue(e,t){e.beginPath(),bw(e,t)}var Zjt={type:"rect",tag:"path",nested:!1,attr:Qjt,bound:Jjt,draw:nY(cue),pick:rY(cue),isect:WAe};function eBt(e,t){e("transform",XAe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function tBt(e,t){var n,r;return Xh(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function eIe(e,t,n){var r,i,o,s;return t.stroke&&Jb(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function nBt(e,t,n){Bc(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&eIe(e,r,i)&&(Qb(e,r),e.stroke())}})}function rBt(e,t,n,r){return e.isPointInStroke?eIe(e,t,1)&&e.isPointInStroke(n,r):!1}var iBt={type:"rule",tag:"line",nested:!1,attr:eBt,bound:tBt,draw:nBt,pick:cM(rBt),isect:GAe},oBt=oY("shape",djt),sBt=oY("symbol",hjt,eY);const fue=aSe();var Lu={height:hd,measureWidth:cY,estimateWidth:qP,width:qP,canvas:tIe};tIe(!0);function tIe(e){Lu.width=e&&ym?cY:qP}function qP(e,t){return nIe(Lm(e,t),hd(e))}function nIe(e,t){return~~(.8*e.length*t)}function cY(e,t){return hd(e)<=0||!(t=Lm(e,t))?0:rIe(t,hM(e))}function rIe(e,t){const n=`(${t}) ${e}`;let r=fue.get(n);return r===void 0&&(ym.font=t,r=ym.measureText(e).width,fue.set(n,r)),r}function hd(e){return e.fontSize!=null?+e.fontSize||0:11}function Mm(e){return e.lineHeight!=null?e.lineHeight:hd(e)+2}function aBt(e){return je(e)?e.length>1?e:e[0]:e}function c2(e){return aBt(e.lineBreak&&e.text&&!je(e.text)?e.text.split(e.lineBreak):e.text)}function fY(e){const t=c2(e);return(je(t)?t.length-1:0)*Mm(e)}function Lm(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?lBt(e,n):n}function uBt(e){if(Lu.width===cY){const t=hM(e);return n=>rIe(n,t)}else if(Lu.width===qP){const t=hd(e);return n=>nIe(n,t)}else return t=>Lu.width(e,t)}function lBt(e,t){var n=+e.limit,r=uBt(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,u;if(n-=r(i),o){for(;s<a;)u=s+a>>>1,r(t.slice(u))>n?s=u+1:a=u;return i+t.slice(s)}else{for(;s<a;)u=1+(s+a>>>1),r(t.slice(0,u))<n?s=u:a=u-1;return t.slice(0,s)+i}}function f2(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function hM(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+hd(e)+"px "+f2(e,t)}function dY(e){var t=e.baseline,n=hd(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*Mm(e):t==="line-bottom"?.29*n-.5*Mm(e):0)}const cBt={left:"start",center:"middle",right:"end"},tT=new ro;function pM(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-r0,t+=r*Math.cos(i),n+=r*Math.sin(i)),tT.x1=t,tT.y1=n,tT}function fBt(e,t){var n=t.dx||0,r=(t.dy||0)+dY(t),i=pM(t),o=i.x1,s=i.y1,a=t.angle||0,u;e("text-anchor",cBt[t.align]||"start"),a?(u=D0(o,s)+" "+iY(a),(n||r)&&(u+=" "+D0(n,r))):u=D0(o+n,s+r),e("transform",u)}function hY(e,t,n){var r=Lu.height(t),i=t.align,o=pM(t),s=o.x1,a=o.y1,u=t.dx||0,l=(t.dy||0)+dY(t)-Math.round(.8*r),c=c2(t),f;if(je(c)?(r+=Mm(t)*(c.length-1),f=c.reduce((d,h)=>Math.max(d,Lu.width(t,h)),0)):f=Lu.width(t,c),i==="center"?u-=f/2:i==="right"&&(u-=f),e.set(u+=s,l+=a,u+f,l+r),t.angle&&!n)e.rotate(t.angle*Om,s,a);else if(n===2)return e.rotatedPoints(t.angle*Om,s,a);return e}function dBt(e,t,n){Bc(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,u,l,c,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=hM(r),e.textAlign=r.align||"left",o=pM(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*Om),s=a=0),s+=r.dx||0,a+=(r.dy||0)+dY(r),c=c2(r),Qb(e,r),je(c))for(l=Mm(r),u=0;u<c.length;++u)f=Lm(r,c[u]),r.fill&&VP(e,r,i)&&e.fillText(f,s,a),r.stroke&&Jb(e,r,i)&&e.strokeText(f,s,a),a+=l;else f=Lm(r,c),r.fill&&VP(e,r,i)&&e.fillText(f,s,a),r.stroke&&Jb(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function hBt(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=pM(t),a=s.x1,u=s.y1,l=hY(tT,t,1),c=-t.angle*Om,f=Math.cos(c),d=Math.sin(c),h=f*i-d*o+(a-f*a+d*u),p=d*i+f*o+(u-d*a-f*u);return l.contains(h,p)}function pBt(e,t){const n=hY(tT,e,2);return R1(t,n[0],n[1],n[2],n[3])||R1(t,n[0],n[1],n[4],n[5])||R1(t,n[4],n[5],n[6],n[7])||R1(t,n[2],n[3],n[6],n[7])}var mBt={type:"text",tag:"text",nested:!1,attr:fBt,bound:hY,draw:dBt,pick:cM(hBt),isect:pBt},gBt=sY("trail",pjt,Ijt),Yu={arc:Sjt,area:kjt,group:zjt,image:Wjt,line:Gjt,path:Xjt,rect:Zjt,rule:iBt,shape:oBt,symbol:sBt,text:mBt,trail:gBt};function Z9(e,t,n){var r=Yu[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new ro),e,n)}var due={mark:null};function iIe(e,t,n){var r=Yu[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,u,l,c;if(r.nested)return s?l=o[0]:(due.mark=e,l=due),c=Z9(l,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new ro,s)for(a=0,u=o.length;a<u;++a)t.union(Z9(o[a],i,n));return e.bounds=t}const yBt=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function oIe(e,t){return JSON.stringify(e,yBt,t)}function sIe(e){const t=typeof e=="string"?JSON.parse(e):e;return aIe(t)}function aIe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&aIe(n[i]);return t&&iIe(e),e}class uIe{constructor(t){arguments.length?this.root=sIe(t):(this.root=hue({marktype:"group",name:"root",role:"frame"}),this.root.items=[new uM(this.root)])}toJSON(t){return oIe(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=hue(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function hue(e,t){const n={bounds:new ro,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function zp(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function pY(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function lo(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=zp(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function pl(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function lIe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function mM(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function vBt(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=Yu[i.marktype]).tip){for(s=mM(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}let mY=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||$O(),this._tooltip=n||bBt}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const o=new MouseEvent(t.type,t),s=zp(null,"a");for(const a in i)s.setAttribute(a,i[a]);s.dispatchEvent(o)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=vBt(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,o=t.bounds,s=o.width(),a=o.height();let u=o.x1+i[0]+r.left,l=o.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,l+=t.y||0;return{x:u,y:l,width:s,height:a,left:u,top:l,right:u+s,bottom:l+a}}};function bBt(e,t,n,r){e.element().setAttribute("title",r||"")}class d2{constructor(t){this._el=null,this._bgcolor=null,this._loader=new qAe(t)}initialize(t,n,r,i,o){return this._el=t,this.resize(n,r,i,o)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const o=r._call;r._ready=r._loader.ready().then(s=>{s&&o(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const _Bt="keydown",wBt="keypress",EBt="keyup",cIe="dragenter",Rk="dragleave",fIe="dragover",ej="pointerdown",xBt="pointerup",WP="pointermove",Pk="pointerout",dIe="pointerover",tj="mousedown",TBt="mouseup",hIe="mousemove",GP="mouseout",pIe="mouseover",YP="click",SBt="dblclick",CBt="wheel",mIe="mousewheel",KP="touchstart",XP="touchmove",QP="touchend",ABt=[_Bt,wBt,EBt,cIe,Rk,fIe,ej,xBt,WP,Pk,dIe,tj,TBt,hIe,GP,pIe,YP,SBt,CBt,mIe,KP,XP,QP],nj=WP,nT=GP,rj=YP;class h2 extends mY{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=ABt,this.pointermove=mue([WP,hIe],[dIe,pIe],[Pk,GP]),this.dragover=mue([fIe],[cIe],[Rk]),this.pointerout=gue([Pk,GP]),this.dragleave=gue([Rk])}initialize(t,n,r){return this._canvas=t&&pY(t,"canvas"),[YP,tj,ej,WP,Pk,Rk].forEach(i=>pue(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(mIe,t)}pointerdown(t){this._down=this._active,this.fire(ej,t)}mousedown(t){this._down=this._active,this.fire(tj,t)}click(t){this._down===this._active&&(this.fire(YP,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(KP,t,!0)}touchmove(t){this.fire(XP,t,!0)}touchend(t){this.fire(QP,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===rj&&i&&i.href?this.handleHref(n,i,i.href):(t===nj||t===nT)&&this.handleTooltip(n,i,t!==nT),o)for(let s=0,a=o.length;s<a;++s)o[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(pue(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&i.splice(o,1),this}pickEvent(t){const n=mM(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,o){const s=this.context();return Yu[t.marktype].pick.call(this,s,t,n,r,i,o)}}const IBt=e=>e===KP||e===XP||e===QP?[KP,XP,QP]:[e];function pue(e,t){IBt(t).forEach(n=>kBt(e,n))}function kBt(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function ex(e,t,n){t.forEach(r=>e.fire(r,n))}function mue(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?ex(this,e,r):((!i||!i.exit)&&ex(this,n,r),this._active=o,ex(this,t,r),ex(this,e,r))}}function gue(e){return function(t){ex(this,e,t),this._active=null}}function RBt(){return typeof window<"u"&&window.devicePixelRatio||1}function PBt(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),u=s?RBt():i;e.width=t*u,e.height=n*u;for(const l in o)a[l]=o[l];return s&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=u,a.setTransform(u,0,0,u,u*r[0],u*r[1]),e}class JP extends d2{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new ro,this._tempb=new ro}initialize(t,n,r,i,o,s){return this._options=s||{},this._canvas=this._options.externalContext?null:gm(1,1,this._options.type),t&&this._canvas&&(pl(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,o)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)PBt(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const o=this._options.externalContext;o||Me("CanvasRenderer is missing a valid canvas or context"),o.scale(this._scale,this._scale),o.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,o=this._width,s=this._height,a=this._dirty,u=NBt(i,o,s);r.save();const l=this._redraw||a.empty()?(this._redraw=!1,u.expand(1)):DBt(r,u.intersect(a),i);return this.clear(-i[0],-i[1],o,s),this.draw(r,t,l,n),r.restore(),a.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const o=Yu[n.marktype];n.clip&&Rjt(t,n),o.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const o=this._options,s=this.context();o.type!=="pdf"&&!o.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const NBt=(e,t,n)=>new ro().set(0,0,t,n).translate(-e[0],-e[1]);function DBt(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class gIe extends mY{constructor(t,n){super(t,n);const r=this;r._hrefHandler=g4(r,(i,o)=>{o&&o.href&&r.handleHref(i,o,o.href)}),r._tooltipHandler=g4(r,(i,o)=>{r.handleTooltip(i,o,i.type!==nT)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(rj,this._hrefHandler),i.removeEventListener(nj,this._tooltipHandler),i.removeEventListener(nT,this._tooltipHandler)),this._svg=i=t&&pY(t,"svg"),i&&(i.addEventListener(rj,this._hrefHandler),i.addEventListener(nj,this._tooltipHandler),i.addEventListener(nT,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:g4(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],o=this._handlerIndex(i,t,n);return o>=0&&(this._svg&&this._svg.removeEventListener(r,i[o].listener),i.splice(o,1)),this}}const g4=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},yIe="aria-hidden",gY="aria-label",yY="role",vY="aria-roledescription",vIe="graphics-object",bY="graphics-symbol",bIe=(e,t,n)=>({[yY]:e,[vY]:t,[gY]:n||void 0}),$Bt=Fc(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),yue={axis:{desc:"axis",caption:LBt},legend:{desc:"legend",caption:FBt},"title-text":{desc:"title",caption:e=>`Title text '${bue(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${bue(e)}'`}},vue={ariaRole:yY,ariaRoleDescription:vY,description:gY};function _Ie(e,t){const n=t.aria===!1;if(e(yIe,n||void 0),n||t.description==null)for(const r in vue)e(vue[r],void 0);else{const r=t.mark.marktype;e(gY,t.description),e(yY,t.ariaRole||(r==="group"?vIe:bY)),e(vY,t.ariaRoleDescription||`${r} mark`)}}function wIe(e){return e.aria===!1?{[yIe]:!0}:$Bt[e.role]?null:yue[e.role]?MBt(e,yue[e.role]):OBt(e)}function OBt(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return bIe(n?vIe:bY,`${t} mark container`,e.description)}function MBt(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return bIe(t.role||bY,t.desc,n.description||r(n))}catch{return null}}function bue(e){return bt(e.text).join(" ")}function LBt(e){const t=e.datum,n=e.orient,r=t.title?EIe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${Kb(a)?"discrete":a} scale with ${OAe(s,o,e)}`}function FBt(e){const t=e.datum,n=t.title?EIe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,u=s.dataflow.locale();return BBt(r)+(n?` titled '${n}'`:"")+` for ${jBt(o)} with ${OAe(u,a,e)}`}function EIe(e){try{return bt(Wn(e.items).items[0].text).join(" ")}catch{return null}}function jBt(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Wn(e)}function BBt(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const xIe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),UBt=e=>xIe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function _Y(){let e="",t="",n="";const r=[],i=()=>t=n="",o=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},s=(u,l)=>(l!=null&&(t+=` ${u}="${UBt(l)}"`),a),a={open(u){o(u),t="<"+u;for(var l=arguments.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=arguments[f];for(const d of c)for(const h in d)s(h,d[h]);return a},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),a},attr:s,text:u=>(n+=xIe(u),a),toString:()=>e};return a}const TIe=e=>SIe(_Y(),e)+"";function SIe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):SIe(e,r)}return e.close()}const ZP={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},eN={blend:"mix-blend-mode"},CIe={fill:"none","stroke-miterlimit":10},vE=0,_ue="http://www.w3.org/2000/xmlns/",ao=xS.xmlns;class wY extends d2{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,o){return this._defs={},this._clearDefs(),t&&(this._svg=lo(t,0,"svg",ao),this._svg.setAttributeNS(_ue,"xmlns",ao),this._svg.setAttributeNS(_ue,"xmlns:xlink",xS["xmlns:xlink"]),this._svg.setAttribute("version",xS.version),this._svg.setAttribute("class","marks"),pl(t,1),this._root=lo(this._svg,vE,"g",ao),Vp(this._root,CIe),pl(this._svg,vE+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,o)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Vp(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=lo(t,vE,"rect",ao),Vp(r,{width:this._width,height:this._height,fill:n}));const i=TIe(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),pl(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,o,s,a,u,l;for(a=0,u=t.length;a<u;++a)if(r=t[a],i=r.mark,i.marktype!==o&&(o=i.marktype,s=Yu[o]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,wue(r,n),i.items.forEach(c=>{c.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(s,l._svg,l)):r._svg&&(l=r._svg.parentNode,l&&l.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,wue(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const o=this._svg,s=n.marktype,a=Yu[s],u=n.interactive===!1?"none":null,l=a.tag==="g",c=Eue(n,t,r,"g",o);if(s!=="group"&&i!=null&&!i.includes(s))return pl(c,0),n._svg;c.setAttribute("class",lIe(n));const f=wIe(n);for(const m in f)na(c,m,f[m]);l||na(c,"pointer-events",u),na(c,"clip-path",n.clip?JG(this,n,n.group):null);let d=null,h=0;const p=m=>{const g=this.isDirty(m),y=Eue(m,c,d,a.tag,o);g&&(this._update(a,y,m),l&&HBt(this,y,m,i)),d=y,++h};return a.nested?n.items.length&&p(n.items[0]):Bc(n,p),pl(c,h),c}_update(t,n,r){nh=n,Rs=n.__values__,_Ie(rT,r),t.attr(rT,r,this);const i=WBt[t.type];i&&i.call(this,t,n,r),nh&&this.style(nh,r)}style(t,n){if(n!=null){for(const r in ZP){let i=r==="font"?f2(n):n[r];if(i===Rs[r])continue;const o=ZP[r];i==null?t.removeAttribute(o):(KG(i)&&(i=LAe(i,this._defs.gradient,AIe())),t.setAttribute(o,i+"")),Rs[r]=i}for(const r in eN)Nk(t,eN[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const o in n.gradient)r||(n.el=r=lo(t,vE+1,"defs",ao)),i=zBt(r,n.gradient[o],i);for(const o in n.clipping)r||(n.el=r=lo(t,vE+1,"defs",ao)),i=VBt(r,n.clipping[o],i);r&&(i===0?(t.removeChild(r),n.el=null):pl(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function wue(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function zBt(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=lo(e,n++,"pattern",ao);Vp(s,{id:zP+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=lo(s,0,"rect",ao),Vp(s,{width:1,height:1,fill:`url(${AIe()}#${t.id})`}),e=lo(e,n++,"radialGradient",ao),Vp(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=lo(e,n++,"linearGradient",ao),Vp(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=lo(e,r,"stop",ao),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return pl(e,r),n}function VBt(e,t,n){let r;return e=lo(e,n,"clipPath",ao),e.setAttribute("id",t.id),t.path?(r=lo(e,0,"path",ao),r.setAttribute("d",t.path)):(r=lo(e,0,"rect",ao),Vp(r,{x:0,y:0,width:t.width,height:t.height})),pl(e,1),n+1}function HBt(e,t,n,r){t=t.lastChild.previousSibling;let i,o=0;Bc(n,s=>{i=e.mark(t,s,i,r),++o}),pl(t,1+o)}function Eue(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=zp(s,r,ao),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=zp(s,"path",ao);o.appendChild(a),a.__data__=e;const u=zp(s,"g",ao);o.appendChild(u),u.__data__=e;const l=zp(s,"path",ao);o.appendChild(l),l.__data__=e,l.__values__={fill:"default"}}return(o.ownerSVGElement!==i||qBt(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function qBt(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let nh=null,Rs=null;const WBt={group(e,t,n){const r=nh=t.childNodes[2];Rs=r.__values__,e.foreground(rT,n,this),Rs=t.__values__,nh=t.childNodes[1],e.content(rT,n,this);const i=nh=t.childNodes[0];e.background(rT,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==Rs.events&&(na(r,"pointer-events",o),na(i,"pointer-events",o),Rs.events=o),n.strokeForeground&&n.stroke){const s=n.fill;na(r,"display",null),this.style(i,n),na(i,"stroke",null),s&&(n.fill=null),Rs=r.__values__,this.style(r,n),s&&(n.fill=s),nh=null}else na(r,"display","none")},image(e,t,n){n.smooth===!1?(Nk(t,"image-rendering","optimizeSpeed"),Nk(t,"image-rendering","pixelated")):Nk(t,"image-rendering",null)},text(e,t,n){const r=c2(n);let i,o,s,a;je(r)?(o=r.map(u=>Lm(n,u)),i=o.join(`
`),i!==Rs.text&&(pl(t,0),s=t.ownerDocument,a=Mm(n),o.forEach((u,l)=>{const c=zp(s,"tspan",ao);c.__data__=n,c.textContent=u,l&&(c.setAttribute("x",0),c.setAttribute("dy",a)),t.appendChild(c)}),Rs.text=i)):(o=Lm(n,r),o!==Rs.text&&(t.textContent=o,Rs.text=o)),na(t,"font-family",f2(n)),na(t,"font-size",hd(n)+"px"),na(t,"font-style",n.fontStyle),na(t,"font-variant",n.fontVariant),na(t,"font-weight",n.fontWeight)}};function rT(e,t,n){t!==Rs[e]&&(n?GBt(nh,e,t,n):na(nh,e,t),Rs[e]=t)}function Nk(e,t,n){n!==Rs[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Rs[t]=n)}function Vp(e,t){for(const n in t)na(e,n,t[n])}function na(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function GBt(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function AIe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class IIe extends d2{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=_Y();n.open("svg",_n({},xS,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",CIe,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Yu[n.marktype],i=r.tag,o=[_Ie,r.attr];t.open("g",{class:lIe(n),"clip-path":n.clip?JG(this,n,n.group):null},wIe(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=a=>{const u=this.href(a);if(u&&t.open("a",u),t.open(i,this.attr(n,a,o,i!=="g"?i:null)),i==="text"){const l=c2(a);if(je(l)){const c={x:0,dy:Mm(a)};for(let f=0;f<l.length;++f)t.open("tspan",f?c:null).text(Lm(a,l[f])).close()}else t.text(Lm(a,l))}else if(i==="g"){const l=a.strokeForeground,c=a.fill,f=a.stroke;l&&f&&(a.stroke=null),t.open("path",this.attr(n,a,r.background,"bgrect")).close(),t.open("g",this.attr(n,a,r.content)),Bc(a,d=>this.mark(t,d)),t.close(),l&&f?(c&&(a.fill=null),a.stroke=f,t.open("path",this.attr(n,a,r.foreground,"bgrect")).close(),c&&(a.fill=c)):t.open("path",this.attr(n,a,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Bc(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const o={},s=(a,u,l,c)=>{o[c||a]=u};return Array.isArray(r)?r.forEach(a=>a(s,n,this)):r(s,n,this),i&&YBt(o,n,t,i,this._defs),o}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const o in n){const s=n[o],a=s.stops;s.gradient==="radial"?(t.open("pattern",{id:zP+o,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+o+")"}).close(),t.close(),t.open("radialGradient",{id:o,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:o,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let u=0;u<a.length;++u)t.open("stop",{offset:a[u].offset,"stop-color":a[u].color}).close();t.close()}for(const o in r){const s=r[o];t.open("clipPath",{id:o}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function YBt(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=f2(t),e["font-size"]=hd(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in ZP){let a=t[s];const u=ZP[s];a==="transparent"&&(u==="fill"||u==="stroke")||a!=null&&(KG(a)&&(a=LAe(a,i.gradient,"")),e[u]=a)}for(const s in eN){const a=t[s];a!=null&&(o=o||[],o.push(`${eN[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const fc={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function KBt(e){fc.svgMarkTypes=e.svgMarkTypes??["text"],fc.svgOnTop=e.svgOnTop??!0,fc.debug=e.debug??!1}class ij extends d2{constructor(t){super(t),this._svgRenderer=new wY(t),this._canvasRenderer=new JP(t)}initialize(t,n,r,i,o){this._root_el=lo(t,0,"div");const s=lo(this._root_el,0,"div"),a=lo(this._root_el,1,"div");return this._root_el.style.position="relative",fc.debug||(s.style.height="100%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%"),this._svgEl=fc.svgOnTop?a:s,this._canvasEl=fc.svgOnTop?s:a,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,o),this._svgRenderer.initialize(this._svgEl,n,r,i,o),super.initialize(t,n,r,i,o)}dirty(t){return fc.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(o=>!fc.svgMarkTypes.includes(o));this._svgRenderer.render(t,fc.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return fc.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class kIe extends h2{constructor(t,n){super(t,n)}initialize(t,n,r){const i=lo(lo(t,0,"div"),fc.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const RIe="canvas",PIe="hybrid",NIe="png",DIe="svg",$Ie="none",Hp={Canvas:RIe,PNG:NIe,SVG:DIe,Hybrid:PIe,None:$Ie},fy={};fy[RIe]=fy[NIe]={renderer:JP,headless:JP,handler:h2};fy[DIe]={renderer:wY,headless:IIe,handler:gIe};fy[PIe]={renderer:ij,headless:ij,handler:kIe};fy[$Ie]={};function gM(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(fy[e]=t,this):fy[e]}function OIe(e,t,n){const r=[],i=new ro().union(t),o=e.marktype;return o?MIe(e,i,n,r):o==="group"?LIe(e,i,n,r):Me("Intersect scene must be mark node or group item.")}function MIe(e,t,n,r){if(XBt(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)LIe(i[a],t,n,r);else for(const u=Yu[o].isect;a<s;++a){const l=i[a];FIe(l,t,u)&&r.push(l)}}return r}function XBt(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function LIe(e,t,n,r){n&&n(e.mark)&&FIe(e,t,Yu.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let u=0;u<o;++u)MIe(i[u],t,n,r);t.translate(s,a)}return r}function FIe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const y4=new ro;function jIe(e){const t=e.clip;if(wn(t))t(u2(y4.clear()));else if(t)y4.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(y4)}const QBt=1e-9;function EY(e,t,n){return e===t?!0:n==="path"?BIe(e,t):e instanceof Date&&t instanceof Date?+e==+t:tr(e)&&tr(t)?Math.abs(e-t)<=QBt:!e||!t||!wt(e)&&!wt(t)?e==t:JBt(e,t)}function BIe(e,t){return EY(Xb(e),Xb(t))}function JBt(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!EY(e[i],t[i],i))return!1;return typeof e==typeof t}function ZBt(){HAe(),x9t()}const Zb="top",_c="left",Ec="right",Fm="bottom",e7t="top-left",t7t="top-right",n7t="bottom-left",r7t="bottom-right",xY="start",oj="middle",sa="end",i7t="x",o7t="y",yM="group",TY="axis",SY="title",s7t="frame",a7t="scope",CY="legend",UIe="row-header",zIe="row-footer",VIe="row-title",HIe="column-header",qIe="column-footer",WIe="column-title",u7t="padding",l7t="symbol",GIe="fit",YIe="fit-x",KIe="fit-y",c7t="pad",AY="none",iI="all",sj="each",IY="flush",qp="column",Wp="row";function XIe(e){Pe.call(this,null,e)}dt(XIe,Pe,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=Yu[i],s=o.bound;let a=r.bounds,u;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=oI(r,s),r.items.forEach(l=>{l.bounds.clear().union(a)});else if(i===yM||e.modified())switch(t.visit(t.MOD,l=>n.dirty(l)),a.clear(),r.items.forEach(l=>a.union(oI(l,s))),r.role){case TY:case CY:case SY:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,l=>{a.union(oI(l,s))}),t.visit(t.MOD,l=>{u=u||a.alignsWith(l.bounds),n.dirty(l),a.union(oI(l,s))}),u&&(a.clear(),r.items.forEach(l=>a.union(l.bounds)));return jIe(r),t.modifies("bounds")}});function oI(e,t,n){return t(e.bounds.clear(),e,n)}const xue=":vega_identifier:";function kY(e){Pe.call(this,0,e)}kY.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};dt(kY,Pe,{transform(e,t){const n=f7t(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function f7t(e){return e._signals[xue]||(e._signals[xue]=e.add(0))}function QIe(e){Pe.call(this,null,e)}dt(QIe,Pe,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,d7t(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===yM?uM:aM;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function d7t(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function JIe(e){Pe.call(this,null,e)}const Tue={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!ZIe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},ZIe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Sue=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(ZIe(i,o=e[n].bounds,t))return!0},h7t=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},p7t=(e,t,n)=>{var r=e.range(),i=new ro;return t===Zb||t===Fm?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},Cue=e=>(e.forEach(t=>t.opacity=1),e),Aue=(e,t)=>e.reflow(t.modified()).modifies("opacity");dt(JIe,Pe,{transform(e,t){const n=Tue[e.method]||Tue.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(Cue(i),t=Aue(t,e)),t;if(i=i.filter(h7t),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=Cue(i),t=Aue(t,e),o.length>=3&&Sue(o,r)){do o=n(o,r);while(o.length>=3&&Sue(o,r));o.length<3&&!Wn(i).opacity&&(o.length>1&&(Wn(o).opacity=0),Wn(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=p7t(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{s(u)||(u.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&a.union(u.bounds)}),t}});function eke(e){Pe.call(this,null,e)}dt(eke,Pe,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ks=new ro;function P1(e,t,n){return e[t]===n?0:(e[t]=n,1)}function m7t(e){var t=e.items[0].orient;return t===_c||t===Ec}function g7t(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function y7t(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,u=g7t(o),l=i.range,c=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[u[2]].items[0],m=i.titlePadding,g=i.bounds,y=p&&fY(p),v=0,b=0,_,w;switch(ks.clear().union(g),g.clear(),(_=u[0])>-1&&g.union(i.items[_].bounds),(_=u[1])>-1&&g.union(i.items[_].bounds),a){case Zb:v=f||0,b=-c,w=Math.max(d,Math.min(h,-g.y1)),g.add(0,-w).add(l,0),p&&sI(e,p,w,m,y,0,-1,g);break;case _c:v=-c,b=f||0,w=Math.max(d,Math.min(h,-g.x1)),g.add(-w,0).add(0,l),p&&sI(e,p,w,m,y,1,-1,g);break;case Ec:v=n+c,b=f||0,w=Math.max(d,Math.min(h,g.x2)),g.add(0,0).add(w,l),p&&sI(e,p,w,m,y,1,1,g);break;case Fm:v=f||0,b=r+c,w=Math.max(d,Math.min(h,g.y2)),g.add(0,0).add(l,w),p&&sI(e,p,w,m,0,0,1,g);break;default:v=i.x,b=i.y}return Xh(g.translate(v,b),i),P1(i,"x",v+s)|P1(i,"y",b+s)&&(i.bounds=ks,e.dirty(i),i.bounds=g,e.dirty(i)),i.mark.bounds.clear().union(g)}function sI(e,t,n,r,i,o,s,a){const u=t.bounds;if(t.auto){const l=s*(n+i+r);let c=0,f=0;e.dirty(t),o?c=(t.x||0)-(t.x=l):f=(t.y||0)-(t.y=l),t.mark.bounds.clear().union(u.translate(-c,-f)),e.dirty(t)}a.union(u)}const Iue=(e,t)=>Math.floor(Math.min(e,t)),kue=(e,t)=>Math.ceil(Math.max(e,t));function v7t(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===yM)switch(i.role){case TY:case CY:case SY:break;case UIe:s.rowheaders.push(...o);break;case zIe:s.rowfooters.push(...o);break;case HIe:s.colheaders.push(...o);break;case qIe:s.colfooters.push(...o);break;case VIe:s.rowtitle=o[0];break;case WIe:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function b7t(e){return new ro().set(0,0,e.width||0,e.height||0)}function _7t(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function ai(e,t,n){const r=wt(e)?e[t]:e;return r??(n!==void 0?n:0)}function Rue(e){return e<0?Math.ceil(-e):0}function tke(e,t,n){var r=!n.nodirty,i=n.bounds===IY?b7t:_7t,o=ks.set(0,0,0,0),s=ai(n.align,qp),a=ai(n.align,Wp),u=ai(n.padding,qp),l=ai(n.padding,Wp),c=n.columns||t.length,f=c<=0?1:Math.ceil(t.length/c),d=t.length,h=Array(d),p=Array(c),m=0,g=Array(d),y=Array(f),v=0,b=Array(d),_=Array(d),w=Array(d),S,E,C,A,k,P,$,N,O,j,M;for(E=0;E<c;++E)p[E]=0;for(E=0;E<f;++E)y[E]=0;for(E=0;E<d;++E)P=t[E],k=w[E]=i(P),P.x=P.x||0,b[E]=0,P.y=P.y||0,_[E]=0,C=E%c,A=~~(E/c),m=Math.max(m,$=Math.ceil(k.x2)),v=Math.max(v,N=Math.ceil(k.y2)),p[C]=Math.max(p[C],$),y[A]=Math.max(y[A],N),h[E]=u+Rue(k.x1),g[E]=l+Rue(k.y1),r&&e.dirty(t[E]);for(E=0;E<d;++E)E%c===0&&(h[E]=0),E<c&&(g[E]=0);if(s===sj)for(C=1;C<c;++C){for(M=0,E=C;E<d;E+=c)M<h[E]&&(M=h[E]);for(E=C;E<d;E+=c)h[E]=M+p[C-1]}else if(s===iI){for(M=0,E=0;E<d;++E)E%c&&M<h[E]&&(M=h[E]);for(E=0;E<d;++E)E%c&&(h[E]=M+m)}else for(s=!1,C=1;C<c;++C)for(E=C;E<d;E+=c)h[E]+=p[C-1];if(a===sj)for(A=1;A<f;++A){for(M=0,E=A*c,S=E+c;E<S;++E)M<g[E]&&(M=g[E]);for(E=A*c;E<S;++E)g[E]=M+y[A-1]}else if(a===iI){for(M=0,E=c;E<d;++E)M<g[E]&&(M=g[E]);for(E=c;E<d;++E)g[E]=M+v}else for(a=!1,A=1;A<f;++A)for(E=A*c,S=E+c;E<S;++E)g[E]+=y[A-1];for(O=0,E=0;E<d;++E)O=h[E]+(E%c?O:0),b[E]+=O-t[E].x;for(C=0;C<c;++C)for(j=0,E=C;E<d;E+=c)j+=g[E],_[E]+=j-t[E].y;if(s&&ai(n.center,qp)&&f>1)for(E=0;E<d;++E)k=s===iI?m:p[E%c],O=k-w[E].x2-t[E].x-b[E],O>0&&(b[E]+=O/2);if(a&&ai(n.center,Wp)&&c!==1)for(E=0;E<d;++E)k=a===iI?v:y[~~(E/c)],j=k-w[E].y2-t[E].y-_[E],j>0&&(_[E]+=j/2);for(E=0;E<d;++E)o.union(w[E].translate(b[E],_[E]));switch(O=ai(n.anchor,i7t),j=ai(n.anchor,o7t),ai(n.anchor,qp)){case sa:O-=o.width();break;case oj:O-=o.width()/2}switch(ai(n.anchor,Wp)){case sa:j-=o.height();break;case oj:j-=o.height()/2}for(O=Math.round(O),j=Math.round(j),o.clear(),E=0;E<d;++E)t[E].mark.bounds.clear();for(E=0;E<d;++E)P=t[E],P.x+=b[E]+=O,P.y+=_[E]+=j,o.union(P.mark.bounds.union(P.bounds.translate(b[E],_[E]))),r&&e.dirty(P);return o}function w7t(e,t,n){var r=v7t(t),i=r.marks,o=n.bounds===IY?E7t:x7t,s=n.offset,a=n.columns||i.length,u=a<=0?1:Math.ceil(i.length/a),l=u*a,c,f,d,h,p,m,g;const y=tke(e,i,n);y.empty()&&y.set(0,0,0,0),r.rowheaders&&(m=ai(n.headerBand,Wp,null),c=aI(e,r.rowheaders,i,a,u,-ai(s,"rowHeader"),Iue,0,o,"x1",0,a,1,m)),r.colheaders&&(m=ai(n.headerBand,qp,null),f=aI(e,r.colheaders,i,a,a,-ai(s,"columnHeader"),Iue,1,o,"y1",0,1,a,m)),r.rowfooters&&(m=ai(n.footerBand,Wp,null),d=aI(e,r.rowfooters,i,a,u,ai(s,"rowFooter"),kue,0,o,"x2",a-1,a,1,m)),r.colfooters&&(m=ai(n.footerBand,qp,null),h=aI(e,r.colfooters,i,a,a,ai(s,"columnFooter"),kue,1,o,"y2",l-a,1,a,m)),r.rowtitle&&(p=ai(n.titleAnchor,Wp),g=ai(s,"rowTitle"),g=p===sa?d+g:c-g,m=ai(n.titleBand,Wp,.5),Pue(e,r.rowtitle,g,0,y,m)),r.coltitle&&(p=ai(n.titleAnchor,qp),g=ai(s,"columnTitle"),g=p===sa?h+g:f-g,m=ai(n.titleBand,qp,.5),Pue(e,r.coltitle,g,1,y,m))}function E7t(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function x7t(e,t){return e.bounds[t]}function aI(e,t,n,r,i,o,s,a,u,l,c,f,d,h){var p=n.length,m=0,g=0,y,v,b,_,w,S,E,C,A;if(!p)return m;for(y=c;y<p;y+=f)n[y]&&(m=s(m,u(n[y],l)));if(!t.length)return m;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),m+=o,v=0,_=t.length;v<_;++v)e.dirty(t[v]),t[v].mark.bounds.clear();for(y=c,v=0,_=t.length;v<_;++v,y+=f){for(S=t[v],w=S.mark.bounds,b=y;b>=0&&(E=n[b])==null;b-=d);a?(C=h==null?E.x:Math.round(E.bounds.x1+h*E.bounds.width()),A=m):(C=m,A=h==null?E.y:Math.round(E.bounds.y1+h*E.bounds.height())),w.union(S.bounds.translate(C-(S.x||0),A-(S.y||0))),S.x=C,S.y=A,e.dirty(S),g=s(g,w[l])}return g}function Pue(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function T7t(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function S7t(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function C7t(e,t,n,r,i,o,s){const a=T7t(n,t),u=S7t(e,a("offset",0)),l=a("anchor",xY),c=l===sa?1:l===oj?.5:0,f={align:sj,bounds:a("bounds",IY),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case _c:f.anchor={x:Math.floor(r.x1)-u,column:sa,y:c*(s||r.height()+2*r.y1),row:l};break;case Ec:f.anchor={x:Math.ceil(r.x2)+u,y:c*(s||r.height()+2*r.y1),row:l};break;case Zb:f.anchor={y:Math.floor(i.y1)-u,row:sa,x:c*(o||i.width()+2*i.x1),column:l};break;case Fm:f.anchor={y:Math.ceil(i.y2)+u,x:c*(o||i.width()+2*i.x1),column:l};break;case e7t:f.anchor={x:u,y:u};break;case t7t:f.anchor={x:o-u,y:u,column:sa};break;case n7t:f.anchor={x:u,y:s-u,row:sa};break;case r7t:f.anchor={x:o-u,y:s-u,column:sa,row:sa};break}return f}function A7t(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,u,l;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),k7t(e,n,n.items[0].items[0]),o=I7t(n,o),u=2*n.padding,l=2*n.padding,o.empty()||(u=Math.ceil(o.width()+u),l=Math.ceil(o.height()+l)),r.type===l7t&&R7t(n.items[0].items[0].items[0].items),i!==AY&&(n.x=s=0,n.y=a=0),n.width=u,n.height=l,Xh(o.set(s,a,s+u,a+l),n),n.mark.bounds.clear().union(o),n}function I7t(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function k7t(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&bE(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,u=t.titlePadding||0,l=r-s.x,c=r-s.y;switch(s.orient){case _c:i+=Math.ceil(s.bounds.width())+u;break;case Ec:case Fm:break;default:o+=s.bounds.height()+u}switch((i||o)&&bE(e,n,i,o),s.orient){case _c:c+=Vv(t,n,s,a,1,1);break;case Ec:l+=Vv(t,n,s,sa,0,0)+u,c+=Vv(t,n,s,a,1,1);break;case Fm:l+=Vv(t,n,s,a,0,0),c+=Vv(t,n,s,sa,-1,0,1)+u;break;default:l+=Vv(t,n,s,a,0,0)}(l||c)&&bE(e,s,l,c),(l=Math.round(s.bounds.x1-r))<0&&(bE(e,n,-l,0),bE(e,s,-l,0))}}function Vv(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",u=n.datum.vgrad,l=a&&(o||!u)&&!s?t.items[0]:t,c=l.bounds[i?"y2":"x2"]-e.padding,f=u&&o?c:0,d=u&&o?0:c,h=i<=0?0:fY(n);return Math.round(r===xY?f:r===sa?d-h:.5*(c-h))}function bE(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function R7t(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function P7t(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,u=o.anchor,l=o.offset,c=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===_c||a===Ec?r:n,p=0,m=0,g=0,y=0,v=0,b;if(s!==yM?a===_c?(p=i.y2,h=i.y1):a===Ec?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===_c&&(p=r,h=0),b=u===xY?p:u===sa?h:(p+h)/2,d&&d.text){switch(a){case Zb:case Fm:v=f.bounds.height()+c;break;case _c:y=f.bounds.width()+c;break;case Ec:y=-f.bounds.width()-c;break}ks.clear().union(d.bounds),ks.translate(y-(d.x||0),v-(d.y||0)),P1(d,"x",y)|P1(d,"y",v)&&(e.dirty(d),d.bounds.clear().union(ks),d.mark.bounds.clear().union(ks),e.dirty(d)),ks.clear().union(d.bounds)}else ks.clear();switch(ks.union(f.bounds),a){case Zb:m=b,g=i.y1-ks.height()-l;break;case _c:m=i.x1-ks.width()-l,g=b;break;case Ec:m=i.x2+ks.width()+l,g=b;break;case Fm:m=b,g=i.y2+l;break;default:m=o.x,g=o.y}return P1(o,"x",m)|P1(o,"y",g)&&(ks.translate(m,g),e.dirty(o),o.bounds.clear().union(ks),t.bounds.clear().union(ks),e.dirty(o)),o.bounds}function nke(e){Pe.call(this,null,e)}dt(nke,Pe,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&w7t(n,r,e.layout),D7t(n,r,e)}),N7t(e.mark.group)?t.reflow():t}});function N7t(e){return e&&e.mark.role!=="legend-entry"}function D7t(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new ro().set(0,0,i,o),a=s.clone(),u=s.clone(),l=[],c,f,d,h,p,m;for(p=0,m=r.length;p<m;++p)switch(f=r[p],f.role){case TY:h=m7t(f)?a:u,h.union(y7t(e,f,i,o));break;case SY:c=f;break;case CY:l.push(A7t(e,f));break;case s7t:case a7t:case UIe:case zIe:case VIe:case HIe:case qIe:case WIe:a.union(f.bounds),u.union(f.bounds);break;default:s.union(f.bounds)}if(l.length){const g={};l.forEach(y=>{d=y.orient||Ec,d!==AY&&(g[d]||(g[d]=[])).push(y)});for(const y in g){const v=g[y];tke(e,v,C7t(v,y,n.legends,a,u,i,o))}l.forEach(y=>{const v=y.bounds;if(v.equals(y._bounds)||(y.bounds=y._bounds,e.dirty(y),y.bounds=v,e.dirty(y)),n.autosize&&(n.autosize.type===GIe||n.autosize.type===YIe||n.autosize.type===KIe))switch(y.orient){case _c:case Ec:s.add(v.x1,0).add(v.x2,0);break;case Zb:case Fm:s.add(0,v.y1).add(0,v.y2)}else s.union(v)})}s.union(a).union(u),c&&s.union(P7t(e,c,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),$7t(e,t,s,n)}function $7t(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-c));if(i.contains===u7t){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===AY?(l=0,f=0,u=s,c=a):o===GIe?(u=Math.max(0,s-l-d),c=Math.max(0,a-f-h)):o===YIe?(u=Math.max(0,s-l-d),a=c+f+h):o===KIe?(s=u+l+d,c=Math.max(0,a-f-h)):o===c7t&&(s=u+l+d,a=c+f+h),e._resizeView(s,a,u,c,[l,f],i.resize)}const O7t=Object.freeze(Object.defineProperty({__proto__:null,bound:XIe,identifier:kY,mark:QIe,overlap:JIe,render:eke,viewlayout:nke},Symbol.toStringTag,{value:"Module"}));function rke(e){Pe.call(this,null,e)}dt(rke,Pe,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=GG(o,s,e.minstep),u=e.format||RAe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),l=e.values?kAe(o,e.values,a):YG(o,a);return i&&(r.rem=i),i=l.map((c,f)=>yr({index:f/(l.length-1||1),value:c,label:u(c)})),e.extra&&i.length&&i.push(yr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function ike(e){Pe.call(this,null,e)}function M7t(){return yr({})}function L7t(e){const t=cw().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}dt(ike,Pe,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||M7t,o=e.key||Vt,s=this.value;return je(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&Me("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=L7t(o)),t.visit(t.ADD,a=>{const u=o(a);let l=s.get(u);l?l.exit?(s.empty--,r.add.push(l)):r.mod.push(l):(l=i(a),s.set(u,l),r.add.push(l)),l.datum=a,l.exit=!1}),t.visit(t.MOD,a=>{const u=o(a),l=s.get(u);l&&(l.datum=a,r.mod.push(l))}),t.visit(t.REM,a=>{const u=o(a),l=s.get(u);a===l.datum&&!l.exit&&(r.rem.push(l),l.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function oke(e){Pe.call(this,null,e)}dt(oke,Pe,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(je(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||pp,u=i.enter||pp,l=i.exit||pp,c=(o&&!s?i[o]:a)||pp;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{u(f,e),a(f,e)}),n.modifies(u.output),n.modifies(a.output),c!==pp&&c!==a&&(t.visit(t.ADD,f=>{c(f,e)}),n.modifies(c.output))),t.changed(t.REM)&&l!==pp&&(t.visit(t.REM,f=>{l(f,e)}),n.modifies(l.output)),s||c!==pp){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=u(d,e)||r;(c(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)):t.visit(f,d=>{(c(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function ske(e){Pe.call(this,[],e)}dt(ske,Pe,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||Tk,s=e.scale,a=+e.limit,u=GG(s,e.count==null?5:e.count,e.minstep),l=!!e.values||o===Tk,c=e.format||$Ae(n,s,u,o,e.formatSpecifier,e.formatType,l),f=e.values||DAe(s,u),d,h,p,m,g;return i&&(r.rem=i),o===Tk?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),g=!0):i=f,wn(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),m=i.reduce((y,v)=>Math.max(y,p(v,e)),0)):p=Ws(m=p||8),i=i.map((y,v)=>yr({index:v,label:c(y,v,i),value:y,offset:m,size:p(y,e)})),g&&(g=f[i.length],i.push(yr({index:i.length,label:`${f.length-i.length} entries`,value:g,offset:m,size:p(g,e)})))):o===c9t?(d=s.domain(),h=CAe(s,d[0],Wn(d)),f.length<3&&!e.values&&d[0]!==Wn(d)&&(f=[d[0],Wn(d)]),i=f.map((y,v)=>yr({index:v,label:c(y,v,f),value:y,perc:h(y)}))):(p=f.length-1,h=w9t(s),i=f.map((y,v)=>yr({index:v,label:c(y,v,f),value:y,perc:v?h(y):0,perc2:v===p?1:h(f[v+1])}))),r.source=i,r.add=i,this.value=i,r}});const F7t=e=>e.source.x,j7t=e=>e.source.y,B7t=e=>e.target.x,U7t=e=>e.target.y;function RY(e){Pe.call(this,{},e)}RY.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};dt(RY,Pe,{transform(e,t){var n=e.sourceX||F7t,r=e.sourceY||j7t,i=e.targetX||B7t,o=e.targetY||U7t,s=e.as||"path",a=e.orient||"vertical",u=e.shape||"line",l=Nue.get(u+"-"+a)||Nue.get(u);return l||Me("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=l(n(c),r(c),i(c),o(c))}),t.reflow(e.modified()).modifies(s)}});const ake=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,z7t=(e,t,n,r)=>ake(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),uke=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},V7t=(e,t,n,r)=>uke(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),lke=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},H7t=(e,t,n,r)=>lke(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),q7t=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,W7t=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,G7t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},Y7t=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},K7t=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},X7t=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*o+"C"+u*i+","+u*o+" "+u*s+","+u*a+" "+r*s+","+r*a},Nue=cw({line:ake,"line-radial":z7t,arc:uke,"arc-radial":V7t,curve:lke,"curve-radial":H7t,"orthogonal-horizontal":q7t,"orthogonal-vertical":W7t,"orthogonal-radial":G7t,"diagonal-horizontal":Y7t,"diagonal-vertical":K7t,"diagonal-radial":X7t});function PY(e){Pe.call(this,null,e)}PY.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};dt(PY,Pe,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||aw,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,l=u.map(o),c=l.length,f=s,d=(a-s)/xSe(l),h=Du(c),p,m,g;for(e.sort&&h.sort((y,v)=>l[y]-l[v]),p=0;p<c;++p)g=l[h[p]],m=u[h[p]],m[r]=f,m[i]=f+=g*d;return this.value=l,t.reflow(e.modified()).modifies(n)}});const Q7t=5;function J7t(e){const t=e.type;return!e.bins&&(t===Gb||t===t2||t===n2)}function cke(e){return HG(e)&&e!==Bf}const Z7t=Fc(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function fke(e){Pe.call(this,null,e),this.modified(!0)}dt(fke,Pe,{transform(e,t){var n=t.dataflow,r=this.value,i=eUt(e);(!r||i!==r.type)&&(this.value=r=cr(i)());for(i in e)if(!Z7t[i]){if(i==="padding"&&cke(r.type))continue;wn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return sUt(r,e,oUt(r,e,nUt(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function eUt(e){var t=e.type,n="",r;return t===Bf?Bf+"-"+Gb:(tUt(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?Bf+"-":r===3?vw+"-":""),(n+t||Gb).toLowerCase())}function tUt(e){const t=e.type;return HG(t)&&t!==ly&&t!==cy&&(e.scheme||e.range&&e.range.length&&e.range.every(_t))}function nUt(e,t,n){const r=rUt(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&J7t(e),a,u;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const l=u>i[a]?a+1:u<i[0]?0:a;l!==a&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(l,0,u)}return cke(o)&&t.padding&&i[0]!==Wn(i)&&(i=iUt(o,i,t.range,t.padding,t.exponent,t.constant)),e.domain(dke(o,i,n)),o===BG&&e.unknown(t.domainImplicit?j9:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&GG(e,t.nice)||null),i.length}function rUt(e,t,n){return t?(e.domain(dke(e.type,t,n)),t.length):-1}function iUt(e,t,n,r,i,o){var s=Math.abs(Wn(n)-n[0]),a=s/(s-2*r),u=e===$h?uW(t,null,a):e===n2?TP(t,null,a,.5):e===t2?TP(t,null,a,i||1):e===nM?lW(t,null,a,o||1):aW(t,null,a);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function dke(e,t,n){if(wAe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+at(t))}return t}function oUt(e,t,n){let r=t.bins;if(r&&!je(r)){const i=e.domain(),o=i[0],s=Wn(i),a=r.step;let u=r.start==null?o:r.start,l=r.stop==null?s:r.stop;a||Me("Scale bins parameter missing step property."),u<o&&(u=a*Math.ceil(o/a)),l>s&&(l=a*Math.floor(s/a)),r=Du(u,l+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===UG&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function sUt(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=aUt(r,t,n);else if(t.scheme&&(o=uUt(r,t,n),wn(o))){if(e.interpolator)return e.interpolator(o);Me(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&EAe(r))return e.interpolator(oM(aj(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(qG(t.interpolate,t.interpolateGamma)):wn(e.round)?e.round(i):wn(e.rangeRound)&&e.interpolate(i?ZC:hg),o&&e.range(aj(o,t.reverse))}function aUt(e,t,n){e!==mAe&&e!==W9&&Me("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===W9?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*jG(n,i,r)]}function uUt(e,t,n){var r=t.schemeExtent,i,o;return je(t.scheme)?o=oM(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=WG(i),o||Me(`Unrecognized scheme name: ${t.scheme}`)),n=e===iM?n+1:e===UG?n-1:e===Yb||e===rM?+t.schemeCount||Q7t:n,EAe(e)?Due(o,r,t.reverse):wn(o)?SAe(Due(o,r),n):e===BG?o:o.slice(0,n)}function Due(e,t,n){return wn(e)&&(t||n)?TAe(e,aj(t||[0,1],n)):e}function aj(e,t){return t?e.slice().reverse():e}function hke(e){Pe.call(this,null,e)}dt(hke,Pe,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(iv(e.sort)),this.modified(n),t}});const $ue="zero",pke="center",mke="normalize",gke=["y0","y1"];function NY(e){Pe.call(this,null,e)}NY.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:$ue,values:[$ue,pke,mke]},{name:"as",type:"string",array:!0,length:2,default:gke}]};dt(NY,Pe,{transform(e,t){var n=e.as||gke,r=n[0],i=n[1],o=iv(e.sort),s=e.field||aw,a=e.offset===pke?lUt:e.offset===mke?cUt:fUt,u,l,c,f;for(u=dUt(t.source,e.groupby,o,s),l=0,c=u.length,f=u.max;l<c;++l)a(u[l],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function lUt(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,u;a<s;++a)u=e[a],u[r]=o,u[i]=o+=Math.abs(n(u))}function cUt(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,u=0,l=0,c;u<a;++u)c=e[u],c[r]=s,c[i]=s=o*(l+=Math.abs(n(c)))}function fUt(e,t,n,r,i){for(var o=0,s=0,a=e.length,u=0,l,c;u<a;++u)c=e[u],l=+n(c),l<0?(c[r]=s,c[i]=s+=l):(c[r]=o,c[i]=o+=l)}function dUt(e,t,n,r){var i=[],o=m=>m(c),s,a,u,l,c,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,u=e.length;a<u;++a)c=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(c);for(f=0,p=0,l=i.length;f<l;++f){for(d=i[f],a=0,h=0,u=d.length;a<u;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const hUt=Object.freeze(Object.defineProperty({__proto__:null,axisticks:rke,datajoin:ike,encode:oke,legendentries:ske,linkpath:RY,pie:PY,scale:fke,sortitems:hke,stack:NY},Symbol.toStringTag,{value:"Module"}));var Gt=1e-6,tN=1e-12,Nn=Math.PI,Ii=Nn/2,nN=Nn/4,ba=Nn*2,Fi=180/Nn,kn=Nn/180,qn=Math.abs,_w=Math.atan,Ll=Math.atan2,Kt=Math.cos,uI=Math.ceil,yke=Math.exp,uj=Math.hypot,rN=Math.log,v4=Math.pow,Ht=Math.sin,bl=Math.sign||function(e){return e>0?1:e<0?-1:0},_a=Math.sqrt,DY=Math.tan;function vke(e){return e>1?0:e<-1?Nn:Math.acos(e)}function cu(e){return e>1?Ii:e<-1?-Ii:Math.asin(e)}function as(){}function iN(e,t){e&&Mue.hasOwnProperty(e.type)&&Mue[e.type](e,t)}var Oue={Feature:function(e,t){iN(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)iN(n[r].geometry,t)}},Mue={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){lj(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lj(n[r],t,0)},Polygon:function(e,t){Lue(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Lue(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)iN(n[r],t)}};function lj(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function Lue(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)lj(e[n],t,1);t.polygonEnd()}function zd(e,t){e&&Oue.hasOwnProperty(e.type)?Oue[e.type](e,t):iN(e,t)}var oN=new ga,sN=new ga,bke,_ke,cj,fj,dj,Qf={point:as,lineStart:as,lineEnd:as,polygonStart:function(){oN=new ga,Qf.lineStart=pUt,Qf.lineEnd=mUt},polygonEnd:function(){var e=+oN;sN.add(e<0?ba+e:e),this.lineStart=this.lineEnd=this.point=as},sphere:function(){sN.add(ba)}};function pUt(){Qf.point=gUt}function mUt(){wke(bke,_ke)}function gUt(e,t){Qf.point=wke,bke=e,_ke=t,e*=kn,t*=kn,cj=e,fj=Kt(t=t/2+nN),dj=Ht(t)}function wke(e,t){e*=kn,t*=kn,t=t/2+nN;var n=e-cj,r=n>=0?1:-1,i=r*n,o=Kt(t),s=Ht(t),a=dj*s,u=fj*o+a*Kt(i),l=a*r*Ht(i);oN.add(Ll(l,u)),cj=e,fj=o,dj=s}function yUt(e){return sN=new ga,zd(e,Qf),sN*2}function aN(e){return[Ll(e[1],e[0]),cu(e[2])]}function dy(e){var t=e[0],n=e[1],r=Kt(n);return[r*Kt(t),r*Ht(t),Ht(n)]}function lI(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function e_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function b4(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cI(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function uN(e){var t=_a(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var pi,Ua,Ti,Su,Yg,Eke,xke,ob,iT,Ep,Oh,Fd={point:hj,lineStart:Fue,lineEnd:jue,polygonStart:function(){Fd.point=Ske,Fd.lineStart=vUt,Fd.lineEnd=bUt,iT=new ga,Qf.polygonStart()},polygonEnd:function(){Qf.polygonEnd(),Fd.point=hj,Fd.lineStart=Fue,Fd.lineEnd=jue,oN<0?(pi=-(Ti=180),Ua=-(Su=90)):iT>Gt?Su=90:iT<-Gt&&(Ua=-90),Oh[0]=pi,Oh[1]=Ti},sphere:function(){pi=-(Ti=180),Ua=-(Su=90)}};function hj(e,t){Ep.push(Oh=[pi=e,Ti=e]),t<Ua&&(Ua=t),t>Su&&(Su=t)}function Tke(e,t){var n=dy([e*kn,t*kn]);if(ob){var r=e_(ob,n),i=[r[1],-r[0],0],o=e_(i,r);uN(o),o=aN(o);var s=e-Yg,a=s>0?1:-1,u=o[0]*Fi*a,l,c=qn(s)>180;c^(a*Yg<u&&u<a*e)?(l=o[1]*Fi,l>Su&&(Su=l)):(u=(u+360)%360-180,c^(a*Yg<u&&u<a*e)?(l=-o[1]*Fi,l<Ua&&(Ua=l)):(t<Ua&&(Ua=t),t>Su&&(Su=t))),c?e<Yg?Eu(pi,e)>Eu(pi,Ti)&&(Ti=e):Eu(e,Ti)>Eu(pi,Ti)&&(pi=e):Ti>=pi?(e<pi&&(pi=e),e>Ti&&(Ti=e)):e>Yg?Eu(pi,e)>Eu(pi,Ti)&&(Ti=e):Eu(e,Ti)>Eu(pi,Ti)&&(pi=e)}else Ep.push(Oh=[pi=e,Ti=e]);t<Ua&&(Ua=t),t>Su&&(Su=t),ob=n,Yg=e}function Fue(){Fd.point=Tke}function jue(){Oh[0]=pi,Oh[1]=Ti,Fd.point=hj,ob=null}function Ske(e,t){if(ob){var n=e-Yg;iT.add(qn(n)>180?n+(n>0?360:-360):n)}else Eke=e,xke=t;Qf.point(e,t),Tke(e,t)}function vUt(){Qf.lineStart()}function bUt(){Ske(Eke,xke),Qf.lineEnd(),qn(iT)>Gt&&(pi=-(Ti=180)),Oh[0]=pi,Oh[1]=Ti,ob=null}function Eu(e,t){return(t-=e)<0?t+360:t}function _Ut(e,t){return e[0]-t[0]}function Bue(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function wUt(e){var t,n,r,i,o,s,a;if(Su=Ti=-(pi=Ua=1/0),Ep=[],zd(e,Fd),n=Ep.length){for(Ep.sort(_Ut),t=1,r=Ep[0],o=[r];t<n;++t)i=Ep[t],Bue(r,i[0])||Bue(r,i[1])?(Eu(r[0],i[1])>Eu(r[0],r[1])&&(r[1]=i[1]),Eu(i[0],r[1])>Eu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=Eu(r[1],i[0]))>s&&(s=a,pi=i[0],Ti=r[1])}return Ep=Oh=null,pi===1/0||Ua===1/0?[[NaN,NaN],[NaN,NaN]]:[[pi,Ua],[Ti,Su]]}var tx,lN,cN,fN,dN,hN,pN,mN,pj,mj,gj,Cke,Ake,aa,ua,la,xc={sphere:as,point:$Y,lineStart:Uue,lineEnd:zue,polygonStart:function(){xc.lineStart=TUt,xc.lineEnd=SUt},polygonEnd:function(){xc.lineStart=Uue,xc.lineEnd=zue}};function $Y(e,t){e*=kn,t*=kn;var n=Kt(t);p2(n*Kt(e),n*Ht(e),Ht(t))}function p2(e,t,n){++tx,cN+=(e-cN)/tx,fN+=(t-fN)/tx,dN+=(n-dN)/tx}function Uue(){xc.point=EUt}function EUt(e,t){e*=kn,t*=kn;var n=Kt(t);aa=n*Kt(e),ua=n*Ht(e),la=Ht(t),xc.point=xUt,p2(aa,ua,la)}function xUt(e,t){e*=kn,t*=kn;var n=Kt(t),r=n*Kt(e),i=n*Ht(e),o=Ht(t),s=Ll(_a((s=ua*o-la*i)*s+(s=la*r-aa*o)*s+(s=aa*i-ua*r)*s),aa*r+ua*i+la*o);lN+=s,hN+=s*(aa+(aa=r)),pN+=s*(ua+(ua=i)),mN+=s*(la+(la=o)),p2(aa,ua,la)}function zue(){xc.point=$Y}function TUt(){xc.point=CUt}function SUt(){Ike(Cke,Ake),xc.point=$Y}function CUt(e,t){Cke=e,Ake=t,e*=kn,t*=kn,xc.point=Ike;var n=Kt(t);aa=n*Kt(e),ua=n*Ht(e),la=Ht(t),p2(aa,ua,la)}function Ike(e,t){e*=kn,t*=kn;var n=Kt(t),r=n*Kt(e),i=n*Ht(e),o=Ht(t),s=ua*o-la*i,a=la*r-aa*o,u=aa*i-ua*r,l=uj(s,a,u),c=cu(l),f=l&&-c/l;pj.add(f*s),mj.add(f*a),gj.add(f*u),lN+=c,hN+=c*(aa+(aa=r)),pN+=c*(ua+(ua=i)),mN+=c*(la+(la=o)),p2(aa,ua,la)}function AUt(e){tx=lN=cN=fN=dN=hN=pN=mN=0,pj=new ga,mj=new ga,gj=new ga,zd(e,xc);var t=+pj,n=+mj,r=+gj,i=uj(t,n,r);return i<tN&&(t=hN,n=pN,r=mN,lN<Gt&&(t=cN,n=fN,r=dN),i=uj(t,n,r),i<tN)?[NaN,NaN]:[Ll(n,t)*Fi,cu(r/i)*Fi]}function yj(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function vj(e,t){return qn(e)>Nn&&(e-=Math.round(e/ba)*ba),[e,t]}vj.invert=vj;function kke(e,t,n){return(e%=ba)?t||n?yj(Hue(e),que(t,n)):Hue(e):t||n?que(t,n):vj}function Vue(e){return function(t,n){return t+=e,qn(t)>Nn&&(t-=Math.round(t/ba)*ba),[t,n]}}function Hue(e){var t=Vue(e);return t.invert=Vue(-e),t}function que(e,t){var n=Kt(e),r=Ht(e),i=Kt(t),o=Ht(t);function s(a,u){var l=Kt(u),c=Kt(a)*l,f=Ht(a)*l,d=Ht(u),h=d*n+c*r;return[Ll(f*i-h*o,c*n-d*r),cu(h*i+f*o)]}return s.invert=function(a,u){var l=Kt(u),c=Kt(a)*l,f=Ht(a)*l,d=Ht(u),h=d*i-f*o;return[Ll(f*i+d*o,c*n+h*r),cu(h*n-c*r)]},s}function IUt(e){e=kke(e[0]*kn,e[1]*kn,e.length>2?e[2]*kn:0);function t(n){return n=e(n[0]*kn,n[1]*kn),n[0]*=Fi,n[1]*=Fi,n}return t.invert=function(n){return n=e.invert(n[0]*kn,n[1]*kn),n[0]*=Fi,n[1]*=Fi,n},t}function kUt(e,t,n,r,i,o){if(n){var s=Kt(t),a=Ht(t),u=r*n;i==null?(i=t+r*ba,o=t-u/2):(i=Wue(s,i),o=Wue(s,o),(r>0?i<o:i>o)&&(i+=r*ba));for(var l,c=i;r>0?c>o:c<o;c-=u)l=aN([s,-a*Kt(c),-a*Ht(c)]),e.point(l[0],l[1])}}function Wue(e,t){t=dy(t),t[0]-=e,uN(t);var n=vke(-t[1]);return((-t[2]<0?-n:n)+ba-Gt)%ba}function Rke(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:as,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Dk(e,t){return qn(e[0]-t[0])<Gt&&qn(e[1]-t[1])<Gt}function fI(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Pke(e,t,n,r,i){var o=[],s=[],a,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],v;if(Dk(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=p[a])[0],g[1]);i.lineEnd();return}y[0]+=2*Gt}o.push(v=new fI(g,p,null,!0)),s.push(v.o=new fI(g,null,v,!1)),o.push(v=new fI(y,p,null,!1)),s.push(v.o=new fI(y,null,v,!0))}}),!!o.length){for(s.sort(t),Gue(o),Gue(s),a=0,u=s.length;a<u;++a)s[a].e=n=!n;for(var l=o[0],c,f;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,u=c.length;a<u;++a)i.point((f=c[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Gue(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function _4(e){return qn(e[0])<=Nn?e[0]:bl(e[0])*((qn(e[0])+Nn)%ba-Nn)}function RUt(e,t){var n=_4(t),r=t[1],i=Ht(r),o=[Ht(n),-Kt(n),0],s=0,a=0,u=new ga;i===1?r=Ii+Gt:i===-1&&(r=-Ii-Gt);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,h=f[d-1],p=_4(h),m=h[1]/2+nN,g=Ht(m),y=Kt(m),v=0;v<d;++v,p=_,g=S,y=E,h=b){var b=f[v],_=_4(b),w=b[1]/2+nN,S=Ht(w),E=Kt(w),C=_-p,A=C>=0?1:-1,k=A*C,P=k>Nn,$=g*S;if(u.add(Ll($*A*Ht(k),y*E+$*Kt(k))),s+=P?C+A*ba:C,P^p>=n^_>=n){var N=e_(dy(h),dy(b));uN(N);var O=e_(o,N);uN(O);var j=(P^C>=0?-1:1)*cu(O[2]);(r>j||r===j&&(N[0]||N[1]))&&(a+=P^C>=0?1:-1)}}return(s<-Gt||s<Gt&&u<-tN)^a&1}function Nke(e,t,n,r){return function(i){var o=t(i),s=Rke(),a=t(s),u=!1,l,c,f,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,c=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=ESe(c);var _=RUt(l,r);c.length?(u||(i.polygonStart(),u=!0),Pke(c,NUt,_,n,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,w){e(_,w)&&i.point(_,w)}function p(_,w){o.point(_,w)}function m(){d.point=p,o.lineStart()}function g(){d.point=h,o.lineEnd()}function y(_,w){f.push([_,w]),a.point(_,w)}function v(){a.lineStart(),f=[]}function b(){y(f[0][0],f[0][1]),a.lineEnd();var _=a.clean(),w=s.result(),S,E=w.length,C,A,k;if(f.pop(),l.push(f),f=null,!!E){if(_&1){if(A=w[0],(C=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),S=0;S<C;++S)i.point((k=A[S])[0],k[1]);i.lineEnd()}return}E>1&&_&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(PUt))}}return d}}function PUt(e){return e.length>1}function NUt(e,t){return((e=e.x)[0]<0?e[1]-Ii-Gt:Ii-e[1])-((t=t.x)[0]<0?t[1]-Ii-Gt:Ii-t[1])}const Yue=Nke(function(){return!0},DUt,OUt,[-Nn,-Ii]);function DUt(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Nn:-Nn,u=qn(o-t);qn(u-Nn)<Gt?(e.point(t,n=(n+s)/2>0?Ii:-Ii),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&u>=Nn&&(qn(t-r)<Gt&&(t-=r*Gt),qn(o-a)<Gt&&(o-=a*Gt),n=$Ut(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function $Ut(e,t,n,r){var i,o,s=Ht(e-n);return qn(s)>Gt?_w((Ht(t)*(o=Kt(r))*Ht(n)-Ht(r)*(i=Kt(t))*Ht(e))/(i*o*s)):(t+r)/2}function OUt(e,t,n,r){var i;if(e==null)i=n*Ii,r.point(-Nn,i),r.point(0,i),r.point(Nn,i),r.point(Nn,0),r.point(Nn,-i),r.point(0,-i),r.point(-Nn,-i),r.point(-Nn,0),r.point(-Nn,i);else if(qn(e[0]-t[0])>Gt){var o=e[0]<t[0]?Nn:-Nn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function MUt(e){var t=Kt(e),n=2*kn,r=t>0,i=qn(t)>Gt;function o(c,f,d,h){kUt(h,e,n,d,c,f)}function s(c,f){return Kt(c)*Kt(f)>t}function a(c){var f,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var v=[g,y],b,_=s(g,y),w=r?_?0:l(g,y):_?l(g+(g<0?Nn:-Nn),y):0;if(!f&&(p=h=_)&&c.lineStart(),_!==h&&(b=u(f,v),(!b||Dk(f,b)||Dk(v,b))&&(v[2]=1)),_!==h)m=0,_?(c.lineStart(),b=u(v,f),c.point(b[0],b[1])):(b=u(f,v),c.point(b[0],b[1],2),c.lineEnd()),f=b;else if(i&&f&&r^_){var S;!(w&d)&&(S=u(v,f,!0))&&(m=0,r?(c.lineStart(),c.point(S[0][0],S[0][1]),c.point(S[1][0],S[1][1]),c.lineEnd()):(c.point(S[1][0],S[1][1]),c.lineEnd(),c.lineStart(),c.point(S[0][0],S[0][1],3)))}_&&(!f||!Dk(f,v))&&c.point(v[0],v[1]),f=v,h=_,d=w},lineEnd:function(){h&&c.lineEnd(),f=null},clean:function(){return m|(p&&h)<<1}}}function u(c,f,d){var h=dy(c),p=dy(f),m=[1,0,0],g=e_(h,p),y=lI(g,g),v=g[0],b=y-v*v;if(!b)return!d&&c;var _=t*y/b,w=-t*v/b,S=e_(m,g),E=cI(m,_),C=cI(g,w);b4(E,C);var A=S,k=lI(E,A),P=lI(A,A),$=k*k-P*(lI(E,E)-1);if(!($<0)){var N=_a($),O=cI(A,(-k-N)/P);if(b4(O,E),O=aN(O),!d)return O;var j=c[0],M=f[0],B=c[1],V=f[1],q;M<j&&(q=j,j=M,M=q);var D=M-j,U=qn(D-Nn)<Gt,W=U||D<Gt;if(!U&&V<B&&(q=B,B=V,V=q),W?U?B+V>0^O[1]<(qn(O[0]-j)<Gt?B:V):B<=O[1]&&O[1]<=V:D>Nn^(j<=O[0]&&O[0]<=M)){var F=cI(A,(-k+N)/P);return b4(F,E),[O,aN(F)]}}}function l(c,f){var d=r?e:Nn-e,h=0;return c<-d?h|=1:c>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return Nke(s,a,o,r?[0,-e]:[-Nn,e-Nn])}function LUt(e,t,n,r,i,o){var s=e[0],a=e[1],u=t[0],l=t[1],c=0,f=1,d=u-s,h=l-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>c&&(c=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>c&&(c=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<f&&(f=p)}return c>0&&(e[0]=s+c*d,e[1]=a+c*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var nx=1e9,dI=-nx;function Dke(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function o(l,c,f,d){var h=0,p=0;if(l==null||(h=s(l,f))!==(p=s(c,f))||u(l,c)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(c[0],c[1])}function s(l,c){return qn(l[0]-e)<Gt?c>0?0:3:qn(l[0]-n)<Gt?c>0?2:1:qn(l[1]-t)<Gt?c>0?1:0:c>0?3:2}function a(l,c){return u(l.x,c.x)}function u(l,c){var f=s(l,1),d=s(c,1);return f!==d?f-d:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=Rke(),d,h,p,m,g,y,v,b,_,w,S,E={point:C,lineStart:$,lineEnd:N,polygonStart:k,polygonEnd:P};function C(j,M){i(j,M)&&c.point(j,M)}function A(){for(var j=0,M=0,B=h.length;M<B;++M)for(var V=h[M],q=1,D=V.length,U=V[0],W,F,z=U[0],G=U[1];q<D;++q)W=z,F=G,U=V[q],z=U[0],G=U[1],F<=r?G>r&&(z-W)*(r-F)>(G-F)*(e-W)&&++j:G<=r&&(z-W)*(r-F)<(G-F)*(e-W)&&--j;return j}function k(){c=f,d=[],h=[],S=!0}function P(){var j=A(),M=S&&j,B=(d=ESe(d)).length;(M||B)&&(l.polygonStart(),M&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),B&&Pke(d,a,j,o,l),l.polygonEnd()),c=l,d=h=p=null}function $(){E.point=O,h&&h.push(p=[]),w=!0,_=!1,v=b=NaN}function N(){d&&(O(m,g),y&&_&&f.rejoin(),d.push(f.result())),E.point=C,_&&c.lineEnd()}function O(j,M){var B=i(j,M);if(h&&p.push([j,M]),w)m=j,g=M,y=B,w=!1,B&&(c.lineStart(),c.point(j,M));else if(B&&_)c.point(j,M);else{var V=[v=Math.max(dI,Math.min(nx,v)),b=Math.max(dI,Math.min(nx,b))],q=[j=Math.max(dI,Math.min(nx,j)),M=Math.max(dI,Math.min(nx,M))];LUt(V,q,e,t,n,r)?(_||(c.lineStart(),c.point(V[0],V[1])),c.point(q[0],q[1]),B||c.lineEnd(),S=!1):B&&(c.lineStart(),c.point(j,M),S=!1)}v=j,b=M,_=B}return E}}function Kue(e,t,n){var r=Du(e,t-Gt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function Xue(e,t,n){var r=Du(e,t-Gt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function FUt(){var e,t,n,r,i,o,s,a,u=10,l=u,c=90,f=360,d,h,p,m,g=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return Du(uI(r/c)*c,n,c).map(p).concat(Du(uI(a/f)*f,s,f).map(m)).concat(Du(uI(t/u)*u,e,u).filter(function(b){return qn(b%c)>Gt}).map(d)).concat(Du(uI(o/l)*l,i,l).filter(function(b){return qn(b%f)>Gt}).map(h))}return y.lines=function(){return v().map(function(b){return{type:"LineString",coordinates:b}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(s).slice(1),p(n).reverse().slice(1),m(a).reverse().slice(1))]}},y.extent=function(b){return arguments.length?y.extentMajor(b).extentMinor(b):y.extentMinor()},y.extentMajor=function(b){return arguments.length?(r=+b[0][0],n=+b[1][0],a=+b[0][1],s=+b[1][1],r>n&&(b=r,r=n,n=b),a>s&&(b=a,a=s,s=b),y.precision(g)):[[r,a],[n,s]]},y.extentMinor=function(b){return arguments.length?(t=+b[0][0],e=+b[1][0],o=+b[0][1],i=+b[1][1],t>e&&(b=t,t=e,e=b),o>i&&(b=o,o=i,i=b),y.precision(g)):[[t,o],[e,i]]},y.step=function(b){return arguments.length?y.stepMajor(b).stepMinor(b):y.stepMinor()},y.stepMajor=function(b){return arguments.length?(c=+b[0],f=+b[1],y):[c,f]},y.stepMinor=function(b){return arguments.length?(u=+b[0],l=+b[1],y):[u,l]},y.precision=function(b){return arguments.length?(g=+b,d=Kue(o,i,90),h=Xue(t,e,g),p=Kue(a,s,90),m=Xue(r,n,g),y):g},y.extentMajor([[-180,-90+Gt],[180,90-Gt]]).extentMinor([[-180,-80-Gt],[180,80+Gt]])}const TS=e=>e;var w4=new ga,bj=new ga,$ke,Oke,_j,wj,Vd={point:as,lineStart:as,lineEnd:as,polygonStart:function(){Vd.lineStart=jUt,Vd.lineEnd=UUt},polygonEnd:function(){Vd.lineStart=Vd.lineEnd=Vd.point=as,w4.add(qn(bj)),bj=new ga},result:function(){var e=w4/2;return w4=new ga,e}};function jUt(){Vd.point=BUt}function BUt(e,t){Vd.point=Mke,$ke=_j=e,Oke=wj=t}function Mke(e,t){bj.add(wj*e-_j*t),_j=e,wj=t}function UUt(){Mke($ke,Oke)}var t_=1/0,gN=t_,SS=-t_,yN=SS,vN={point:zUt,lineStart:as,lineEnd:as,polygonStart:as,polygonEnd:as,result:function(){var e=[[t_,gN],[SS,yN]];return SS=yN=-(gN=t_=1/0),e}};function zUt(e,t){e<t_&&(t_=e),e>SS&&(SS=e),t<gN&&(gN=t),t>yN&&(yN=t)}var Ej=0,xj=0,rx=0,bN=0,_N=0,N1=0,Tj=0,Sj=0,ix=0,Lke,Fke,Tf,Sf,ml={point:hy,lineStart:Que,lineEnd:Jue,polygonStart:function(){ml.lineStart=qUt,ml.lineEnd=WUt},polygonEnd:function(){ml.point=hy,ml.lineStart=Que,ml.lineEnd=Jue},result:function(){var e=ix?[Tj/ix,Sj/ix]:N1?[bN/N1,_N/N1]:rx?[Ej/rx,xj/rx]:[NaN,NaN];return Ej=xj=rx=bN=_N=N1=Tj=Sj=ix=0,e}};function hy(e,t){Ej+=e,xj+=t,++rx}function Que(){ml.point=VUt}function VUt(e,t){ml.point=HUt,hy(Tf=e,Sf=t)}function HUt(e,t){var n=e-Tf,r=t-Sf,i=_a(n*n+r*r);bN+=i*(Tf+e)/2,_N+=i*(Sf+t)/2,N1+=i,hy(Tf=e,Sf=t)}function Jue(){ml.point=hy}function qUt(){ml.point=GUt}function WUt(){jke(Lke,Fke)}function GUt(e,t){ml.point=jke,hy(Lke=Tf=e,Fke=Sf=t)}function jke(e,t){var n=e-Tf,r=t-Sf,i=_a(n*n+r*r);bN+=i*(Tf+e)/2,_N+=i*(Sf+t)/2,N1+=i,i=Sf*e-Tf*t,Tj+=i*(Tf+e),Sj+=i*(Sf+t),ix+=i*3,hy(Tf=e,Sf=t)}function Bke(e){this._context=e}Bke.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ba);break}}},result:as};var Cj=new ga,E4,Uke,zke,ox,sx,CS={point:as,lineStart:function(){CS.point=YUt},lineEnd:function(){E4&&Vke(Uke,zke),CS.point=as},polygonStart:function(){E4=!0},polygonEnd:function(){E4=null},result:function(){var e=+Cj;return Cj=new ga,e}};function YUt(e,t){CS.point=Vke,Uke=ox=e,zke=sx=t}function Vke(e,t){ox-=e,sx-=t,Cj.add(_a(ox*ox+sx*sx)),ox=e,sx=t}let Zue,wN,ele,tle;class nle{constructor(t){this._append=t==null?Hke:KUt(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ele||this._append!==wN){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ele=r,wN=this._append,tle=this._,this._=i}this._+=tle;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Hke(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function KUt(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Hke;if(t!==Zue){const n=10**t;Zue=t,wN=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return wN}function qke(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),zd(a,i(o))),o.result()}return s.area=function(a){return zd(a,i(Vd)),Vd.result()},s.measure=function(a){return zd(a,i(CS)),CS.result()},s.bounds=function(a){return zd(a,i(vN)),vN.result()},s.centroid=function(a){return zd(a,i(ml)),ml.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,TS):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new nle(n)):new Bke(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const u=Math.floor(a);if(!(u>=0))throw new RangeError(`invalid digits: ${a}`);n=u}return t===null&&(o=new nle(n)),s},s.projection(e).digits(n).context(t)}function vM(e){return function(t){var n=new Aj;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Aj(){}Aj.prototype={constructor:Aj,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function OY(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),zd(n,e.stream(vN)),t(vN.result()),r!=null&&e.clipExtent(r),e}function bM(e,t,n){return OY(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,u])},n)}function MY(e,t,n){return bM(e,[[0,0],t],n)}function LY(e,t,n){return OY(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function FY(e,t,n){return OY(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var rle=16,XUt=Kt(30*kn);function ile(e,t){return+t?JUt(e,t):QUt(e)}function QUt(e){return vM({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function JUt(e,t){function n(r,i,o,s,a,u,l,c,f,d,h,p,m,g){var y=l-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var _=s+d,w=a+h,S=u+p,E=_a(_*_+w*w+S*S),C=cu(S/=E),A=qn(qn(S)-1)<Gt||qn(o-f)<Gt?(o+f)/2:Ll(w,_),k=e(A,C),P=k[0],$=k[1],N=P-r,O=$-i,j=v*N-y*O;(j*j/b>t||qn((y*N+v*O)/b-.5)>.3||s*d+a*h+u*p<XUt)&&(n(r,i,o,s,a,u,P,$,A,_/=E,w/=E,S,m,g),g.point(P,$),n(P,$,A,_,w,S,l,c,f,d,h,p,m,g))}}return function(r){var i,o,s,a,u,l,c,f,d,h,p,m,g={point:y,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=w},polygonEnd:function(){r.polygonEnd(),g.lineStart=v}};function y(C,A){C=e(C,A),r.point(C[0],C[1])}function v(){f=NaN,g.point=b,r.lineStart()}function b(C,A){var k=dy([C,A]),P=e(C,A);n(f,d,c,h,p,m,f=P[0],d=P[1],c=C,h=k[0],p=k[1],m=k[2],rle,r),r.point(f,d)}function _(){g.point=y,r.lineEnd()}function w(){v(),g.point=S,g.lineEnd=E}function S(C,A){b(i=C,A),o=f,s=d,a=h,u=p,l=m,g.point=b}function E(){n(f,d,c,h,p,m,o,s,i,a,u,l,rle,r),g.lineEnd=_,_()}return g}}var ZUt=vM({point:function(e,t){this.stream.point(e*kn,t*kn)}});function ezt(e){return vM({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function tzt(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function ole(e,t,n,r,i,o){if(!o)return tzt(e,t,n,r,i);var s=Kt(o),a=Ht(o),u=s*e,l=a*e,c=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(m,g){return m*=r,g*=i,[u*m-l*g+t,n-l*m-u*g]}return p.invert=function(m,g){return[r*(c*m-f*g+d),i*(h-f*m-c*g)]},p}function pd(e){return Wke(function(){return e})()}function Wke(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,u=0,l=0,c,f=0,d=1,h=1,p=null,m=Yue,g=null,y,v,b,_=TS,w=.5,S,E,C,A,k;function P(j){return C(j[0]*kn,j[1]*kn)}function $(j){return j=C.invert(j[0],j[1]),j&&[j[0]*Fi,j[1]*Fi]}P.stream=function(j){return A&&k===j?A:A=ZUt(ezt(c)(m(S(_(k=j)))))},P.preclip=function(j){return arguments.length?(m=j,p=void 0,O()):m},P.postclip=function(j){return arguments.length?(_=j,g=y=v=b=null,O()):_},P.clipAngle=function(j){return arguments.length?(m=+j?MUt(p=j*kn):(p=null,Yue),O()):p*Fi},P.clipExtent=function(j){return arguments.length?(_=j==null?(g=y=v=b=null,TS):Dke(g=+j[0][0],y=+j[0][1],v=+j[1][0],b=+j[1][1]),O()):g==null?null:[[g,y],[v,b]]},P.scale=function(j){return arguments.length?(n=+j,N()):n},P.translate=function(j){return arguments.length?(r=+j[0],i=+j[1],N()):[r,i]},P.center=function(j){return arguments.length?(o=j[0]%360*kn,s=j[1]%360*kn,N()):[o*Fi,s*Fi]},P.rotate=function(j){return arguments.length?(a=j[0]%360*kn,u=j[1]%360*kn,l=j.length>2?j[2]%360*kn:0,N()):[a*Fi,u*Fi,l*Fi]},P.angle=function(j){return arguments.length?(f=j%360*kn,N()):f*Fi},P.reflectX=function(j){return arguments.length?(d=j?-1:1,N()):d<0},P.reflectY=function(j){return arguments.length?(h=j?-1:1,N()):h<0},P.precision=function(j){return arguments.length?(S=ile(E,w=j*j),O()):_a(w)},P.fitExtent=function(j,M){return bM(P,j,M)},P.fitSize=function(j,M){return MY(P,j,M)},P.fitWidth=function(j,M){return LY(P,j,M)},P.fitHeight=function(j,M){return FY(P,j,M)};function N(){var j=ole(n,0,0,d,h,f).apply(null,t(o,s)),M=ole(n,r-j[0],i-j[1],d,h,f);return c=kke(a,u,l),E=yj(t,M),C=yj(c,E),S=ile(E,w),O()}function O(){return A=k=null,P}return function(){return t=e.apply(this,arguments),P.invert=t.invert&&$,N()}}function jY(e){var t=0,n=Nn/3,r=Wke(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*kn,n=o[1]*kn):[t*Fi,n*Fi]},i}function nzt(e){var t=Kt(e);function n(r,i){return[r*t,Ht(i)/t]}return n.invert=function(r,i){return[r/t,cu(i*t)]},n}function rzt(e,t){var n=Ht(e),r=(n+Ht(t))/2;if(qn(r)<Gt)return nzt(e);var i=1+n*(2*r-n),o=_a(i)/r;function s(a,u){var l=_a(i-2*r*Ht(u))/r;return[l*Ht(a*=r),o-l*Kt(a)]}return s.invert=function(a,u){var l=o-u,c=Ll(a,qn(l))*bl(l);return l*r<0&&(c-=Nn*bl(a)*bl(l)),[c/r,cu((i-(a*a+l*l)*r*r)/(2*r))]},s}function EN(){return jY(rzt).scale(155.424).center([0,33.6442])}function Gke(){return EN().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function izt(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function ozt(){var e,t,n=Gke(),r,i=EN().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=EN().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,u,l={point:function(d,h){u=[d,h]}};function c(d){var h=d[0],p=d[1];return u=null,r.point(h,p),u||(o.point(h,p),u)||(a.point(h,p),u)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?s:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=izt([n.stream(t=d),i.stream(d),s.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(l),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Gt,m+.12*h+Gt],[p-.214*h-Gt,m+.234*h-Gt]]).stream(l),a=s.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Gt,m+.166*h+Gt],[p-.115*h-Gt,m+.234*h-Gt]]).stream(l),f()},c.fitExtent=function(d,h){return bM(c,d,h)},c.fitSize=function(d,h){return MY(c,d,h)},c.fitWidth=function(d,h){return LY(c,d,h)},c.fitHeight=function(d,h){return FY(c,d,h)};function f(){return e=t=null,c}return c.scale(1070)}function Yke(e){return function(t,n){var r=Kt(t),i=Kt(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Ht(t),o*Ht(n)]}}function m2(e){return function(t,n){var r=_a(t*t+n*n),i=e(r),o=Ht(i),s=Kt(i);return[Ll(t*o,r*s),cu(r&&n*o/r)]}}var Kke=Yke(function(e){return _a(2/(1+e))});Kke.invert=m2(function(e){return 2*cu(e/2)});function szt(){return pd(Kke).scale(124.75).clipAngle(180-.001)}var Xke=Yke(function(e){return(e=vke(e))&&e/Ht(e)});Xke.invert=m2(function(e){return e});function azt(){return pd(Xke).scale(79.4188).clipAngle(180-.001)}function _M(e,t){return[e,rN(DY((Ii+t)/2))]}_M.invert=function(e,t){return[e,2*_w(yke(t))-Ii]};function uzt(){return Qke(_M).scale(961/ba)}function Qke(e){var t=pd(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,u,l;t.scale=function(f){return arguments.length?(r(f),c()):r()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(n(f),c()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=u=l=null:(s=+f[0][0],a=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):s==null?null:[[s,a],[u,l]]};function c(){var f=Nn*r(),d=t(IUt(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===_M?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,u),l]]:[[s,Math.max(d[1]-f,a)],[u,Math.min(d[1]+f,l)]])}return c()}function hI(e){return DY((Ii+e)/2)}function lzt(e,t){var n=Kt(e),r=e===t?Ht(e):rN(n/Kt(t))/rN(hI(t)/hI(e)),i=n*v4(hI(e),r)/r;if(!r)return _M;function o(s,a){i>0?a<-Ii+Gt&&(a=-Ii+Gt):a>Ii-Gt&&(a=Ii-Gt);var u=i/v4(hI(a),r);return[u*Ht(r*s),i-u*Kt(r*s)]}return o.invert=function(s,a){var u=i-a,l=bl(r)*_a(s*s+u*u),c=Ll(s,qn(u))*bl(u);return u*r<0&&(c-=Nn*bl(s)*bl(u)),[c/r,2*_w(v4(i/l,1/r))-Ii]},o}function czt(){return jY(lzt).scale(109.5).parallels([30,30])}function xN(e,t){return[e,t]}xN.invert=xN;function fzt(){return pd(xN).scale(152.63)}function dzt(e,t){var n=Kt(e),r=e===t?Ht(e):(n-Kt(t))/(t-e),i=n/r+e;if(qn(r)<Gt)return xN;function o(s,a){var u=i-a,l=r*s;return[u*Ht(l),i-u*Kt(l)]}return o.invert=function(s,a){var u=i-a,l=Ll(s,qn(u))*bl(u);return u*r<0&&(l-=Nn*bl(s)*bl(u)),[l/r,i-bl(r)*_a(s*s+u*u)]},o}function hzt(){return jY(dzt).scale(131.154).center([0,13.9389])}var oT=1.340264,sT=-.081106,aT=893e-6,uT=.003796,TN=_a(3)/2,pzt=12;function Jke(e,t){var n=cu(TN*Ht(t)),r=n*n,i=r*r*r;return[e*Kt(n)/(TN*(oT+3*sT*r+i*(7*aT+9*uT*r))),n*(oT+sT*r+i*(aT+uT*r))]}Jke.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,u;o<pzt&&(a=n*(oT+sT*r+i*(aT+uT*r))-t,u=oT+3*sT*r+i*(7*aT+9*uT*r),n-=s=a/u,r=n*n,i=r*r*r,!(qn(s)<tN));++o);return[TN*e*(oT+3*sT*r+i*(7*aT+9*uT*r))/Kt(n),cu(Ht(n)/TN)]};function mzt(){return pd(Jke).scale(177.158)}function Zke(e,t){var n=Kt(t),r=Kt(e)*n;return[n*Ht(e)/r,Ht(t)/r]}Zke.invert=m2(_w);function gzt(){return pd(Zke).scale(144.049).clipAngle(60)}function yzt(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,u=null,l,c,f,d=1,h=1,p=vM({point:function(_,w){var S=b([_,w]);this.stream.point(S[0],S[1])}}),m=TS,g,y;function v(){return d=e*r,h=e*i,g=y=null,b}function b(_){var w=_[0]*d,S=_[1]*h;if(o){var E=S*s-w*a;w=w*s+S*a,S=E}return[w+t,S+n]}return b.invert=function(_){var w=_[0]-t,S=_[1]-n;if(o){var E=S*s+w*a;w=w*s-S*a,S=E}return[w/d,S/h]},b.stream=function(_){return g&&y===_?g:g=p(m(y=_))},b.postclip=function(_){return arguments.length?(m=_,u=l=c=f=null,v()):m},b.clipExtent=function(_){return arguments.length?(m=_==null?(u=l=c=f=null,TS):Dke(u=+_[0][0],l=+_[0][1],c=+_[1][0],f=+_[1][1]),v()):u==null?null:[[u,l],[c,f]]},b.scale=function(_){return arguments.length?(e=+_,v()):e},b.translate=function(_){return arguments.length?(t=+_[0],n=+_[1],v()):[t,n]},b.angle=function(_){return arguments.length?(o=_%360*kn,a=Ht(o),s=Kt(o),v()):o*Fi},b.reflectX=function(_){return arguments.length?(r=_?-1:1,v()):r<0},b.reflectY=function(_){return arguments.length?(i=_?-1:1,v()):i<0},b.fitExtent=function(_,w){return bM(b,_,w)},b.fitSize=function(_,w){return MY(b,_,w)},b.fitWidth=function(_,w){return LY(b,_,w)},b.fitHeight=function(_,w){return FY(b,_,w)},b}function eRe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}eRe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(qn(i)>Gt&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function vzt(){return pd(eRe).scale(175.295)}function tRe(e,t){return[Kt(t)*Ht(e),Ht(t)]}tRe.invert=m2(cu);function bzt(){return pd(tRe).scale(249.5).clipAngle(90+Gt)}function nRe(e,t){var n=Kt(t),r=1+Kt(e)*n;return[n*Ht(e)/r,Ht(t)/r]}nRe.invert=m2(function(e){return 2*_w(e)});function _zt(){return pd(nRe).scale(250).clipAngle(142)}function rRe(e,t){return[rN(DY((Ii+t)/2)),-e]}rRe.invert=function(e,t){return[-t,2*_w(yke(e))-Ii]};function wzt(){var e=Qke(rRe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var Ezt=Math.abs,Ij=Math.cos,SN=Math.sin,xzt=1e-6,iRe=Math.PI,kj=iRe/2,sle=Tzt(2);function ale(e){return e>1?kj:e<-1?-kj:Math.asin(e)}function Tzt(e){return e>0?Math.sqrt(e):0}function Szt(e,t){var n=e*SN(t),r=30,i;do t-=i=(t+SN(t)-n)/(1+Ij(t));while(Ezt(i)>xzt&&--r>0);return t/2}function Czt(e,t,n){function r(i,o){return[e*i*Ij(o=Szt(n,o)),t*SN(o)]}return r.invert=function(i,o){return o=ale(o/t),[i/(e*Ij(o)),ale((2*o+SN(2*o))/n)]},r}var Azt=Czt(sle/kj,sle,iRe);function Izt(){return pd(Azt).scale(169.529)}const kzt=qke(),Rj=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Rzt(e,t){return function n(){const r=t();return r.type=e,r.path=qke().projection(r),r.copy=r.copy||function(){const i=n();return Rj.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},bAe(r)}}function BY(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(CN[e]=Rzt(e,t),this):CN[e]||null}function oRe(e){return e&&e.path||kzt}const CN={albers:Gke,albersusa:ozt,azimuthalequalarea:szt,azimuthalequidistant:azt,conicconformal:czt,conicequalarea:EN,conicequidistant:hzt,equalEarth:mzt,equirectangular:fzt,gnomonic:gzt,identity:yzt,mercator:uzt,mollweide:Izt,naturalEarth1:vzt,orthographic:bzt,stereographic:_zt,transversemercator:wzt};for(const e in CN)BY(e,CN[e]);function Pzt(){}const Rd=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function sRe(){var e=1,t=1,n=a;function r(u,l){return l.map(c=>i(u,c))}function i(u,l){var c=[],f=[];return o(u,l,d=>{n(d,u,l),Nzt(d)>0?c.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=c.length,m;h<p;++h)if(Dzt((m=c[h])[0],d)!==-1){m.push(d);return}}),{type:"MultiPolygon",value:l,coordinates:c}}function o(u,l,c){var f=new Array,d=new Array,h,p,m,g,y,v;for(h=p=-1,g=u[0]>=l,Rd[g<<1].forEach(b);++h<e-1;)m=g,g=u[h+1]>=l,Rd[m|g<<1].forEach(b);for(Rd[g<<0].forEach(b);++p<t-1;){for(h=-1,g=u[p*e+e]>=l,y=u[p*e]>=l,Rd[g<<1|y<<2].forEach(b);++h<e-1;)m=g,g=u[p*e+e+h+1]>=l,v=y,y=u[p*e+h+1]>=l,Rd[m|g<<1|y<<2|v<<3].forEach(b);Rd[g|y<<3].forEach(b)}for(h=-1,y=u[p*e]>=l,Rd[y<<2].forEach(b);++h<e-1;)v=y,y=u[p*e+h+1]>=l,Rd[y<<2|v<<3].forEach(b);Rd[y<<3].forEach(b);function b(_){var w=[_[0][0]+h,_[0][1]+p],S=[_[1][0]+h,_[1][1]+p],E=s(w),C=s(S),A,k;(A=d[E])?(k=f[C])?(delete d[A.end],delete f[k.start],A===k?(A.ring.push(S),c(A.ring)):f[A.start]=d[k.end]={start:A.start,end:k.end,ring:A.ring.concat(k.ring)}):(delete d[A.end],A.ring.push(S),d[A.end=C]=A):(A=f[C])?(k=d[E])?(delete f[A.start],delete d[k.end],A===k?(A.ring.push(S),c(A.ring)):f[k.start]=d[A.end]={start:k.start,end:A.end,ring:k.ring.concat(A.ring)}):(delete f[A.start],A.ring.unshift(w),f[A.start=E]=A):f[E]=d[C]={start:E,end:C,ring:[w,S]}}}function s(u){return u[0]*2+u[1]*(e+1)*4}function a(u,l,c){u.forEach(f=>{var d=f[0],h=f[1],p=d|0,m=h|0,g,y=l[m*e+p];d>0&&d<e&&p===d&&(g=l[m*e+p-1],f[0]=d+(c-g)/(y-g)-.5),h>0&&h<t&&m===h&&(g=l[(m-1)*e+p],f[1]=h+(c-g)/(y-g)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var l=Math.floor(u[0]),c=Math.floor(u[1]);return l>=0&&c>=0||Me("invalid size"),e=l,t=c,r},r.smooth=function(u){return arguments.length?(n=u?a:Pzt,r):n===a},r}function Nzt(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function Dzt(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=$zt(e,t[n]))return i;return 0}function $zt(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var u=e[o],l=u[0],c=u[1],f=e[a],d=f[0],h=f[1];if(Ozt(u,f,t))return 0;c>r!=h>r&&n<(d-l)*(r-c)/(h-c)+l&&(i=-i)}return i}function Ozt(e,t,n){var r;return Mzt(e,t,n)&&Lzt(e[r=+(e[0]===t[0])],n[r],t[r])}function Mzt(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Lzt(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function aRe(e,t,n){return function(r){var i=Gf(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,u=t?Pm(o,s,e):a/(e+1);return Du(o+u,s,u)}}function UY(e){Pe.call(this,null,e)}UY.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};dt(UY,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||qs,o=sRe().smooth(e.smooth!==!1),s=e.thresholds||Fzt(r,i,e),a=e.as===null?null:e.as||"contour",u=[];return r.forEach(l=>{const c=i(l),f=o.size([c.width,c.height])(c.values,je(s)?s:s(c.values));jzt(f,c,l,e),f.forEach(d=>{u.push(LO(l,yr(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Fzt(e,t,n){const r=aRe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>R0(t(i).values)))}function jzt(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(wn(i)&&(i=i(n,r)),wn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(tr(i)?i:i[0])||1,a=(tr(i)?i:i[1])||1,u=o&&o[0]||0,l=o&&o[1]||0;e.forEach(uRe(t,s,a,u,l))}function uRe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function u(f){f.forEach(l)}function l(f){a&&f.reverse(),f.forEach(c)}function c(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(u),f}}function ule(e,t,n){const r=e>=0?e:DW(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function x4(e){return wn(e)?e:Ws(+e)}function lRe(){var e=u=>u[0],t=u=>u[1],n=aw,r=[-1,-1],i=960,o=500,s=2;function a(u,l){const c=ule(r[0],u,e)>>s,f=ule(r[1],u,t)>>s,d=c?c+2:0,h=f?f+2:0,p=2*d+(i>>s),m=2*h+(o>>s),g=new Float32Array(p*m),y=new Float32Array(p*m);let v=g;u.forEach(_=>{const w=d+(+e(_)>>s),S=h+(+t(_)>>s);w>=0&&w<p&&S>=0&&S<m&&(g[w+S*p]+=+n(_))}),c>0&&f>0?(Hv(p,m,g,y,c),qv(p,m,y,g,f),Hv(p,m,g,y,c),qv(p,m,y,g,f),Hv(p,m,g,y,c),qv(p,m,y,g,f)):c>0?(Hv(p,m,g,y,c),Hv(p,m,y,g,c),Hv(p,m,g,y,c),v=y):f>0&&(qv(p,m,g,y,f),qv(p,m,y,g,f),qv(p,m,g,y,f),v=y);const b=l?Math.pow(2,-2*s):1/xSe(v);for(let _=0,w=p*m;_<w;++_)v[_]*=b;return{values:v,scale:1<<s,width:p,height:m,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(u){return arguments.length?(e=x4(u),a):e},a.y=function(u){return arguments.length?(t=x4(u),a):t},a.weight=function(u){return arguments.length?(n=x4(u),a):n},a.size=function(u){if(!arguments.length)return[i,o];var l=+u[0],c=+u[1];return l>=0&&c>=0||Me("invalid size"),i=l,o=c,a},a.cellSize=function(u){return arguments.length?((u=+u)>=1||Me("invalid cell size"),s=Math.floor(Math.log(u)/Math.LN2),a):1<<s},a.bandwidth=function(u){return arguments.length?(u=bt(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&Me("invalid bandwidth"),r=u,a):r},a}function Hv(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,u=0;a<e+i;++a)a<e&&(u+=n[a+s*e]),a>=i&&(a>=o&&(u-=n[a-o+s*e]),r[a-i+s*e]=u/Math.min(a+1,e-1+o-a,o))}function qv(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,u=0;a<t+i;++a)a<t&&(u+=n[s+a*e]),a>=i&&(a>=o&&(u-=n[s+(a-o)*e]),r[s+(a-i)*e]=u/Math.min(a+1,t-1+o-a,o))}function zY(e){Pe.call(this,null,e)}zY.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Bzt=["x","y","weight","size","cellSize","bandwidth"];function cRe(e,t){return Bzt.forEach(n=>t[n]!=null?e[n](t[n]):0),e}dt(zY,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Uzt(r,e.groupby),o=(e.groupby||[]).map(Pi),s=cRe(lRe(),e),a=e.as||"grid",u=[];function l(c,f){for(let d=0;d<o.length;++d)c[o[d]]=f[d];return c}return u=i.map(c=>yr(l({[a]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Uzt(e,t){var n=[],r=c=>c(a),i,o,s,a,u,l;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function VY(e){Pe.call(this,null,e)}VY.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};dt(VY,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=sRe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||aRe(e.count||10,e.nice,!!i),s=e.size,a,u;return i||(i=t.materialize(t.SOURCE).source,a=cRe(lRe(),e)(i,!0),u=uRe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=je(o)?o:o(i),i=r.size(s)(i,o),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(yr),n}});const Pj="Feature",HY="FeatureCollection",zzt="MultiPoint";function qY(e){Pe.call(this,null,e)}qY.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};dt(qY,Pe,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&qs,u=t.ADD,l;l=e.modified()||t.changed(t.REM)||t.modified(Fs(a))||o&&t.modified(Fs(o))||s&&t.modified(Fs(s)),(!this.value||l)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(u,c=>n.push(a(c))),o&&s&&(t.visit(u,c=>{var f=o(c),d=s(c);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:Pj,geometry:{type:zzt,coordinates:r}})),this.value={type:HY,features:n}}});function WY(e){Pe.call(this,null,e)}WY.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};dt(WY,Pe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||qs,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=oRe(e.projection),n.materialize().reflow()):s=i===qs||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Vzt(r,e.pointRadius);return n.visit(s,u=>u[o]=r(i(u))),r.pointRadius(a),n.modifies(o)}});function Vzt(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function GY(e){Pe.call(this,null,e)}GY.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};dt(GY,Pe,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],u;function l(c){const f=n([r(c),i(c)]);f?(c[s]=f[0],c[a]=f[1]):(c[s]=void 0,c[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,l)),t.modifies(o)}});function YY(e){Pe.call(this,null,e)}YY.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};dt(YY,Pe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=Hzt(oRe(e.projection),e.field||Dl("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function Hzt(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function KY(e){Pe.call(this,[],e),this.generator=FUt()}KY.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};dt(KY,Pe,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)wn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(vCe(n[0],i)):t.add.push(yr(i)),n[0]=i,t}});function XY(e){Pe.call(this,null,e)}XY.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};dt(XY,Pe,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||qs,o=Wzt(e.opacity,e),s=qzt(e.color,e),a=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?R0(n.map(l=>R0(i(l).values))):0};return n.forEach(l=>{const c=i(l),f=_n({},l,u);r||(f.$max=R0(c.values||[])),l[a]=Gzt(c,f,s.dep?s:Ws(s(f)),o.dep?o:Ws(o(f)))}),t.reflow(!0).modifies(a)}});function qzt(e,t){let n;return wn(e)?(n=r=>$m(e(r,t)),n.dep=fRe(e)):n=Ws($m(e||"#888")),n}function Wzt(e,t){let n;return wn(e)?(n=r=>e(r,t),n.dep=fRe(e)):e?n=Ws(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function fRe(e){if(!wn(e))return!1;const t=Fc(Fs(e));return t.$x||t.$y||t.$value||t.$max}function Gzt(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,u=e.x2||i,l=e.y2||o,c=e.values,f=c?g=>c[g]:$p,d=gm(u-s,l-a),h=d.getContext("2d"),p=h.getImageData(0,0,u-s,l-a),m=p.data;for(let g=a,y=0;g<l;++g){t.$y=g-a;for(let v=s,b=g*i;v<u;++v,y+=4){t.$x=v-s,t.$value=f(v+b);const _=n(t);m[y+0]=_.r,m[y+1]=_.g,m[y+2]=_.b,m[y+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function dRe(e){Pe.call(this,null,e),this.modified(!0)}dt(dRe,Pe,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Kzt(e.type),Rj.forEach(r=>{e[r]!=null&&lle(n,r,e[r])})):Rj.forEach(r=>{e.modified(r)&&lle(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Yzt(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Yzt(e,t){const n=Xzt(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Kzt(e){const t=BY((e||"mercator").toLowerCase());return t||Me("Unrecognized projection type: "+e),t()}function lle(e,t,n){wn(e[t])&&e[t](n)}function Xzt(e){return e=bt(e),e.length===1?e[0]:{type:HY,features:e.reduce((t,n)=>t.concat(Qzt(n)),[])}}function Qzt(e){return e.type===HY?e.features:bt(e).filter(t=>t!=null).map(t=>t.type===Pj?t:{type:Pj,geometry:t})}const Jzt=Object.freeze(Object.defineProperty({__proto__:null,contour:VY,geojson:qY,geopath:WY,geopoint:GY,geoshape:YY,graticule:KY,heatmap:XY,isocontour:UY,kde2d:zY,projection:dRe},Symbol.toStringTag,{value:"Module"}));function Zzt(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,u=0,l=0;for(o=0;o<s;++o)a=n[o],u+=a.x,l+=a.y;for(u=(u/s-e)*r,l=(l/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=u,a.y-=l}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function eVt(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return hRe(this.cover(t,n),t,n,e)}function hRe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,u=e._y0,l=e._x1,c=e._y1,f,d,h,p,m,g,y,v;if(!o)return e._root=s,e;for(;o.length;)if((m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d,i=o,!(o=o[y=g<<1|m]))return i[y]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(m=t>=(f=(a+l)/2))?a=f:l=f,(g=n>=(d=(u+c)/2))?u=d:c=d;while((y=g<<1|m)===(v=(p>=d)<<1|h>=f));return i[v]=o,i[y]=s,e}function tVt(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<u&&(u=i),i>c&&(c=i),o<l&&(l=o),o>f&&(f=o));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<r;++n)hRe(this,s[n],a[n],e[n]);return this}function nVt(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,u,l;n>e||e>=i||r>t||t>=o;)switch(l=(t<r)<<1|e<n,u=new Array(4),u[l]=a,a=u,s*=2,l){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function rVt(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function iVt(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ca(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function oVt(e,t,n){var r,i=this._x0,o=this._y0,s,a,u,l,c=this._x1,f=this._y1,d=[],h=this._root,p,m;for(h&&d.push(new ca(h,i,o,c,f)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>c||(a=p.y0)>f||(u=p.x1)<i||(l=p.y1)<o))if(h.length){var g=(s+u)/2,y=(a+l)/2;d.push(new ca(h[3],g,y,u,l),new ca(h[2],s,y,g,l),new ca(h[1],g,a,u,y),new ca(h[0],s,a,g,y)),(m=(t>=y)<<1|e>=g)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-m],d[d.length-1-m]=p)}else{var v=e-+this._x.call(null,h.data),b=t-+this._y.call(null,h.data),_=v*v+b*b;if(_<n){var w=Math.sqrt(n=_);i=e-w,o=t-w,c=e+w,f=t+w,r=h.data}}return r}function sVt(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,u=this._x1,l=this._y1,c,f,d,h,p,m,g,y;if(!n)return this;if(n.length)for(;;){if((p=c>=(d=(s+u)/2))?s=d:u=d,(m=f>=(h=(a+l)/2))?a=h:l=h,t=n,!(n=n[g=m<<1|p]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,y=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[y]=n:this._root=n),this):(this._root=o,this)}function aVt(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function uVt(){return this._root}function lVt(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function cVt(e){var t=[],n,r=this._root,i,o,s,a,u;for(r&&t.push(new ca(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,u=n.y1)&&r.length){var l=(o+a)/2,c=(s+u)/2;(i=r[3])&&t.push(new ca(i,l,c,a,u)),(i=r[2])&&t.push(new ca(i,o,c,l,u)),(i=r[1])&&t.push(new ca(i,l,s,a,c)),(i=r[0])&&t.push(new ca(i,o,s,l,c))}return this}function fVt(e){var t=[],n=[],r;for(this._root&&t.push(new ca(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,u=r.x1,l=r.y1,c=(s+u)/2,f=(a+l)/2;(o=i[0])&&t.push(new ca(o,s,a,c,f)),(o=i[1])&&t.push(new ca(o,c,a,u,f)),(o=i[2])&&t.push(new ca(o,s,f,c,l)),(o=i[3])&&t.push(new ca(o,c,f,u,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function dVt(e){return e[0]}function hVt(e){return arguments.length?(this._x=e,this):this._x}function pVt(e){return e[1]}function mVt(e){return arguments.length?(this._y=e,this):this._y}function QY(e,t,n){var r=new JY(t??dVt,n??pVt,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function JY(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function cle(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ca=QY.prototype=JY.prototype;Ca.copy=function(){var e=new JY(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=cle(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=cle(r));return e};Ca.add=eVt;Ca.addAll=tVt;Ca.cover=nVt;Ca.data=rVt;Ca.extent=iVt;Ca.find=oVt;Ca.remove=sVt;Ca.removeAll=aVt;Ca.root=uVt;Ca.size=lVt;Ca.visit=cVt;Ca.visitAfter=fVt;Ca.x=hVt;Ca.y=mVt;function da(e){return function(){return e}}function Gp(e){return(e()-.5)*1e-6}function gVt(e){return e.x+e.vx}function yVt(e){return e.y+e.vy}function vVt(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=da(e==null?1:+e));function s(){for(var l,c=t.length,f,d,h,p,m,g,y=0;y<o;++y)for(f=QY(t,gVt,yVt).visitAfter(a),l=0;l<c;++l)d=t[l],m=n[d.index],g=m*m,h=d.x+d.vx,p=d.y+d.vy,f.visit(v);function v(b,_,w,S,E){var C=b.data,A=b.r,k=m+A;if(C){if(C.index>d.index){var P=h-C.x-C.vx,$=p-C.y-C.vy,N=P*P+$*$;N<k*k&&(P===0&&(P=Gp(r),N+=P*P),$===0&&($=Gp(r),N+=$*$),N=(k-(N=Math.sqrt(N)))/N*i,d.vx+=(P*=N)*(k=(A*=A)/(g+A)),d.vy+=($*=N)*k,C.vx-=P*(k=1-k),C.vy-=$*k)}return}return _>h+k||S<h-k||w>p+k||E<p-k}}function a(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function u(){if(t){var l,c=t.length,f;for(n=new Array(c),l=0;l<c;++l)f=t[l],n[f.index]=+e(f,l,t)}}return s.initialize=function(l,c){t=l,r=c,u()},s.iterations=function(l){return arguments.length?(o=+l,s):o},s.strength=function(l){return arguments.length?(i=+l,s):i},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:da(+l),u(),s):e},s}function bVt(e){return e.index}function fle(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function _Vt(e){var t=bVt,n=f,r,i=da(30),o,s,a,u,l,c=1;e==null&&(e=[]);function f(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function d(g){for(var y=0,v=e.length;y<c;++y)for(var b=0,_,w,S,E,C,A,k;b<v;++b)_=e[b],w=_.source,S=_.target,E=S.x+S.vx-w.x-w.vx||Gp(l),C=S.y+S.vy-w.y-w.vy||Gp(l),A=Math.sqrt(E*E+C*C),A=(A-o[b])/A*g*r[b],E*=A,C*=A,S.vx-=E*(k=u[b]),S.vy-=C*k,w.vx+=E*(k=1-k),w.vy+=C*k}function h(){if(s){var g,y=s.length,v=e.length,b=new Map(s.map((w,S)=>[t(w,S,s),w])),_;for(g=0,a=new Array(y);g<v;++g)_=e[g],_.index=g,typeof _.source!="object"&&(_.source=fle(b,_.source)),typeof _.target!="object"&&(_.target=fle(b,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(g=0,u=new Array(v);g<v;++g)_=e[g],u[g]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);r=new Array(v),p(),o=new Array(v),m()}}function p(){if(s)for(var g=0,y=e.length;g<y;++g)r[g]=+n(e[g],g,e)}function m(){if(s)for(var g=0,y=e.length;g<y;++g)o[g]=+i(e[g],g,e)}return d.initialize=function(g,y){s=g,l=y,h()},d.links=function(g){return arguments.length?(e=g,h(),d):e},d.id=function(g){return arguments.length?(t=g,d):t},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:da(+g),p(),d):n},d.distance=function(g){return arguments.length?(i=typeof g=="function"?g:da(+g),m(),d):i},d}var wVt={value:()=>{}};function pRe(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new $k(n)}function $k(e){this._=e}function EVt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}$k.prototype=pRe.prototype={constructor:$k,on:function(e,t){var n=this._,r=EVt(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=xVt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=dle(n[i],e.name,t);else if(t==null)for(i in n)n[i]=dle(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new $k(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function xVt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function dle(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=wVt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var n_=0,ax=0,_E=0,mRe=1e3,AN,ux,IN=0,py=0,wM=0,AS=typeof performance=="object"&&performance.now?performance:Date,gRe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ZY(){return py||(gRe(TVt),py=AS.now()+wM)}function TVt(){py=0}function kN(){this._call=this._time=this._next=null}kN.prototype=yRe.prototype={constructor:kN,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ZY():+n)+(t==null?0:+t),!this._next&&ux!==this&&(ux?ux._next=this:AN=this,ux=this),this._call=e,this._time=n,Nj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nj())}};function yRe(e,t,n){var r=new kN;return r.restart(e,t,n),r}function SVt(){ZY(),++n_;for(var e=AN,t;e;)(t=py-e._time)>=0&&e._call.call(void 0,t),e=e._next;--n_}function hle(){py=(IN=AS.now())+wM,n_=ax=0;try{SVt()}finally{n_=0,AVt(),py=0}}function CVt(){var e=AS.now(),t=e-IN;t>mRe&&(wM-=t,IN=e)}function AVt(){for(var e,t=AN,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:AN=n);ux=e,Nj(r)}function Nj(e){if(!n_){ax&&(ax=clearTimeout(ax));var t=e-py;t>24?(e<1/0&&(ax=setTimeout(hle,e-AS.now()-wM)),_E&&(_E=clearInterval(_E))):(_E||(IN=AS.now(),_E=setInterval(CVt,mRe)),n_=1,gRe(hle))}}function IVt(e,t,n){var r=new kN,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?ZY():+a,r._restart(function u(l){l+=i,r._restart(u,i+=s,a),o(l)},s,a)},r.restart(e,t,n),r)}const kVt=1664525,RVt=1013904223,ple=4294967296;function PVt(){let e=1;return()=>(e=(kVt*e+RVt)%ple)/ple}function NVt(e){return e.x}function DVt(e){return e.y}var $Vt=10,OVt=Math.PI*(3-Math.sqrt(5));function MVt(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,u=yRe(f),l=pRe("tick","end"),c=PVt();e==null&&(e=[]);function f(){d(),l.call("tick",t),n<r&&(u.stop(),l.call("end",t))}function d(m){var g,y=e.length,v;m===void 0&&(m=1);for(var b=0;b<m;++b)for(n+=(o-n)*i,a.forEach(function(_){_(n)}),g=0;g<y;++g)v=e[g],v.fx==null?v.x+=v.vx*=s:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=s:(v.y=v.fy,v.vy=0);return t}function h(){for(var m=0,g=e.length,y;m<g;++m){if(y=e[m],y.index=m,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var v=$Vt*Math.sqrt(.5+m),b=m*OVt;y.x=v*Math.cos(b),y.y=v*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function p(m){return m.initialize&&m.initialize(e,c),m}return h(),t={tick:d,restart:function(){return u.restart(f),t},stop:function(){return u.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.forEach(p),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},randomSource:function(m){return arguments.length?(c=m,a.forEach(p),t):c},force:function(m,g){return arguments.length>1?(g==null?a.delete(m):a.set(m,p(g)),t):a.get(m)},find:function(m,g,y){var v=0,b=e.length,_,w,S,E,C;for(y==null?y=1/0:y*=y,v=0;v<b;++v)E=e[v],_=m-E.x,w=g-E.y,S=_*_+w*w,S<y&&(C=E,y=S);return C},on:function(m,g){return arguments.length>1?(l.on(m,g),t):l.on(m)}}}function LVt(){var e,t,n,r,i=da(-30),o,s=1,a=1/0,u=.81;function l(h){var p,m=e.length,g=QY(e,NVt,DVt).visitAfter(f);for(r=h,p=0;p<m;++p)t=e[p],g.visit(d)}function c(){if(e){var h,p=e.length,m;for(o=new Array(p),h=0;h<p;++h)m=e[h],o[m.index]=+i(m,h,e)}}function f(h){var p=0,m,g,y=0,v,b,_;if(h.length){for(v=b=_=0;_<4;++_)(m=h[_])&&(g=Math.abs(m.value))&&(p+=m.value,y+=g,v+=g*m.x,b+=g*m.y);h.x=v/y,h.y=b/y}else{m=h,m.x=m.data.x,m.y=m.data.y;do p+=o[m.data.index];while(m=m.next)}h.value=p}function d(h,p,m,g){if(!h.value)return!0;var y=h.x-t.x,v=h.y-t.y,b=g-p,_=y*y+v*v;if(b*b/u<_)return _<a&&(y===0&&(y=Gp(n),_+=y*y),v===0&&(v=Gp(n),_+=v*v),_<s&&(_=Math.sqrt(s*_)),t.vx+=y*h.value*r/_,t.vy+=v*h.value*r/_),!0;if(h.length||_>=a)return;(h.data!==t||h.next)&&(y===0&&(y=Gp(n),_+=y*y),v===0&&(v=Gp(n),_+=v*v),_<s&&(_=Math.sqrt(s*_)));do h.data!==t&&(b=o[h.data.index]*r/_,t.vx+=y*b,t.vy+=v*b);while(h=h.next)}return l.initialize=function(h,p){e=h,n=p,c()},l.strength=function(h){return arguments.length?(i=typeof h=="function"?h:da(+h),c(),l):i},l.distanceMin=function(h){return arguments.length?(s=h*h,l):Math.sqrt(s)},l.distanceMax=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l.theta=function(h){return arguments.length?(u=h*h,l):Math.sqrt(u)},l}function FVt(e){var t=da(.1),n,r,i;typeof e!="function"&&(e=da(e==null?0:+e));function o(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vx+=(i[u]-c.x)*r[u]*a}function s(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:da(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:da(+a),s(),o):e},o}function jVt(e){var t=da(.1),n,r,i;typeof e!="function"&&(e=da(e==null?0:+e));function o(a){for(var u=0,l=n.length,c;u<l;++u)c=n[u],c.vy+=(i[u]-c.y)*r[u]*a}function s(){if(n){var a,u=n.length;for(r=new Array(u),i=new Array(u),a=0;a<u;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:da(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:da(+a),s(),o):e},o}const mle={center:Zzt,collide:vVt,nbody:LVt,link:_Vt,x:FVt,y:jVt},lx="forces",Dj=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],BVt=["static","iterations"],vRe=["x","y","vx","vy"];function eK(e){Pe.call(this,null,e)}eK.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:vRe}]};dt(eK,Pe,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(Dj),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&bRe(n,e,0,t)):(this.value=n=zVt(t.source,e),n.on("tick",UVt(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(BVt)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,u=0,l=a.length,c;u<l;++u)if(c=a[u],!(c.name!==lx||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(vRe)}});function UVt(e,t){return()=>e.touch(t).run()}function zVt(e,t){const n=MVt(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),bRe(n,t,!0).on("end",()=>o=!0)}function bRe(e,t,n,r){var i=bt(t.forces),o,s,a,u;for(o=0,s=Dj.length;o<s;++o)a=Dj[o],a!==lx&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)u=lx+o,a=n||t.modified(lx,o)?HVt(i[o]):r&&VVt(i[o],r)?e.force(u):null,a&&e.force(u,a);for(s=e.numForces||0;o<s;++o)e.force(lx+o,null);return e.numForces=i.length,e}function VVt(e,t){var n,r;for(n in e)if(wn(r=e[n])&&t.modified(Fs(r)))return 1;return 0}function HVt(e){var t,n;qt(mle,e.force)||Me("Unrecognized force: "+e.force),t=mle[e.force]();for(n in e)wn(t[n])&&qVt(t[n],e[n],e);return t}function qVt(e,t,n){e(wn(t)?r=>t(r,n):t)}const WVt=Object.freeze(Object.defineProperty({__proto__:null,force:eK},Symbol.toStringTag,{value:"Module"}));function GVt(e,t){return e.parent===t.parent?1:2}function YVt(e){return e.reduce(KVt,0)/e.length}function KVt(e,t){return e+t.x}function XVt(e){return 1+e.reduce(QVt,0)}function QVt(e,t){return Math.max(e,t.y)}function JVt(e){for(var t;t=e.children;)e=t[0];return e}function ZVt(e){for(var t;t=e.children;)e=t[t.length-1];return e}function eHt(){var e=GVt,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=YVt(h),d.y=XVt(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var u=JVt(o),l=ZVt(o),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-c)/(f-c)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function tHt(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function nHt(){return this.eachAfter(tHt)}function rHt(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function iHt(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function oHt(e,t){for(var n=this,r=[n],i=[],o,s,a,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function sHt(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function aHt(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function uHt(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function lHt(e){for(var t=this,n=cHt(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function cHt(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function fHt(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function dHt(){return Array.from(this)}function hHt(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function pHt(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*mHt(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function tK(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=vHt)):t===void 0&&(t=yHt);for(var n=new r_(e),r,i=[n],o,s,a,u;r=i.pop();)if((s=t(r.data))&&(u=(s=Array.from(s)).length))for(r.children=s,a=u-1;a>=0;--a)i.push(o=s[a]=new r_(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(_Re)}function gHt(){return tK(this).eachBefore(bHt)}function yHt(e){return e.children}function vHt(e){return Array.isArray(e)?e[1]:null}function bHt(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function _Re(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function r_(e){this.data=e,this.depth=this.height=0,this.parent=null}r_.prototype=tK.prototype={constructor:r_,count:nHt,each:rHt,eachAfter:oHt,eachBefore:iHt,find:sHt,sum:aHt,sort:uHt,path:lHt,ancestors:fHt,descendants:dHt,leaves:hHt,links:pHt,copy:gHt,[Symbol.iterator]:mHt};function Ok(e){return e==null?null:wRe(e)}function wRe(e){if(typeof e!="function")throw new Error;return e}function s0(){return 0}function l1(e){return function(){return e}}const _Ht=1664525,wHt=1013904223,gle=4294967296;function EHt(){let e=1;return()=>(e=(_Ht*e+wHt)%gle)/gle}function xHt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function THt(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function SHt(e,t){for(var n=0,r=(e=THt(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&ERe(s,o)?++n:(s=AHt(i=CHt(i,o)),n=0);return s}function CHt(e,t){var n,r;if(T4(t,e))return[t];for(n=0;n<e.length;++n)if(pI(t,e[n])&&T4(cx(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(pI(cx(e[n],e[r]),t)&&pI(cx(e[n],t),e[r])&&pI(cx(e[r],t),e[n])&&T4(xRe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function pI(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function ERe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function T4(e,t){for(var n=0;n<t.length;++n)if(!ERe(e,t[n]))return!1;return!0}function AHt(e){switch(e.length){case 1:return IHt(e[0]);case 2:return cx(e[0],e[1]);case 3:return xRe(e[0],e[1],e[2])}}function IHt(e){return{x:e.x,y:e.y,r:e.r}}function cx(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,u=o-n,l=s-r,c=a-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+s+l/f*c)/2,r:(f+i+a)/2}}function xRe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-s,h=r-l,p=i-a,m=i-c,g=u-o,y=f-o,v=r*r+i*i-o*o,b=v-s*s-a*a+u*u,_=v-l*l-c*c+f*f,w=h*p-d*m,S=(p*_-m*b)/(w*2)-r,E=(m*g-p*y)/w,C=(h*b-d*_)/(w*2)-i,A=(d*y-h*g)/w,k=E*E+A*A-1,P=2*(o+S*E+C*A),$=S*S+C*C-o*o,N=-(Math.abs(k)>1e-6?(P+Math.sqrt(P*P-4*k*$))/(2*k):$/P);return{x:r+S+E*N,y:i+C+A*N,r:N}}function yle(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,u,l=r*r+s*s;l?(o=t.r+n.r,o*=o,u=e.r+n.r,u*=u,o>u?(i=(l+u-o)/(2*l),a=Math.sqrt(Math.max(0,u/l-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(l+o-u)/(2*l),a=Math.sqrt(Math.max(0,o/l-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function vle(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ble(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function mI(e){this._=e,this.next=null,this.previous=null}function kHt(e,t){if(!(o=(e=xHt(e)).length))return 0;var n,r,i,o,s,a,u,l,c,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;yle(r,n,i=e[2]),n=new mI(n),r=new mI(r),i=new mI(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<o;++u){yle(n._,r._,i=e[u]),i=new mI(i),l=r.next,c=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(vle(l._,i._)){r=l,n.next=r,r.previous=n,--u;continue e}f+=l._.r,l=l.next}else{if(vle(c._,i._)){n=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=ble(n);(i=i.next)!==r;)(a=ble(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=SHt(n,t),u=0;u<o;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function RHt(e){return Math.sqrt(e.value)}function PHt(){var e=null,t=1,n=1,r=s0;function i(o){const s=EHt();return o.x=t/2,o.y=n/2,e?o.eachBefore(_le(e)).eachAfter(S4(r,.5,s)).eachBefore(wle(1)):o.eachBefore(_le(RHt)).eachAfter(S4(s0,1,s)).eachAfter(S4(r,o.r/Math.min(t,n),s)).eachBefore(wle(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=Ok(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:l1(+o),i):r},i}function _le(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function S4(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,u;if(a)for(o=0;o<s;++o)i[o].r+=a;if(u=kHt(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=u+a}}}function wle(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function TRe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function g2(e,t,n,r,i){for(var o=e.children,s,a=-1,u=o.length,l=e.value&&(r-t)/e.value;++a<u;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*l}function NHt(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(TRe),s}function o(s,a){return function(u){u.children&&g2(u,u.x0,s*(u.depth+1)/a,u.x1,s*(u.depth+2)/a);var l=u.x0,c=u.y0,f=u.x1-n,d=u.y1-n;f<l&&(l=f=(l+f)/2),d<c&&(c=d=(c+d)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var DHt={depth:-1},Ele={},C4={};function $Ht(e){return e.id}function OHt(e){return e.parentId}function xle(){var e=$Ht,t=OHt,n;function r(i){var o=Array.from(i),s=e,a=t,u,l,c,f,d,h,p,m,g=new Map;if(n!=null){const y=o.map((_,w)=>MHt(n(_,w,i))),v=y.map(Tle),b=new Set(y).add("");for(const _ of v)b.has(_)||(b.add(_),y.push(_),v.push(Tle(_)),o.push(C4));s=(_,w)=>y[w],a=(_,w)=>v[w]}for(c=0,u=o.length;c<u;++c)l=o[c],h=o[c]=new r_(l),(p=s(l,c,i))!=null&&(p+="")&&(m=h.id=p,g.set(m,g.has(m)?Ele:h)),(p=a(l,c,i))!=null&&(p+="")&&(h.parent=p);for(c=0;c<u;++c)if(h=o[c],p=h.parent){if(d=g.get(p),!d)throw new Error("missing: "+p);if(d===Ele)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===C4&&f.children.length===1;)f=f.children[0],--u;for(let y=o.length-1;y>=0&&(h=o[y],h.data===C4);--y)h.data=null}if(f.parent=DHt,f.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(_Re),f.parent=null,u>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=Ok(i),r):e},r.parentId=function(i){return arguments.length?(t=Ok(i),r):t},r.path=function(i){return arguments.length?(n=Ok(i),r):n},r}function MHt(e){e=`${e}`;let t=e.length;return $j(e,t-1)&&!$j(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Tle(e){let t=e.length;if(t<2)return"";for(;--t>1&&!$j(e,t););return e.slice(0,t)}function $j(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function LHt(e,t){return e.parent===t.parent?1:2}function A4(e){var t=e.children;return t?t[0]:e.t}function I4(e){var t=e.children;return t?t[t.length-1]:e.t}function FHt(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function jHt(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function BHt(e,t,n){return e.a.parent===t.parent?e.a:n}function Mk(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Mk.prototype=Object.create(r_.prototype);function UHt(e){for(var t=new Mk(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new Mk(o[s],s)),i.parent=n;return(t.parent=new Mk(null,0)).children=[t],t}function zHt(){var e=LHt,t=1,n=1,r=null;function i(l){var c=UHt(l);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(s),r)l.eachBefore(u);else{var f=l,d=l,h=l;l.eachBefore(function(v){v.x<f.x&&(f=v),v.x>d.x&&(d=v),v.depth>h.depth&&(h=v)});var p=f===d?1:e(f,d)/2,m=p-f.x,g=t/(d.x+p+m),y=n/(h.depth||1);l.eachBefore(function(v){v.x=(v.x+m)*g,v.y=v.depth*y})}return l}function o(l){var c=l.children,f=l.parent.children,d=l.i?f[l.i-1]:null;if(c){jHt(l);var h=(c[0].z+c[c.length-1].z)/2;d?(l.z=d.z+e(l._,d._),l.m=l.z-h):l.z=h}else d&&(l.z=d.z+e(l._,d._));l.parent.A=a(l,d,l.parent.A||f[0])}function s(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function a(l,c,f){if(c){for(var d=l,h=l,p=c,m=d.parent.children[0],g=d.m,y=h.m,v=p.m,b=m.m,_;p=I4(p),d=A4(d),p&&d;)m=A4(m),h=I4(h),h.a=l,_=p.z+v-d.z-g+e(p._,d._),_>0&&(FHt(BHt(p,l,f),l,_),g+=_,y+=_),v+=p.m,g+=d.m,b+=m.m,y+=h.m;p&&!I4(h)&&(h.t=p,h.m+=v-y),d&&!A4(m)&&(m.t=d,m.m+=g-b,f=l)}return f}function u(l){l.x*=t,l.y=l.depth*n}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(r=!1,t=+l[0],n=+l[1],i):r?null:[t,n]},i.nodeSize=function(l){return arguments.length?(r=!0,t=+l[0],n=+l[1],i):r?[t,n]:null},i}function EM(e,t,n,r,i){for(var o=e.children,s,a=-1,u=o.length,l=e.value&&(i-n)/e.value;++a<u;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*l}var SRe=(1+Math.sqrt(5))/2;function CRe(e,t,n,r,i,o){for(var s=[],a=t.children,u,l,c=0,f=0,d=a.length,h,p,m=t.value,g,y,v,b,_,w,S;c<d;){h=i-n,p=o-r;do g=a[f++].value;while(!g&&f<d);for(y=v=g,w=Math.max(p/h,h/p)/(m*e),S=g*g*w,_=Math.max(v/S,S/y);f<d;++f){if(g+=l=a[f].value,l<y&&(y=l),l>v&&(v=l),S=g*g*w,b=Math.max(v/S,S/y),b>_){g-=l;break}_=b}s.push(u={value:g,dice:h<p,children:a.slice(c,f)}),u.dice?g2(u,n,r,i,m?r+=p*g/m:o):EM(u,n,r,m?n+=h*g/m:i,o),m-=g,c=f}return s}const ARe=function e(t){function n(r,i,o,s,a){CRe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(SRe);function VHt(){var e=ARe,t=!1,n=1,r=1,i=[0],o=s0,s=s0,a=s0,u=s0,l=s0;function c(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(TRe),d}function f(d){var h=i[d.depth],p=d.x0+h,m=d.y0+h,g=d.x1-h,y=d.y1-h;g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),d.x0=p,d.y0=m,d.x1=g,d.y1=y,d.children&&(h=i[d.depth+1]=o(d)/2,p+=l(d)-h,m+=s(d)-h,g-=a(d)-h,y-=u(d)-h,g<p&&(p=g=(p+g)/2),y<m&&(m=y=(m+y)/2),e(d,p,m,g,y))}return c.round=function(d){return arguments.length?(t=!!d,c):t},c.size=function(d){return arguments.length?(n=+d[0],r=+d[1],c):[n,r]},c.tile=function(d){return arguments.length?(e=wRe(d),c):e},c.padding=function(d){return arguments.length?c.paddingInner(d).paddingOuter(d):c.paddingInner()},c.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:l1(+d),c):o},c.paddingOuter=function(d){return arguments.length?c.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):c.paddingTop()},c.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:l1(+d),c):s},c.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:l1(+d),c):a},c.paddingBottom=function(d){return arguments.length?(u=typeof d=="function"?d:l1(+d),c):u},c.paddingLeft=function(d){return arguments.length?(l=typeof d=="function"?d:l1(+d),c):l},c}function HHt(e,t,n,r,i){var o=e.children,s,a=o.length,u,l=new Array(a+1);for(l[0]=u=s=0;s<a;++s)l[s+1]=u+=o[s].value;c(0,a,e.value,t,n,r,i);function c(f,d,h,p,m,g,y){if(f>=d-1){var v=o[f];v.x0=p,v.y0=m,v.x1=g,v.y1=y;return}for(var b=l[f],_=h/2+b,w=f+1,S=d-1;w<S;){var E=w+S>>>1;l[E]<_?w=E+1:S=E}_-l[w-1]<l[w]-_&&f+1<w&&--w;var C=l[w]-b,A=h-C;if(g-p>y-m){var k=h?(p*A+g*C)/h:g;c(f,w,C,p,m,k,y),c(w,d,A,k,m,g,y)}else{var P=h?(m*A+y*C)/h:y;c(f,w,C,p,m,g,P),c(w,d,A,p,P,g,y)}}}function qHt(e,t,n,r,i){(e.depth&1?EM:g2)(e,t,n,r,i)}const WHt=function e(t){function n(r,i,o,s,a){if((u=r._squarify)&&u.ratio===t)for(var u,l,c,f,d=-1,h,p=u.length,m=r.value;++d<p;){for(l=u[d],c=l.children,f=l.value=0,h=c.length;f<h;++f)l.value+=c[f].value;l.dice?g2(l,i,o,s,m?o+=(a-o)*l.value/m:a):EM(l,i,o,m?i+=(s-i)*l.value/m:s,a),m-=l.value}else r._squarify=u=CRe(t,r,i,o,s,a),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(SRe);function Oj(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function nK(e){Pe.call(this,null,e)}nK.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const GHt=e=>e.values;dt(nK,Pe,{transform(e,t){t.source||Me("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&MO(s.data)&&i.rem.push(s.data)}),this.value=o=tK({values:bt(e.keys).reduce((s,a)=>(s.key(a),s),YHt()).entries(i.source)},GHt),n&&o.each(s=>{s.children&&(s=yr(s.data),i.add.push(s),i.source.push(s))}),Oj(o,Vt,Vt)),i.source.root=o,i}});function YHt(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],u={},l={};let c=-1,f,d,h;for(;++c<s;)f=a(d=i[c])+"",(h=u[f])?h.push(d):u[f]=[d];for(f in u)l[f]=n(u[f],o);return l}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Qh(e){Pe.call(this,null,e)}const KHt=(e,t)=>e.parent===t.parent?1:2;dt(Qh,Pe,{transform(e,t){(!t.source||!t.source.root)&&Me(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(iv(e.sort,s=>s.data)),XHt(n,this.params,e),n.separation&&n.separation(e.separation!==!1?KHt:aw);try{this.value=n(i)}catch(s){Me(s)}return i.each(s=>QHt(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function XHt(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function QHt(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const Mj=["x","y","r","depth","children"];function rK(e){Qh.call(this,e)}rK.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Mj.length,default:Mj}]};dt(rK,Qh,{layout:PHt,params:["radius","size","padding"],fields:Mj});const Lj=["x0","y0","x1","y1","depth","children"];function iK(e){Qh.call(this,e)}iK.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Lj.length,default:Lj}]};dt(iK,Qh,{layout:NHt,params:["size","round","padding"],fields:Lj});function oK(e){Pe.call(this,null,e)}oK.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};dt(oK,Pe,{transform(e,t){t.source||Me("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?Oj(xle().id(e.key).parentId(e.parentKey)(i.source),e.key,$l):Oj(xle()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Sle={tidy:zHt,cluster:eHt},Fj=["x","y","depth","children"];function sK(e){Qh.call(this,e)}sK.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:Fj.length,default:Fj}]};dt(sK,Qh,{layout(e){const t=e||"tidy";if(qt(Sle,t))return Sle[t]();Me("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:Fj});function aK(e){Pe.call(this,[],e)}aK.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};dt(aK,Pe,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||Me("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[Vt(s)]=1),r.each(s=>{const a=s.data,u=s.parent&&s.parent.data;u&&o[Vt(a)]&&o[Vt(u)]&&i.add.push(yr({source:u,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[Vt(s)]=1),n.forEach(s=>{(o[Vt(s.source)]||o[Vt(s.target)])&&i.mod.push(s)})),i}});const Cle={binary:HHt,dice:g2,slice:EM,slicedice:qHt,squarify:ARe,resquarify:WHt},jj=["x0","y0","x1","y1","depth","children"];function uK(e){Qh.call(this,e)}uK.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:jj.length,default:jj}]};dt(uK,Qh,{layout(){const e=VHt();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{qt(Cle,t)?e.tile(Cle[t]):Me("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:jj});const JHt=Object.freeze(Object.defineProperty({__proto__:null,nest:nK,pack:rK,partition:iK,stratify:oK,tree:sK,treelinks:aK,treemap:uK},Symbol.toStringTag,{value:"Module"})),k4=4278190080;function ZHt(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function eqt(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,u=gm(o,s).getContext("2d"),l=gm(o,s).getContext("2d"),c=a&&gm(o,s).getContext("2d");n.forEach(C=>Lk(u,C,!1)),Lk(l,t,!1),a&&Lk(c,t,!0);const f=R4(u,o,s),d=R4(l,o,s),h=a&&R4(c,o,s),p=e.bitmap(),m=a&&e.bitmap();let g,y,v,b,_,w,S,E;for(y=0;y<s;++y)for(g=0;g<o;++g)_=y*o+g,w=f[_]&k4,E=d[_]&k4,S=a&&h[_]&k4,(w||S||E)&&(v=e(g),b=e(y),!i&&(w||E)&&p.set(v,b),a&&(w||S)&&m.set(v,b));return[p,m]}function R4(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function Lk(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>Lk(e,o.items,n))}):Yu[r].draw(e,{items:n?t.map(tqt):t})}function tqt(e){const t=LO(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const Pd=5,Js=31,IS=32,xp=new Uint32Array(IS+1),gc=new Uint32Array(IS+1);gc[0]=0;xp[0]=~gc[0];for(let e=1;e<=IS;++e)gc[e]=gc[e-1]<<1|1,xp[e]=~gc[e];function nqt(e,t){const n=new Uint32Array(~~((e*t+IS)/IS));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>Pd]&1<<(a&Js)},set:(o,s)=>{const a=s*e+o;r(a>>>Pd,1<<(a&Js))},clear:(o,s)=>{const a=s*e+o;i(a>>>Pd,~(1<<(a&Js)))},getRange:(o,s,a,u)=>{let l=u,c,f,d,h;for(;l>=s;--l)if(c=l*e+o,f=l*e+a,d=c>>>Pd,h=f>>>Pd,d===h){if(n[d]&xp[c&Js]&gc[(f&Js)+1])return!0}else{if(n[d]&xp[c&Js]||n[h]&gc[(f&Js)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,u)=>{let l,c,f,d,h;for(;s<=u;++s)if(l=s*e+o,c=s*e+a,f=l>>>Pd,d=c>>>Pd,f===d)r(f,xp[l&Js]&gc[(c&Js)+1]);else for(r(f,xp[l&Js]),r(d,gc[(c&Js)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,u)=>{let l,c,f,d,h;for(;s<=u;++s)if(l=s*e+o,c=s*e+a,f=l>>>Pd,d=c>>>Pd,f===d)i(f,gc[l&Js]|xp[(c&Js)+1]);else for(i(f,gc[l&Js]),i(d,xp[(c&Js)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,u)=>o<0||s<0||u>=t||a>=e}}function rqt(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>nqt(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function iqt(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,u=a.length,l=s.datum.fontSize,c=Lu.width(s.datum,s.datum.text);let f=0,d,h,p,m,g,y,v;for(let b=0;b<u;++b)d=a[b].x,p=a[b].y,h=a[b].x2===void 0?d:a[b].x2,m=a[b].y2===void 0?p:a[b].y2,g=(d+h)/2,y=(p+m)/2,v=Math.abs(h-d+m-p),v>=f&&(f=v,s.x=g,s.y=y);return g=c/2,y=l/2,d=s.x-g,h=s.x+g,p=s.y-y,m=s.y+y,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&m<=o?s.baseline="top":0<=p&&o<m&&(s.baseline="bottom"),!0}}function RN(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function Yp(e,t,n,r,i,o,s,a){const u=i*o/(r*2),l=e(t-u),c=e(t+u),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(l,f,c,d)||s.getRange(l,f,c,d)||a&&a.getRange(l,f,c,d)}function oqt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function u(l,c,f,d,h){const p=e.invert(l),m=e.invert(c);let g=f,y=o,v;if(!RN(p,m,d,h,i,o)&&!Yp(e,p,m,h,d,g,s,a)&&!Yp(e,p,m,h,d,h,s,null)){for(;y-g>=1;)v=(g+y)/2,Yp(e,p,m,h,d,v,s,a)?y=v:g=v;if(g>f)return[p,m,g,!0]}}return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=Lu.width(l.datum,l.datum.text);let p=n?d:0,m=!1,g=!1,y=0,v,b,_,w,S,E,C,A,k,P,$,N,O,j,M,B,V;for(let q=0;q<f;++q){for(v=c[q].x,_=c[q].y,b=c[q].x2===void 0?v:c[q].x2,w=c[q].y2===void 0?_:c[q].y2,v>b&&(V=v,v=b,b=V),_>w&&(V=_,_=w,w=V),k=e(v),$=e(b),P=~~((k+$)/2),N=e(_),j=e(w),O=~~((N+j)/2),C=P;C>=k;--C)for(A=O;A>=N;--A)B=u(C,A,p,h,d),B&&([l.x,l.y,p,m]=B);for(C=P;C<=$;++C)for(A=O;A<=j;++A)B=u(C,A,p,h,d),B&&([l.x,l.y,p,m]=B);!m&&!n&&(M=Math.abs(b-v+w-_),S=(v+b)/2,E=(_+w)/2,M>=y&&!RN(S,E,h,d,i,o)&&!Yp(e,S,E,d,h,d,s,null)&&(y=M,l.x=S,l.y=E,g=!0))}return m||g?(S=h/2,E=d/2,s.setRange(e(l.x-S),e(l.y-E),e(l.x+S),e(l.y+E)),l.align="center",l.baseline="middle",!0):!1}}const sqt=[-1,-1,1,1],aqt=[-1,1,-1,1];function uqt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],u=e.bitmap();return function(l){const c=l.datum.datum.items[r].items,f=c.length,d=l.datum.fontSize,h=Lu.width(l.datum,l.datum.text),p=[];let m=n?d:0,g=!1,y=!1,v=0,b,_,w,S,E,C,A,k,P,$,N,O;for(let j=0;j<f;++j){for(b=c[j].x,w=c[j].y,_=c[j].x2===void 0?b:c[j].x2,S=c[j].y2===void 0?w:c[j].y2,p.push([e((b+_)/2),e((w+S)/2)]);p.length;)if([A,k]=p.pop(),!(s.get(A,k)||a.get(A,k)||u.get(A,k))){u.set(A,k);for(let M=0;M<4;++M)E=A+sqt[M],C=k+aqt[M],u.outOfBounds(E,C,E,C)||p.push([E,C]);if(E=e.invert(A),C=e.invert(k),P=m,$=o,!RN(E,C,h,d,i,o)&&!Yp(e,E,C,d,h,P,s,a)&&!Yp(e,E,C,d,h,d,s,null)){for(;$-P>=1;)N=(P+$)/2,Yp(e,E,C,d,h,N,s,a)?$=N:P=N;P>m&&(l.x=E,l.y=C,m=P,g=!0)}}!g&&!n&&(O=Math.abs(_-b+S-w),E=(b+_)/2,C=(w+S)/2,O>=v&&!RN(E,C,h,d,i,o)&&!Yp(e,E,C,d,h,d,s,null)&&(v=O,l.x=E,l.y=C,y=!0))}return g||y?(E=h/2,C=d/2,s.setRange(e(l.x-E),e(l.y-C),e(l.x+E),e(l.y+C)),l.align="center",l.baseline="middle",!0):!1}}const lqt=["right","center","left"],cqt=["bottom","middle","top"];function fqt(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],u=r.length;return function(l){const c=l.boundary,f=l.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>o)return!1;let d=l.textWidth??0,h,p,m,g,y,v,b,_,w,S,E,C,A,k,P;for(let $=0;$<u;++$){if(h=(n[$]&3)-1,p=(n[$]>>>2&3)-1,m=h===0&&p===0||r[$]<0,g=h&&p?Math.SQRT1_2:1,y=r[$]<0?-1:1,v=c[1+h]+r[$]*h*g,E=c[4+p]+y*f*p/2+r[$]*p*g,_=E-f/2,w=E+f/2,C=e(v),k=e(_),P=e(w),!d)if(Ale(C,C,k,P,s,a,v,v,_,w,c,m))d=Lu.width(l.datum,l.datum.text);else continue;if(S=v+y*d*h/2,v=S-d/2,b=S+d/2,C=e(v),A=e(b),Ale(C,A,k,P,s,a,v,b,_,w,c,m))return l.x=h?h*y<0?b:v:S,l.y=p?p*y<0?w:_:E,l.align=lqt[h*y+1],l.baseline=cqt[p*y+1],s.setRange(C,k,A,P),!0}return!1}}function Ale(e,t,n,r,i,o,s,a,u,l,c,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const P4=0,N4=4,D4=8,$4=0,O4=1,M4=2,dqt={"top-left":P4+$4,top:P4+O4,"top-right":P4+M4,left:N4+$4,middle:N4+O4,right:N4+M4,"bottom-left":D4+$4,bottom:D4+O4,"bottom-right":D4+M4},hqt={naive:iqt,"reduced-search":oqt,floodfill:uqt};function pqt(e,t,n,r,i,o,s,a,u,l,c){if(!e.length)return e;const f=Math.max(r.length,i.length),d=mqt(r,f),h=gqt(i,f),p=yqt(e[0].datum),m=p==="group"&&e[0].datum.items[u].marktype,g=m==="area",y=vqt(p,m,a,u),v=l===null||l===1/0,b=g&&c==="naive";let _=-1,w=-1;const S=e.map(k=>{const P=v?Lu.width(k,k.text):void 0;return _=Math.max(_,P),w=Math.max(w,k.fontSize),{datum:k,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:y(k),textWidth:P}});l=l===null||l===1/0?Math.max(_,w)+Math.max(...r):l;const E=rqt(t[0],t[1],l);let C;if(!b){n&&S.sort(($,N)=>n($.datum,N.datum));let k=!1;for(let $=0;$<h.length&&!k;++$)k=h[$]===5||d[$]<0;const P=(p&&s||g)&&e.map($=>$.datum);C=o.length||P?eqt(E,P||[],o,k,g):ZHt(E,s&&S)}const A=g?hqt[c](E,C,s,u):fqt(E,C,h,d);return S.forEach(k=>k.opacity=+A(k)),S}function mqt(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function gqt(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=dqt[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function yqt(e){return e&&e.mark&&e.mark.marktype}function vqt(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const Bj=["x","y","opacity","align","baseline"],IRe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function lK(e){Pe.call(this,null,e)}lK.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:IRe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Bj.length,default:Bj}]};dt(lK,Pe,{transform(e,t){function n(o){const s=e[o];return wn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&Me("Size parameter should be specified as a [width, height] array.");const i=e.as||Bj;return pqt(t.materialize(t.SOURCE).source||[],e.size,e.sort,bt(e.offset==null?1:e.offset),bt(e.anchor||IRe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const bqt=Object.freeze(Object.defineProperty({__proto__:null,label:lK},Symbol.toStringTag,{value:"Module"}));function kRe(e,t){var n=[],r=function(c){return c(a)},i,o,s,a,u,l;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],u=t.map(r),l=i[u],l||(i[u]=l=[],l.dims=u,n.push(l)),l.push(a);return n}function cK(e){Pe.call(this,null,e)}cK.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};dt(cK,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=kRe(r,e.groupby),o=(e.groupby||[]).map(Pi),s=o.length,a=e.as||[Pi(e.x),Pi(e.y)],u=[];i.forEach(l=>{MCe(l,e.x,e.y,e.bandwidth||.3).forEach(c=>{const f={};for(let d=0;d<s;++d)f[o[d]]=l.dims[d];f[a[0]]=c[0],f[a[1]]=c[1],u.push(yr(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const Uj={constant:qW,linear:WW,log:NCe,exp:DCe,pow:$Ce,quad:GW,poly:OCe},_qt=(e,t)=>e==="poly"?t:e==="quad"?2:1;function fK(e){Pe.call(this,null,e)}fK.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(Uj)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};dt(fK,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=kRe(r,e.groupby),o=(e.groupby||[]).map(Pi),s=e.method||"linear",a=e.order==null?3:e.order,u=_qt(s,a),l=e.as||[Pi(e.x),Pi(e.y)],c=Uj[s],f=[];let d=e.extent;qt(Uj,s)||Me("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const m=c(h,e.x,e.y,a);if(e.params){f.push(yr({keys:h.dims,coef:m.coef,rSquared:m.rSquared}));return}const g=d||Gf(h,e.x),y=v=>{const b={};for(let _=0;_<o.length;++_)b[o[_]]=h.dims[_];b[l[0]]=v[0],b[l[1]]=v[1],f.push(yr(b))};s==="linear"||s==="constant"?g.forEach(v=>y([v,m.predict(v)])):HO(m.predict,g,25,200).forEach(y)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const wqt=Object.freeze(Object.defineProperty({__proto__:null,loess:cK,regression:fK},Symbol.toStringTag,{value:"Module"})),hh=11102230246251565e-32,As=134217729,Eqt=(3+8*hh)*hh;function L4(e,t,n,r,i){let o,s,a,u,l=t[0],c=r[0],f=0,d=0;c>l==c>-l?(o=l,l=t[++f]):(o=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>l==c>-l?(s=l+o,a=o-(s-l),l=t[++f]):(s=c+o,a=o-(s-c),c=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)c>l==c>-l?(s=o+l,u=s-o,a=o-(s-u)+(l-u),l=t[++f]):(s=o+c,u=s-o,a=o-(s-u)+(c-u),c=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+l,u=s-o,a=o-(s-u)+(l-u),l=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+c,u=s-o,a=o-(s-u)+(c-u),c=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function xqt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function y2(e){return new Float64Array(e)}const Tqt=(3+16*hh)*hh,Sqt=(2+12*hh)*hh,Cqt=(9+64*hh)*hh*hh,Wv=y2(4),Ile=y2(8),kle=y2(12),Rle=y2(16),Zs=y2(4);function Aqt(e,t,n,r,i,o,s){let a,u,l,c,f,d,h,p,m,g,y,v,b,_,w,S,E,C;const A=e-i,k=n-i,P=t-o,$=r-o;_=A*$,d=As*A,h=d-(d-A),p=A-h,d=As*$,m=d-(d-$),g=$-m,w=p*g-(_-h*m-p*m-h*g),S=P*k,d=As*P,h=d-(d-P),p=P-h,d=As*k,m=d-(d-k),g=k-m,E=p*g-(S-h*m-p*m-h*g),y=w-E,f=w-y,Wv[0]=w-(y+f)+(f-E),v=_+y,f=v-_,b=_-(v-f)+(y-f),y=b-S,f=b-y,Wv[1]=b-(y+f)+(f-S),C=v+y,f=C-v,Wv[2]=v-(C-f)+(y-f),Wv[3]=C;let N=xqt(4,Wv),O=Sqt*s;if(N>=O||-N>=O||(f=e-A,a=e-(A+f)+(f-i),f=n-k,l=n-(k+f)+(f-i),f=t-P,u=t-(P+f)+(f-o),f=r-$,c=r-($+f)+(f-o),a===0&&u===0&&l===0&&c===0)||(O=Cqt*s+Eqt*Math.abs(N),N+=A*c+$*a-(P*l+k*u),N>=O||-N>=O))return N;_=a*$,d=As*a,h=d-(d-a),p=a-h,d=As*$,m=d-(d-$),g=$-m,w=p*g-(_-h*m-p*m-h*g),S=u*k,d=As*u,h=d-(d-u),p=u-h,d=As*k,m=d-(d-k),g=k-m,E=p*g-(S-h*m-p*m-h*g),y=w-E,f=w-y,Zs[0]=w-(y+f)+(f-E),v=_+y,f=v-_,b=_-(v-f)+(y-f),y=b-S,f=b-y,Zs[1]=b-(y+f)+(f-S),C=v+y,f=C-v,Zs[2]=v-(C-f)+(y-f),Zs[3]=C;const j=L4(4,Wv,4,Zs,Ile);_=A*c,d=As*A,h=d-(d-A),p=A-h,d=As*c,m=d-(d-c),g=c-m,w=p*g-(_-h*m-p*m-h*g),S=P*l,d=As*P,h=d-(d-P),p=P-h,d=As*l,m=d-(d-l),g=l-m,E=p*g-(S-h*m-p*m-h*g),y=w-E,f=w-y,Zs[0]=w-(y+f)+(f-E),v=_+y,f=v-_,b=_-(v-f)+(y-f),y=b-S,f=b-y,Zs[1]=b-(y+f)+(f-S),C=v+y,f=C-v,Zs[2]=v-(C-f)+(y-f),Zs[3]=C;const M=L4(j,Ile,4,Zs,kle);_=a*c,d=As*a,h=d-(d-a),p=a-h,d=As*c,m=d-(d-c),g=c-m,w=p*g-(_-h*m-p*m-h*g),S=u*l,d=As*u,h=d-(d-u),p=u-h,d=As*l,m=d-(d-l),g=l-m,E=p*g-(S-h*m-p*m-h*g),y=w-E,f=w-y,Zs[0]=w-(y+f)+(f-E),v=_+y,f=v-_,b=_-(v-f)+(y-f),y=b-S,f=b-y,Zs[1]=b-(y+f)+(f-S),C=v+y,f=C-v,Zs[2]=v-(C-f)+(y-f),Zs[3]=C;const B=L4(M,kle,4,Zs,Rle);return Rle[B-1]}function gI(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),u=s-a,l=Math.abs(s+a);return Math.abs(u)>=Tqt*l?u:-Aqt(e,t,n,r,i,o,l)}const Ple=Math.pow(2,-52),yI=new Uint32Array(512);class PN{static from(t,n=Nqt,r=Dqt){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new PN(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,u=1/0,l=-1/0,c=-1/0;for(let A=0;A<s;A++){const k=t[2*A],P=t[2*A+1];k<a&&(a=k),P<u&&(u=P),k>l&&(l=k),P>c&&(c=P),this._ids[A]=A}const f=(a+l)/2,d=(u+c)/2;let h,p,m;for(let A=0,k=1/0;A<s;A++){const P=F4(f,d,t[2*A],t[2*A+1]);P<k&&(h=A,k=P)}const g=t[2*h],y=t[2*h+1];for(let A=0,k=1/0;A<s;A++){if(A===h)continue;const P=F4(g,y,t[2*A],t[2*A+1]);P<k&&P>0&&(p=A,k=P)}let v=t[2*p],b=t[2*p+1],_=1/0;for(let A=0;A<s;A++){if(A===h||A===p)continue;const k=Rqt(g,y,v,b,t[2*A],t[2*A+1]);k<_&&(m=A,_=k)}let w=t[2*m],S=t[2*m+1];if(_===1/0){for(let P=0;P<s;P++)this._dists[P]=t[2*P]-t[0]||t[2*P+1]-t[1];D1(this._ids,this._dists,0,s-1);const A=new Uint32Array(s);let k=0;for(let P=0,$=-1/0;P<s;P++){const N=this._ids[P],O=this._dists[N];O>$&&(A[k++]=N,$=O)}this.hull=A.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(gI(g,y,v,b,w,S)<0){const A=p,k=v,P=b;p=m,v=w,b=S,m=A,w=k,S=P}const E=Pqt(g,y,v,b,w,S);this._cx=E.x,this._cy=E.y;for(let A=0;A<s;A++)this._dists[A]=F4(t[2*A],t[2*A+1],E.x,E.y);D1(this._ids,this._dists,0,s-1),this._hullStart=h;let C=3;r[h]=n[m]=p,r[p]=n[h]=m,r[m]=n[p]=h,i[h]=0,i[p]=1,i[m]=2,o.fill(-1),o[this._hashKey(g,y)]=h,o[this._hashKey(v,b)]=p,o[this._hashKey(w,S)]=m,this.trianglesLen=0,this._addTriangle(h,p,m,-1,-1,-1);for(let A=0,k,P;A<this._ids.length;A++){const $=this._ids[A],N=t[2*$],O=t[2*$+1];if(A>0&&Math.abs(N-k)<=Ple&&Math.abs(O-P)<=Ple||(k=N,P=O,$===h||$===p||$===m))continue;let j=0;for(let D=0,U=this._hashKey(N,O);D<this._hashSize&&(j=o[(U+D)%this._hashSize],!(j!==-1&&j!==r[j]));D++);j=n[j];let M=j,B;for(;B=r[M],gI(N,O,t[2*M],t[2*M+1],t[2*B],t[2*B+1])>=0;)if(M=B,M===j){M=-1;break}if(M===-1)continue;let V=this._addTriangle(M,$,r[M],-1,-1,i[M]);i[$]=this._legalize(V+2),i[M]=V,C++;let q=r[M];for(;B=r[q],gI(N,O,t[2*q],t[2*q+1],t[2*B],t[2*B+1])<0;)V=this._addTriangle(q,$,B,i[$],-1,i[q]),i[$]=this._legalize(V+2),r[q]=q,C--,q=B;if(M===j)for(;B=n[M],gI(N,O,t[2*B],t[2*B+1],t[2*M],t[2*M+1])<0;)V=this._addTriangle(B,$,M,-1,i[M],i[B]),this._legalize(V+2),i[B]=V,r[M]=M,C--,M=B;this._hullStart=n[$]=M,r[M]=n[q]=$,r[$]=q,o[this._hashKey(N,O)]=$,o[this._hashKey(t[2*M],t[2*M+1])]=M}this.hull=new Uint32Array(C);for(let A=0,k=this._hullStart;A<C;A++)this.hull[A]=k,k=r[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Iqt(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],u=t-t%3;if(s=u+(t+2)%3,a===-1){if(o===0)break;t=yI[--o];continue}const l=a-a%3,c=u+(t+1)%3,f=l+(a+2)%3,d=n[s],h=n[t],p=n[c],m=n[f];if(kqt(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1])){n[t]=m,n[a]=d;const y=r[f];if(y===-1){let b=this._hullStart;do{if(this._hullTri[b]===f){this._hullTri[b]=t;break}b=this._hullPrev[b]}while(b!==this._hullStart)}this._link(t,y),this._link(a,r[s]),this._link(s,f);const v=l+(a+1)%3;o<yI.length&&(yI[o++]=v)}else{if(o===0)break;t=yI[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function Iqt(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function F4(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function kqt(e,t,n,r,i,o,s,a){const u=e-s,l=t-a,c=n-s,f=r-a,d=i-s,h=o-a,p=u*u+l*l,m=c*c+f*f,g=d*d+h*h;return u*(f*g-m*h)-l*(c*g-m*d)+p*(c*h-f*d)<0}function Rqt(e,t,n,r,i,o){const s=n-e,a=r-t,u=i-e,l=o-t,c=s*s+a*a,f=u*u+l*l,d=.5/(s*l-a*u),h=(l*c-a*f)*d,p=(s*f-u*c)*d;return h*h+p*p}function Pqt(e,t,n,r,i,o){const s=n-e,a=r-t,u=i-e,l=o-t,c=s*s+a*a,f=u*u+l*l,d=.5/(s*l-a*u),h=e+(l*c-a*f)*d,p=t+(s*f-u*c)*d;return{x:h,y:p}}function D1(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;wE(e,i,o),t[e[n]]>t[e[r]]&&wE(e,n,r),t[e[o]]>t[e[r]]&&wE(e,o,r),t[e[n]]>t[e[o]]&&wE(e,n,o);const a=e[o],u=t[a];for(;;){do o++;while(t[e[o]]<u);do s--;while(t[e[s]]>u);if(s<o)break;wE(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(D1(e,t,o,r),D1(e,t,n,s-1)):(D1(e,t,n,s-1),D1(e,t,o,r))}}function wE(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Nqt(e){return e[0]}function Dqt(e){return e[1]}const Nle=1e-6;class v0{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Nle||Math.abs(this._y1-o)>Nle)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class zj{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let $qt=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,g=0,y=r.length,v,b;m<y;m+=3,g+=2){const _=r[m]*2,w=r[m+1]*2,S=r[m+2]*2,E=t[_],C=t[_+1],A=t[w],k=t[w+1],P=t[S],$=t[S+1],N=A-E,O=k-C,j=P-E,M=$-C,B=(N*M-O*j)*2;if(Math.abs(B)<1e-9){if(o===void 0){o=s=0;for(const q of n)o+=t[q*2],s+=t[q*2+1];o/=n.length,s/=n.length}const V=1e9*Math.sign((o-E)*M-(s-C)*j);v=(E+P)/2-V*M,b=(C+$)/2+V*j}else{const V=1/B,q=N*N+O*O,D=j*j+M*M;v=E+(M*q-O*D)*V,b=C+(N*D-j*q)*V}a[g]=v,a[g+1]=b}let u=n[n.length-1],l,c=u*4,f,d=t[2*u],h,p=t[2*u+1];i.fill(0);for(let m=0;m<n.length;++m)u=n[m],l=c,f=d,h=p,c=u*4,d=t[2*u],p=t[2*u+1],i[l+2]=i[c]=h-p,i[l+3]=i[c+1]=d-f}render(t){const n=t==null?t=new v0:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,f=r.length;c<f;++c){const d=r[c];if(d<c)continue;const h=Math.floor(c/3)*2,p=Math.floor(d/3)*2,m=s[h],g=s[h+1],y=s[p],v=s[p+1];this._renderSegment(m,g,y,v,t)}let u,l=o[o.length-1];for(let c=0;c<o.length;++c){u=l,l=o[c];const f=Math.floor(i[l]/3)*2,d=s[f],h=s[f+1],p=u*4,m=this._project(d,h,a[p+2],a[p+3]);m&&this._renderSegment(d,h,m[0],m[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new v0:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new v0:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new zj;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),u=this._regioncode(r,i);a===0&&u===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,u))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,u=i.length;a<u;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+u-2)%u]&&n[(o+3)%s]===i[(a+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let u=s;do{const l=Math.floor(u/3);if(a.push(n[l*2],n[l*2+1]),u=u%3===2?u-2:u+1,o[u]!==t)break;u=i[u]}while(u!==s&&u!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],u=n[r-1],l,c=this._regioncode(a,u),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=u,a=n[h],u=n[h+1],l=c,c=this._regioncode(a,u),l===0&&c===0)f=d,d=0,i?i.push(a,u):i=[a,u];else{let p,m,g,y,v;if(l===0){if((p=this._clipSegment(o,s,a,u,l,c))===null)continue;[m,g,y,v]=p}else{if((p=this._clipSegment(a,u,o,s,c,l))===null)continue;[y,v,m,g]=p,f=d,d=this._edgecode(m,g),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(m,g):i=[m,g]}f=d,d=this._edgecode(y,v),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(y,v):i=[y,v]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let u,l,c=o||s;c&8?(u=t+(r-t)*(this.ymax-n)/(i-n),l=this.ymax):c&4?(u=t+(r-t)*(this.ymin-n)/(i-n),l=this.ymin):c&2?(l=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(l=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),o?(t=u,n=l,o=this._regioncode(t,n)):(r=u,i=l,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),u;if((u=this._project(a[0],a[1],r,i))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let l=0,c=a.length,f,d=this._edgecode(a[c-2],a[c-1]);l<c;l+=2)f=d,d=this._edgecode(a[l],a[l+1]),f&&d&&(l=this._edge(t,f,d,a,l),c=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,u;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(u=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(u=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,u=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,u=n+(o=s)*i)}return[a,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Oqt=2*Math.PI,Gv=Math.pow;function Mqt(e){return e[0]}function Lqt(e){return e[1]}function Fqt(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function jqt(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class dK{static from(t,n=Mqt,r=Lqt,i){return new dK("length"in t?Bqt(t,n,r,i):Float64Array.from(Uqt(t,n,r,i)))}constructor(t){this._delaunator=new PN(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Fqt(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const u=this.collinear[0],l=this.collinear[this.collinear.length-1],c=[n[2*u],n[2*u+1],n[2*l],n[2*l+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let d=0,h=n.length/2;d<h;++d){const p=jqt(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new PN(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let u=0,l=r.length;u<l;++u){const c=o[u%3===2?u-2:u+1];(r[u]===-1||s[c]===-1)&&(s[c]=u)}for(let u=0,l=i.length;u<l;++u)a[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new $qt(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const u=n[t];if(u===-1)return;let l=u,c=-1;do{if(yield c=s[l],l=l%3===2?l-2:l+1,s[l]!==t)return;if(l=o[l],l===-1){const f=r[(i[t]+1)%r.length];f!==c&&(yield f);return}}while(l!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:u,points:l}=this;if(i[t]===-1||!l.length)return(t+1)%(l.length>>1);let c=t,f=Gv(n-l[t*2],2)+Gv(r-l[t*2+1],2);const d=i[t];let h=d;do{let p=u[h];const m=Gv(n-l[p*2],2)+Gv(r-l[p*2+1],2);if(m<f&&(f=m,c=p),h=h%3===2?h-2:h+1,u[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&Gv(n-l[h*2],2)+Gv(r-l[h*2+1],2)<f)return h;break}}while(h!==d);return c}render(t){const n=t==null?t=new v0:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const u=i[s];if(u<s)continue;const l=o[s]*2,c=o[u]*2;t.moveTo(r[l],r[l+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new v0:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],u=i[o+1];t.moveTo(a+n,u),t.arc(a,u,n,0,Oqt)}return r&&r.value()}renderHull(t){const n=t==null?t=new v0:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const u=2*r[a];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new zj;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new v0:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,u=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new zj;return this.renderTriangle(t,n),n.value()}}function Bqt(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*Uqt(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function hK(e){Pe.call(this,null,e)}hK.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const zqt=[-1e5,-1e5,1e5,1e5];dt(hK,Pe,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:zqt;const o=this.value=dK.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const u=o.cellPolygon(s);r[s][n]=u&&!Hqt(u)?Vqt(u):null}return t.reflow(e.modified()).modifies(n)}});function Vqt(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function Hqt(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const qqt=Object.freeze(Object.defineProperty({__proto__:null,voronoi:hK},Symbol.toStringTag,{value:"Module"}));var j4=Math.PI/180,fx=64,Fk=2048;function Wqt(){var e=[256,256],t,n,r,i,o,s,a,u=RRe,l=[],c=Math.random,f={};f.layout=function(){for(var p=d(gm()),m=Jqt((e[0]>>5)*e[1]),g=null,y=l.length,v=-1,b=[],_=l.map(S=>({text:t(S),font:n(S),style:i(S),weight:o(S),rotate:s(S),size:~~(r(S)+1e-14),padding:a(S),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:S})).sort((S,E)=>E.size-S.size);++v<y;){var w=_[v];w.x=e[0]*(c()+.5)>>1,w.y=e[1]*(c()+.5)>>1,Gqt(p,w,_,v),w.hasText&&h(m,w,g)&&(b.push(w),g?Kqt(g,w):g=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=e[0]>>1,w.y-=e[1]>>1)}return b};function d(p){p.width=p.height=1;var m=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(fx<<5)/m,p.height=Fk/m;var g=p.getContext("2d");return g.fillStyle=g.strokeStyle="red",g.textAlign="center",{context:g,ratio:m}}function h(p,m,g){for(var y=m.x,v=m.y,b=Math.sqrt(e[0]*e[0]+e[1]*e[1]),_=u(e),w=c()<.5?1:-1,S=-w,E,C,A;(E=_(S+=w))&&(C=~~E[0],A=~~E[1],!(Math.min(Math.abs(C),Math.abs(A))>=b));)if(m.x=y+C,m.y=v+A,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!g||!Yqt(m,p,e[0]))&&(!g||Xqt(m,g))){for(var k=m.sprite,P=m.width>>5,$=e[0]>>5,N=m.x-(P<<4),O=N&127,j=32-O,M=m.y1-m.y0,B=(m.y+m.y0)*$+(N>>5),V,q=0;q<M;q++){V=0;for(var D=0;D<=P;D++)p[B+D]|=V<<j|(D<P?(V=k[q*P+D])>>>O:0);B+=$}return m.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(l=p,f):l},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=Rg(p),f):n},f.fontStyle=function(p){return arguments.length?(i=Rg(p),f):i},f.fontWeight=function(p){return arguments.length?(o=Rg(p),f):o},f.rotate=function(p){return arguments.length?(s=Rg(p),f):s},f.text=function(p){return arguments.length?(t=Rg(p),f):t},f.spiral=function(p){return arguments.length?(u=Zqt[p]||p,f):u},f.fontSize=function(p){return arguments.length?(r=Rg(p),f):r},f.padding=function(p){return arguments.length?(a=Rg(p),f):a},f.random=function(p){return arguments.length?(c=p,f):c},f}function Gqt(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(fx<<5)/o,Fk/o);var s=0,a=0,u=0,l=n.length,c,f,d,h,p;for(--r;++r<l;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,c=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var m=Math.sin(t.rotate*j4),g=Math.cos(t.rotate*j4),y=c*g,v=c*m,b=d*g,_=d*m;c=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,d=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else c=c+31>>5<<5;if(d>u&&(u=d),s+c>=fx<<5&&(s=0,a+=u,u=0),a+d>=Fk)break;i.translate((s+(c>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*j4),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=d,t.xoff=s,t.yoff=a,t.x1=c>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var w=i.getImageData(0,0,(fx<<5)/o,Fk/o).data,S=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,f=c>>5,d=t.y1-t.y0,h=0;h<d*f;h++)S[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var E=0,C=-1;for(p=0;p<d;p++){for(h=0;h<c;h++){var A=f*p+(h>>5),k=w[(a+p)*(fx<<5)+(s+h)<<2]?1<<31-h%32:0;S[A]|=k,E|=k}E?C=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+C,t.sprite=S.slice(0,(t.y1-t.y0)*f)}}}function Yqt(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,u=e.y1-e.y0,l=(e.y+e.y0)*n+(o>>5),c,f=0;f<u;f++){c=0;for(var d=0;d<=i;d++)if((c<<a|(d<i?(c=r[f*i+d])>>>s:0))&t[l+d])return!0;l+=n}return!1}function Kqt(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Xqt(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function RRe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function Qqt(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function Jqt(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Rg(e){return typeof e=="function"?e:function(){return e}}var Zqt={archimedean:RRe,rectangular:Qqt};const PRe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],eWt=["text","font","rotate","fontSize","fontStyle","fontWeight"];function pK(e){Pe.call(this,Wqt(),e)}pK.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:PRe}]};dt(pK,Pe,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&Me("Wordcloud size dimensions must be non-zero.");function n(p){const m=e[p];return wn(m)&&t.modified(m.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||eWt.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||PRe;let a=e.fontSize||14,u;if(wn(a)?u=e.fontSizeRange:a=Ws(a),u){const p=a,m=cr("sqrt")().domain(Gf(i,p)).range(u);a=g=>m(p(g))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const l=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Ml).layout(),c=o.size(),f=c[0]>>1,d=c[1]>>1,h=l.length;for(let p=0,m,g;p<h;++p)m=l[p],g=m.datum,g[s[0]]=m.x+f,g[s[1]]=m.y+d,g[s[2]]=m.font,g[s[3]]=m.size,g[s[4]]=m.style,g[s[5]]=m.weight,g[s[6]]=m.rotate;return t.reflow(r).modifies(s)}});const tWt=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:pK},Symbol.toStringTag,{value:"Module"})),nWt=e=>new Uint8Array(e),rWt=e=>new Uint16Array(e),lT=e=>new Uint32Array(e);function iWt(){let e=8,t=[],n=lT(0),r=vI(0,e),i=vI(0,e);return{data:()=>t,seen:()=>n=oWt(n,t.length),add(o){for(let s=0,a=t.length,u=o.length,l;s<u;++s)l=o[s],l._index=a++,t.push(l)},remove(o,s){const a=t.length,u=Array(a-o),l=t;let c,f,d;for(f=0;!s[f]&&f<a;++f)u[f]=t[f],l[f]=f;for(d=f;f<a;++f)c=t[f],s[f]?l[f]=-1:(l[f]=d,r[d]=r[f],i[d]=i[f],u[d]=c,c._index=d++),r[f]=0;return t=u,l},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=vI(o,e,r),i=vI(o,e))}}}function oWt(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function vI(e,t,n){const r=(t<257?nWt:t<65537?rWt:lT)(e);return n&&r.set(n),r}function Dle(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),u=i.index,l=a[0],c=a[1],f=u.length;let d;for(d=0;d<l;++d)o[u[d]]|=r;for(d=c;d<f;++d)o[u[d]]|=r;return s}}}function $le(){let e=lT(0),t=[],n=0;function r(a,u,l){if(!u.length)return[];const c=n,f=u.length,d=lT(f);let h=Array(f),p,m,g;for(g=0;g<f;++g)h[g]=a(u[g]),d[g]=g;if(h=sWt(h,d),c)p=t,m=e,t=Array(c+f),e=lT(c+f),aWt(l,p,m,c,h,d,f,t,e);else{if(l>0)for(g=0;g<f;++g)d[g]+=l;t=h,e=d}return n=c+f,{index:d,value:h}}function i(a,u){const l=n;let c,f,d;for(f=0;!u[e[f]]&&f<l;++f);for(d=f;f<l;++f)u[c=e[f]]||(e[d]=c,t[d]=t[f],++d);n=l-a}function o(a){for(let u=0,l=n;u<l;++u)e[u]=a[e[u]]}function s(a,u){let l;return u?l=u.length:(u=t,l=n),[fLt(u,a[0],0,l),Rm(u,a[1],0,l)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function sWt(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),pLt(e,t)}function aWt(e,t,n,r,i,o,s,a,u){let l=0,c=0,f;for(f=0;l<r&&c<s;++f)t[l]<i[c]?(a[f]=t[l],u[f]=n[l++]):(a[f]=i[c],u[f]=o[c++]+e);for(;l<r;++l,++f)a[f]=t[l],u[f]=n[l];for(;c<s;++c,++f)a[f]=i[c],u[f]=o[c]+e}function mK(e){Pe.call(this,iWt(),e),this._indices=null,this._dims=null}mK.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};dt(mK,Pe,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,u,l;for(;a<s;++a)u=n[a].fname,l=i[u]||(i[u]=$le()),o.push(Dle(l,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,u=a.curr(),l=a.prev(),c=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let m,g,y,v,b,_,w,S,E;if(l.set(u),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(_={},v=t.mod,w=0,S=v.length;w<S;++w)_[v[w]._index]=1;for(w=0;w<h;++w)E=r[w],(!s[w]||e.modified("fields",w)||t.modified(E.fields))&&(y=E.fname,(m=p[y])||(o[y]=g=$le(),p[y]=m=g.insert(E,t.source,0)),s[w]=Dle(g,w,i[w]).onAdd(m,u));for(w=0,S=a.data().length;w<S;++w)b[w]||(l[w]!==u[w]?f.push(w):_[w]&&u[w]!==c&&d.push(w));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,u={},l=n.add,c=i.size()+r.length,f=o.length;let d=i.size(),h,p,m;i.resize(c,f),i.add(r);const g=i.curr(),y=i.prev(),v=i.all();for(h=0;h<f;++h)p=a[h].fname,m=u[p]||(u[p]=s[p].insert(a[h],r,d)),o[h].onAdd(m,g);for(;d<c;++d)y[d]=v,g[d]!==v&&l.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,u,l;for(a=0,u=s.length;a<u;++a)l=s[a]._index,i[l]!==o&&n.push(l)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),u={},l=n.rem,c=t.rem;let f,d,h,p;for(f=0,d=c.length;f<d;++f)h=c[f]._index,u[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&l.push(h);for(h in r)r[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,u,l;for(n.filters=0,l=0;l<s;++l)e.modified("query",l)&&(u=l,++a);if(a===1)a=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(l=0,a=0;l<s;++l)e.modified("query",l)&&(a|=r[l].one,this.incrementAll(r[l],i[l],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),u=e.index(),l=e.bisect(e.range),c=e.bisect(t),f=c[0],d=c[1],h=l[0],p=l[1],m=e.one;let g,y,v;if(f<h)for(g=f,y=Math.min(h,d);g<y;++g)v=u[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(f>h)for(g=h,y=Math.min(f,p);g<y;++g)v=u[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;if(d>p)for(g=Math.max(f,p),y=d;g<y;++g)v=u[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;else if(d<p)for(g=Math.max(h,d),y=p;g<y;++g)v=u[g],o[v]!==n&&(a[v]=s[v],o[v]=n,r.push(v)),s[v]^=m;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),u=e.bisect(t),l=u[0],c=u[1],f=a[0],d=a[1],h=e.one;let p,m,g;if(l<f)for(p=l,m=Math.min(f,c);p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(l>f)for(p=f,m=Math.min(l,d);p<m;++p)g=s[p],o[g]^=h,r.push(g);if(c>d)for(p=Math.max(l,d),m=c;p<m;++p)g=s[p],o[g]^=h,n.push(g);else if(c<d)for(p=Math.max(f,c),m=d;p<m;++p)g=s[p],o[g]^=h,r.push(g);e.range=t.slice()}});function gK(e){Pe.call(this,null,e)}gK.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};dt(gK,Pe,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),u=r.prev(),l=c=>a[c]&n?null:s[c];return o.filter(o.MOD,l),i&i-1?(o.filter(o.ADD,c=>{const f=a[c]&n;return!f&&f^u[c]&n?s[c]:null}),o.filter(o.REM,c=>{const f=a[c]&n;return f&&!(f^(f^u[c]&n))?s[c]:null})):(o.filter(o.ADD,l),o.filter(o.REM,c=>(a[c]&n)===i?s[c]:null)),o.filter(o.SOURCE,c=>l(c._index))}});const uWt=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:mK,resolvefilter:gK},Symbol.toStringTag,{value:"Module"})),lWt="RawCode",my="Literal",cWt="Property",fWt="Identifier",dWt="ArrayExpression",hWt="BinaryExpression",NRe="CallExpression",pWt="ConditionalExpression",mWt="LogicalExpression",gWt="MemberExpression",yWt="ObjectExpression",vWt="UnaryExpression";function Wc(e){this.type=e}Wc.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=bWt(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function bWt(e){switch(e.type){case dWt:return e.elements;case hWt:case mWt:return[e.left,e.right];case NRe:return[e.callee].concat(e.arguments);case pWt:return[e.test,e.consequent,e.alternate];case gWt:return[e.object,e.property];case yWt:return e.properties;case cWt:return[e.key,e.value];case vWt:return[e.argument];case fWt:case my:case lWt:default:return[]}}var md,jt,Oe,Bs,Tr,xM=1,v2=2,gy=3,mg=4,TM=5,uv=6,Fa=7,b2=8,_Wt=9;md={};md[xM]="Boolean";md[v2]="<end>";md[gy]="Identifier";md[mg]="Keyword";md[TM]="Null";md[uv]="Numeric";md[Fa]="Punctuator";md[b2]="String";md[_Wt]="RegularExpression";var wWt="ArrayExpression",EWt="BinaryExpression",xWt="CallExpression",TWt="ConditionalExpression",DRe="Identifier",SWt="Literal",CWt="LogicalExpression",AWt="MemberExpression",IWt="ObjectExpression",kWt="Property",RWt="UnaryExpression",Oo="Unexpected token %0",PWt="Unexpected number",NWt="Unexpected string",DWt="Unexpected identifier",$Wt="Unexpected reserved word",OWt="Unexpected end of input",Vj="Invalid regular expression",B4="Invalid regular expression: missing /",$Re="Octal literals are not allowed in strict mode.",MWt="Duplicate data property in object literal not allowed in strict mode",us="ILLEGAL",kS="Disabled.",LWt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),FWt=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function SM(e,t){if(!e)throw new Error("ASSERT: "+t)}function jd(e){return e>=48&&e<=57}function yK(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function cT(e){return"01234567".indexOf(e)>=0}function jWt(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function RS(e){return e===10||e===13||e===8232||e===8233}function _2(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&LWt.test(String.fromCharCode(e))}function NN(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&FWt.test(String.fromCharCode(e))}const BWt={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function ORe(){for(;Oe<Bs;){const e=jt.charCodeAt(Oe);if(jWt(e)||RS(e))++Oe;else break}}function Hj(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Oe<Bs&&yK(jt[Oe])?(r=jt[Oe++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):ur({},Oo,us);return String.fromCharCode(i)}function UWt(){var e,t,n,r;for(e=jt[Oe],t=0,e==="}"&&ur({},Oo,us);Oe<Bs&&(e=jt[Oe++],!!yK(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&ur({},Oo,us),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function MRe(){var e,t;for(e=jt.charCodeAt(Oe++),t=String.fromCharCode(e),e===92&&(jt.charCodeAt(Oe)!==117&&ur({},Oo,us),++Oe,e=Hj("u"),(!e||e==="\\"||!_2(e.charCodeAt(0)))&&ur({},Oo,us),t=e);Oe<Bs&&(e=jt.charCodeAt(Oe),!!NN(e));)++Oe,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),jt.charCodeAt(Oe)!==117&&ur({},Oo,us),++Oe,e=Hj("u"),(!e||e==="\\"||!NN(e.charCodeAt(0)))&&ur({},Oo,us),t+=e);return t}function zWt(){var e,t;for(e=Oe++;Oe<Bs;){if(t=jt.charCodeAt(Oe),t===92)return Oe=e,MRe();if(NN(t))++Oe;else break}return jt.slice(e,Oe)}function VWt(){var e,t,n;return e=Oe,t=jt.charCodeAt(Oe)===92?MRe():zWt(),t.length===1?n=gy:BWt.hasOwnProperty(t)?n=mg:t==="null"?n=TM:t==="true"||t==="false"?n=xM:n=gy,{type:n,value:t,start:e,end:Oe}}function U4(){var e=Oe,t=jt.charCodeAt(Oe),n,r=jt[Oe],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Oe,{type:Fa,value:String.fromCharCode(t),start:e,end:Oe};default:if(n=jt.charCodeAt(Oe+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Oe+=2,{type:Fa,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Oe};case 33:case 61:return Oe+=2,jt.charCodeAt(Oe)===61&&++Oe,{type:Fa,value:jt.slice(e,Oe),start:e,end:Oe}}}if(s=jt.substr(Oe,4),s===">>>=")return Oe+=4,{type:Fa,value:s,start:e,end:Oe};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Oe+=3,{type:Fa,value:o,start:e,end:Oe};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Oe+=2,{type:Fa,value:i,start:e,end:Oe};if(i==="//"&&ur({},Oo,us),"<>=!+-*%&|^/".indexOf(r)>=0)return++Oe,{type:Fa,value:r,start:e,end:Oe};ur({},Oo,us)}function HWt(e){let t="";for(;Oe<Bs&&yK(jt[Oe]);)t+=jt[Oe++];return t.length===0&&ur({},Oo,us),_2(jt.charCodeAt(Oe))&&ur({},Oo,us),{type:uv,value:parseInt("0x"+t,16),start:e,end:Oe}}function qWt(e){let t="0"+jt[Oe++];for(;Oe<Bs&&cT(jt[Oe]);)t+=jt[Oe++];return(_2(jt.charCodeAt(Oe))||jd(jt.charCodeAt(Oe)))&&ur({},Oo,us),{type:uv,value:parseInt(t,8),octal:!0,start:e,end:Oe}}function Ole(){var e,t,n;if(n=jt[Oe],SM(jd(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Oe,e="",n!=="."){if(e=jt[Oe++],n=jt[Oe],e==="0"){if(n==="x"||n==="X")return++Oe,HWt(t);if(cT(n))return qWt(t);n&&jd(n.charCodeAt(0))&&ur({},Oo,us)}for(;jd(jt.charCodeAt(Oe));)e+=jt[Oe++];n=jt[Oe]}if(n==="."){for(e+=jt[Oe++];jd(jt.charCodeAt(Oe));)e+=jt[Oe++];n=jt[Oe]}if(n==="e"||n==="E")if(e+=jt[Oe++],n=jt[Oe],(n==="+"||n==="-")&&(e+=jt[Oe++]),jd(jt.charCodeAt(Oe)))for(;jd(jt.charCodeAt(Oe));)e+=jt[Oe++];else ur({},Oo,us);return _2(jt.charCodeAt(Oe))&&ur({},Oo,us),{type:uv,value:parseFloat(e),start:t,end:Oe}}function WWt(){var e="",t,n,r,i,o=!1;for(t=jt[Oe],SM(t==="'"||t==='"',"String literal must starts with a quote"),n=Oe,++Oe;Oe<Bs;)if(r=jt[Oe++],r===t){t="";break}else if(r==="\\")if(r=jt[Oe++],!r||!RS(r.charCodeAt(0)))switch(r){case"u":case"x":jt[Oe]==="{"?(++Oe,e+=UWt()):e+=Hj(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:cT(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Oe<Bs&&cT(jt[Oe])&&(o=!0,i=i*8+"01234567".indexOf(jt[Oe++]),"0123".indexOf(r)>=0&&Oe<Bs&&cT(jt[Oe])&&(i=i*8+"01234567".indexOf(jt[Oe++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&jt[Oe]===`
`&&++Oe;else{if(RS(r.charCodeAt(0)))break;e+=r}return t!==""&&ur({},Oo,us),{type:b2,value:e,octal:o,start:n,end:Oe}}function GWt(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";ur({},Vj)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{ur({},Vj)}try{return new RegExp(e,t)}catch{return null}}function YWt(){var e,t,n,r,i;for(e=jt[Oe],SM(e==="/","Regular expression literal must start with a slash"),t=jt[Oe++],n=!1,r=!1;Oe<Bs;)if(e=jt[Oe++],t+=e,e==="\\")e=jt[Oe++],RS(e.charCodeAt(0))&&ur({},B4),t+=e;else if(RS(e.charCodeAt(0)))ur({},B4);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||ur({},B4),i=t.substr(1,t.length-2),{value:i,literal:t}}function KWt(){var e,t,n;for(t="",n="";Oe<Bs&&(e=jt[Oe],!!NN(e.charCodeAt(0)));)++Oe,e==="\\"&&Oe<Bs?ur({},Oo,us):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&ur({},Vj,n),{value:n,literal:t}}function XWt(){var e,t,n,r;return Tr=null,ORe(),e=Oe,t=YWt(),n=KWt(),r=GWt(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Oe}}function QWt(e){return e.type===gy||e.type===mg||e.type===xM||e.type===TM}function LRe(){if(ORe(),Oe>=Bs)return{type:v2,start:Oe,end:Oe};const e=jt.charCodeAt(Oe);return _2(e)?VWt():e===40||e===41||e===59?U4():e===39||e===34?WWt():e===46?jd(jt.charCodeAt(Oe+1))?Ole():U4():jd(e)?Ole():U4()}function qa(){const e=Tr;return Oe=e.end,Tr=LRe(),Oe=e.end,e}function FRe(){const e=Oe;Tr=LRe(),Oe=e}function JWt(e){const t=new Wc(wWt);return t.elements=e,t}function Mle(e,t,n){const r=new Wc(e==="||"||e==="&&"?CWt:EWt);return r.operator=e,r.left=t,r.right=n,r}function ZWt(e,t){const n=new Wc(xWt);return n.callee=e,n.arguments=t,n}function eGt(e,t,n){const r=new Wc(TWt);return r.test=e,r.consequent=t,r.alternate=n,r}function vK(e){const t=new Wc(DRe);return t.name=e,t}function dx(e){const t=new Wc(SWt);return t.value=e.value,t.raw=jt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function Lle(e,t,n){const r=new Wc(AWt);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function tGt(e){const t=new Wc(IWt);return t.properties=e,t}function Fle(e,t,n){const r=new Wc(kWt);return r.key=t,r.value=n,r.kind=e,r}function nGt(e,t){const n=new Wc(RWt);return n.operator=e,n.argument=t,n.prefix=!0,n}function ur(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(SM(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Oe,n.description=i,n}function CM(e){e.type===v2&&ur(e,OWt),e.type===uv&&ur(e,PWt),e.type===b2&&ur(e,NWt),e.type===gy&&ur(e,DWt),e.type===mg&&ur(e,$Wt),ur(e,Oo,e.value)}function Us(e){const t=qa();(t.type!==Fa||t.value!==e)&&CM(t)}function Qr(e){return Tr.type===Fa&&Tr.value===e}function z4(e){return Tr.type===mg&&Tr.value===e}function rGt(){const e=[];for(Oe=Tr.start,Us("[");!Qr("]");)Qr(",")?(qa(),e.push(null)):(e.push(yy()),Qr("]")||Us(","));return qa(),JWt(e)}function jle(){Oe=Tr.start;const e=qa();return e.type===b2||e.type===uv?(e.octal&&ur(e,$Re),dx(e)):vK(e.value)}function iGt(){var e,t,n,r;if(Oe=Tr.start,e=Tr,e.type===gy)return n=jle(),Us(":"),r=yy(),Fle("init",n,r);if(e.type===v2||e.type===Fa)CM(e);else return t=jle(),Us(":"),r=yy(),Fle("init",t,r)}function oGt(){var e=[],t,n,r,i={},o=String;for(Oe=Tr.start,Us("{");!Qr("}");)t=iGt(),t.key.type===DRe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?ur({},MWt):i[r]=!0,e.push(t),Qr("}")||Us(",");return Us("}"),tGt(e)}function sGt(){Us("(");const e=bK();return Us(")"),e}const aGt={if:1};function uGt(){var e,t,n;if(Qr("("))return sGt();if(Qr("["))return rGt();if(Qr("{"))return oGt();if(e=Tr.type,Oe=Tr.start,e===gy||aGt[Tr.value])n=vK(qa().value);else if(e===b2||e===uv)Tr.octal&&ur(Tr,$Re),n=dx(qa());else{if(e===mg)throw new Error(kS);e===xM?(t=qa(),t.value=t.value==="true",n=dx(t)):e===TM?(t=qa(),t.value=null,n=dx(t)):Qr("/")||Qr("/=")?(n=dx(XWt()),FRe()):CM(qa())}return n}function lGt(){const e=[];if(Us("("),!Qr(")"))for(;Oe<Bs&&(e.push(yy()),!Qr(")"));)Us(",");return Us(")"),e}function cGt(){Oe=Tr.start;const e=qa();return QWt(e)||CM(e),vK(e.value)}function fGt(){return Us("."),cGt()}function dGt(){Us("[");const e=bK();return Us("]"),e}function hGt(){var e,t,n;for(e=uGt();;)if(Qr("."))n=fGt(),e=Lle(".",e,n);else if(Qr("("))t=lGt(),e=ZWt(e,t);else if(Qr("["))n=dGt(),e=Lle("[",e,n);else break;return e}function Ble(){const e=hGt();if(Tr.type===Fa&&(Qr("++")||Qr("--")))throw new Error(kS);return e}function jk(){var e,t;if(Tr.type!==Fa&&Tr.type!==mg)t=Ble();else{if(Qr("++")||Qr("--"))throw new Error(kS);if(Qr("+")||Qr("-")||Qr("~")||Qr("!"))e=qa(),t=jk(),t=nGt(e.value,t);else{if(z4("delete")||z4("void")||z4("typeof"))throw new Error(kS);t=Ble()}}return t}function Ule(e){let t=0;if(e.type!==Fa&&e.type!==mg)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function pGt(){var e,t,n,r,i,o,s,a,u,l;if(e=Tr,u=jk(),r=Tr,i=Ule(r),i===0)return u;for(r.prec=i,qa(),t=[e,Tr],s=jk(),o=[u,r,s];(i=Ule(Tr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,u=o.pop(),t.pop(),n=Mle(a,u,s),o.push(n);r=qa(),r.prec=i,o.push(r),t.push(Tr),n=jk(),o.push(n)}for(l=o.length-1,n=o[l],t.pop();l>1;)t.pop(),n=Mle(o[l-1].value,o[l-2],n),l-=2;return n}function yy(){var e,t,n;return e=pGt(),Qr("?")&&(qa(),t=yy(),Us(":"),n=yy(),e=eGt(e,t,n)),e}function bK(){const e=yy();if(Qr(","))throw new Error(kS);return e}function _K(e){jt=e,Oe=0,Bs=jt.length,Tr=null,FRe();const t=bK();if(Tr.type!==v2)throw new Error("Unexpect token after expression.");return t}var jRe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function BRe(e){function t(s,a,u,l){let c=e(a[0]);return u&&(c=u+"("+c+")",u.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(l<0?"":l===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,u){return l=>t(s,l,a,u)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&Me("Missing arguments to clamp function."),s.length>3&&Me("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&Me("Missing arguments to if function."),s.length>3&&Me("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function mGt(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function URe(e){e=e||{};const t=e.allowed?Fc(e.allowed):{},n=e.forbidden?Fc(e.forbidden):{},r=e.constants||jRe,i=(e.functions||BRe)(f),o=e.globalvar,s=e.fieldvar,a=wn(o)?o:p=>`${o}["${p}"]`;let u={},l={},c=0;function f(p){if(_t(p))return p;const m=d[p.type];return m==null&&Me("Unsupported type: "+p.type),m(p)}const d={Literal:p=>p.raw,Identifier:p=>{const m=p.name;return c>0?m:qt(n,m)?Me("Illegal identifier: "+m):qt(r,m)?r[m]:qt(t,m)?m:(u[m]=1,a(m))},MemberExpression:p=>{const m=!p.computed,g=f(p.object);m&&(c+=1);const y=f(p.property);return g===s&&(l[mGt(y)]=1),m&&(c-=1),g+(m?"."+y:"["+y+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&Me("Illegal callee type: "+p.callee.type);const m=p.callee.name,g=p.arguments,y=qt(i,m)&&i[m];return y||Me("Unrecognized function: "+m),wn(y)?y(g):y+"("+g.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{c+=1;const m=f(p.key);return c-=1,m+":"+f(p.value)}};function h(p){const m={code:f(p),globals:Object.keys(u),fields:Object.keys(l)};return u={},l={},m}return h.functions=i,h.constants=r,h}const zle=Symbol("vega_selection_getter");function zRe(e){return(!e.getter||!e.getter[zle])&&(e.getter=Dl(e.field),e.getter[zle]=!0),e.getter}const wK="intersect",Vle="union",gGt="vlMulti",yGt="vlPoint",Hle="or",vGt="and",mf="_vgsid_",PS=Dl(mf),bGt="E",_Gt="R",wGt="R-E",EGt="R-LE",xGt="R-RE",DN="index:unit";function qle(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],s=zRe(a)(e),hm(s)&&(s=Os(s)),hm(r[o])&&(r[o]=Os(r[o])),je(r[o])&&hm(r[o][0])&&(r[o]=r[o].map(Os)),a.type===bGt){if(je(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===_Gt){if(!k1(s,r[o]))return!1}else if(a.type===xGt){if(!k1(s,r[o],!0,!1))return!1}else if(a.type===wGt){if(!k1(s,r[o],!1,!1))return!1}else if(a.type===EGt&&!k1(s,r[o],!1,!0))return!1;return!0}function TGt(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[DN]&&r[DN].value:void 0,s=n===wK,a=i.length,u=0,l,c,f,d,h;u<a;++u)if(l=i[u],o&&s){if(c=c||{},f=c[d=l.unit]||0,f===-1)continue;if(h=qle(t,l),c[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=qle(t,l),s^h)return h;return a&&s}const VRe=fw(PS),SGt=VRe.left,CGt=VRe.right;function AGt(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[DN]&&r[DN].value:void 0,s=n===wK,a=PS(t),u=SGt(i,a);if(u===i.length||PS(i[u])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(CGt(i,a)-u<o.size)return!1}return!0}function IGt(e,t){return e.map(n=>_n(t.fields?{values:t.fields.map(r=>zRe(r)(n.datum))}:{[mf]:PS(n.datum)},t))}function kGt(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},u={},l,c,f,d,h,p,m,g,y,v,b=o.length,_=0,w,S;_<b;++_)if(l=o[_],d=l.unit,c=l.fields,f=l.values,c&&f){for(w=0,S=c.length;w<S;++w)h=c[w],m=s[h.field]||(s[h.field]={}),g=m[d]||(m[d]=[]),u[h.field]=y=h.type.charAt(0),v=V4[`${y}_union`],m[d]=v(g,bt(f[w]));n&&(g=a[d]||(a[d]=[]),g.push(bt(f).reduce((E,C,A)=>(E[c[A].field]=C,E),{})))}else h=mf,p=PS(l),m=s[h]||(s[h]={}),g=m[d]||(m[d]=[]),g.push(p),n&&(g=a[d]||(a[d]=[]),g.push({[mf]:p}));if(t=t||Vle,s[mf]?s[mf]=V4[`${mf}_${t}`](...Object.values(s[mf])):Object.keys(s).forEach(E=>{s[E]=Object.keys(s[E]).map(C=>s[E][C]).reduce((C,A)=>C===void 0?A:V4[`${u[E]}_${t}`](C,A))}),o=Object.keys(a),n&&o.length){const E=r?yGt:gGt;s[E]=t===Vle?{[Hle]:o.reduce((C,A)=>(C.push(...a[A]),C),[])}:{[vGt]:o.map(C=>({[Hle]:a[C]}))}}return s}var V4={[`${mf}_union`]:xLt,[`${mf}_intersect`]:wLt,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Os(t[0]),r=Os(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Os(t[0]),r=Os(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const RGt=":",PGt="@";function EK(e,t,n,r){t[0].type!==my&&Me("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&Wn(t).value,s="unit",a=PGt+s,u=RGt+i;o===wK&&!qt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),qt(r,u)||(r[u]=n.getData(i).tuplesRef())}function HRe(e){const t=this.context.data[e];return t?t.values.value:[]}function NGt(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function DGt(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove($l).insert(t)),1}function $Gt(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const w2=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},OGt=w2("format"),qRe=w2("timeFormat"),MGt=w2("utcFormat"),LGt=w2("timeParse"),FGt=w2("utcParse"),bI=new Date(2e3,0,1);function AM(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(bI.setYear(2e3),bI.setMonth(e),bI.setDate(t),qRe.call(this,bI,n))}function jGt(e){return AM.call(this,e,1,"%B")}function BGt(e){return AM.call(this,e,1,"%b")}function UGt(e){return AM.call(this,0,2+e,"%A")}function zGt(e){return AM.call(this,0,2+e,"%a")}const VGt=":",HGt="@",qj="%",WRe="$";function xK(e,t,n,r){t[0].type!==my&&Me("First argument to data functions must be a string literal.");const i=t[0].value,o=VGt+i;if(!qt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function qGt(e,t,n,r){t[0].type!==my&&Me("First argument to indata must be a string literal."),t[1].type!==my&&Me("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=HGt+o;qt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function ya(e,t,n,r){if(t[0].type===my)Wle(n,r,t[0].value);else for(e in n.scales)Wle(n,r,e)}function Wle(e,t,n){const r=qj+n;if(!qt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function gd(e,t){if(wn(e))return e;if(_t(e)){const n=t.scales[e];return n&&n9t(n.value)?n.value:void 0}}function WGt(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=ya,n._range=ya,n._scale=ya;const r=i=>"_["+(i.type===my?at(qj+i.value):at(qj)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function TK(e,t){return function(n,r,i){if(n){const o=gd(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const GGt=TK("area",yUt),YGt=TK("bounds",wUt),KGt=TK("centroid",AUt);function XGt(e,t){const n=gd(e,(t||this).context);return n&&n.scale()}function QGt(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function SK(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function JGt(){return SK(this.context.dataflow,"warn",arguments)}function ZGt(){return SK(this.context.dataflow,"info",arguments)}function eYt(){return SK(this.context.dataflow,"debug",arguments)}function H4(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wj(e){const t=$m(e),n=H4(t.r),r=H4(t.g),i=H4(t.b);return .2126*n+.7152*r+.0722*i}function tYt(e,t){const n=Wj(e),r=Wj(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function nYt(){const e=[].slice.call(arguments);return e.unshift({}),_n(...e)}function GRe(e,t){return e===t||e!==e&&t!==t?!0:je(e)?je(t)&&e.length===t.length?rYt(e,t):!1:wt(e)&&wt(t)?YRe(e,t):!1}function rYt(e,t){for(let n=0,r=e.length;n<r;++n)if(!GRe(e[n],t[n]))return!1;return!0}function YRe(e,t){for(const n in e)if(!GRe(e[n],t[n]))return!1;return!0}function Gle(e){return t=>YRe(e,t)}function iYt(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],u=a.input,l=s.stamp();let c=a.changes,f,d;if(s._trigger===!1||!(u.value.length||t||r))return 0;if((!c||c.stamp<l)&&(a.changes=c=s.changeset(),c.stamp=l,s.runAfter(()=>{a.modified=!0,s.pulse(u,c).run()},!0,1)),n&&(f=n===!0?$l:je(n)||MO(n)?n:Gle(n),c.remove(f)),t&&c.insert(t),r&&(f=Gle(r),u.value.some(f)?c.remove(f):c.insert(r)),i)for(d in o)c.modify(i,d,o[d]);return 1}function oYt(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function sYt(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Yle={};function aYt(e,t){const n=Yle[t]||(Yle[t]=Dl(t));return je(e)?e.map(n):n(e)}function CK(e){return je(e)||ArrayBuffer.isView(e)?e:null}function AK(e){return CK(e)||(_t(e)?e:null)}function uYt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return CK(e).join(...n)}function lYt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return AK(e).indexOf(...n)}function cYt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return AK(e).lastIndexOf(...n)}function fYt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return AK(e).slice(...n)}function dYt(e,t,n){return wn(n)&&Me("Function argument passed to replace."),String(e).replace(t,n)}function hYt(e){return CK(e).slice().reverse()}function pYt(e,t,n){return jG(e||0,t||0,n||0)}function mYt(e,t){const n=gd(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function gYt(e,t){const n=gd(e,(t||this).context);return n?n.copy():void 0}function yYt(e,t){const n=gd(e,(t||this).context);return n?n.domain():[]}function vYt(e,t,n){const r=gd(e,(n||this).context);return r?je(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function bYt(e,t){const n=gd(e,(t||this).context);return n&&n.range?n.range():[]}function _Yt(e,t,n){const r=gd(e,(n||this).context);return r?r(t):void 0}function wYt(e,t,n,r,i){e=gd(e,(i||this).context);const o=FAe(t,n);let s=e.domain(),a=s[0],u=Wn(s),l=qs;return u-a?l=CAe(e,a,u):e=(e.interpolator?cr("sequential")().interpolator(e.interpolator()):cr("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,u=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),u!==Wn(s)&&s.push(u)),s.forEach(c=>o.stop(l(c),e(c))),o}function EYt(e,t,n){const r=gd(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function xYt(e){let t=null;return function(n){return n?wS(n,t=t||Xb(e)):e}}const KRe=e=>e.data;function XRe(e,t){const n=HRe.call(t,e);return n.root&&n.root.lookup||{}}function TYt(e,t,n){const r=XRe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(KRe):void 0}function SYt(e,t){const n=XRe(e,this)[t];return n?n.ancestors().map(KRe):void 0}const QRe=()=>typeof window<"u"&&window||null;function CYt(){const e=QRe();return e?e.screen:{}}function AYt(){const e=QRe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function IYt(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function JRe(e,t,n){if(!e)return[];const[r,i]=e,o=new ro().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return OIe(s,o,kYt(t))}function kYt(e){let t=null;if(e){const n=bt(e.marktype),r=bt(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function RYt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=bt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function PYt(e){return bt(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function NYt(e,t,n){const{x:r,y:i,mark:o}=n,s=new ro().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,l]of t)u<s.x1&&(s.x1=u),u>s.x2&&(s.x2=u),l<s.y1&&(s.y1=l),l>s.y2&&(s.y2=l);return s.translate(r,i),JRe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(u=>DYt(u.x,u.y,t))}function DYt(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[u,l]=n[i];l>t!=a>t&&e<(s-u)*(t-l)/(a-l)+u&&r++}return r&1}const NS={random(){return Ml()},cumulativeNormal:UO,cumulativeLogNormal:jW,cumulativeUniform:VW,densityNormal:$W,densityLogNormal:FW,densityUniform:zW,quantileNormal:zO,quantileLogNormal:BW,quantileUniform:HW,sampleNormal:BO,sampleLogNormal:LW,sampleUniform:UW,isArray:je,isBoolean:cg,isDate:hm,isDefined(e){return e!==void 0},isNumber:tr,isObject:wt,isRegExp:oSe,isString:_t,isTuple:MO,isValid(e){return e!=null&&e===e},toBoolean:hW,toDate(e){return pW(e)},toNumber:Os,toString:mW,indexof:lYt,join:uYt,lastindexof:cYt,replace:dYt,reverse:hYt,slice:fYt,flush:rSe,lerp:sSe,merge:nYt,pad:lSe,peek:Wn,pluck:aYt,span:YC,inrange:k1,truncate:cSe,rgb:$m,lab:jP,hcl:BP,hsl:LP,luminance:Wj,contrast:tYt,sequence:Du,format:OGt,utcFormat:MGt,utcParse:FGt,utcOffset:VSe,utcSequence:WSe,timeFormat:qRe,timeParse:LGt,timeOffset:zSe,timeSequence:qSe,timeUnitSpecifier:PSe,monthFormat:jGt,monthAbbrevFormat:BGt,dayFormat:UGt,dayAbbrevFormat:zGt,quarter:ZTe,utcquarter:eSe,week:DSe,utcweek:MSe,dayofyear:NSe,utcdayofyear:OSe,warn:JGt,info:ZGt,debug:eYt,extent(e){return Gf(e)},inScope:QGt,intersect:JRe,clampRange:tSe,pinchDistance:oYt,pinchAngle:sYt,screen:CYt,containerSize:IYt,windowSize:AYt,bandspace:pYt,setdata:DGt,pathShape:xYt,panLinear:KTe,panLog:XTe,panPow:QTe,panSymlog:JTe,zoomLinear:aW,zoomLog:uW,zoomPow:TP,zoomSymlog:lW,encode:$Gt,modify:iYt,lassoAppend:RYt,lassoPath:PYt,intersectLasso:NYt},$Yt=["view","item","group","xy","x","y"],OYt="event.vega.",ZRe="this.",IK={},ePe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${at(WRe+e)}]`,functions:MYt,constants:jRe,visitors:IK},Gj=URe(ePe);function MYt(e){const t=BRe(e);$Yt.forEach(n=>t[n]=OYt+n);for(const n in NS)t[n]=ZRe+n;return _n(t,WGt(e,NS,IK)),t}function Gi(e,t,n){return arguments.length===1?NS[e]:(NS[e]=t,n&&(IK[e]=n),Gj&&(Gj.functions[e]=ZRe+e),this)}Gi("bandwidth",mYt,ya);Gi("copy",gYt,ya);Gi("domain",yYt,ya);Gi("range",bYt,ya);Gi("invert",vYt,ya);Gi("scale",_Yt,ya);Gi("gradient",wYt,ya);Gi("geoArea",GGt,ya);Gi("geoBounds",YGt,ya);Gi("geoCentroid",KGt,ya);Gi("geoShape",EYt,ya);Gi("geoScale",XGt,ya);Gi("indata",NGt,qGt);Gi("data",HRe,xK);Gi("treePath",TYt,xK);Gi("treeAncestors",SYt,xK);Gi("vlSelectionTest",TGt,EK);Gi("vlSelectionIdTest",AGt,EK);Gi("vlSelectionResolve",kGt,EK);Gi("vlSelectionTuples",IGt);function Jf(e,t){const n={};let r;try{e=_t(e)?e:at(e)+"",r=_K(e)}catch{Me("Expression parse error: "+e)}r.visit(o=>{if(o.type!==NRe)return;const s=o.callee.name,a=ePe.visitors[s];a&&a(s,o.arguments,t,n)});const i=Gj(r);return i.globals.forEach(o=>{const s=WRe+o;!qt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:_n({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function LYt(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const FYt=Fc(["rule"]),Kle=Fc(["group","image","rect"]);function jYt(e,t){let n="";return FYt[t]||(e.x2&&(e.x?(Kle[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Kle[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function kK(e){return(e+"").toLowerCase()}function BYt(e){return kK(e)==="operator"}function UYt(e){return kK(e)==="collect"}function EE(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function zYt(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var VYt={operator:(e,t)=>EE(e,["_"],t.code),parameter:(e,t)=>EE(e,["datum","_"],t.code),event:(e,t)=>EE(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return EE(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+at(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=jYt(r,n),i+="return m;",EE(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(at).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let u,l;return o.path?(u=`a${o.path}`,l=`b${o.path}`):((n=n||{})["f"+s]=o,u=`this.f${s}(a)`,l=`this.f${s}(b)`),zYt(u,l,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function HYt(e){const t=this;BYt(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function qYt(e){const t=this;if(e.params){const n=t.get(e.id);n||Me("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function WYt(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=je(i)?i.map(o=>Xle(o,n,t)):Xle(i,n,t)}return t}function Xle(e,t,n){if(!e||!wt(e))return e;for(let r=0,i=Qle.length,o;r<i;++r)if(o=Qle[r],qt(e,o.key))return o.parse(e,t,n);return e}var Qle=[{key:"$ref",parse:GYt},{key:"$key",parse:KYt},{key:"$expr",parse:YYt},{key:"$field",parse:XYt},{key:"$encode",parse:JYt},{key:"$compare",parse:QYt},{key:"$context",parse:ZYt},{key:"$subflow",parse:eKt},{key:"$tupleid",parse:tKt}];function GYt(e,t){return t.get(e.$ref)||Me("Operator not defined: "+e.$ref)}function YYt(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=mu(t.parameterExpression(e.$expr),e.$fields))}function KYt(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=dW(e.$key,e.$flat,t.expr.codegen))}function XYt(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Dl(e.$field,e.$name,t.expr.codegen))}function QYt(e,t){const n="c:"+e.$compare+"_"+e.$order,r=bt(e.$compare).map(i=>i&&i.$tupleid?Vt:i);return t.fn[n]||(t.fn[n]=cW(r,e.$order,t.expr.codegen))}function JYt(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=mu(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function ZYt(e,t){return t}function eKt(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),u=s.signals.parent;return u&&u.set(o),a.detachSubflow=()=>t.detach(s),a}}function tKt(){return Vt}function nKt(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&Me("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function rKt(e){var t=this,n=wt(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||Me("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const iKt={skip:!0};function oKt(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function sKt(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],iKt)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove($l).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function tPe(e,t,n,r){return new nPe(e,t,n,r)}function nPe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||VYt,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Jle(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}nPe.prototype=Jle.prototype={fork(){const e=new Jle(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),UYt(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[kK(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:LYt,parseOperator:HYt,parseOperatorParameters:qYt,parseParameters:WYt,parseStream:nKt,parseUpdate:rKt,getState:oKt,setState:sKt};function aKt(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),rPe(t,e.description()))}function rPe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function uKt(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const q4="default";function lKt(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:q4,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,o=i?_t(i)?i:i.user:q4,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return _t(r)||(i=r.item,r=r.user),Yj(e,r&&r!==q4?r:i||r),i},{cursor:t})}function Yj(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function $N(e,t){var n=e._runtime.data;return qt(n,t)||Me("Unrecognized data set: "+t),n[t]}function cKt(e,t){return arguments.length<2?$N(this,e).values.value:IM.call(this,e,ov().remove($l).insert(t))}function IM(e,t){bCe(t)||Me("Second argument to changes must be a changeset.");const n=$N(this,e);return n.modified=!0,this.pulse(n.input,t)}function fKt(e,t){return IM.call(this,e,ov().insert(t))}function dKt(e,t){return IM.call(this,e,ov().remove(t))}function iPe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function oPe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function kM(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function hKt(e){var t=kM(e),n=iPe(e),r=oPe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function pKt(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=kM(e),s=t.changedTouches?t.changedTouches[0]:t,o=mM(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=mKt(e,n,o),t}function mKt(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,u;if(s){for(u=t;u;u=u.mark.group)if(u.mark.name===s){a=u;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;_t(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Ws(e),item:Ws(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const Zle="view",gKt="timer",yKt="window",vKt={trap:!1};function bKt(e){const t=_n({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{je(r[o])&&(r[o]=Fc(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function sPe(e,t,n,r){e._eventListeners.push({type:n,sources:bt(t),handler:r})}function _Kt(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function _I(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||wt(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function wKt(e,t,n){var r=this,i=new jO(n),o=function(l,c){r.runAsync(null,()=>{e===Zle&&_Kt(r,t)&&l.preventDefault(),i.receive(pKt(r,l,c))})},s;if(e===gKt)_I(r,"timer",t)&&r.timer(o,t);else if(e===Zle)_I(r,"view",t)&&r.addEventListener(t,o,vKt);else if(e===yKt?_I(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&_I(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,u=s.length;a<u;++a)s[a].addEventListener(t,o);sPe(r,s,t,o)}return i}function ece(e){return e.item}function tce(e){return e.item.mark.source}function nce(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function EKt(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",ece),tce,nce(e)),this.on(this.events("view","pointerout",ece),tce,nce(t)),this}function xKt(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,o,s,a,u;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],o=s.sources.length;--o>=0;)s.sources[o].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)u=n[i].type,a=n[i].handler,this._handler.off(u,a);return this}function Fu(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const TKt="vega-bind",SKt="vega-bind-name",CKt="vega-bind-radio";function AKt(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=fW(r.debounce,i.update))),(r.input==null&&r.element?IKt:RKt)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function IKt(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),sPe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(kKt(i))}}function kKt(e){return typeof Event<"u"?new Event(e):{type:e}}function RKt(e,t,n,r){const i=r.signal(n.signal),o=Fu("div",{class:TKt}),s=n.input==="radio"?o:o.appendChild(Fu("label"));s.appendChild(Fu("span",{class:SKt},n.name||n.signal)),t.appendChild(o);let a=PKt;switch(n.input){case"checkbox":a=NKt;break;case"select":a=DKt;break;case"radio":a=$Kt;break;case"range":a=OKt;break}a(e,s,n,i)}function PKt(e,t,n,r){const i=Fu("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function NKt(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Fu("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function DKt(e,t,n,r){const i=Fu("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const u={value:s};ON(s,r)&&(u.selected=!0),i.appendChild(Fu("option",u,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,u=n.options.length;a<u;++a)if(ON(n.options[a],s)){i.selectedIndex=a;return}}}function $Kt(e,t,n,r){const i=Fu("span",{class:CKt}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const u={type:"radio",name:n.signal,value:s};ON(s,r)&&(u.checked=!0);const l=Fu("input",u);l.addEventListener("change",()=>e.update(s));const c=Fu("label",{},(o[a]||s)+"");return c.prepend(l),i.appendChild(c),l}),e.set=s=>{const a=e.elements,u=a.length;for(let l=0;l<u;++l)ON(a[l].value,s)&&(a[l].checked=!0)}}function OKt(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||Pm(o,i,100),a=Fu("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const u=Fu("span",{},+r);t.appendChild(a),t.appendChild(u);const l=()=>{u.textContent=a.value,e.update(+a.value)};a.addEventListener("input",l),a.addEventListener("change",l),e.elements=[a],e.set=c=>{a.value=c,u.textContent=c}}function ON(e,t){return e===t||e+""==t+""}function aPe(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,iPe(e),oPe(e),kM(e),i,o).background(e.background())}function RK(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function MKt(e,t,n,r){const i=new r(e.loader(),RK(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,kM(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function LKt(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=gM(r);e=n._el=e?W4(n,e,!0):null,aKt(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||h2,a=e?o.renderer:o.headless;return n._renderer=a?aPe(n,n._renderer,e,a):null,n._handler=MKt(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=W4(n,t,!0):e.appendChild(Fu("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=W4(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{AKt(n,u.element||t,u)})),n}function W4(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const xE=e=>+e||0,FKt=e=>({top:e,bottom:e,left:e,right:e});function rce(e){return wt(e)?{top:xE(e.top),bottom:xE(e.bottom),left:xE(e.left),right:xE(e.right)}:FKt(xE(e))}async function PK(e,t,n,r){const i=gM(t),o=i&&i.headless;return o||Me("Unrecognized renderer type: "+t),await e.runAsync(),aPe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function jKt(e,t){e!==Hp.Canvas&&e!==Hp.SVG&&e!==Hp.PNG&&Me("Unrecognized image type: "+e);const n=await PK(this,e,t);return e===Hp.SVG?BKt(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function BKt(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function UKt(e,t){return(await PK(this,Hp.Canvas,e,t)).canvas()}async function zKt(e){return(await PK(this,Hp.SVG,e)).svg()}function VKt(e,t,n){return tPe(e,Hb,NS,n).parse(t)}function HKt(e){var t=this._runtime.scales;return qt(t,e)||Me("Unrecognized scale or projection: "+e),t[e].value}var uPe="width",lPe="height",NK="padding",ice={skip:!0};function cPe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===NK?r.left+r.right:0)}function fPe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===NK?r.top+r.bottom:0)}function qKt(e){var t=e._signals,n=t[uPe],r=t[lPe],i=t[NK];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=cPe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=fPe(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function WKt(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(uPe,n,ice),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(lPe,r,ice),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(u=>u.resize())},!1,1)}function GKt(e){return this._runtime.getState(e||{data:YKt,signals:KKt,recurse:!0})}function YKt(e,t){return t.modified&&je(t.input.value)&&!e.startsWith("_:vega:_")}function KKt(e,t){return!(e==="parent"||t instanceof Hb.proxy)}function XKt(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function QKt(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(IVt(n,t))}function JKt(e,t,n,r){const i=e.element();i&&i.setAttribute("title",ZKt(r))}function ZKt(e){return e==null?"":je(e)?dPe(e):wt(e)&&!hm(e)?eXt(e):e+""}function eXt(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(je(n)?dPe(n):hPe(n))}).join(`
`)}function dPe(e){return"["+e.map(hPe).join(", ")+"]"}function hPe(e){return je(e)?"[]":wt(e)&&!hm(e)?"{}":e}function tXt(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e!=null&&e();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function pPe(e,t){const n=this;if(t=t||{},nb.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=_n({},e.locale,t.locale);n.locale(lCe(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Hp.Canvas,n._scenegraph=new uIe;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||JKt,n._redraw=!0,n._handler=new h2().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=bKt(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=VKt(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:_n({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=cPe(n,n._width),n._viewHeight=fPe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,qKt(n),uKt(n),lKt(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function wI(e,t){return qt(e._signals,t)?e._signals[t]:Me("Unrecognized signal name: "+at(t))}function mPe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function oce(e,t,n,r){let i=mPe(n,r);return i||(i=RK(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function sce(e,t,n){const r=mPe(t,n);return r&&t._targets.remove(r),e}dt(pPe,nb,{async evaluate(e,t,n){if(await nb.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,hKt(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Ek(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&rPe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=wI(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",rce(e)):rce(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(gM(e)||Me("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(nb.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(wI(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:WKt,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=RK(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return oce(this,e,wI(this,e),t)},removeSignalListener(e,t){return sce(this,wI(this,e),t)},addDataListener(e,t){return oce(this,e,$N(this,e).values,t)},removeDataListener(e,t){return sce(this,$N(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=Yj(this,null);this._globalCursor=!!e,t&&Yj(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:QKt,events:wKt,finalize:xKt,hover:EKt,data:cKt,change:IM,insert:fKt,remove:dKt,scale:HKt,initialize:LKt,toImageURL:jKt,toCanvas:UKt,toSVG:zKt,getState:GKt,setState:XKt,_watchPixelRatio:tXt});const nXt="view",MN="[",LN="]",gPe="{",yPe="}",rXt=":",vPe=",",iXt="@",oXt=">",sXt=/[[\]{}]/,aXt={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let bPe,_Pe;function gg(e,t,n){return bPe=t||nXt,_Pe=n||aXt,wPe(e.trim()).map(Kj)}function uXt(e){return _Pe[e]}function fT(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function wPe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=fT(e,i,vPe,MN+gPe,LN+yPe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function Kj(e){return e[0]==="["?lXt(e):cXt(e)}function lXt(e){const t=e.length;let n=1,r;if(n=fT(e,n,LN,MN,LN),n===t)throw"Empty between selector: "+e;if(r=wPe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==oXt)throw"Expected '>' after between selector: "+e;r=r.map(Kj);const i=Kj(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function cXt(e){const t={source:bPe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,u,l;if(e[s-1]===yPe){if(a=e.lastIndexOf(gPe),a>=0){try{r=fXt(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===iXt&&(i=++a),u=fT(e,a,rXt),u<s&&(n.push(e.substring(o,u).trim()),o=a=++u),a=fT(e,a,MN),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),l=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=fT(e,a,LN),a===s)throw"Unmatched left bracket: "+e;if(l.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==MN)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||sXt.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):uXt(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),l!=null&&(t.filter=l),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function fXt(e){const t=e.split(vPe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function dXt(e){return wt(e)?e:{type:e||"pad"}}const TE=e=>+e||0,hXt=e=>({top:e,bottom:e,left:e,right:e});function pXt(e){return wt(e)?e.signal?e:{top:TE(e.top),bottom:TE(e.bottom),left:TE(e.left),right:TE(e.right)}:hXt(TE(e))}const Mo=e=>wt(e)&&!je(e)?_n({},e):{value:e};function ace(e,t,n,r){return n!=null?(wt(n)&&!je(n)||je(n)&&n.length&&wt(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function ys(e,t,n){for(const r in t)ace(e,r,t[r]);for(const r in n)ace(e,r,n[r],"update")}function ww(e,t,n){for(const r in t)n&&qt(n,r)||(e[r]=_n(e[r]||{},t[r]));return e}function c1(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const DK="mark",$K="frame",OK="scope",mXt="axis",gXt="axis-domain",yXt="axis-grid",vXt="axis-label",bXt="axis-tick",_Xt="axis-title",wXt="legend",EXt="legend-band",xXt="legend-entry",TXt="legend-gradient",EPe="legend-label",SXt="legend-symbol",CXt="legend-title",AXt="title",IXt="title-text",kXt="title-subtitle";function RXt(e,t,n,r,i){const o={},s={};let a,u,l,c;u="lineBreak",t==="text"&&i[u]!=null&&!c1(u,e)&&G4(o,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===$K?i.group:n===DK?_n({},i.mark,i[t]):null;for(u in c)l=c1(u,e)||(u==="fill"||u==="stroke")&&(c1("fill",e)||c1("stroke",e)),l||G4(o,u,c[u]);bt(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)c1(h,e)||G4(o,h,d[h])}),e=_n({},e);for(u in o)c=o[u],c.signal?(a=a||{})[u]=c:s[u]=c;return e.enter=_n(s,e.enter),a&&(e.update=_n(a,e.update)),e}function G4(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const xPe=e=>_t(e)?at(e):e.signal?`(${e.signal})`:TPe(e);function RM(e){if(e.gradient!=null)return NXt(e);let t=e.signal?`(${e.signal})`:e.color?PXt(e.color):e.field!=null?TPe(e.field):e.value!==void 0?at(e.value):void 0;return e.scale!=null&&(t=DXt(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${Bk(e.exponent)})`),e.mult!=null&&(t+=`*${Bk(e.mult)}`),e.offset!=null&&(t+=`+${Bk(e.offset)}`),e.round&&(t=`round(${t})`),t}const EI=(e,t,n,r)=>`(${e}(${[t,n,r].map(RM).join(",")})+'')`;function PXt(e){return e.c?EI("hcl",e.h,e.c,e.l):e.h||e.s?EI("hsl",e.h,e.s,e.l):e.l||e.a?EI("lab",e.l,e.a,e.b):e.r||e.g||e.b?EI("rgb",e.r,e.g,e.b):null}function NXt(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:at(n));for(;t.length&&Wn(t)==null;)t.pop();return t.unshift(xPe(e.gradient)),`gradient(${t.join(",")})`}function Bk(e){return wt(e)?"("+RM(e)+")":e}function TPe(e){return SPe(wt(e)?e:{datum:e})}function SPe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):Me("Invalid field reference: "+at(e));return e.signal||(r=_t(r)?cd(r).map(at).join("]["):SPe(r)),t+"["+r+"]"}function DXt(e,t){const n=xPe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+Bk(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function $Xt(e){let t="";return e.forEach(n=>{const r=RM(n);t+=n.test?`(${n.test})?${r}:`:r}),Wn(t)===":"&&(t+="null"),t}function CPe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=RXt(e,t,n,r,i.config);for(const a in e)s[a]=OXt(e[a],t,o,i);return o}function OXt(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=LXt(MXt(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function MXt(e){return je(e)?$Xt(e):RM(e)}function LXt(e,t,n,r){const i=Jf(e,t);return i.$fields.forEach(o=>r[o]=1),_n(n,i.$params),i.$expr}const FXt="outer",jXt=["value","update","init","react","bind"];function uce(e,t){Me(e+' for "outer" push: '+at(t))}function APe(e,t){const n=e.name;if(e.push===FXt)t.signals[n]||uce("No prior signal definition",n),jXt.forEach(r=>{e[r]!==void 0&&uce("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function Xj(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function PM(e,t,n,r){return new Xj(e,t,n,r)}function FN(e,t){return PM("operator",e,t)}function zt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function DS(e,t){return t?{$field:e,$name:t}:{$field:e}}const Qj=DS("key");function lce(e,t){return{$compare:e,$order:t}}function BXt(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const UXt="ascending",zXt="descending";function VXt(e){return wt(e)?(e.order===zXt?"-":"+")+NM(e.op,e.field):""}function NM(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const MK="scope",Jj="view";function yo(e){return e&&e.signal}function HXt(e){return e&&e.expr}function Uk(e){if(yo(e))return!0;if(wt(e)){for(const t in e)if(Uk(e[t]))return!0}return!1}function dc(e,t){return e??t}function $0(e){return e&&e.signal||e}const cce="timer";function $S(e,t){return(e.merge?WXt:e.stream?GXt:e.type?YXt:Me("Invalid stream specification: "+at(e)))(e,t)}function qXt(e){return e===MK?Jj:e||Jj}function WXt(e,t){const n=e.merge.map(i=>$S(i,t)),r=LK({merge:n},e,t);return t.addStream(r).id}function GXt(e,t){const n=$S(e.stream,t),r=LK({stream:n},e,t);return t.addStream(r).id}function YXt(e,t){let n;e.type===cce?(n=t.event(cce,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(qXt(e.source),e.type);const r=LK({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function LK(e,t,n){let r=t.between;return r&&(r.length!==2&&Me('Stream "between" parameter must have 2 entries: '+at(t)),e.between=[$S(r[0],n),$S(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(KXt(t.marktype,t.markname,t.markrole)),t.source===MK&&r.push("inScope(event.item)"),r.length&&(e.filter=Jf("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function KXt(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const XXt={code:"_.$value",ast:{type:"Identifier",value:"value"}};function QXt(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||Me("Signal update missing events specification."),_t(o)&&(o=gg(o,t.isSubscope()?MK:Jj)),o=bt(o).filter(u=>u.signal||u.scale?(a.push(u),0):1),a.length>1&&(a=[ZXt(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&Me("Signal encode and update are mutually exclusive."),s="encode(item(),"+at(r)+")"),i.update=_t(s)?Jf(s,t):s.expr!=null?Jf(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:XXt,$params:{$value:t.signalRef(s.signal)}}:Me("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(u=>t.addUpdate(_n(JXt(u,t),i)))}function JXt(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):$S(e,t)}}function ZXt(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function eQt(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?Me("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Jf(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>QXt(i,t,n.id))}const Rr=e=>(t,n,r)=>PM(e,n,t||void 0,r),IPe=Rr("aggregate"),tQt=Rr("axisticks"),kPe=Rr("bound"),Gc=Rr("collect"),fce=Rr("compare"),nQt=Rr("datajoin"),RPe=Rr("encode"),rQt=Rr("expression"),iQt=Rr("facet"),oQt=Rr("field"),sQt=Rr("key"),aQt=Rr("legendentries"),uQt=Rr("load"),lQt=Rr("mark"),cQt=Rr("multiextent"),fQt=Rr("multivalues"),dQt=Rr("overlap"),hQt=Rr("params"),PPe=Rr("prefacet"),pQt=Rr("projection"),mQt=Rr("proxy"),gQt=Rr("relay"),NPe=Rr("render"),yQt=Rr("scale"),lv=Rr("sieve"),vQt=Rr("sortitems"),DPe=Rr("viewlayout"),bQt=Rr("values");let _Qt=0;const $Pe={min:"min",max:"max",count:"sum"};function wQt(e,t){const n=e.type||"linear";_Ae(n)||Me("Unrecognized scale type: "+at(n)),t.addScale(e.name,{type:n,domain:void 0})}function EQt(e,t){const n=t.getScale(e.name).params;let r;n.domain=OPe(e.domain,e,t),e.range!=null&&(n.range=LPe(e,t,n)),e.interpolate!=null&&NQt(e.interpolate,n),e.nice!=null&&(n.nice=PQt(e.nice,t)),e.bins!=null&&(n.bins=RQt(e.bins,t));for(r in e)qt(n,r)||r==="name"||(n[r]=_l(e[r],t))}function _l(e,t){return wt(e)?e.signal?t.signalRef(e.signal):Me("Unsupported object: "+at(e)):e}function zk(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>_l(n,t))}function DM(e){Me("Can not find data set: "+at(e))}function OPe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&Me("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(je(e)?xQt:e.fields?SQt:TQt)(e,t,n)}function xQt(e,t,n){return e.map(r=>_l(r,n))}function TQt(e,t,n){const r=n.getData(e.data);return r||DM(e.data),Kb(t.type)?r.valuesRef(n,e.field,MPe(e.sort,!1)):xAe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function SQt(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=_t(s)?{data:r,field:s}:je(s)||s.signal?CQt(s,n):s,o.push(s),o),[]);return(Kb(t.type)?AQt:xAe(t.type)?IQt:kQt)(e,n,i)}function CQt(e,t){const n="_:vega:_"+_Qt++,r=Gc({});if(je(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+at(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,lv({})]),{data:n,field:"data"}}function AQt(e,t,n){const r=MPe(e.sort,!0);let i,o;const s=n.map(l=>{const c=t.getData(l.data);return c||DM(l.data),c.countsRef(t,l.field,r)}),a={groupby:Qj,pulse:s};r&&(i=r.op||"count",o=r.field?NM(i,r.field):"count",a.ops=[$Pe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(IPe(a));const u=t.add(Gc({pulse:zt(i)}));return o=t.add(bQt({field:Qj,sort:t.sortRef(r),pulse:zt(u)})),zt(o)}function MPe(e,t){return e&&(!e.field&&!e.op?wt(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?Me("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!$Pe[e.op]&&Me("Multiple domain scales can not be sorted using "+e.op)),e}function IQt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||DM(i.data),o.domainRef(t,i.field)});return zt(t.add(fQt({values:r})))}function kQt(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||DM(i.data),o.extentRef(t,i.field)});return zt(t.add(cQt({extents:r})))}function RQt(e,t){return e.signal||je(e)?zk(e,t):t.objectProperty(e)}function PQt(e,t){return e.signal?t.signalRef(e.signal):wt(e)?{interval:_l(e.interval),step:_l(e.step)}:_l(e)}function NQt(e,t){t.interpolate=_l(e.type||e),e.gamma!=null&&(t.interpolateGamma=_l(e.gamma))}function LPe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(_t(i)){if(r&&qt(r,i))return e=_n({},e,{range:r[i]}),LPe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=Kb(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Me("Unrecognized scale range value: "+at(i))}else if(i.scheme){n.scheme=je(i.scheme)?zk(i.scheme,t):_l(i.scheme,t),i.extent&&(n.schemeExtent=zk(i.extent,t)),i.count&&(n.schemeCount=_l(i.count,t));return}else if(i.step){n.rangeStep=_l(i.step,t);return}else{if(Kb(e.type)&&!je(i))return OPe(i,e,t);je(i)||Me("Unsupported range type: "+at(i))}return i.map(o=>(je(o)?zk:_l)(o,t))}function DQt(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=Zj(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=Zj(n[i],i,t));t.addProjection(e.name,r)}function Zj(e,t,n){return je(e)?e.map(r=>Zj(r,t,n)):wt(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:Me("Unsupported parameter object: "+at(e)):e}const Yc="top",Ew="left",xw="right",jm="bottom",FPe="center",$Qt="vertical",OQt="start",MQt="middle",LQt="end",eB="index",FK="label",FQt="offset",i_="perc",jQt="perc2",Sl="value",E2="guide-label",jK="guide-title",BQt="group-title",UQt="group-subtitle",dce="symbol",Vk="gradient",tB="discrete",nB="size",zQt="shape",VQt="fill",HQt="stroke",qQt="strokeWidth",WQt="strokeDash",GQt="opacity",BK=[nB,zQt,VQt,HQt,qQt,WQt,GQt],x2={name:1,style:1,interactive:1},Qn={value:0},Cl={value:1},$M="group",jPe="rect",UK="rule",YQt="symbol",cv="text";function OS(e){return e.type=$M,e.interactive=e.interactive||!1,e}function gu(e,t){const n=(r,i)=>dc(e[r],dc(t[r],i));return n.isVertical=r=>$Qt===dc(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>dc(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>dc(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>dc(e.columns,dc(t.columns,+n.isVertical(!0))),n}function BPe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function KQt(e,t,n){const r=t.config.style[n];return r&&r[e]}function OM(e,t,n){return`item.anchor === '${OQt}' ? ${e} : item.anchor === '${LQt}' ? ${t} : ${n}`}const zK=OM(at(Ew),at(xw),at(FPe));function XQt(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},wt(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function UPe(e,t){return t?e?wt(e)?Object.assign({},e,{offset:UPe(e.offset,t)}):{value:e,offset:t}:t:e}function Ku(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=ww(e.encode,t,x2)):e.interactive=!1,e}function QQt(e,t,n,r){const i=gu(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let u,l,c,f,d;o?(l=[0,1],c=[0,0],f=s,d=a):(l=[0,0],c=[1,0],f=a,d=s);const h={enter:u={opacity:Qn,x:Qn,y:Qn,width:Mo(f),height:Mo(d)},update:_n({},u,{opacity:Cl,fill:{gradient:t,start:l,stop:c}}),exit:{opacity:Qn}};return ys(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Ku({type:jPe,role:TXt,encode:h},r)}function JQt(e,t,n,r,i){const o=gu(e,n),s=o.isVertical(),a=o.gradientThickness(),u=o.gradientLength();let l,c,f,d,h="";s?(l="y",f="y2",c="x",d="width",h="1-"):(l="x",f="x2",c="y",d="height");const p={opacity:Qn,fill:{scale:t,field:Sl}};p[l]={signal:h+"datum."+i_,mult:u},p[c]=Qn,p[f]={signal:h+"datum."+jQt,mult:u},p[d]=Mo(a);const m={enter:p,update:_n({},p,{opacity:Cl}),exit:{opacity:Qn}};return ys(m,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Ku({type:jPe,role:EXt,key:Sl,from:i,encode:m},r)}const ZQt=`datum.${i_}<=0?"${Ew}":datum.${i_}>=1?"${xw}":"${FPe}"`,eJt=`datum.${i_}<=0?"${jm}":datum.${i_}>=1?"${Yc}":"${MQt}"`;function hce(e,t,n,r){const i=gu(e,t),o=i.isVertical(),s=Mo(i.gradientThickness()),a=i.gradientLength();let u=i("labelOverlap"),l,c,f,d,h="";const p={enter:l={opacity:Qn},update:c={opacity:Cl,text:{field:FK}},exit:{opacity:Qn}};return ys(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:dc(e.labelLimit,t.gradientLabelLimit)}),o?(l.align={value:"left"},l.baseline=c.baseline={signal:eJt},f="y",d="x",h="1-"):(l.align=c.align={signal:ZQt},l.baseline={value:"top"},f="x",d="y"),l[f]=c[f]={signal:h+"datum."+i_,mult:a},l[d]=c[d]=s,s.offset=dc(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+eB}:void 0,Ku({type:cv,role:EPe,style:E2,key:Sl,from:r,encode:p,overlap:u},n)}function tJt(e,t,n,r,i){const o=gu(e,t),s=n.entries,a=!!(s&&s.interactive),u=s?s.name:void 0,l=o("clipHeight"),c=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${FQt} : datum.${nB}`,h=l?Mo(l):{field:nB},p=`datum.${eB}`,m=`max(1, ${i})`;let g,y,v,b,_;h.mult=.5,g={enter:y={opacity:Qn,x:{signal:d,mult:.5,offset:c},y:h},update:v={opacity:Cl,x:y.x,y:y.y},exit:{opacity:Qn}};let w=null,S=null;e.fill||(w=t.symbolBaseFillColor,S=t.symbolBaseStrokeColor),ys(g,{fill:o("symbolFillColor",w),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",S),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),BK.forEach(k=>{e[k]&&(v[k]=y[k]={scale:e[k],field:Sl})});const E=Ku({type:YQt,role:SXt,key:Sl,from:f,clip:l?!0:void 0,encode:g},n.symbols),C=Mo(c);C.offset=o("labelOffset"),g={enter:y={opacity:Qn,x:{signal:d,offset:C},y:h},update:v={opacity:Cl,text:{field:FK},x:y.x,y:y.y},exit:{opacity:Qn}},ys(g,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const A=Ku({type:cv,role:EPe,style:E2,key:Sl,from:f,encode:g},n.labels);return g={enter:{noBound:{value:!l},width:Qn,height:l?Mo(l):Qn,opacity:Qn},exit:{opacity:Qn},update:v={opacity:Cl,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${m})`,v.row.signal=`${p}%${b}`,v.column.signal=`floor(${p} / ${b})`,_={field:["row",p]}):(v.row.signal=`floor(${p} / ${m})`,v.column.signal=`${p} % ${m}`,_={field:p}),v.column.signal=`(${i})?${v.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:eB}},OS({role:OK,from:r,encode:ww(g,s,x2),marks:[E,A],name:u,interactive:a,sort:_})}function nJt(e,t){const n=gu(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const VK='item.orient === "left"',HK='item.orient === "right"',MM=`(${VK} || ${HK})`,rJt=`datum.vgrad && ${MM}`,iJt=OM('"top"','"bottom"','"middle"'),oJt=OM('"right"','"left"','"center"'),sJt=`datum.vgrad && ${HK} ? (${oJt}) : (${MM} && !(datum.vgrad && ${VK})) ? "left" : ${zK}`,aJt=`item._anchor || (${MM} ? "middle" : "start")`,uJt=`${rJt} ? (${VK} ? -90 : 90) : 0`,lJt=`${MM} ? (datum.vgrad ? (${HK} ? "bottom" : "top") : ${iJt}) : "top"`;function cJt(e,t,n,r){const i=gu(e,t),o={enter:{opacity:Qn},update:{opacity:Cl,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Qn}};return ys(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:aJt},angle:{signal:uJt},align:{signal:sJt},baseline:{signal:lJt},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Ku({type:cv,role:CXt,style:jK,from:r,encode:o},n)}function fJt(e,t){let n;return wt(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+pce(e.path)+")":e.sphere&&(n="geoShape("+pce(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function pce(e){return wt(e)&&e.signal?e.signal:at(e)}function zPe(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===$M?OK:t||DK}function dJt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||zPe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function hJt(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function qK(e,t){const n=ECe(e.type);n||Me("Unrecognized transform type: "+at(e.type));const r=PM(n.type.toLowerCase(),null,VPe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function VPe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=pJt(s,t,n)}return r}function pJt(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return mJt(e,t,n);if(i===void 0){e.required&&Me("Missing required "+at(t.type)+" parameter: "+at(e.name));return}else{if(r==="param")return gJt(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!yo(i)?i.map(o=>mce(e,o,n)):mce(e,i,n)}function mce(e,t,n){const r=e.type;if(yo(t))return yce(r)?Me("Expression references can not be signals."):Y4(r)?n.fieldRef(t):vce(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Y4(r);return i&&yJt(t)?n.exprRef(t.expr,t.as):i&&vJt(t)?DS(t.field,t.as):yce(r)?Jf(t,n):bJt(r)?zt(n.getData(t).values):Y4(r)?DS(t):vce(r)?n.compareRef(t):t}}function mJt(e,t,n){return _t(t.from)||Me('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function gJt(e,t,n){const r=t[e.name];return e.array?(je(r)||Me("Expected an array of sub-parameters. Instead: "+at(r)),r.map(i=>gce(e,i,n))):gce(e,r,n)}function gce(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||Me("Unsupported parameter: "+at(t));const o=_n(VPe(i,t,n),i.key);return zt(n.add(hQt(o)))}const yJt=e=>e&&e.expr,vJt=e=>e&&e.field,bJt=e=>e==="data",yce=e=>e==="expr",Y4=e=>e==="field",vce=e=>e==="compare";function _Jt(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||Me("Only group marks can be faceted."),r.field!=null?s=a=Hk(r,n):(e.data?a=zt(n.getData(e.data).aggregate):(o=qK(_n({type:"aggregate",groupby:bt(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Hk(r,n),s=a=zt(n.add(o))),i=n.keyRef(r.groupby,!0))):s=zt(n.add(Gc(null,[{}]))),s||(s=Hk(e,n)),{key:i,pulse:s,parent:a}}function Hk(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:zt(t.getData(e.data).output)}function vy(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}vy.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=zt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new vy(e,o,i,r,s)};function HPe(e){return _t(e)?e:null}function bce(e,t,n){const r=NM(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function SE(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),u=VXt(o);let l=HPe(i),c,f;if(l!=null&&(e=t.scope,l=l+(u?"|"+u:""),c=a[l]),!c){const d=o?{field:Qj,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:zt(t.output)};u&&(d.sort=e.sortRef(o)),f=e.add(PM(r,void 0,d)),s&&(t.index[i]=f),c=zt(f),l!=null&&(a[l]=c)}return c}vy.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=HPe(t);let s,a,u;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&bce(e,s.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:zt(r.output)},n&&n.field&&bce(e,u,n),a=e.add(IPe(u)),s=e.add(Gc({pulse:zt(a)})),s={agg:a,ref:zt(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return zt(this.values)},extentRef(e,t){return SE(e,this,"extent","extent",t,!1)},domainRef(e,t){return SE(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return SE(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return SE(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return SE(e,this,"indata","tupleindex",t,!0,!0)}};function wJt(e,t,n){const r=e.from.facet,i=r.name,o=Hk(r,t);let s;r.name||Me("Facet must have a name: "+at(r)),r.data||Me("Facet must reference a data set: "+at(r)),r.field?s=t.add(PPe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(iQt({key:t.keyRef(r.groupby),group:zt(t.proxy(n.parent)),pulse:o})):Me("Facet must specify groupby or field: "+at(r));const a=t.fork(),u=a.add(Gc()),l=a.add(lv({pulse:zt(u)}));a.addData(i,new vy(a,u,u,l)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function EJt(e,t,n){const r=t.add(PPe({pulse:n.pulse})),i=t.fork();i.add(lv()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function qPe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,u=t.add(FN()),l="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",c=Jf(l,t);u.update=c.$expr,u.params=c.$params}function LM(e,t){const n=zPe(e),r=e.type===$M,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===OK||n===$K,a,u,l,c,f,d,h;const p=n===DK||s||i,m=_Jt(e.from,r,t);u=t.add(nQt({key:m.key||(e.key?DS(e.key):void 0),pulse:m.pulse,clean:!r}));const g=zt(u);u=l=t.add(Gc({pulse:g})),u=t.add(lQt({markdef:dJt(e),interactive:hJt(e.interactive,t),clip:fJt(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:zt(u)}));const y=zt(u);u=c=t.add(RPe(CPe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:y}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(S=>{const E=qK(S,t),C=E.metadata;(C.generates||C.changes)&&Me("Mark transforms should not generate new data."),C.nomod||(c.params.mod=!0),E.params.pulse=zt(u),t.add(u=E)}),e.sort&&(u=t.add(vQt({sort:t.compareRef(e.sort),pulse:zt(u)})));const v=zt(u);(i||s)&&(s=t.add(DPe({layout:t.objectProperty(e.layout),legends:t.legends,mark:y,pulse:v})),d=zt(s));const b=t.add(kPe({mark:y,pulse:d||v}));h=zt(b),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(v,d||h,g),i?wJt(e,t,m):p?EJt(e,t,m):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(b))),o&&(h=xJt(o,h,t));const _=t.add(NPe({pulse:h})),w=t.add(lv({pulse:zt(_)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new vy(t,l,_,w)),e.on&&e.on.forEach(S=>{(S.insert||S.remove||S.toggle)&&Me("Marks only support modify triggers."),qPe(S,t,f)}))}function xJt(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:yo(o)?n.signalRef(o.signal):o,method:yo(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=yo(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return zt(n.add(dQt(s)))}function TJt(e,t){const n=t.config.legend,r=e.encode||{},i=gu(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,u=o.style,l={};let c=0,f,d,h;BK.forEach(b=>e[b]?(l[b]=e[b],c=c||e[b]):0),c||Me("Missing valid scale for legend.");const p=SJt(e,t.scaleType(c)),m={title:e.title!=null,scales:l,type:p,vgrad:p!=="symbol"&&i.isVertical()},g=zt(t.add(Gc(null,[m]))),y={enter:{x:{value:0},y:{value:0}}},v=zt(t.add(aQt(d={type:p,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===Vk?(h=[QQt(e,c,n,r.gradient),hce(e,n,r.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${$0(i.gradientLength())})/100))`)):p===tB?h=[JQt(e,c,n,r.gradient,v),hce(e,n,r.labels,v)]:(f=nJt(e,n),h=[tJt(e,n,r,v,$0(f.columns))],d.size=IJt(e,t,h[0].marks)),h=[OS({role:xXt,from:g,encode:y,marks:h,layout:f,interactive:a})],m.title&&h.push(cJt(e,n,r.title,g)),LM(OS({role:wXt,from:g,encode:ww(AJt(i,e,n),o,x2),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:u}),t)}function SJt(e,t){let n=e.type||dce;return!e.type&&CJt(e)===1&&(e.fill||e.stroke)&&(n=HG(t)?Vk:G9(t)?tB:dce),n!==Vk?n:G9(t)?tB:Vk}function CJt(e){return BK.reduce((t,n)=>t+(e[n]?1:0),0)}function AJt(e,t,n){const r={enter:{},update:{}};return ys(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function IJt(e,t,n){const r=$0(_ce("size",e,n)),i=$0(_ce("strokeWidth",e,n)),o=$0(kJt(n[1].encode,t,E2));return Jf(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function _ce(e,t,n){return t[e]?`scale("${t[e]}",datum)`:BPe(e,n[0].encode)}function kJt(e,t,n){return BPe("fontSize",e)||KQt("fontSize",t,n)}const RJt=`item.orient==="${Ew}"?-90:item.orient==="${xw}"?90:0`;function PJt(e,t){e=_t(e)?{text:e}:e;const n=gu(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,u=[],l={},c=zt(t.add(Gc(null,[l])));return u.push($Jt(e,n,NJt(e),c)),e.subtitle&&u.push(OJt(e,n,r.subtitle,c)),LM(OS({role:AXt,from:c,encode:DJt(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function NJt(e){const t=e.encode;return t&&t.title||_n({name:e.name,interactive:e.interactive,style:e.style},t)}function DJt(e,t){const n={enter:{},update:{}};return ys(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:zK},angle:{signal:RJt},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),ww(n,t,x2)}function $Jt(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ys(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ku({type:cv,role:IXt,style:BQt,from:r,encode:s},n)}function OJt(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return ys(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ku({type:cv,role:kXt,style:UQt,from:r,encode:s},n)}function MJt(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(qK(r,t))}),e.on&&e.on.forEach(r=>{qPe(r,t,e.name)}),t.addDataPipeline(e.name,LJt(e,t,n))}function LJt(e,t,n){const r=[];let i=null,o=!1,s=!1,a,u,l,c,f;for(e.values?yo(e.values)||Uk(e.format)?(r.push(wce(t,e)),r.push(i=Pg())):r.push(i=Pg({$ingest:e.values,$format:e.format})):e.url?Uk(e.url)||Uk(e.format)?(r.push(wce(t,e)),r.push(i=Pg())):r.push(i=Pg({$request:e.url,$format:e.format})):e.source&&(i=a=bt(e.source).map(d=>zt(t.getData(d).output)),r.push(null)),u=0,l=n.length;u<l;++u)c=n[u],f=c.metadata,!i&&!f.source&&r.push(i=Pg()),r.push(c),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=c:f.changes&&(i=null);return a&&(l=a.length-1,r[0]=gQt({derive:o,pulse:l?a:a[0]}),(o||l)&&r.splice(1,0,Pg())),i||r.push(Pg()),r.push(lv({})),r}function Pg(e){const t=Gc({},e);return t.metadata={source:!0},t}function wce(e,t){return uQt({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const WPe=e=>e===jm||e===Yc,FM=(e,t,n)=>yo(e)?UJt(e.signal,t,n):e===Ew||e===Yc?t:n,Lo=(e,t,n)=>yo(e)?jJt(e.signal,t,n):WPe(e)?t:n,Dc=(e,t,n)=>yo(e)?BJt(e.signal,t,n):WPe(e)?n:t,GPe=(e,t,n)=>yo(e)?zJt(e.signal,t,n):e===Yc?{value:t}:{value:n},FJt=(e,t,n)=>yo(e)?VJt(e.signal,t,n):e===xw?{value:t}:{value:n},jJt=(e,t,n)=>YPe(`${e} === '${Yc}' || ${e} === '${jm}'`,t,n),BJt=(e,t,n)=>YPe(`${e} !== '${Yc}' && ${e} !== '${jm}'`,t,n),UJt=(e,t,n)=>WK(`${e} === '${Ew}' || ${e} === '${Yc}'`,t,n),zJt=(e,t,n)=>WK(`${e} === '${Yc}'`,t,n),VJt=(e,t,n)=>WK(`${e} === '${xw}'`,t,n),YPe=(e,t,n)=>(t=t!=null?Mo(t):t,n=n!=null?Mo(n):n,Ece(t)&&Ece(n)?(t=t?t.signal||at(t.value):null,n=n?n.signal||at(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[_n({test:e},t)].concat(n||[])),Ece=e=>e==null||Object.keys(e).length===1,WK=(e,t,n)=>({signal:`${e} ? (${$1(t)}) : (${$1(n)})`}),HJt=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${Ew}' ? (${$1(r)}) : `:"")+(n!=null?`${e} === '${jm}' ? (${$1(n)}) : `:"")+(i!=null?`${e} === '${xw}' ? (${$1(i)}) : `:"")+(t!=null?`${e} === '${Yc}' ? (${$1(t)}) : `:"")+"(null)"}),$1=e=>yo(e)?e.signal:e==null?null:at(e),qJt=(e,t)=>t===0?0:yo(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},sb=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Yv(e,t,n,r){let i;if(t&&qt(t,e))return t[e];if(qt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[jK][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[E2][i]}return null}function xce(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function WJt(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,u,l;if(yo(s)){const f=xce([n.axisX,n.axisY]),d=xce([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(l of f)a[l]=Lo(s,Yv(l,n.axisX,i,r),Yv(l,n.axisY,i,r));u={};for(l of d)u[l]=HJt(s.signal,Yv(l,n.axisTop,i,r),Yv(l,n.axisBottom,i,r),Yv(l,n.axisLeft,i,r),Yv(l,n.axisRight,i,r))}else a=s===Yc||s===jm?n.axisX:n.axisY,u=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||u||o?_n({},i,a,u,o):i}function GJt(e,t,n,r){const i=gu(e,t),o=e.orient;let s,a;const u={enter:s={opacity:Qn},update:a={opacity:Cl},exit:{opacity:Qn}};ys(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const l=Tce(e,0),c=Tce(e,1);return s.x=a.x=Lo(o,l,Qn),s.x2=a.x2=Lo(o,c),s.y=a.y=Dc(o,l,Qn),s.y2=a.y2=Dc(o,c),Ku({type:UK,role:gXt,from:r,encode:u},n)}function Tce(e,t){return{scale:e.scale,range:t}}function YJt(e,t,n,r,i){const o=gu(e,t),s=e.orient,a=e.gridScale,u=FM(s,1,-1),l=KJt(e.offset,u);let c,f,d;const h={enter:c={opacity:Qn},update:d={opacity:Cl},exit:f={opacity:Qn}};ys(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Sl,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},m=Lo(s,{signal:"height"},{signal:"width"}),g=a?{scale:a,range:0,mult:u,offset:l}:{value:0,offset:l},y=a?{scale:a,range:1,mult:u,offset:l}:_n(m,{mult:u,offset:l});return c.x=d.x=Lo(s,p,g),c.y=d.y=Dc(s,p,g),c.x2=d.x2=Dc(s,y),c.y2=d.y2=Lo(s,y),f.x=Lo(s,p),f.y=Dc(s,p),Ku({type:UK,role:yXt,key:Sl,from:r,encode:h},n)}function KJt(e,t){if(t!==1)if(!wt(e))e=yo(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=_n({},e);for(;n.mult!=null;)if(wt(n.mult))n=n.mult=_n({},n.mult);else return n.mult=yo(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function XJt(e,t,n,r,i,o){const s=gu(e,t),a=e.orient,u=FM(a,-1,1);let l,c,f;const d={enter:l={opacity:Qn},update:f={opacity:Cl},exit:c={opacity:Qn}};ys(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=Mo(i);h.mult=u;const p={scale:e.scale,field:Sl,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=l.y=Lo(a,Qn,p),f.y2=l.y2=Lo(a,h),c.x=Lo(a,p),f.x=l.x=Dc(a,Qn,p),f.x2=l.x2=Dc(a,h),c.y=Dc(a,p),Ku({type:UK,role:bXt,key:Sl,from:r,encode:d},n)}function K4(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function QJt(e,t,n,r,i,o){const s=gu(e,t),a=e.orient,u=e.scale,l=FM(a,-1,1),c=$0(s("labelFlush")),f=$0(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=c===0||!!c,m;const g=Mo(i);g.mult=l,g.offset=Mo(s("labelPadding")||0),g.offset.mult=l;const y={scale:u,field:Sl,band:.5,offset:UPe(o.offset,s("labelOffset"))},v=Lo(a,p?K4(u,c,'"left"','"right"','"center"'):{value:"center"},FJt(a,"left","right")),b=Lo(a,GPe(a,"bottom","top"),p?K4(u,c,'"top"','"bottom"','"middle"'):{value:"middle"}),_=K4(u,c,`-(${f})`,f,0);p=p&&f;const w={opacity:Qn,x:Lo(a,y,g),y:Dc(a,y,g)},S={enter:w,update:m={opacity:Cl,text:{field:FK},x:w.x,y:w.y,align:v,baseline:b},exit:{opacity:Qn,x:w.x,y:w.y}};ys(S,{dx:!d&&p?Lo(a,_):null,dy:!h&&p?Dc(a,_):null}),ys(S,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const E=s("labelBound");let C=s("labelOverlap");return C=C||E?{separation:s("labelSeparation"),method:C,order:"datum.index",bound:E?{scale:u,orient:a,tolerance:E}:null}:void 0,m.align!==v&&(m.align=sb(m.align,v)),m.baseline!==b&&(m.baseline=sb(m.baseline,b)),Ku({type:cv,role:vXt,style:E2,key:Sl,from:r,encode:S,overlap:C},n)}function JJt(e,t,n,r){const i=gu(e,t),o=e.orient,s=FM(o,-1,1);let a,u;const l={enter:a={opacity:Qn,anchor:Mo(i("titleAnchor",null)),align:{signal:zK}},update:u=_n({},a,{opacity:Cl,text:Mo(e.title)}),exit:{opacity:Qn}},c={signal:`lerp(range("${e.scale}"), ${OM(0,1,.5)})`};return u.x=Lo(o,c),u.y=Dc(o,c),a.angle=Lo(o,Qn,qJt(s,90)),a.baseline=Lo(o,GPe(o,jm,Yc),{value:jm}),u.angle=a.angle,u.baseline=a.baseline,ys(l,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),ZJt(i,o,l,n),l.update.align=sb(l.update.align,a.align),l.update.angle=sb(l.update.angle,a.angle),l.update.baseline=sb(l.update.baseline,a.baseline),Ku({type:cv,role:_Xt,style:jK,from:r,encode:l},n)}function ZJt(e,t,n,r){const i=(a,u)=>a!=null?(n.update[u]=sb(Mo(a),n.update[u]),!1):!c1(u,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?Mo(s):Lo(t,Mo(s),Mo(o))}function eZt(e,t){const n=WJt(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,u=gu(e,n),l=XQt(u),c={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},f=zt(t.add(Gc({},[c]))),d=zt(t.add(tQt({scale:t.scaleRef(e.scale),extra:t.property(l.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return c.grid&&h.push(YJt(e,n,r.grid,d,l)),c.ticks&&(p=u("tickSize"),h.push(XJt(e,n,r.ticks,d,p,l))),c.labels&&(p=c.ticks?p:0,h.push(QJt(e,n,r.labels,d,p,l))),c.domain&&h.push(GJt(e,n,r.domain,f)),c.title&&h.push(JJt(e,n,r.title,f)),LM(OS({role:mXt,from:f,encode:ww(tZt(u,e),i,x2),marks:h,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:o,interactive:s,style:a}),t)}function tZt(e,t){const n={enter:{},update:{}};return ys(n,{orient:e("orient"),offset:e("offset")||0,position:dc(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function KPe(e,t,n){const r=bt(e.signals),i=bt(e.scales);return n||r.forEach(o=>APe(o,t)),bt(e.projections).forEach(o=>DQt(o,t)),i.forEach(o=>wQt(o,t)),bt(e.data).forEach(o=>MJt(o,t)),i.forEach(o=>EQt(o,t)),(n||r).forEach(o=>eQt(o,t)),bt(e.axes).forEach(o=>eZt(o,t)),bt(e.marks).forEach(o=>LM(o,t)),bt(e.legends).forEach(o=>TJt(o,t)),e.title&&PJt(e.title,t),t.parseLambdas(),t}const nZt=e=>ww({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function rZt(e,t){const n=t.config,r=zt(t.root=t.add(FN())),i=iZt(e,n);i.forEach(l=>APe(l,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(Gc()),s=t.add(RPe(CPe(nZt(e.encode),$M,$K,e.style,t,{pulse:zt(o)}))),a=t.add(DPe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:zt(s)}));t.operators.pop(),t.pushState(zt(s),zt(a),null),KPe(e,t,i),t.operators.push(a);let u=t.add(kPe({mark:r,pulse:zt(a)}));return u=t.add(NPe({pulse:zt(u)})),u=t.add(lv({pulse:zt(u)})),t.addData("root",new vy(t,o,o,u)),t}function CE(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function iZt(e,t){const n=s=>dc(e[s],t[s]),r=[CE("background",n("background")),CE("autosize",dXt(n("autosize"))),CE("padding",pXt(n("padding"))),CE("width",n("width")||0),CE("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return bt(e.signals).forEach(s=>{qt(i,s.name)?s=_n(i[s.name],s):r.push(s),o[s.name]=s}),bt(t.signals).forEach(s=>{!qt(o,s.name)&&!qt(i,s.name)&&r.push(s)}),r}function XPe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Sce(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}XPe.prototype=Sce.prototype={parse(e){return KPe(e,this)},fork(){return new Sce(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof Xj?zt(e):e;return this.add(mQt({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(zt(this.add(lv({pulse:e})))),this._parent.push(t),this._lookup.push(n?zt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Wn(this._parent)},encode(){return Wn(this._encode)},lookup(){return Wn(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(_t(e))return DS(e,t);e.signal||Me("Unsupported field reference: "+at(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=zt(this.add(oQt(i)))}return r},compareRef(e){let t=!1;const n=o=>yo(o)?(t=!0,this.signalRef(o.signal)):HXt(o)?(t=!0,this.exprRef(o.expr)):o,r=bt(e.field).map(n),i=bt(e.order).map(n);return t?zt(this.add(fce({fields:r,orders:i}))):lce(r,i)},keyRef(e,t){let n=!1;const r=o=>yo(o)?(n=!0,zt(i[o.signal])):o,i=this.signals;return e=bt(e).map(r),n?zt(this.add(sQt({fields:e,flat:t}))):BXt(e,t)},sortRef(e){if(!e)return e;const t=NM(e.op,e.field),n=e.order||UXt;return n.signal?zt(this.add(fce({fields:t,orders:this.signalRef(n.signal)}))):lce(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return qt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Me("Duplicate signal name: "+at(e));const n=t instanceof Xj?t:this.add(FN(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Me("Unrecognized signal name: "+at(e)),this.signals[e]},signalRef(e){return this.signals[e]?zt(this.signals[e]):(qt(this.lambdas,e)||(this.lambdas[e]=this.add(FN(null))),zt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Jf(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!wt(e)?e:this.signalRef(e.signal||GK(e))},exprRef(e,t){const n={expr:Jf(e,this)};return t&&(n.expr.$name=t),zt(this.add(rQt(n)))},addBinding(e,t){this.bindings||Me("Nested signals do not support binding: "+at(e)),this.bindings.push(_n({signal:e},t))},addScaleProj(e,t){qt(this.scales,e)&&Me("Duplicate scale or projection name: "+at(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,yQt(t))},addProjection(e,t){this.addScaleProj(e,pQt(t))},getScale(e){return this.scales[e]||Me("Unrecognized scale name: "+at(e)),this.scales[e]},scaleRef(e){return zt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return qt(this.data,e)&&Me("Duplicate data set name: "+at(e)),this.data[e]=t},getData(e){return this.data[e]||Me("Undefined data set name: "+at(e)),this.data[e]},addDataPipeline(e,t){return qt(this.data,e)&&Me("Duplicate data set name: "+at(e)),this.addData(e,vy.fromEntries(this,t))}};function GK(e){return(je(e)?oZt:sZt)(e)}function oZt(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(wt(i)?i.signal||GK(i):at(i))}return n+"]"}function sZt(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+at(r)+":"+(wt(i)?i.signal||GK(i):at(i));return t+"}"}function aZt(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function uZt(e,t,n){return wt(e)||Me("Input Vega specification must be an object."),t=uw(aZt(),t,e.config),rZt(e,new XPe(t,n)).toRuntime()}var lZt="5.29.0";_n(Hb,i5t,O7t,hUt,Jzt,WVt,bqt,JHt,wqt,qqt,tWt,uWt);const cZt=Object.freeze(Object.defineProperty({__proto__:null,Bounds:ro,CanvasHandler:h2,CanvasRenderer:JP,DATE:lu,DAY:$s,DAYOFYEAR:Xf,Dataflow:nb,Debug:HTe,Error:iW,EventStream:jO,Gradient:FAe,GroupItem:uM,HOURS:Wu,Handler:mY,HybridHandler:kIe,HybridRenderer:ij,Info:VTe,Item:aM,MILLISECONDS:jc,MINUTES:Gu,MONTH:js,Marks:Yu,MultiPulse:kW,None:zTe,Operator:$r,Parameters:FO,Pulse:mm,QUARTER:uu,RenderType:Hp,Renderer:d2,ResourceLoader:qAe,SECONDS:Ol,SVGHandler:gIe,SVGRenderer:wY,SVGStringRenderer:IIe,Scenegraph:uIe,TIME_UNITS:bW,Transform:Pe,View:pPe,WEEK:fo,Warn:oW,YEAR:ds,accessor:mu,accessorFields:Fs,accessorName:Pi,array:bt,ascending:AO,bandwidthNRD:DW,bin:SCe,bootstrapCI:CCe,boundClip:jIe,boundContext:u2,boundItem:Z9,boundMark:iIe,boundStroke:Xh,changeset:ov,clampRange:tSe,codegenExpression:URe,compare:cW,constant:Ws,cumulativeLogNormal:jW,cumulativeNormal:UO,cumulativeUniform:VW,dayofyear:NSe,debounce:fW,defaultLocale:TW,definition:ECe,densityLogNormal:FW,densityNormal:$W,densityUniform:zW,domChild:lo,domClear:pl,domCreate:zp,domFind:pY,dotbin:ACe,error:Me,expressionFunction:Gi,extend:_n,extent:Gf,extentIndex:nSe,falsy:pp,fastmap:cw,field:Dl,flush:rSe,font:hM,fontFamily:f2,fontSize:hd,format:wk,formatLocale:RP,formats:AW,hasOwnProperty:qt,id:GC,identity:qs,inferType:fCe,inferTypes:dCe,ingest:yr,inherits:dt,inrange:k1,interpolate:qG,interpolateColors:oM,interpolateRange:TAe,intersect:OIe,intersectBoxLine:R1,intersectPath:ZG,intersectPoint:eY,intersectRule:GAe,isArray:je,isBoolean:cg,isDate:hm,isFunction:wn,isIterable:iSe,isNumber:tr,isObject:wt,isRegExp:oSe,isString:_t,isTuple:MO,key:dW,lerp:sSe,lineHeight:Mm,loader:$O,locale:lCe,logger:sW,lruCache:aSe,markup:_Y,merge:uSe,mergeConfig:uw,multiLineOffset:fY,one:aw,pad:lSe,panLinear:KTe,panLog:XTe,panPow:QTe,panSymlog:JTe,parse:uZt,parseExpression:_K,parseSelector:gg,path:WO,pathCurves:XG,pathEqual:BIe,pathParse:Xb,pathRectangle:UAe,pathRender:wS,pathSymbols:BAe,pathTrail:zAe,peek:Wn,point:mM,projection:BY,quantileLogNormal:BW,quantileNormal:zO,quantileUniform:HW,quantiles:PW,quantizeInterpolator:SAe,quarter:ZTe,quartiles:NW,get random(){return Ml},randomInteger:uFt,randomKDE:MW,randomLCG:aFt,randomLogNormal:kCe,randomMixture:RCe,randomNormal:OW,randomUniform:PCe,read:mCe,regressionConstant:qW,regressionExp:DCe,regressionLinear:WW,regressionLoess:MCe,regressionLog:NCe,regressionPoly:OCe,regressionPow:$Ce,regressionQuad:GW,renderModule:gM,repeat:WE,resetDefaultLocale:i4t,resetSVGClipId:HAe,resetSVGDefIds:ZBt,responseType:pCe,runtimeContext:tPe,sampleCurve:HO,sampleLogNormal:LW,sampleNormal:BO,sampleUniform:UW,scale:cr,sceneEqual:EY,sceneFromJSON:sIe,scenePickVisit:HP,sceneToJSON:oIe,sceneVisit:Bc,sceneZOrder:tY,scheme:WG,serializeXML:TIe,setHybridRendererOptions:KBt,setRandom:oFt,span:YC,splitAccessPath:cd,stringValue:at,textMetrics:Lu,timeBin:KSe,timeFloor:jSe,timeFormatLocale:mS,timeInterval:pw,timeOffset:zSe,timeSequence:qSe,timeUnitSpecifier:PSe,timeUnits:_W,toBoolean:hW,toDate:pW,toNumber:Os,toSet:Fc,toString:mW,transform:xCe,transforms:Hb,truncate:cSe,truthy:$l,tupleid:Vt,typeParsers:O9,utcFloor:BSe,utcInterval:mw,utcOffset:VSe,utcSequence:WSe,utcdayofyear:OSe,utcquarter:eSe,utcweek:MSe,version:lZt,visitArray:_p,week:DSe,writeConfig:lw,zero:$p,zoomLinear:aW,zoomLog:uW,zoomPow:TP,zoomSymlog:lW},Symbol.toStringTag,{value:"Module"}));function fZt(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var dZt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},hZt={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},pZt={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const mZt=Array.prototype.slice,Ng=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,mZt.call(t,1))},gZt=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var yZt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:gZt,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return Ng("join",arguments)},indexof:function(){return Ng("indexOf",arguments)},lastindexof:function(){return Ng("lastIndexOf",arguments)},slice:function(){return Ng("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return Ng("substring",arguments,String)},split:function(){return Ng("split",arguments,String)},replace:function(){return Ng("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const vZt=["view","item","group","xy","x","y"],rB=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&rB.add(setImmediate);const bZt={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:dZt[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),rB.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||yZt[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>hZt[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>pZt[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,rB.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function AE(e,t,n,r,i,o){const s=a=>bZt[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,vZt.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var _Zt={operator(e,t){const n=t.ast,r=e.functions;return i=>AE(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>AE(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>AE(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return AE(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const u=s.datum;let l=0,c;for(const f in r)c=AE(r[f].ast,i,a,u,void 0,s),s[f]!==c&&(s[f]=c,l=1);return n!=="rule"&&fZt(s,r,o),l}}};const wZt="vega-lite",EZt='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',xZt="5.18.1",TZt=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],SZt="https://vega.github.io/vega-lite/",CZt="Vega-Lite is a concise high-level language for interactive visualization.",AZt=["vega","chart","visualization"],IZt="build/vega-lite.js",kZt="build/vega-lite.min.js",RZt="build/vega-lite.min.js",PZt="build/src/index",NZt="build/src/index.d.ts",DZt={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},$Zt=["bin","build","src","vega-lite*","tsconfig.json"],OZt={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data","build-editor-preview":"scripts/build-editor-preview.sh",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk ./node_modules/.bin/jest --runInBand test","test:runtime":"TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},MZt={type:"git",url:"https://github.com/vega/vega-lite.git"},LZt="BSD-3-Clause",FZt={url:"https://github.com/vega/vega-lite/issues"},jZt={"@babel/core":"^7.24.5","@babel/preset-env":"^7.24.5","@babel/preset-typescript":"^7.24.1","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-alias":"^5.1.0","@rollup/plugin-babel":"^6.0.4","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@types/d3":"^7.4.3","@types/jest":"^29.5.12","@types/pako":"^2.0.3","@typescript-eslint/eslint-plugin":"^7.8.0","@typescript-eslint/parser":"^7.8.0",ajv:"^8.13.0","ajv-formats":"^2.1.1",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.1.0",d3:"^7.9.0","del-cli":"^5.1.0",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-jest":"^27.9.0","eslint-plugin-prettier":"^5.1.3","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.9.0",jest:"^29.7.0","jest-dev-server":"^10.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.2.5",puppeteer:"^15.0.0","release-it":"^17.2.1",rollup:"^4.17.2","rollup-plugin-bundle-size":"^1.0.3",serve:"^14.2.3",terser:"^5.31.0","ts-jest":"^29.1.2","ts-json-schema-generator":"^1.5.0",typescript:"~5.4.5","vega-cli":"^5.28.0","vega-datasets":"^2.8.1","vega-embed":"^6.25.0","vega-tooltip":"^0.34.0","yaml-front-matter":"^4.1.1"},BZt={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},UZt={vega:"^5.24.0"},zZt={node:">=18"},VZt="yarn@1.22.19",HZt={name:wZt,author:EZt,version:xZt,collaborators:TZt,homepage:SZt,description:CZt,keywords:AZt,main:IZt,unpkg:kZt,jsdelivr:RZt,module:PZt,types:NZt,bin:DZt,files:$Zt,scripts:OZt,repository:MZt,license:LZt,bugs:FZt,devDependencies:jZt,dependencies:BZt,peerDependencies:UZt,engines:zZt,packageManager:VZt};function YK(e){return!!e.or}function KK(e){return!!e.and}function XK(e){return!!e.not}function qk(e,t){if(XK(e))qk(e.not,t);else if(KK(e))for(const n of e.and)qk(n,t);else if(YK(e))for(const n of e.or)qk(n,t);else t(e)}function ab(e,t){return XK(e)?{not:ab(e.not,t)}:KK(e)?{and:e.and.map(n=>ab(n,t))}:YK(e)?{or:e.or.map(n=>ab(n,t))}:t(e)}const tn=structuredClone;function QPe(e){throw new Error(e)}function o_(e,t){const n={};for(const r of t)qt(e,r)&&(n[r]=e[r]);return n}function ru(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>kr(e)).join(",")})`};function Ln(e){if(tr(e))return e;const t=_t(e)?e:kr(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function iB(e){return e===!1||e===null}function Fn(e,t){return e.includes(t)}function by(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function QK(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function JPe(e,...t){for(const n of t)qZt(e,n??{});return e}function qZt(e,t){for(const n of Qe(t))lw(e,n,t[n],!0)}function Pf(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function WZt(e,t){const n=Qe(e),r=Qe(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function ZPe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function JK(e,t){for(const n of e)if(t.has(n))return!0;return!1}function oB(e){const t=new Set;for(const n of e){const i=cd(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function ZK(e,t){return e===void 0||t===void 0?!0:JK(oB(e),oB(t))}function Ir(e){return Qe(e).length===0}const Qe=Object.keys,hs=Object.values,Bm=Object.entries;function MS(e){return e===!0||e===!1}function fi(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function dT(e,t){return XK(e)?`!(${dT(e.not,t)})`:KK(e)?`(${e.and.map(n=>dT(n,t)).join(") && (")})`:YK(e)?`(${e.or.map(n=>dT(n,t)).join(") || (")})`:t(e)}function jN(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&jN(e[n],t)&&delete e[n],Ir(e)}function T2(e){return e.charAt(0).toUpperCase()+e.substr(1)}function eX(e,t="datum"){const n=cd(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(at).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function eNe(e,t="datum"){return`${t}[${at(cd(e).join("."))}]`}function GZt(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Fl(e){return`${cd(e).map(GZt).join("\\.")}`}function _y(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Tw(e){return`${cd(e).join(".")}`}function s_(e){return e?cd(e).length:0}function qi(...e){for(const t of e)if(t!==void 0)return t}let tNe=42;function nNe(e){const t=++tNe;return e?String(e)+t:t}function YZt(){tNe=42}function rNe(e){return iNe(e)?e:`__${e}`}function iNe(e){return e.startsWith("__")}function LS(e){if(e!==void 0)return(e%360+360)%360}function jM(e){return tr(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const Cce=Object.getPrototypeOf(structuredClone({}));function $u(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$u(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!$u(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==Cce.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==Cce.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!$u(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function kr(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const u=a[i],l=n(r[u]);l&&(o&&(o+=","),o+=JSON.stringify(u)+":"+l)}return t.splice(s,1),`{${o}}`}(e)}const ph="row",mh="column",BM="facet",di="x",qo="y",Kc="x2",yd="y2",yg="xOffset",Sw="yOffset",Xc="radius",Jh="radius2",Yl="theta",Zh="theta2",Qc="latitude",Jc="longitude",Zc="latitude2",jl="longitude2",fu="color",vd="fill",bd="stroke",du="shape",ep="size",fv="angle",tp="opacity",vg="fillOpacity",bg="strokeOpacity",_g="strokeWidth",wg="strokeDash",S2="text",a_="order",C2="detail",UM="key",wy="tooltip",zM="href",VM="url",HM="description",KZt={x:1,y:1,x2:1,y2:1},oNe={theta:1,theta2:1,radius:1,radius2:1};function sNe(e){return e in oNe}const tX={longitude:1,longitude2:1,latitude:1,latitude2:1};function aNe(e){switch(e){case Qc:return"y";case Zc:return"y2";case Jc:return"x";case jl:return"x2"}}function uNe(e){return e in tX}const XZt=Qe(tX),nX={...KZt,...oNe,...tX,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function ub(e){return e===fu||e===vd||e===bd}const lNe={row:1,column:1,facet:1},wl=Qe(lNe),rX={...nX,...lNe},QZt=Qe(rX),{order:hfn,detail:pfn,tooltip:mfn,...JZt}=rX,{row:gfn,column:yfn,facet:vfn,...ZZt}=JZt;function een(e){return!!ZZt[e]}function cNe(e){return!!rX[e]}const ten=[Kc,yd,Zc,jl,Zh,Jh];function fNe(e){return dv(e)!==e}function dv(e){switch(e){case Kc:return di;case yd:return qo;case Zc:return Qc;case jl:return Jc;case Zh:return Yl;case Jh:return Xc}return e}function Um(e){if(sNe(e))switch(e){case Yl:return"startAngle";case Zh:return"endAngle";case Xc:return"outerRadius";case Jh:return"innerRadius"}return e}function _d(e){switch(e){case di:return Kc;case qo:return yd;case Qc:return Zc;case Jc:return jl;case Yl:return Zh;case Xc:return Jh}}function hu(e){switch(e){case di:case Kc:return"width";case qo:case yd:return"height"}}function dNe(e){switch(e){case di:return"xOffset";case qo:return"yOffset";case Kc:return"x2Offset";case yd:return"y2Offset";case Yl:return"thetaOffset";case Xc:return"radiusOffset";case Zh:return"theta2Offset";case Jh:return"radius2Offset"}}function iX(e){switch(e){case di:return"xOffset";case qo:return"yOffset"}}function nen(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const ren=Qe(nX),{x:bfn,y:_fn,x2:wfn,y2:Efn,xOffset:xfn,yOffset:Tfn,latitude:Sfn,longitude:Cfn,latitude2:Afn,longitude2:Ifn,theta:kfn,theta2:Rfn,radius:Pfn,radius2:Nfn,...oX}=nX,ien=Qe(oX),sX={x:1,y:1},wd=Qe(sX);function Wi(e){return e in sX}const aX={theta:1,radius:1},oen=Qe(aX);function qM(e){return e==="width"?di:qo}const hNe={xOffset:1,yOffset:1};function A2(e){return e in hNe}const{text:Dfn,tooltip:$fn,href:Ofn,url:Mfn,description:Lfn,detail:Ffn,key:jfn,order:Bfn,...pNe}=oX,sen=Qe(pNe);function aen(e){return!!oX[e]}function uen(e){switch(e){case fu:case vd:case bd:case ep:case du:case tp:case _g:case wg:return!0;case vg:case bg:case fv:return!1}}const mNe={...sX,...aX,...hNe,...pNe},WM=Qe(mNe);function np(e){return!!mNe[e]}function len(e,t){return fen(e)[t]}const gNe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:Ufn,...cen}=gNe;function fen(e){switch(e){case fu:case vd:case bd:case HM:case C2:case UM:case wy:case zM:case a_:case tp:case vg:case bg:case _g:case BM:case ph:case mh:return gNe;case di:case qo:case yg:case Sw:case Qc:case Jc:return cen;case Kc:case yd:case Zc:case jl:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case ep:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case wg:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case du:return{point:"always",geoshape:"always"};case S2:return{text:"always"};case fv:return{point:"always",square:"always",text:"always"};case VM:return{image:"always"};case Yl:return{text:"always",arc:"always"};case Xc:return{text:"always",arc:"always"};case Zh:case Jh:return{arc:"always"}}}function X4(e){switch(e){case di:case qo:case Yl:case Xc:case yg:case Sw:case ep:case fv:case _g:case tp:case vg:case bg:case Kc:case yd:case Zh:case Jh:return;case BM:case ph:case mh:case du:case wg:case S2:case wy:case zM:case VM:case HM:return"discrete";case fu:case vd:case bd:return"flexible";case Qc:case Jc:case Zc:case jl:case C2:case UM:case a_:return}}const den={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},hen={count:1,min:1,max:1};function Mh(e){return!!e&&!!e.argmin}function Eg(e){return!!e&&!!e.argmax}function uX(e){return _t(e)&&!!den[e]}const pen=new Set(["count","valid","missing","distinct"]);function yNe(e){return _t(e)&&pen.has(e)}function men(e){return _t(e)&&Fn(["min","max"],e)}const gen=new Set(["count","sum","distinct","valid","missing"]),yen=new Set(["mean","average","median","q1","q3","min","max"]);function vNe(e){return cg(e)&&(e=i3(e,void 0)),"bin"+Qe(e).map(t=>GM(e[t])?fi(`_${t}_${Bm(e[t])}`):fi(`_${t}_${e[t]}`)).join("")}function Hr(e){return e===!0||hv(e)&&!e.binned}function is(e){return e==="binned"||hv(e)&&e.binned===!0}function hv(e){return wt(e)}function GM(e){return e==null?void 0:e.param}function Ace(e){switch(e){case ph:case mh:case ep:case fu:case vd:case bd:case _g:case tp:case vg:case bg:case du:return 6;case wg:return 4;default:return 10}}function I2(e){return!!(e!=null&&e.expr)}function za(e){const t=Qe(e||{}),n={};for(const r of t)n[r]=Cu(e[r]);return n}function bNe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:u,subtitleFont:l,subtitleFontSize:c,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...m}=e,g={...m,...a?{fill:a}:{}},y={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},v={...u?{subtitleColor:u}:{},...l?{subtitleFont:l}:{},...c?{subtitleFontSize:c}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},b=o_(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:g,subtitleMarkConfig:b,nonMarkTitleProperties:y,subtitle:v}}function Tp(e){return _t(e)||je(e)&&_t(e[0])}function Bt(e){return!!(e!=null&&e.signal)}function xg(e){return!!e.step}function ven(e){return je(e)?!1:"fields"in e&&!("data"in e)}function ben(e){return je(e)?!1:"fields"in e&&"data"in e}function rh(e){return je(e)?!1:"field"in e&&"data"in e}const _en={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},wen=Qe(_en),Een={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},sB=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function _Ne(e){const t=je(e.condition)?e.condition.map(Ice):Ice(e.condition);return{...Cu(e),condition:t}}function Cu(e){if(I2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Ice(e){if(I2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Jr(e){if(I2(e)){const{expr:t,...n}=e;return{signal:t,...n}}return Bt(e)?e:e!==void 0?{value:e}:void 0}function xen(e){return Bt(e)?e.signal:at(e)}function kce(e){return Bt(e)?e.signal:at(e.value)}function Tc(e){return Bt(e)?e.signal:e==null?null:at(e)}function Ten(e,t,n){for(const r of n){const i=Lh(r,t.markDef,t.config);i!==void 0&&(e[r]=Jr(i))}return e}function wNe(e){return[].concat(e.type,e.style??[])}function gr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:Lh(e,t,n,r)}function Lh(e,t,n,{vgChannel:r}={}){return qi(r?BN(e,t,n.style):void 0,BN(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function BN(e,t,n){return ENe(e,wNe(t),n)}function ENe(e,t,n){t=bt(t);let r;for(const i of t){const o=n[i];o&&o[e]!==void 0&&(r=o[e])}return r}function xNe(e,t){return bt(e).reduce((n,r)=>(n.field.push(ft(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function TNe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if($u(i,r))return;n.push(r)}),n}function SNe(e,t){return $u(e,t)||!t?e:e?[...bt(e),...bt(t)].join(", "):t}function CNe(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Tp(n)||Bt(n))&&(Tp(r)||Bt(r)))return{explicit:e.explicit,value:SNe(n,r)};if(Tp(n)||Bt(n))return{explicit:e.explicit,value:n};if(Tp(r)||Bt(r))return{explicit:e.explicit,value:r};if(!Tp(n)&&!Bt(n)&&!Tp(r)&&!Bt(r))return{explicit:e.explicit,value:TNe(n,r)};throw new Error("It should never reach here")}function lX(e){return`Invalid specification ${kr(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const Sen='Autosize "fit" only works for single views and layered views.';function Rce(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function Pce(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function Nce(e){return e?`Dropping "fit-${e}" because spec has discrete ${hu(e)}.`:'Dropping "fit" because spec has discrete size.'}function cX(e){return`Unknown field for ${e}. Cannot calculate view size.`}function Dce(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Cen(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function Aen(e){return`The "nearest" transform is not supported for ${e} marks.`}function ANe(e){return`Selection not supported for ${e} yet.`}function Ien(e){return`Cannot find a selection named "${e}".`}const ken="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Ren="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",Pen="Legend bindings are only supported for selections over an individual field or encoding channel.";function Nen(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function Den(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const $en="The same selection must be used to override scale domains in a layered view.",Oen='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Men(e){return`Unknown repeated value "${e}".`}function $ce(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const Len="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Fen(e){return`Unrecognized parse "${e}".`}function Oce(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const jen="Attempt to add the same child twice.";function Ben(e){return`Ignoring an invalid transform: ${kr(e)}.`}const Uen='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function Mce(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function zen(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${kr(t)} is overridden by a child projection ${kr(n)}.`}const Ven="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Hen(e){return`${e}Offset dropped because ${e} is continuous`}function qen(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${kr(n)}}.`}function INe(e){return`Invalid field type "${e}".`}function Wen(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Gen(e){return`Invalid aggregation operator "${e}".`}function kNe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function Yen(e){return`Position range does not support relative band size for ${e}.`}function aB(e,t){return`Dropping ${kr(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Ken="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function YM(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function Xen(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function Qen(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function Jen(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function Zen(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Q4(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function etn(e){return`The ${e} for range marks cannot be an expression`}function ttn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function ntn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function rtn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function itn(e){return`Cannot use the relative band size with ${e} scale.`}function otn(e){return`Using unaggregated domain with raw field has no effect (${kr(e)}).`}function stn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function atn(e){return`Unaggregated domain is currently unsupported for log scale (${kr(e)}).`}function utn(e){return`Cannot apply size to non-oriented mark "${e}".`}function ltn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function ctn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function RNe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function PNe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function ftn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${kr(n)} and ${kr(r)}). Using ${kr(n)}.`}function dtn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${kr(n)} and ${kr(r)}). Using the union of the two domains.`}function htn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function ptn(e){return`Dropping sort property ${kr(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const Lce="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",mtn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",gtn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",ytn="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function vtn(e){return`Cannot stack "${e}" if there is already "${e}2".`}function btn(e){return`Stack is applied to a non-linear scale (${e}).`}function _tn(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function UN(e,t){return`Invalid ${e}: ${kr(t)}.`}function wtn(e){return`Dropping day from datetime ${kr(e)} as day cannot be combined with other units.`}function Etn(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function xtn(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Ttn(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Fce(e){return`1D error band does not support ${e}.`}function NNe(e){return`Channel ${e} is required for "binned" bin.`}function Stn(e){return`Channel ${e} should not be used with "binned" bin.`}function Ctn(e){return`Domain for ${e} is required for threshold scale.`}const DNe=sW(oW);let u_=DNe;function Atn(e){return u_=e,u_}function Itn(){return u_=DNe,u_}function tt(...e){u_.warn(...e)}function ktn(...e){u_.debug(...e)}function pv(e){if(e&&wt(e)){for(const t of dX)if(t in e)return!0}return!1}const $Ne=["january","february","march","april","may","june","july","august","september","october","november","december"],Rtn=$Ne.map(e=>e.substr(0,3)),ONe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Ptn=ONe.map(e=>e.substr(0,3));function Ntn(e){if(jM(e)&&(e=+e),tr(e))return e>4&&tt(UN("quarter",e)),e-1;throw new Error(UN("quarter",e))}function Dtn(e){if(jM(e)&&(e=+e),tr(e))return e-1;{const t=e.toLowerCase(),n=$Ne.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Rtn.indexOf(r);if(i!==-1)return i;throw new Error(UN("month",e))}}function $tn(e){if(jM(e)&&(e=+e),tr(e))return e%7;{const t=e.toLowerCase(),n=ONe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Ptn.indexOf(r);if(i!==-1)return i;throw new Error(UN("day",e))}}function fX(e,t){const n=[];if(t&&e.day!==void 0&&Qe(e).length>1&&(tt(wtn(e)),e=tn(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Dtn(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?Ntn(e.quarter):e.quarter;n.push(tr(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?$tn(e.day):e.day;n.push(tr(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Ey(e){const n=fX(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Otn(e){const n=fX(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Mtn(e){const t=fX(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const MNe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},dX=Qe(MNe);function Ltn(e){return!!MNe[e]}function mv(e){return wt(e)?e.binned:LNe(e)}function LNe(e){return e&&e.startsWith("binned")}function hX(e){return e.startsWith("utc")}function Ftn(e){return e.substring(3)}const jtn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function KM(e){return dX.filter(t=>jNe(e,t))}function FNe(e){const t=KM(e);return t[t.length-1]}function jNe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Btn(e,t,{end:n}={end:!1}){const r=eX(t),i=hX(e)?"utc":"";function o(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let s;const a={};for(const u of dX)jNe(e,u)&&(a[u]=o(u),s=u);return n&&(a[s]+="+1"),Otn(a)}function BNe(e){if(!e)return;const t=KM(e);return`timeUnitSpecifier(${kr(t)}, ${kr(jtn)})`}function Utn(e,t,n){if(!e)return;const r=BNe(e);return`${n||hX(e)?"utc":"time"}Format(${t}, ${r})`}function jo(e){if(!e)return;let t;return _t(e)?LNe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:wt(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),hX(t.unit)&&(t.utc=!0,t.unit=Ftn(t.unit)),t}function ztn(e){const{utc:t,...n}=jo(e);return n.unit?(t?"utc":"")+Qe(n).map(r=>fi(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+Qe(n).map(r=>fi(`_${r}_${n[r]}`)).join("")}function UNe(e,t=n=>n){const n=jo(e),r=FNe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=zNe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Ey(a))} - ${t(Ey(i))}`}}const Vtn={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Htn(e){return!!Vtn[e]}function zNe(e,t=1){if(Htn(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function qtn(e){return e==null?void 0:e.param}function pX(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function mX(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function gX(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function yX(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function vX(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function bX(e){if(e!=null&&e.field){if(je(e.range)&&e.range.length===2)return!0;if(Bt(e.range))return!0}return!1}function _X(e){return!!(e!=null&&e.field)&&(je(e.oneOf)||je(e.in))}function Wtn(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function VNe(e){return _X(e)||pX(e)||bX(e)||mX(e)||yX(e)||gX(e)||vX(e)}function uf(e,t){return o3(e,{timeUnit:t,wrapTime:!0})}function Gtn(e,t){return e.map(n=>uf(n,t))}function HNe(e,t=!0){const{field:n}=e,r=jo(e.timeUnit),{unit:i,binned:o}=r||{},s=ft(e,{expr:"datum"}),a=i?`time(${o?s:Btn(i,n)})`:s;if(pX(e))return`${a}===${uf(e.equal,i)}`;if(mX(e)){const u=e.lt;return`${a}<${uf(u,i)}`}else if(yX(e)){const u=e.gt;return`${a}>${uf(u,i)}`}else if(gX(e)){const u=e.lte;return`${a}<=${uf(u,i)}`}else if(vX(e)){const u=e.gte;return`${a}>=${uf(u,i)}`}else{if(_X(e))return`indexof([${Gtn(e.oneOf,i).join(",")}], ${a}) !== -1`;if(Wtn(e))return wX(a,e.valid);if(bX(e)){const{range:u}=e,l=Bt(u)?{signal:`${u.signal}[0]`}:u[0],c=Bt(u)?{signal:`${u.signal}[1]`}:u[1];if(l!==null&&c!==null&&t)return"inrange("+a+", ["+uf(l,i)+", "+uf(c,i)+"])";const f=[];return l!==null&&f.push(`${a} >= ${uf(l,i)}`),c!==null&&f.push(`${a} <= ${uf(c,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${kr(e)}`)}function wX(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Ytn(e){return VNe(e)&&e.timeUnit?{...e,timeUnit:jo(e.timeUnit)}:e}const k2={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Ktn(e){return e==="quantitative"||e==="temporal"}function qNe(e){return e==="ordinal"||e==="nominal"}const xy=k2.quantitative,EX=k2.ordinal,l_=k2.temporal,xX=k2.nominal,Cw=k2.geojson;function Xtn(e){if(e)switch(e=e.toLowerCase(),e){case"q":case xy:return"quantitative";case"t":case l_:return"temporal";case"o":case EX:return"ordinal";case"n":case xX:return"nominal";case Cw:return"geojson"}}const iu={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},uB={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function Qtn(e,t){const n=uB[e],r=uB[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const Jtn={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function jce(e){return Jtn[e]}const WNe=new Set(["linear","log","pow","sqrt","symlog"]),GNe=new Set([...WNe,"time","utc"]);function YNe(e){return WNe.has(e)}const KNe=new Set(["quantile","quantize","threshold"]),Ztn=new Set([...GNe,...KNe,"sequential","identity"]),enn=new Set(["ordinal","bin-ordinal","point","band"]);function Bo(e){return enn.has(e)}function Xu(e){return Ztn.has(e)}function Sc(e){return GNe.has(e)}function c_(e){return KNe.has(e)}const tnn={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function nnn(e){return!_t(e)&&!!e.name}function XNe(e){return e==null?void 0:e.param}function rnn(e){return e==null?void 0:e.unionWith}function inn(e){return wt(e)&&"field"in e}const onn={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:zfn,domain:Vfn,range:Hfn,rangeMax:qfn,rangeMin:Wfn,scheme:Gfn,...snn}=onn,ann=Qe(snn);function lB(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return Sc(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return Sc(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return Sc(e);case"nice":return Sc(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Xu(e)&&!Fn(["log","time","utc","threshold","quantile"],e)}}function QNe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return ub(e)?void 0:rtn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function unn(e,t){return Fn([EX,xX],t)?e===void 0||Bo(e):t===l_?Fn([iu.TIME,iu.UTC,void 0],e):t===xy?YNe(e)||c_(e)||e===void 0:!0}function lnn(e,t,n=!1){if(!np(e))return!1;switch(e){case di:case qo:case yg:case Sw:case Yl:case Xc:return Sc(t)||t==="band"?!0:t==="point"?!n:!1;case ep:case _g:case tp:case vg:case bg:case fv:return Sc(t)||c_(t)||Fn(["band","point","ordinal"],t);case fu:case vd:case bd:return t!=="band";case wg:case du:return t==="ordinal"||c_(t)}}function TX(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,s=CX(e);return nt(n)&&!yNe(n.aggregate)&&i&&Sc(i.get("type"))?cnn({fieldDef:n,channel:t,markDef:r,ref:s,config:o}):s}function cnn({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return gr("invalid",n,i)===null?[fnn(e,t),r]:r}function fnn(e,t){const n=SX(e,!0),i=dv(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function SX(e,t=!0){return wX(_t(e)?e:ft(e,{expr:"datum"}),!t)}function dnn(e){const{datum:t}=e;return pv(t)?Ey(t):`${kr(t)}`}function O0(e,t,n,r){const i={};if(t&&(i.scale=t),Ed(e)){const{datum:o}=e;pv(o)?i.signal=Ey(o):Bt(o)?i.signal=o.signal:I2(o)?i.signal=o.expr:i.value=o}else i.field=ft(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function zN({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!Bt(s)&&0<s&&s<1?"datum":void 0,u=ft(t,{expr:a,suffix:i}),l=n!==void 0?ft(n,{expr:a}):ft(t,{suffix:o,expr:a}),c={};if(s===0||s===1){c.scale=e;const f=s===0?u:l;c.field=f}else{const f=Bt(s)?`(1-${s.signal}) * ${u} + ${s.signal} * ${l}`:`${1-s} * ${u} + ${s} * ${l}`;c.signal=`scale("${e}", ${f})`}return r&&(c.offset=r),c}function hnn({scaleName:e,fieldDef:t}){const n=ft(t,{expr:"datum"}),r=ft(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function CX({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:u,defaultRef:l,bandPosition:c}){if(t){if(fn(t)){const f=s==null?void 0:s.get("type");if(wa(t)){c??(c=zm({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Hr(d)||c&&h&&p===l_)return a!=null&&a.impute?O0(t,o,{binSuffix:"mid"},{offset:u}):c&&!Bo(f)?zN({scaleName:o,fieldOrDatumDef:t,bandPosition:c,offset:u}):O0(t,o,D2(t,e)?{binSuffix:"range"}:{},{offset:u});if(is(d)){if(nt(n))return zN({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:u});tt(NNe(e===di?Kc:yd))}}return O0(t,o,Bo(f)?{binSuffix:"range"}:{},{offset:u,band:f==="band"?c??t.bandPosition??.5:void 0})}else if(Uc(t)){const f=t.value,d=u?{offset:u}:{};return{...hT(e,f),...d}}}return wn(l)&&(l=l()),l&&{...l,...u?{offset:u}:{}}}function hT(e,t){return Fn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Fn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Jr(t)}function Ty(e){return e&&e!=="number"&&e!=="time"}function JNe(e,t,n){return`${e}(${t}${n?`, ${kr(n)}`:""})`}const pnn="  ";function AX({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var u,l;if(Ty(n))return Cc({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=ZNe(e,r,i),a=f_(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Cc({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Cc({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&nt(e)&&e.timeUnit===void 0)return Cc({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(h_(e)){const c=gnn({field:s,timeUnit:nt(e)?(u=jo(e.timeUnit))==null?void 0:u.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:yv(e)&&((l=e.scale)==null?void 0:l.type)===iu.UTC});return c?{signal:c}:void 0}if(t=cB({type:a,specifiedFormat:t,config:o,normalizeStack:i}),nt(e)&&Hr(e.bin)){const c=ft(e,{expr:r,binSuffix:"end"});return{signal:R2(s,c,t,n,o)}}else return t||f_(e)==="quantitative"?{signal:`${nDe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function ZNe(e,t,n){return nt(e)?n?`${ft(e,{expr:t,suffix:"end"})}-${ft(e,{expr:t,suffix:"start"})}`:ft(e,{expr:t}):dnn(e)}function Cc({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=ZNe(e,r,i)),s!=="datum.value"&&nt(e)&&Hr(e.bin)){const a=ft(e,{expr:r,binSuffix:"end"});return{signal:R2(s,a,t,n,o)}}return{signal:JNe(n,s,t)}}function eDe(e,t,n,r,i,o){var s;if(!(_t(r)&&Ty(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&f_(e)==="quantitative"&&(i.normalizedNumberFormatType&&d_(e)&&e.stack==="normalize"||i.numberFormatType))){if(d_(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return cB({type:"quantitative",config:i,normalizeStack:!0});if(h_(e)){const a=nt(e)?(s=jo(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:mnn({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return cB({type:t,specifiedFormat:n,config:i})}}function tDe(e,t,n){var r;if(e&&(Bt(e)||e==="number"||e==="time"))return e;if(h_(t)&&n!=="time"&&n!=="utc")return nt(t)&&((r=jo(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function cB({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(_t(t))return t;if(e===xy)return r?n.normalizedNumberFormat:n.numberFormat}function mnn({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:BNe(t)}:r?void 0:n.timeFormat)}function nDe(e,t){return`format(${e}, "${t||""}")`}function Bce(e,t,n,r){return Ty(n)?JNe(n,e,t):nDe(e,(_t(t)?t:void 0)??r.numberFormat)}function R2(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return R2(e,t,i.numberFormat,i.numberFormatType,i);const o=Bce(e,n,r,i),s=Bce(t,n,r,i);return`${wX(e,!1)} ? "null" : ${o} + "${pnn}" + ${s}`}function gnn({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=_t(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):Utn(t,e,o)}const Aa={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},rDe=Aa.arc,XM=Aa.area,QM=Aa.bar,ynn=Aa.image,JM=Aa.line,ZM=Aa.point,vnn=Aa.rect,VN=Aa.rule,iDe=Aa.text,IX=Aa.tick,bnn=Aa.trail,kX=Aa.circle,RX=Aa.square,oDe=Aa.geoshape;function gv(e){return["line","area","trail"].includes(e)}function FS(e){return["rect","bar","image","arc"].includes(e)}const _nn=new Set(Qe(Aa));function Zf(e){return e.type}const wnn=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Enn=["fill","fillOpacity"],xnn=[...wnn,...Enn],Tnn={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},Uce=Qe(Tnn),Snn={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},Cnn={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},Ann={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},sDe=Qe(Ann);function Sy(e){return e&&e.band!=null}const Inn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},aDe=5,knn={binSpacing:1,continuousBandSize:aDe,minBandSize:.25,timeUnitBandPosition:.5},Rnn={binSpacing:0,continuousBandSize:aDe,minBandSize:.25,timeUnitBandPosition:.5},Pnn={thickness:1};function Nnn(e){return Zf(e)?e.type:e}const e3="min",Dnn={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function zce(e){return e in Dnn}function uDe(e){return!!(e!=null&&e.encoding)}function Uf(e){return e&&(e.op==="count"||!!e.field)}function lDe(e){return e&&je(e)}function P2(e){return"row"in e||"column"in e}function PX(e){return!!e&&"header"in e}function t3(e){return"facet"in e}function $nn(e){return e.param}function Onn(e){return e&&!_t(e)&&"repeat"in e}function Vce(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function NX(e){return"sort"in e}function zm({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(fn(e)&&e.bandPosition!==void 0)return e.bandPosition;if(nt(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return Lh("timeUnitBandPosition",n,r);if(Hr(o))return .5}}function cDe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var l,c,f;const a=hu(e),u=gr(s?"size":a,r,i,{vgChannel:a});if(u!==void 0)return u;if(nt(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:Lh("timeUnitBandSize",r,i)};if(Hr(h)&&!Bo(o))return{band:1}}if(FS(r.type))return o?Bo(o)?((l=i[r.type])==null?void 0:l.discreteBandSize)||{band:1}:(c=i[r.type])==null?void 0:c.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function fDe(e,t,n,r){return Hr(e.bin)||e.timeUnit&&wa(e)&&e.type==="temporal"?zm({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function dDe(e){return e&&!!e.sort&&!e.field}function n3(e){return e&&"condition"in e}function r3(e){const t=e==null?void 0:e.condition;return!!t&&!je(t)&&nt(t)}function N2(e){const t=e==null?void 0:e.condition;return!!t&&!je(t)&&fn(t)}function Mnn(e){const t=e==null?void 0:e.condition;return!!t&&(je(t)||Uc(t))}function nt(e){return e&&(!!e.field||e.aggregate==="count")}function f_(e){return e==null?void 0:e.type}function Ed(e){return e&&"datum"in e}function Kp(e){return wa(e)&&!qN(e)||HN(e)}function Hce(e){return wa(e)&&e.type==="quantitative"&&!e.bin||HN(e)}function HN(e){return Ed(e)&&tr(e.datum)}function fn(e){return nt(e)||Ed(e)}function wa(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function Uc(e){return e&&"value"in e&&"value"in e}function yv(e){return e&&("scale"in e||"sort"in e)}function d_(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function hDe(e){return e&&"legend"in e}function pDe(e){return e&&("format"in e||"formatType"in e)}function Lnn(e){return ru(e,["legend","axis","header","scale"])}function Fnn(e){return"op"in e}function ft(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(Bnn(e))n=rNe("count");else{let s;if(!t.nofn)if(Fnn(e))s=e.op;else{const{bin:a,aggregate:u,timeUnit:l}=e;Hr(a)?(s=vNe(a),i=(t.binSuffix??"")+(t.suffix??"")):u?Eg(u)?(o=`["${n}"]`,n=`argmax_${u.argmax}`):Mh(u)?(o=`["${n}"]`,n=`argmin_${u.argmin}`):s=String(u):l&&!mv(l)&&(s=ztn(l),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Tw(n):t.expr?eNe(n,t.expr)+o:Fl(n)+o}function qN(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return nt(e)&&!!e.bin;case"temporal":return!1}throw new Error(INe(e.type))}function jnn(e){var t;return yv(e)&&c_((t=e.scale)==null?void 0:t.type)}function Bnn(e){return e.aggregate==="count"}function Unn(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Hr(r))return`${n} (binned)`;if(i&&!mv(i)){const a=(s=jo(i))==null?void 0:s.unit;if(a)return`${n} (${KM(a).join("-")})`}else if(o)return Eg(o)?`${n} for max ${o.argmax}`:Mh(o)?`${n} for min ${o.argmin}`:`${T2(o)} of ${n}`;return n}function znn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Eg(t))return`${i} for argmax(${t.argmax})`;if(Mh(t))return`${i} for argmin(${t.argmin})`;const o=r&&!mv(r)?jo(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Hr(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const mDe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return znn(e);default:return Unn(e,t)}};let gDe=mDe;function yDe(e){gDe=e}function Vnn(){yDe(mDe)}function lb(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=DX(e))==null?void 0:a.title;if(!nt(e))return i??e.title;const o=e,s=r?$X(o,t):void 0;return n?qi(i,o.title,s):i??o.title??s}function DX(e){if(d_(e)&&e.axis)return e.axis;if(hDe(e)&&e.legend)return e.legend;if(PX(e)&&e.header)return e.header}function $X(e,t){return gDe(e,t)}function WN(e){if(pDe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=DX(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function Hnn(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(NX(e)&&je(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Eg(n)&&!Mh(n))return"quantitative";if(yv(e)&&((o=e.scale)!=null&&o.type))switch(uB[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function ed(e){if(nt(e))return e;if(r3(e))return e.condition}function ho(e){if(fn(e))return e;if(N2(e))return e.condition}function vDe(e,t,n,r={}){if(_t(e)||tr(e)||cg(e)){const i=_t(e)?"string":tr(e)?"number":"boolean";return tt(qen(t,i,e)),{value:e}}return fn(e)?GN(e,t,n,r):N2(e)?{...e,condition:GN(e.condition,t,n,r)}:e}function GN(e,t,n,r){if(pDe(e)){const{format:i,formatType:o,...s}=e;if(Ty(o)&&!n.customFormatTypes)return tt(Mce(t)),GN(s,t,n,r)}else{const i=d_(e)?"axis":hDe(e)?"legend":PX(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Ty(s)&&!n.customFormatTypes)return tt(Mce(t)),GN({...e,[i]:a},t,n,r)}}return nt(e)?OX(e,t,r):qnn(e)}function qnn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=tr(n)?"quantitative":_t(n)?"nominal":pv(n)?"temporal":void 0,{...e,type:t}}function OX(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!uX(r)&&!Eg(r)&&!Mh(r)&&(tt(Gen(r)),delete a.aggregate),i&&(a.timeUnit=jo(i)),s&&(a.field=`${s}`),Hr(o)&&(a.bin=i3(o,t)),is(o)&&!Wi(t)&&tt(Stn(t)),wa(a)){const{type:u}=a,l=Xtn(u);u!==l&&(a.type=l),u!=="quantitative"&&yNe(r)&&(tt(Wen(u,r)),a.type="quantitative")}else if(!fNe(t)){const u=Hnn(a,t);a.type=u}if(wa(a)){const{compatible:u,warning:l}=Wnn(a,t)||{};u===!1&&tt(l)}if(NX(a)&&_t(a.sort)){const{sort:u}=a;if(zce(u))return{...a,sort:{encoding:u}};const l=u.substr(1);if(u.charAt(0)==="-"&&zce(l))return{...a,sort:{encoding:l,order:"descending"}}}if(PX(a)){const{header:u}=a;if(u){const{orient:l,...c}=u;if(l)return{...a,header:{...c,labelOrient:u.labelOrient||l,titleOrient:u.titleOrient||l}}}}return a}function i3(e,t){return cg(e)?{maxbins:Ace(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Ace(t)}:e}const Kv={compatible:!0};function Wnn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case ph:case mh:case BM:return qN(e)?Kv:{compatible:!1,warning:Qen(t)};case di:case qo:case yg:case Sw:case fu:case vd:case bd:case S2:case C2:case UM:case wy:case zM:case VM:case fv:case Yl:case Xc:case HM:return Kv;case Jc:case jl:case Qc:case Zc:return n!==xy?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Kv;case tp:case vg:case bg:case _g:case ep:case Zh:case Jh:case Kc:case yd:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Kv;case du:case wg:return!qN(e)&&!jnn(e)?{compatible:!1,warning:Jen(t)}:Kv;case a_:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Kv}}function h_(e){const{formatType:t}=WN(e);return t==="time"||!t&&Gnn(e)}function Gnn(e){return e&&(e.type==="temporal"||nt(e)&&!!e.timeUnit)}function o3(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var u;const o=t&&((u=jo(t))==null?void 0:u.unit);let s=o||n==="temporal",a;return I2(e)?a=e.expr:Bt(e)?a=e.signal:pv(e)?(s=!0,a=Ey(e)):(_t(e)||tr(e))&&s&&(a=`datetime(${kr(e)})`,Ltn(o)&&(tr(e)&&e<1e4||_t(e)&&isNaN(Date.parse(e)))&&(a=Ey({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:kr(e)}function bDe(e,t){const{type:n}=e;return t.map(r=>{const i=nt(e)&&!mv(e.timeUnit)?e.timeUnit:void 0,o=o3(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function D2(e,t){return Hr(e.bin)?np(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const qce={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function $2(e){return e==null?void 0:e.condition}const _De=["domain","grid","labels","ticks","title"],Ynn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},wDe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Knn={...wDe,style:1,labelExpr:1,encoding:1};function Wce(e){return!!Knn[e]}const Xnn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},EDe=Qe(Xnn);function rp(e){return"mark"in e}class s3{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return rp(t)?Nnn(t.mark)===this.name:!1}}function M0(e,t){const n=e&&e[t];return n?je(n)?by(n,r=>!!r.field):nt(n)||r3(n):!1}function xDe(e,t){const n=e&&e[t];return n?je(n)?by(n,r=>!!r.field):nt(n)||Ed(n)||N2(n):!1}function TDe(e,t){if(Wi(t)){const n=e[t];if((nt(n)||Ed(n))&&(qNe(n.type)||nt(n)&&n.timeUnit)){const r=iX(t);return xDe(e,r)}}return!1}function MX(e){return by(QZt,t=>{if(M0(e,t)){const n=e[t];if(je(n))return by(n,r=>!!r.aggregate);{const r=ed(n);return r&&!!r.aggregate}}return!1})}function SDe(e,t){const n=[],r=[],i=[],o=[],s={};return LX(e,(a,u)=>{if(nt(a)){const{field:l,aggregate:c,bin:f,timeUnit:d,...h}=a;if(c||d||f){const p=DX(a),m=p==null?void 0:p.title;let g=ft(a,{forAs:!0});const y={...m?[]:{title:lb(a,t,{allowDisabling:!0})},...h,field:g};if(c){let v;if(Eg(c)?(v="argmax",g=ft({op:"argmax",field:c.argmax},{forAs:!0}),y.field=`${g}.${l}`):Mh(c)?(v="argmin",g=ft({op:"argmin",field:c.argmin},{forAs:!0}),y.field=`${g}.${l}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(v=c),v){const b={op:v,as:g};l&&(b.field=l),o.push(b)}}else if(n.push(g),wa(a)&&Hr(f)){if(r.push({bin:f,field:l,as:g}),n.push(ft(a,{binSuffix:"end"})),D2(a,u)&&n.push(ft(a,{binSuffix:"range"})),Wi(u)){const v={field:`${g}_end`};s[`${u}2`]=v}y.bin="binned",fNe(u)||(y.type=xy)}else if(d&&!mv(d)){i.push({timeUnit:d,field:l,as:g});const v=wa(a)&&a.type!==l_&&"time";v&&(u===S2||u===wy?y.formatType=v:aen(u)?y.legend={formatType:v,...y.legend}:Wi(u)&&(y.axis={formatType:v,...y.axis}))}s[u]=y}else n.push(l),s[u]=e[u]}else s[u]=e[u]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function Qnn(e,t,n){const r=len(t,n);if(r){if(r==="binned"){const i=e[t===Kc?di:qo];return!!(nt(i)&&nt(e[t])&&is(i.bin))}}else return!1;return!0}function Jnn(e,t,n,r){const i={};for(const o of Qe(e))cNe(o)||tt(Xen(o));for(let o of ren){if(!e[o])continue;const s=e[o];if(A2(o)){const a=nen(o),u=i[a];if(nt(u)&&Ktn(u.type)&&nt(s)&&!u.timeUnit){tt(Hen(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(tt(Ven),o=Yl),!Qnn(e,o,t)){tt(YM(o,t));continue}if(o===ep&&t==="line"){const a=ed(e[o]);if(a!=null&&a.aggregate){tt(Ken);continue}}if(o===fu&&(n?"fill"in e:"stroke"in e)){tt(kNe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===C2||o===a_&&!je(s)&&!Uc(s)||o===wy&&je(s)){if(s){if(o===a_){const a=e[o];if(dDe(a)){i[o]=a;continue}}i[o]=bt(s).reduce((a,u)=>(nt(u)?a.push(OX(u,o)):tt(aB(u,o)),a),[])}}else{if(o===wy&&s===null)i[o]=null;else if(!nt(s)&&!Ed(s)&&!Uc(s)&&!n3(s)&&!Bt(s)){tt(aB(s,o));continue}i[o]=vDe(s,o,r)}}return i}function a3(e,t){const n={};for(const r of Qe(e)){const i=vDe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function Znn(e){const t=[];for(const n of Qe(e))if(M0(e,n)){const r=e[n],i=bt(r);for(const o of i)nt(o)?t.push(o):r3(o)&&t.push(o.condition)}return t}function LX(e,t,n){if(e)for(const r of Qe(e)){const i=e[r];if(je(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function ern(e,t,n,r){return e?Qe(e).reduce((i,o)=>{const s=e[o];return je(s)?s.reduce((a,u)=>t.call(r,a,u,o),i):t.call(r,i,s,o)},n):n}function CDe(e,t){return Qe(t).reduce((n,r)=>{switch(r){case di:case qo:case zM:case HM:case VM:case Kc:case yd:case yg:case Sw:case Yl:case Zh:case Xc:case Jh:case Qc:case Jc:case Zc:case jl:case S2:case du:case fv:case wy:return n;case a_:if(e==="line"||e==="trail")return n;case C2:case UM:{const i=t[r];if(je(i)||nt(i))for(const o of bt(i))o.aggregate||n.push(ft(o,{}));return n}case ep:if(e==="trail")return n;case fu:case vd:case bd:case tp:case vg:case bg:case wg:case _g:{const i=ed(t[r]);return i&&!i.aggregate&&n.push(ft(i,{})),n}}},[])}function trn(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(je(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return je(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function fB(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const u=r?` of ${FX(t)}`:"";return{field:s+t.field,type:t.type,title:Bt(a)?{signal:`${a}"${escape(u)}"`}:a+u}}),o=Znn(n).map(Lnn);return{tooltip:[...i,...Pf(o,Ln)]}}function FX(e){const{title:t,field:n}=e;return qi(t,n)}function jX(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:u,positionPrefix:l,endPositionPrefix:c=void 0,extraEncoding:f={}})=>{const d=FX(n);return ADe(e,a,i,{mark:u,encoding:{[t]:{field:`${l}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},..._t(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{},...r,...f}})}}function ADe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...Zf(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...cg(e[t])?{}:e[t]}}]:[]}function IDe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:xI(o,n),continuousAxisChannelDef2:xI(s,n),continuousAxisChannelDefError:xI(a,n),continuousAxisChannelDefError2:xI(u,n),continuousAxis:i}}function xI(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&tt(Ttn(n,t)),r}else return e}function kDe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(Zf(n)&&n.orient)return n.orient;if(Kp(i)){if(Kp(o)){const s=nt(i)&&i.aggregate,a=nt(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return h_(o)&&!h_(i)?"horizontal":"vertical"}return"horizontal"}else{if(Kp(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const YN="boxplot",nrn=["box","median","outliers","rule","ticks"],rrn=new s3(YN,PDe);function RDe(e){return tr(e)?"tukey":e}function PDe(e,{config:t}){e={...e,encoding:a3(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=Zf(n)?n:{type:n};i&&tt(ANe("boxplot"));const u=a.extent??t.boxplot.extent,l=gr("size",a,t),c=a.invalid,f=RDe(u),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:m,continuousAxis:g,groupby:y,aggregate:v,encodingWithoutContinuousAxis:b,ticksOrient:_,boxOrient:w,customTooltipWithoutAggregatedField:S}=irn(e,u,t),E=Tw(m.field),{color:C,size:A,...k}=b,P=Ne=>jX(a,g,m,Ne,t.boxplot),$=P(k),N=P(b),O=(wt(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",j=P({...k,...A?{size:A}:{},color:{condition:{test:`datum['lower_box_${m.field}'] >= datum['upper_box_${m.field}']`,...C||{value:O}}}}),M=fB([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],m,b),B={type:"tick",color:"black",opacity:1,orient:_,invalid:c,aria:!1},V=f==="min-max"?M:fB([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],m,b),q=[...$({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:V}),...$({partName:"rule",mark:{type:"rule",invalid:c,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:V}),...$({partName:"ticks",mark:B,positionPrefix:"lower_whisker",extraEncoding:V}),...$({partName:"ticks",mark:B,positionPrefix:"upper_whisker",extraEncoding:V})],D=[...f!=="tukey"?q:[],...N({partName:"box",mark:{type:"bar",...l?{size:l}:{},orient:w,invalid:c,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:M}),...j({partName:"median",mark:{type:"tick",invalid:c,...wt(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...l?{size:l}:{},orient:_,aria:!1},positionPrefix:"mid_box",extraEncoding:M})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:D};const U=`datum["lower_box_${m.field}"]`,W=`datum["upper_box_${m.field}"]`,F=`(${W} - ${U})`,z=`${U} - ${u} * ${F}`,G=`${W} + ${u} * ${F}`,ee=`datum["${m.field}"]`,ce={joinaggregate:NDe(m.field),groupby:y},le={transform:[{filter:`(${z} <= ${ee}) && (${ee} <= ${G})`},{aggregate:[{op:"min",field:m.field,as:`lower_whisker_${E}`},{op:"max",field:m.field,as:`upper_whisker_${E}`},{op:"min",field:`lower_box_${m.field}`,as:`lower_box_${E}`},{op:"max",field:`upper_box_${m.field}`,as:`upper_box_${E}`},...v],groupby:y}],layer:q},{tooltip:se,...ge}=k,{scale:be,axis:ve}=m,Ye=FX(m),Ue=ru(ve,["title"]),ht=ADe(a,"outliers",t.boxplot,{transform:[{filter:`(${ee} < ${z}) || (${ee} > ${G})`}],mark:"point",encoding:{[g]:{field:m.field,type:m.type,...Ye!==void 0?{title:Ye}:{},...be!==void 0?{scale:be}:{},...Ir(Ue)?{}:{axis:Ue}},...ge,...C?{color:C}:{},...S?{tooltip:S}:{}}})[0];let Je;const ke=[...d,...h,ce];return ht?Je={transform:ke,layer:[ht,le]}:(Je=le,Je.transform.unshift(...ke)),{...s,layer:[Je,{transform:p,layer:D}]}}function NDe(e){const t=Tw(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function irn(e,t,n){const r=kDe(e,YN),{continuousAxisChannelDef:i,continuousAxis:o}=IDe(e,r,YN),s=i.field,a=Tw(s),u=RDe(t),l=[...NDe(s),{op:"median",field:s,as:`mid_box_${a}`},{op:"min",field:s,as:(u==="min-max"?"lower_whisker_":"min_")+a},{op:"max",field:s,as:(u==="min-max"?"upper_whisker_":"max_")+a}],c=u==="min-max"||u==="tukey"?[]:[{calculate:`datum["upper_box_${a}"] - datum["lower_box_${a}"]`,as:`iqr_${a}`},{calculate:`min(datum["upper_box_${a}"] + datum["iqr_${a}"] * ${t}, datum["max_${a}"])`,as:`upper_whisker_${a}`},{calculate:`max(datum["lower_box_${a}"] - datum["iqr_${a}"] * ${t}, datum["min_${a}"])`,as:`lower_whisker_${a}`}],{[o]:f,...d}=e.encoding,{customTooltipWithoutAggregatedField:h,filteredEncoding:p}=trn(d),{bins:m,timeUnits:g,aggregate:y,groupby:v,encoding:b}=SDe(p,n),_=r==="vertical"?"horizontal":"vertical",w=r,S=[...m,...g,{aggregate:[...y,...l],groupby:v},...c];return{bins:m,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:_,boxOrient:w,customTooltipWithoutAggregatedField:h}}const BX="errorbar",orn=["ticks","rule"],srn=new s3(BX,DDe);function DDe(e,{config:t}){e={...e,encoding:a3(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:u,tooltipEncoding:l}=$De(e,BX,t);delete o.size;const c=jX(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...c({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:l}),...c({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:l}),...c({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l})];return{...u,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function arn(e,t){const{encoding:n}=e;if(urn(n))return{orient:kDe(e,t),inputType:"raw"};const r=lrn(n),i=crn(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,u=n.y2;if(fn(a)&&fn(u))throw new Error(`${t} cannot have both x2 and y2`);if(fn(a)){if(Kp(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(fn(u)){if(Kp(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,u=n.xError2,l=n.yError,c=n.yError2;if(fn(u)&&!fn(a))throw new Error(`${t} cannot have xError2 without xError`);if(fn(c)&&!fn(l))throw new Error(`${t} cannot have yError2 without yError`);if(fn(a)&&fn(l))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(fn(a)){if(Kp(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(fn(l)){if(Kp(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function urn(e){return(fn(e.x)||fn(e.y))&&!fn(e.x2)&&!fn(e.y2)&&!fn(e.xError)&&!fn(e.xError2)&&!fn(e.yError)&&!fn(e.yError2)}function lrn(e){return fn(e.x2)||fn(e.y2)}function crn(e){return fn(e.xError)||fn(e.xError2)||fn(e.yError)||fn(e.yError2)}function $De(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,u=Zf(r)?r:{type:r};o&&tt(ANe(t));const{orient:l,inputType:c}=arn(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:m}=IDe(e,l,t),{errorBarSpecificAggregate:g,postAggregateCalculates:y,tooltipSummary:v,tooltipTitleWithFieldName:b}=frn(u,f,d,h,p,c,t,n),{[m]:_,[m==="x"?"x2":"y2"]:w,[m==="x"?"xError":"yError"]:S,[m==="x"?"xError2":"yError2"]:E,...C}=i,{bins:A,timeUnits:k,aggregate:P,groupby:$,encoding:N}=SDe(C,n),O=[...P,...g],j=c!=="raw"?[]:$,M=fB(v,f,N,b);return{transform:[...a.transform??[],...A,...k,...O.length===0?[]:[{aggregate:O,groupby:j}],...y],groupby:j,continuousAxisChannelDef:f,continuousAxis:m,encodingWithoutContinuousAxis:N,ticksOrient:l==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:a,tooltipEncoding:M}}function frn(e,t,n,r,i,o,s,a){let u=[],l=[];const c=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&tt(xtn(h,p,s)),p==="stderr"||p==="stdev")u=[{op:p,field:c,as:`extent_${c}`},{op:h,field:c,as:`center_${c}`}],l=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],f=[{fieldPrefix:"center_",titlePrefix:T2(h)},{fieldPrefix:"upper_",titlePrefix:Gce(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:Gce(h,p,"-")}],d=!0;else{let m,g,y;p==="ci"?(m="mean",g="ci0",y="ci1"):(m="median",g="q1",y="q3"),u=[{op:g,field:c,as:`lower_${c}`},{op:y,field:c,as:`upper_${c}`},{op:m,field:c,as:`center_${c}`}],f=[{fieldPrefix:"upper_",titlePrefix:lb({field:c,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:lb({field:c,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:lb({field:c,aggregate:m,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&tt(Etn(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],l=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:c}],l=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?l.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):l.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const h of l)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:_y(_y(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:l,errorBarSpecificAggregate:u,tooltipSummary:f,tooltipTitleWithFieldName:d}}function Gce(e,t,n){return`${T2(e)} ${n} ${t}`}const UX="errorband",drn=["band","borders"],hrn=new s3(UX,ODe);function ODe(e,{config:t}){e={...e,encoding:a3(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:u}=$De(e,UX,t),l=s,c=jX(l,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...l.interpolate?{interpolate:l.interpolate}:{},...l.tension&&l.interpolate?{tension:l.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):l.interpolate?tt(Fce("interpolate")):l.tension&&tt(Fce("tension")),{...a,transform:n,layer:[...c({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:u}),...c({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:u})]}}const MDe={};function zX(e,t,n){const r=new s3(e,t);MDe[e]={normalizer:r,parts:n}}function prn(){return Qe(MDe)}zX(YN,PDe,nrn);zX(BX,DDe,orn);zX(UX,ODe,drn);const mrn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],LDe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},FDe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},grn=Qe(LDe),yrn=Qe(FDe),vrn={header:1,headerRow:1,headerColumn:1,headerFacet:1},jDe=Qe(vrn),BDe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],brn={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},_rn={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},zc="_vgsid_",wrn={point:{on:"click",fields:[zc],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function VX(e){return e==="legend"||!!(e!=null&&e.legend)}function J4(e){return VX(e)&&wt(e)}function HX(e){return!!(e!=null&&e.select)}function UDe(e){const t=[];for(const n of e||[]){if(HX(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function Ern(e){return u3(e)||WX(e)||qX(e)}function qX(e){return"concat"in e}function u3(e){return"vconcat"in e}function WX(e){return"hconcat"in e}function zDe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function td(e){return wt(e)&&e.step!==void 0}function Yce(e){return e.view||e.width||e.height}const Kce=20,xrn={align:1,bounds:1,center:1,columns:1,spacing:1},Trn=Qe(xrn);function Srn(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(t3(e)&&!P2(e.facet)||qX(e))&&(i.columns=s),u3(e)&&(i.columns=1);for(const a of Trn)if(e[a]!==void 0)if(a==="spacing"){const u=e[a];i[a]=tr(u)?u:{row:u.row??o,column:u.column??o}}else i[a]=e[a];return i}function dB(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function KN(e,t){const n=XN(e,t);return td(n)?n.step:VDe}function XN(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return qi(n,{step:e.step})}const VDe=20,Crn={continuousWidth:200,continuousHeight:200,step:VDe},Arn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:Crn,mark:Cnn,arc:{},area:{},bar:knn,circle:{},geoshape:{},image:{},line:{},point:{},rect:Rnn,rule:{color:"black"},square:{},text:{color:"black"},tick:Pnn,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:tnn,projection:{},legend:brn,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:wrn,style:{},title:{},facet:{spacing:Kce},concat:{spacing:Kce},normalizedNumberFormat:".0%"},Nd=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],Xce={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Qce={blue:Nd[0],orange:Nd[1],red:Nd[2],teal:Nd[3],green:Nd[4],yellow:Nd[5],purple:Nd[6],pink:Nd[7],brown:Nd[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function Irn(e={}){return{signals:[{name:"color",value:wt(e)?{...Qce,...e}:Qce}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function krn(e){return{signals:[{name:"fontSize",value:wt(e)?{...Xce,...e}:Xce}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function Rrn(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function HDe(e){const t=Qe(e||{}),n={};for(const r of t){const i=e[r];n[r]=$2(i)?_Ne(i):Cu(i)}return n}function Prn(e){const t=Qe(e),n={};for(const r of t)n[r]=HDe(e[r]);return n}const Nrn=[...sDe,...EDe,...jDe,"background","padding","legend","lineBreak","scale","style","title","view"];function qDe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=uw({},tn(Arn),n?Rrn(n):{},t?Irn(t):{},r?krn(r):{},o||{});i&&lw(s,"selection",i,!0);const a=ru(s,Nrn);for(const u of["background","lineBreak","padding"])s[u]&&(a[u]=Cu(s[u]));for(const u of sDe)s[u]&&(a[u]=za(s[u]));for(const u of EDe)s[u]&&(a[u]=HDe(s[u]));for(const u of jDe)s[u]&&(a[u]=za(s[u]));return s.legend&&(a.legend=za(s.legend)),s.scale&&(a.scale=za(s.scale)),s.style&&(a.style=Prn(s.style)),s.title&&(a.title=za(s.title)),s.view&&(a.view=za(s.view)),a}const Drn=new Set(["view",..._nn]),$rn=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],Orn={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...Snn};function Mrn(e){e=tn(e);for(const t of $rn)delete e[t];if(e.axis)for(const t in e.axis)$2(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of mrn)delete e.legend[t];if(e.mark){for(const t of Uce)delete e.mark[t];e.mark.tooltip&&wt(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(UDe(e.params)),delete e.params);for(const t of Drn){for(const r of Uce)delete e[t][r];const n=Orn[t];if(n)for(const r of n)delete e[t][r];Frn(e,t)}for(const t of prn())delete e[t];Lrn(e);for(const t in e)wt(e[t])&&Ir(e[t])&&delete e[t];return Ir(e)?void 0:e}function Lrn(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=bNe(e.title);Ir(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Ir(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Ir(r)?delete e.title:e.title=r}function Frn(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Ir(o)||(e.style[n??t]=o),delete e[t]}function l3(e){return"layer"in e}function jrn(e){return"repeat"in e}function Brn(e){return!je(e.repeat)&&e.repeat.layer}class GX{map(t,n){return t3(t)?this.mapFacet(t,n):jrn(t)?this.mapRepeat(t,n):WX(t)?this.mapHConcat(t,n):u3(t)?this.mapVConcat(t,n):qX(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(l3(t))return this.mapLayer(t,n);if(rp(t))return this.mapUnit(t,n);throw new Error(lX(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const Urn={zero:1,center:1,normalize:1};function zrn(e){return e in Urn}const Vrn=new Set([rDe,QM,XM,VN,ZM,kX,RX,JM,iDe,IX]),Hrn=new Set([QM,XM,rDe]);function Xv(e){return nt(e)&&f_(e)==="quantitative"&&!e.bin}function Jce(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(nt(s)&&nt(a))if(Xv(s)&&Xv(a)){if(s.stack)return t;if(a.stack)return i;const u=nt(s)&&!!s.aggregate,l=nt(a)&&!!a.aggregate;if(u!==l)return u?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Xv(s))return t;if(Xv(a))return i}else{if(Xv(s))return o&&n==="vertical"?void 0:t;if(Xv(a))return o&&n==="horizontal"?void 0:i}}function qrn(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function WDe(e,t){var m,g;const n=Zf(e)?e:{type:e},r=n.type;if(!Vrn.has(r))return null;const i=Jce(t,"x",n)||Jce(t,"theta",n);if(!i)return null;const o=t[i],s=nt(o)?ft(o,{}):void 0,a=qrn(i),u=[],l=new Set;if(t[a]){const y=t[a],v=nt(y)?ft(y,{}):void 0;v&&v!==s&&(u.push(a),l.add(v))}const c=a==="x"?"xOffset":"yOffset",f=t[c],d=nt(f)?ft(f,{}):void 0;d&&d!==s&&(u.push(c),l.add(d));const h=ien.reduce((y,v)=>{if(v!=="tooltip"&&M0(t,v)){const b=t[v];for(const _ of bt(b)){const w=ed(_);if(w.aggregate)continue;const S=ft(w,{});(!S||!l.has(S))&&y.push({channel:v,fieldDef:w})}}return y},[]);let p;return o.stack!==void 0?cg(o.stack)?p=o.stack?"zero":null:p=o.stack:Hrn.has(r)&&(p="zero"),!p||!zrn(p)||MX(t)&&h.length===0?null:((m=o==null?void 0:o.scale)!=null&&m.type&&((g=o==null?void 0:o.scale)==null?void 0:g.type)!==iu.LINEAR&&o!=null&&o.stack&&tt(btn(o.scale.type)),fn(t[_d(i)])?(o.stack!==void 0&&tt(vtn(i)),null):(nt(o)&&o.aggregate&&!gen.has(o.aggregate)&&tt(_tn(o.aggregate)),{groupbyChannels:u,groupbyFields:l,fieldChannel:i,impute:o.impute===null?!1:gv(r),stackBy:h,offset:p}))}function GDe(e,t,n){const r=za(e),i=gr("orient",r,n);if(r.orient=Krn(r.type,t,i),i!==void 0&&i!==r.orient&&tt(ntn(r.orient,i)),r.type==="bar"&&r.orient){const u=gr("cornerRadiusEnd",r,n);if(u!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:Inn[r.orient];for(const c of l)r[c]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const o=gr("opacity",r,n),s=gr("fillOpacity",r,n);return o===void 0&&s===void 0&&(r.opacity=Grn(r.type,t)),gr("cursor",r,n)===void 0&&(r.cursor=Wrn(r,t,n)),r}function Wrn(e,t,n){return t.href||e.href||gr("href",e,n)?"pointer":e.cursor}function Grn(e,t){if(Fn([ZM,IX,kX,RX],e)&&!MX(t))return .7}function Yrn(e,t,{graticule:n}){if(n)return!1;const r=Lh("filled",e,t),i=e.type;return qi(r,i!==ZM&&i!==JM&&i!==VN)}function Krn(e,t,n){switch(e){case ZM:case kX:case RX:case iDe:case vnn:case ynn:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case QM:if(nt(r)&&(is(r.bin)||nt(i)&&i.aggregate&&!r.aggregate))return"vertical";if(nt(i)&&(is(i.bin)||nt(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(nt(r)&&r.type===xy&&!Hr(r.bin)||HN(r))&&nt(i)&&is(i.bin)?"horizontal":"vertical";if(!s)return(nt(i)&&i.type===xy&&!Hr(i.bin)||HN(i))&&nt(r)&&is(r.bin)?"vertical":"horizontal"}case VN:if(o&&!(nt(r)&&is(r.bin))&&s&&!(nt(i)&&is(i.bin)))return;case XM:if(s)return nt(i)&&is(i.bin)?"horizontal":"vertical";if(o)return nt(r)&&is(r.bin)?"vertical":"horizontal";if(e===VN){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case JM:case IX:{const a=Hce(r),u=Hce(i);if(n)return n;if(a&&!u)return e!=="tick"?"horizontal":"vertical";if(!a&&u)return e!=="tick"?"vertical":"horizontal";if(a&&u)return"vertical";{const l=wa(r)&&r.type===l_,c=wa(i)&&i.type===l_;if(l&&!c)return"vertical";if(!l&&c)return"horizontal"}return}}return"vertical"}function Xrn(e){const{point:t,line:n,...r}=e;return Qe(r).length>1?r:r.type}function Qrn(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:ru(e[t],["point","line"])});return e}function Z4(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?wt(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?wt(t.point)?t.point:{}:void 0}function Zce(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class Jrn{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(rp(t)){const{mark:r,encoding:i}=t,o=Zf(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!Z4(o,n[o.type],i);case"area":return!!Z4(o,n[o.type],i)||!!Zce(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:u,encoding:l,...c}=t,f=a3(l,i),d=Zf(a)?a:{type:a},h=Z4(d,i[d.type],f),p=d.type==="area"&&Zce(d,i[d.type]),m=[{name:u,...o?{params:o}:{},mark:Xrn({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:ru(f,["shape"])}],g=WDe(GDe(d,f,i),f);let y=f;if(g){const{fieldChannel:v,offset:b}=g;y={...f,[v]:{...f[v],...b?{stack:b}:{}}}}return y=ru(y,["y2","x2"]),p&&m.push({...s?{projection:s}:{},mark:{type:"line",...o_(d,["clip","interpolate","tension","tooltip"]),...p},encoding:y}),h&&m.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...o_(d,["clip","tooltip"]),...h},encoding:y}),r({...c,layer:m},{...n,config:Qrn(i)})}}function Zrn(e,t){return t?P2(e)?KDe(e,t):YDe(e,t):e}function eF(e,t){return t?KDe(e,t):e}function hB(e,t,n){const r=t[e];if(Onn(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};tt(Men(r.repeat));return}return t}function YDe(e,t){if(e=hB("field",e,t),e!==void 0){if(e===null)return null;if(NX(e)&&Uf(e.sort)){const n=hB("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function efe(e,t){if(nt(e))return YDe(e,t);{const n=hB("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function tfe(e,t){if(fn(e)){const n=efe(e,t);if(n)return n;if(n3(e))return{condition:e.condition}}else{if(N2(e)){const n=efe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function KDe(e,t){const n={};for(const r in e)if(qt(e,r)){const i=e[r];if(je(i))n[r]=i.map(o=>tfe(o,t)).filter(o=>o);else{const o=tfe(i,t);o!==void 0&&(n[r]=o)}}return n}class ein{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(rp(t)){const{encoding:n,mark:r}=t;if(r==="line"||Zf(r)&&r.type==="line")for(const i of ten){const o=dv(i),s=n[o];if(n[i]&&(nt(s)&&!is(s.bin)||Ed(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return tt(ttn(!!i.x2,!!i.y2)),r({...t,mark:wt(o)?{...o,type:"rule"}:"rule"},n)}}class tin extends GX{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[rrn,srn,hrn,new Jrn,new ein]}map(t,n){if(rp(t)){const r=M0(t.encoding,ph),i=M0(t.encoding,mh),o=M0(t.encoding,BM);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=eF(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(s,n.config))return u.run(s,n,a);return s}mapRepeat(t,n){return Brn(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:u}=r,{repeater:l={},repeaterPrefix:c=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:u},spec:i}},n):{...o,layer:u.map(f=>{const d={...l,layer:f},h=`${(i.name?`${i.name}_`:"")+c}child__layer_${fi(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!je(r)&&t.columns&&(t=ru(t,["columns"]),tt($ce("repeat")));const a=[],{repeater:u={},repeaterPrefix:l=""}=n,c=!je(r)&&r.row||[u?u.row:null],f=!je(r)&&r.column||[u?u.column:null],d=je(r)&&r||[u?u.repeat:null];for(const p of d)for(const m of c)for(const g of f){const y={repeat:p,row:m,column:g,layer:u.layer},v=(i.name?`${i.name}_`:"")+l+"child__"+(je(r)?`${fi(p)}`:(r.row?`row_${fi(m)}`:"")+(r.column?`column_${fi(g)}`:"")),b=this.map(i,{...n,repeater:y,repeaterPrefix:v});b.name=v,a.push(ru(b,["data"]))}const h=je(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return P2(r)&&t.columns&&(t=ru(t,["columns"]),tt($ce("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,u=rfe({parentProjection:s,projection:i}),l=nfe({parentEncoding:o,encoding:eF(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...l?{encoding:l}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:u,projection:l,height:c,view:f,params:d,encoding:h,...p}=t,{facetMapping:m,layout:g}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),y=eF(s,n.repeater);return this.mapFacet({...p,...g,facet:m,spec:{...u?{width:u}:{},...c?{height:c}:{},...f?{view:f}:{},...l?{projection:l}:{},mark:a,encoding:y,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&tt(Zen([...r?[ph]:[],...i?[mh]:[]]));const s={},a={};for(const u of[ph,mh]){const l=t[u];if(l){const{align:c,center:f,spacing:d,columns:h,...p}=l;s[u]=p;for(const m of["align","center","spacing"])l[m]!==void 0&&(a[m]??(a[m]={}),a[m][u]=l[m])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:u,columns:l,...c}=o;return{facetMapping:Zrn(c,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...u?{spacing:u}:{},...l?{columns:l}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,u={...i,parentEncoding:nfe({parentEncoding:n,encoding:o,layer:!0}),parentProjection:rfe({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[u.repeaterPrefix,t.name].filter(l=>l).join("_")}:{}},u)}}function nfe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Qe(e),...Qe(t)]);for(const o of i){const s=t[o],a=e[o];if(fn(s)){const u={...a,...s};r[o]=u}else N2(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||Uc(a)||Bt(a)||fn(a)||je(a))&&(r[o]=a)}}else r=t;return!r||Ir(r)?void 0:r}function rfe(e){const{parentProjection:t,projection:n}=e;return t&&n&&tt(zen({parentProjection:t,projection:n})),n??t}function YX(e){return"filter"in e}function nin(e){return(e==null?void 0:e.stop)!==void 0}function XDe(e){return"lookup"in e}function rin(e){return"data"in e}function iin(e){return"param"in e}function oin(e){return"pivot"in e}function sin(e){return"density"in e}function ain(e){return"quantile"in e}function uin(e){return"regression"in e}function lin(e){return"loess"in e}function cin(e){return"sample"in e}function fin(e){return"window"in e}function din(e){return"joinaggregate"in e}function hin(e){return"flatten"in e}function pin(e){return"calculate"in e}function QDe(e){return"bin"in e}function min(e){return"impute"in e}function gin(e){return"timeUnit"in e}function yin(e){return"aggregate"in e}function vin(e){return"stack"in e}function bin(e){return"fold"in e}function _in(e){return"extent"in e&&!("density"in e)&&!("regression"in e)}function win(e){return e.map(t=>YX(t)?{filter:ab(t.filter,Ytn)}:t)}class Ein extends GX{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=ife(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=ife(t,n),t.encoding){const r={};for(const[i,o]of Bm(t.encoding))r[i]=JDe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:Bm(r).map(([o,s])=>{const{init:a,bind:u,empty:l,...c}=s;c.type==="single"?(c.type="point",c.toggle=!1):c.type==="multi"&&(c.type="point"),n.emptySelections[o]=l!=="none";for(const f of hs(n.selectionPredicates[o]??{}))f.empty=l!=="none";return{name:o,value:a,select:c,bind:u}})}:t}}function ife(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(YX(o))return{filter:pB(o,t)};if(QDe(o)&&hv(o.bin))return{...o,bin:ZDe(o.bin)};if(XDe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function JDe(e,t){var r,i;const n=tn(e);if(nt(n)&&hv(n.bin)&&(n.bin=ZDe(n.bin)),yv(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(n3(n))if(je(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:u,...l}=o;return a?o:{...l,test:pB(o,t)}});else{const{selection:o,param:s,test:a,...u}=JDe(n.condition,t);n.condition=s?n.condition:{...u,test:pB(n.condition,t)}}return n}function ZDe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function pB(e,t){const n=r=>ab(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):ab(e.test||e.filter,r=>r.selection?n(r.selection):r)}class mB extends GX{map(t,n){const r=n.selections??[];if(t.params&&!rp(t)){const i=[];for(const o of t.params)HX(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(_t(a)&&(a===t.name||i.includes(a))||je(a)&&a.map(u=>i.indexOf(u)).every((u,l,c)=>u!==-1&&(l===0||u>c[l-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=mB.prototype[e];mB.prototype[e]=function(n,r){return t.call(this,n,xin(n,r))}}function xin(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function e$e(e,t){t===void 0&&(t=qDe(e.config));const n=Ain(e,t),{width:r,height:i}=e,o=Iin(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const Tin=new tin,Sin=new Ein,Cin=new mB;function Ain(e,t={}){const n={config:t};return Cin.map(Tin.map(Sin.map(e,n),n),n)}function ofe(e){return _t(e)?{type:e}:e??{}}function Iin(e,t,n){let{width:r,height:i}=t;const o=rp(e)||l3(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(tt(Rce("width")),r=void 0),i=="container"&&(tt(Rce("height")),i=void 0));const a={type:"pad",...s,...n?ofe(n.autosize):{},...ofe(e.autosize)};if(a.type==="fit"&&!o&&(tt(Sen),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&tt(Pce("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&tt(Pce("height")),!$u(a,{type:"pad"}))return a}function kin(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function Rin(e){return e?`fit-${qM(e)}`:"fit"}const Pin=["background","padding"];function sfe(e,t){const n={};for(const r of Pin)e&&e[r]!==void 0&&(n[r]=Cu(e[r]));return t&&(n.params=e.params),n}class ip{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new ip(tn(this.explicit),tn(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return qi(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Qe(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function pf(e){return{explicit:!0,value:e}}function _u(e){return{explicit:!1,value:e}}function t$e(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:c3(t,n,r,i)}}function c3(e,t,n,r){return e.explicit&&t.explicit&&tt(ftn(n,r,e.value,t.value)),e}function Vm(e,t,n,r,i=c3){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:$u(e.value,t.value)?e:i(e,t,n,r)}class Nin extends ip{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function p_(e){return"url"in e}function jS(e){return"values"in e}function n$e(e){return"name"in e&&!p_(e)&&!jS(e)&&!vm(e)}function vm(e){return e&&(r$e(e)||i$e(e)||KX(e))}function r$e(e){return"sequence"in e}function i$e(e){return"sphere"in e}function KX(e){return"graticule"in e}var ui;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(ui||(ui={}));function o$e(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Fl(i.field),i}function Cy(e,t=!0,n=qs){if(je(e)){const r=e.map(i=>Cy(i,t,n));return t?`[${r.join(", ")}]`:r}else if(pv(e))return n(t?Ey(e):Mtn(e));return t?n(kr(e)):e}function Din(e,t){for(const n of hs(e.component.selection??{})){const r=n.name;let i=`${r}${qm}, ${n.resolve==="global"?"true":`{unit: ${L0(e)}}`}`;for(const o of p3)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+fon,on:[{events:{signal:n.name+qm},update:`modify(${at(n.name+Ay)}, ${i})`}]})}return XX(t)}function $in(e,t){if(e.component.selection&&Qe(e.component.selection).length){const n=at(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:gg("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return XX(t)}function Oin(e,t){let n=!1;for(const r of hs(e.component.selection??{})){const i=r.name,o=at(i+Ay);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${x$e}(${o}, ${at(a)}${u}`})}n=!0;for(const a of p3)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),XX(t)}function Min(e,t){const n=[...t],r=L0(e,{escape:!1});for(const i of hs(e.component.selection??{})){const o={name:i.name+Ay};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:zc}}]),i.init){const a=i.project.items.map(o$e);o.values=i.project.hasSelectionId?i.init.map(u=>({unit:r,[zc]:Cy(u,!1)[0]})):i.init.map(u=>({unit:r,fields:a,values:Cy(u,!1)}))}n.filter(a=>a.name===i.name+Ay).length||n.push(o)}return n}function s$e(e,t){for(const n of hs(e.component.selection??{}))for(const r of p3)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function Lin(e,t){for(const n of e.children)Ai(n)&&(t=s$e(n,t));return t}function Fin(e,t,n,r){const i=I$e(e,t.param,t);return{signal:Xu(n.get("type"))&&je(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function XX(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Cr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){tt(jen);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class ou extends Cr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${nNe()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function tF(e){return e.as!==void 0}function afe(e){return`${e}_end`}class zf extends Cr{clone(){return new zf(null,tn(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:u}=o;if(u){let l;if(mv(u)){if(Ai(n)){const{mark:c,markDef:f,config:d}=n,h=zm({fieldDef:o,markDef:f,config:d});(FS(c)||h)&&(l={timeUnit:jo(u),field:a})}}else l={as:ft(o,{forAs:!0}),field:a,timeUnit:u};if(Ai(n)){const{mark:c,markDef:f,config:d}=n,h=zm({fieldDef:o,markDef:f,config:d});FS(c)&&Wi(s)&&h!==.5&&(l.rectBandPosition=h)}l&&(i[Ln(l)]=l)}return i},{});return Ir(r)?null:new zf(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=jo(r),s={...i,timeUnit:o};return new zf(t,{[Ln(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of Bm(this.timeUnits)){const o=tF(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(hs(this.timeUnits).map(t=>tF(t)?t.as:afe(t.field)))}dependentFields(){return new Set(hs(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Ln(this.timeUnits)}`}assemble(){const t=[];for(const n of hs(this.timeUnits)){const{rectBandPosition:r}=n,i=jo(n.timeUnit);if(tF(n)){const{field:o,as:s}=n,{unit:a,utc:u,...l}=i,c=[s,`${s}_end`];t.push({field:Fl(o),type:"timeunit",...a?{units:KM(a)}:{},...u?{timezone:"utc"}:{},...l,as:c}),t.push(...ufe(c,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=a$e({timeUnit:i,field:s}),u=afe(s);t.push({type:"formula",expr:a,as:u}),t.push(...ufe([s,u],r,i))}}return t}}const f3="offsetted_rect_start",d3="offsetted_rect_end";function a$e({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=FNe(r),{part:s,step:a}=zNe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function ufe([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:lfe([a$e({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${f3}`},{type:"formula",expr:lfe([i,o],n+.5),as:`${e}_${d3}`}]}return[]}function lfe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const O2="_tuple_fields";class jin{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Bin={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new jin),o={},s={},a=new Set,u=(p,m)=>{const g=m==="visual"?p.channel:p.field;let y=fi(`${r}_${g}`);for(let v=1;a.has(y);v++)y=fi(`${r}_${g}_${v}`);return a.add(y),{[m]:y}},l=t.type,c=e.config.selection[l],f=n.value!==void 0?bt(n.value):null;let{fields:d,encodings:h}=wt(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(wt(p))for(const m of Qe(p))een(m)?(h||(h=[])).push(m):l==="interval"?(tt(Oen),h=c.encodings):(d??(d=[])).push(m)}!d&&!h&&(h=c.encodings,"fields"in c&&(d=c.fields));for(const p of h??[]){const m=e.fieldDef(p);if(m){let g=m.field;if(m.aggregate){tt(Cen(p,m.aggregate));continue}else if(!g){tt(Dce(p));continue}if(m.timeUnit&&!mv(m.timeUnit)){g=e.vgField(p);const y={timeUnit:m.timeUnit,as:g,field:m.field};s[Ln(y)]=y}if(!o[g]){const y=l==="interval"&&np(p)&&Xu(e.getScaleComponent(p).get("type"))?"R":m.bin?"R-RE":"E",v={field:g,channel:p,type:y,index:i.items.length};v.signals={...u(v,"data"),...u(v,"visual")},i.items.push(o[g]=v),i.hasField[g]=o[g],i.hasSelectionId=i.hasSelectionId||g===zc,uNe(p)?(v.geoChannel=p,v.channel=aNe(p),i.hasChannel[v.channel]=o[g]):i.hasChannel[p]=o[g]}}else tt(Dce(p))}for(const p of d??[]){if(i.hasField[p])continue;const m={type:"E",field:p,index:i.items.length};m.signals={...u(m,"data")},i.items.push(m),i.hasField[p]=m,i.hasSelectionId=i.hasSelectionId||p===zc}f&&(t.init=f.map(p=>i.items.map(m=>wt(p)?p[m.geoChannel||m.channel]!==void 0?p[m.geoChannel||m.channel]:p[m.field]:p))),Ir(s)||(i.timeUnit=new zf(null,s))},signals:(e,t,n)=>{const r=t.name+O2;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(o$e)})}},gh={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!np(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(s=="sequential"&&tt(Ren),!o||!Xu(s)){tt(ken);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||cfe(e)||r.length===0)return n;const i=n.filter(s=>s.name===t.name)[0];let o=i.update;if(o.indexOf(x$e)>=0)i.update=`{${r.map(s=>`${at(Fl(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${at(Fl(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!cfe(e))for(const r of t.scales){const i=n.find(o=>o.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function gB(e,t){return`domain(${at(e.scaleName(t))})`}function cfe(e){return e.parent&&Pw(e.parent)&&!e.parent.parent}const cb="_brush",u$e="_scale_trigger",IE="geo_interval_init_tick",l$e="_init",Uin="_center",zin={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...wt(n.select)?n.select:{}};i.fields=[zc],i.encodings||(i.encodings=n.value?Qe(n.value):[Jc,Qc]),n.select={type:"interval",...i}}if(t.translate&&!gh.defined(t)){const i=`!event.item || event.item.mark.name !== ${at(t.name+cb)}`;for(const o of t.events){if(!o.between){tt(`${o} is not an ordered event stream for interval selections.`);continue}const s=bt((r=o.between[0]).filter??(r.filter=[]));s.indexOf(i)<0&&s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+qm,o=hs(t.project.hasChannel).filter(a=>a.channel===di||a.channel===qo),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,u)=>a.concat(Vin(e,t,u,s&&s[u.index])),[])),e.hasProjection){const a=at(e.projectionName()),u=e.projectionName()+Uin,{x:l,y:c}=t.project.hasChannel,f=l&&l.signals.visual,d=c&&c.signals.visual,h=l?s&&s[l.index]:`${u}[0]`,p=c?s&&s[c.index]:`${u}[1]`,m=w=>e.getSizeSignalRef(w).signal,g=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":m("width")}, ${d?d+"[1]":m("height")}]]`;s&&(n.unshift({name:r+l$e,init:`[scale(${a}, [${l?h[0]:h}, ${c?p[0]:p}]), scale(${a}, [${l?h[1]:h}, ${c?p[1]:p}])]`}),(!l||!c)&&(n.find(S=>S.name===u)||n.unshift({name:u,update:`invert(${a}, [${m("width")}/2, ${m("height")}/2])`})));const y=`intersect(${g}, {markname: ${at(e.getName("marks"))}}, unit.mark)`,v=`{unit: ${L0(e)}}`,b=`vlSelectionTuples(${y}, ${v})`,_=o.map(w=>w.signals.visual);return n.concat({name:i,on:[{events:[..._.length?[{signal:_.join(" || ")}]:[],...s?[{signal:IE}]:[]],update:b}]})}else{if(!gh.defined(t)){const l=r+u$e,c=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,m=at(e.scaleName(d)),g=e.getScaleComponent(d).get("type"),y=Xu(g)?"+":"";return`(!isArray(${h}) || (${y}invert(${m}, ${p})[0] === ${y}${h}[0] && ${y}invert(${m}, ${p})[1] === ${y}${h}[1]))`});c.length&&n.push({name:l,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:c.join(" && ")+` ? ${l} : {}`}]})}const a=o.map(l=>l.signals.data),u=`unit: ${L0(e)}, fields: ${r+O2}, values`;return n.concat({name:i,...s?{init:`{${u}: ${Cy(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${u}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Ai(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===IE).length||n.unshift({name:IE,value:null,on:[{events:"timer{1}",update:`${IE} === null ? {} : ${IE}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,u=`data(${at(t.name+Ay)})`;if(gh.defined(t)||!i&&!o)return n;const l={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of Qe(l))l[g]=[{test:`${u}.length && ${u}[0].unit === ${L0(e)}`,...l[g]},{value:0}];const{fill:c,fillOpacity:f,cursor:d,...h}=t.mark,p=Qe(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{}),m=d??(t.translate?"move":null);return[{name:`${r+cb}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:c},fillOpacity:{value:f}},update:l}},...n,{name:r+cb,type:"rect",clip:!0,encode:{enter:{...m?{cursor:{value:m}}:{},fill:{value:"transparent"}},update:{...l,...p}}}]}};function Vin(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=at(i?e.scaleName(o):e.projectionName()),u=d=>`scale(${a}, ${d})`,l=e.getSizeSignalRef(o===di?"width":"height").signal,c=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${c}, ${c}]`},{events:h,update:`[${s}[0], clamp(${c}, 0, ${l})]`}],[]);if(i){const d=n.signals.data,h=gh.defined(t),p=e.getScaleComponent(o),m=p?p.get("type"):void 0,g=r?{init:Cy(r,!0,u)}:{value:[]};return f.push({events:{signal:t.name+u$e},update:Xu(m)?`[${u(`${d}[0]`)}, ${u(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...g,on:f},{name:d,...r?{init:Cy(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===di?0:1,h=t.name+l$e,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const Hin={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+O2,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=hs(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+cb):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let l=`unit: ${L0(e)}, `;if(t.project.hasSelectionId)l+=`${zc}: ${s}[${at(zc)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${at(e.vgField(d.channel,{}))}], ${s}[${at(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${at(d.field)}]`}).join(", ");l+=`fields: ${i}, values: [${f}]`}const c=t.events;return n.concat([{name:r+qm,on:c?[{events:c,update:`${u} ? {${l}} : null`,force:!0}]:[]}])}};function Aw(e,t,n,r){const i=n3(t)&&t.condition,o=r(t);if(i){const a=bt(i).map(u=>{const l=r(u);if($nn(u)){const{param:c,empty:f}=u;return{test:A$e(e,{param:c,empty:f}),...l}}else return{test:ZN(e,u.test),...l}});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function QX(e,t="text"){const n=e.encoding[t];return Aw(e,n,t,r=>h3(r,e.config))}function h3(e,t,n="datum"){if(e){if(Uc(e))return Jr(e.value);if(fn(e)){const{format:r,formatType:i}=WN(e);return AX({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function c$e(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(je(s))return{tooltip:ffe({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return Aw(e,s,"tooltip",u=>{const l=h3(u,i,a);if(l)return l;if(u===null)return;let c=gr("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),_t(c))return{value:c};if(wt(c))return Bt(c)?c:c.content==="encoding"?ffe(n,o,i,t):{signal:a}})}}function f$e(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o={},s=r?"datum.datum":"datum",a=[];function u(c,f){const d=dv(f),h=wa(c)?c:{...c,type:e[d].type},p=h.title||$X(h,i),m=bt(p).join(", ").replaceAll(/"/g,'\\"');let g;if(Wi(f)){const y=f==="x"?"x2":"y2",v=ed(e[y]);if(is(h.bin)&&v){const b=ft(h,{expr:s}),_=ft(v,{expr:s}),{format:w,formatType:S}=WN(h);g=R2(b,_,w,S,i),o[y]=!0}}if((Wi(f)||f===Yl||f===Xc)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:y,formatType:v}=WN(h);g=AX({fieldOrDatumDef:h,format:y,formatType:v,expr:s,config:i,normalizeStack:!0}).signal}g??(g=h3(h,i,s).signal),a.push({channel:f,key:m,value:g})}LX(e,(c,f)=>{nt(c)?u(c,f):r3(c)&&u(c.condition,f)});const l={};for(const{channel:c,key:f,value:d}of a)!o[c]&&!l[f]&&(l[f]=d);return l}function ffe(e,t,n,{reactiveGeom:r}={}){const i=f$e(e,t,n,{reactiveGeom:r}),o=Bm(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function qin(e){const{markDef:t,config:n}=e,r=gr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Win(e),...Gin(e)}}function Win(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=gr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in Een?{}:{ariaRoleDescription:{value:t}}}function Gin(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return Aw(e,o,"description",u=>h3(u,e.config));const s=gr("description",n,r);if(s!=null)return{description:Jr(s)};if(r.aria===!1)return{};const a=f$e(t,i,r);if(!Ir(a))return{description:{signal:Bm(a).map(([u,l],c)=>`"${c>0?"; ":""}${u}: " + (${l})`).join(" + ")}}}function No(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:u}=n;a===void 0&&(u??(u=gr(e,r,o,{vgChannel:s,ignoreVgConfig:!0})),u!==void 0&&(a=Jr(u)));const l=i[e];return Aw(t,l,s??e,c=>CX({channel:e,channelDef:c,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function d$e(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??gr("filled",n,i),a=Fn(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,u=gr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,l=gr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],c=s?"fill":"stroke",f={...u?{fill:Jr(u)}:{},...l?{stroke:Jr(l)}:{}};return n.color&&(s?n.fill:n.stroke)&&tt(kNe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...No("color",e,{vgChannel:c,defaultValue:s?u:l}),...No("fill",e,{defaultValue:r.fill?u:void 0}),...No("stroke",e,{defaultValue:r.stroke?l:void 0})}}function Yin(e){const{encoding:t,mark:n}=e,r=t.order;return!gv(n)&&Uc(r)?Aw(e,r,"zindex",i=>Jr(i.value)):{}}function m_({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:CX({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:Jr(s),bandPosition:i})};const u=t[o];return u?{offsetType:"visual",offset:u}:{}}function Ms(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,u=i[e],l=i[_d(e)],c=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=m_({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=JX({model:t,defaultPos:n,channel:e,scaleName:c,scale:f}),m=!u&&Wi(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Kin({channel:e,channelDef:u,channel2Def:l,markDef:o,config:s,scaleName:c,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return m?{[r||e]:m}:void 0}function Kin(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(fn(n)&&i&&t===i.fieldChannel){if(nt(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return zN({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return O0(n,r,{suffix:"end"},{offset:o})}return TX(e)}function JX({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=dv(n),u=Um(n),l=gr(n,o,s,{vgChannel:u});if(l!==void 0)return hT(n,l);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!Fn([iu.LOG,iu.TIME,iu.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[hu(n)],mult:.5}}}}const Xin={left:"x",center:"xc",right:"x2"},Qin={top:"y",middle:"yc",bottom:"y2"};function h$e(e,t,n,r="middle"){if(e==="radius"||e==="theta")return Um(e);const i=e==="x"?"align":"baseline",o=gr(i,t,n);let s;return Bt(o)?(tt(etn(i)),s=void 0):s=o,e==="x"?Xin[s||(r==="top"?"left":"center")]:Qin[s||r]}function QN(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?p$e(e,t,{defaultPos:n,defaultPos2:r}):Ms(e,t,{defaultPos:n})}function p$e(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=_d(e),a=hu(e),u=Jin(t,r,s),l=u[a]?h$e(e,i,o):Um(e);return{...Ms(e,t,{defaultPos:n,vgChannel:l}),...u}}function Jin(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,u=dv(n),l=hu(n),c=Um(n),f=r[u],d=e.scaleName(u),h=e.getScaleComponent(u),{offset:p}=n in r||n in o?m_({channel:n,markDef:o,encoding:r,model:e}):m_({channel:u,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const g=hu(n),y=e.markDef[g];return y!=null?{[g]:{value:y}}:{[c]:{field:e.getName(n)}}}const m=Zin({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return m!==void 0?{[c]:m}:TI(n,o)||TI(n,{[n]:BN(n,o,a.style),[l]:BN(l,o,a.style)})||TI(n,a[i])||TI(n,a.mark)||{[c]:JX({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function Zin({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:u,defaultRef:l}){return fn(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?O0(t,o,{suffix:"start"},{offset:u}):TX({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:u,defaultRef:l})}function TI(e,t){const n=hu(e),r=Um(e);if(t[r]!==void 0)return{[r]:hT(e,t[r])};if(t[e]!==void 0)return{[r]:hT(e,t[e])};if(t[n]){const i=t[n];if(Sy(i))tt(Yen(n));else return{[n]:hT(e,i)}}}function Hm(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=_d(t),a=hu(t),u=r[t],l=r[s],c=e.getScaleComponent(t),f=c?c.get("type"):void 0,d=i.orient,h=r[a]??r.size??gr("size",i,n,{vgChannel:a}),p=dNe(t),m=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return nt(u)&&(Hr(u.bin)||is(u.bin)||u.timeUnit&&!l)&&!(h&&!Sy(h))&&!r[p]&&!Bo(f)?non({fieldDef:u,fieldDef2:l,channel:t,model:e}):(fn(u)&&Bo(f)||m)&&!l?ton(u,t,e):p$e(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function eon(e,t,n,r,i,o,s){if(Sy(i))if(n){const u=n.get("type");if(u==="band"){let l=`bandwidth('${t}')`;i.band!==1&&(l=`${i.band} * ${l}`);const c=Lh("minBandSize",{type:s},r);return{signal:c?`max(${Tc(c)}, ${l})`:l}}else i.band!==1&&(tt(itn(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Bt(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(xg(u)&&tr(u.step))return{value:u.step-2}}if(!o){const{bandPaddingInner:u,barBandPaddingInner:l,rectBandPaddingInner:c}=r.scale,f=qi(u,s==="bar"?l:c);if(Bt(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(tr(f))return{signal:`${1-f} * ${e}`}}return{value:KN(r.view,e)-2}}function ton(e,t,n){var A,k;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,u=n.scaleName(t),l=n.getScaleComponent(t),c=hu(t),f=_d(t),d=dNe(t),h=n.scaleName(d),p=n.getScaleComponent(iX(t)),m=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let g;(i.size||r.size)&&(m?g=No("size",n,{vgChannel:c,defaultRef:Jr(r.size)}):tt(utn(r.type)));const y=!!g,v=cDe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(A=l||p)==null?void 0:A.get("type"),useVlSizeChannel:m});g=g||{[c]:eon(c,h||u,p||l,o,v,!!e,r.type)};const b=((k=l||p)==null?void 0:k.get("type"))==="band"&&Sy(v)&&!y?"top":"middle",_=h$e(t,r,o,b),w=_==="xc"||_==="yc",{offset:S,offsetType:E}=m_({channel:t,markDef:r,encoding:i,model:n,bandPosition:w?.5:0}),C=TX({channel:t,channelDef:e,markDef:r,config:o,scaleName:u,scale:l,stack:s,offset:S,defaultRef:JX({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:l}),bandPosition:w?E==="encoding"?0:.5:Bt(v)?{signal:`(1-${v})/2`}:Sy(v)?(1-v.band)/2:0});if(c)return{[_]:C,...g};{const P=Um(f),$=g[c],N=S?{...$,offset:S}:$;return{[_]:C,[P]:je(C)?[C[0],{...C[1],offset:N}]:{...C,offset:N}}}}function dfe(e,t,n,r,i,o,s){if(sNe(e))return 0;const a=e==="x"||e==="y2",u=a?-t/2:t/2;if(Bt(n)||Bt(i)||Bt(r)||o){const l=Tc(n),c=Tc(i),f=Tc(r),d=Tc(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${u})`:u,m=f?`${f} + `:"",g=l?`(${l} ? -1 : 1) * `:"",y=c?`(${c} + ${p})`:p;return{signal:m+g+y}}else return i=i||0,r+(n?-i-u:+i+u)}function non({fieldDef:e,fieldDef2:t,channel:n,model:r}){var k;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),u=r.scaleName(n),l=a?a.get("type"):void 0,c=a.get("reverse"),f=cDe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:l}),d=(k=r.component.axes[n])==null?void 0:k[0],h=(d==null?void 0:d.get("translate"))??.5,p=Wi(n)?gr("binSpacing",o,i)??0:0,m=_d(n),g=Um(n),y=Um(m),v=Lh("minBandSize",o,i),{offset:b}=m_({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:_}=m_({channel:m,markDef:o,encoding:s,model:r,bandPosition:0}),w=hnn({fieldDef:e,scaleName:u}),S=dfe(n,p,c,h,b,v,w),E=dfe(m,p,c,h,_??b,v,w),C=Bt(f)?{signal:`(1-${f.signal})/2`}:Sy(f)?(1-f.band)/2:.5,A=zm({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Hr(e.bin)||e.timeUnit){const P=e.timeUnit&&A!==.5;return{[y]:hfe({fieldDef:e,scaleName:u,bandPosition:C,offset:E,useRectOffsetField:P}),[g]:hfe({fieldDef:e,scaleName:u,bandPosition:Bt(C)?{signal:`1-${C.signal}`}:1-C,offset:S,useRectOffsetField:P})}}else if(is(e.bin)){const P=O0(e,u,{},{offset:E});if(nt(t))return{[y]:P,[g]:O0(t,u,{},{offset:S})};if(hv(e.bin)&&e.bin.step)return{[y]:P,[g]:{signal:`scale("${u}", ${ft(e,{expr:"datum"})} + ${e.bin.step})`,offset:S}}}tt(NNe(m))}function hfe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return zN({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:f3,endSuffix:d3}:{}})}const ron=new Set(["aria","width","height"]);function Kl(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?d$e(e):{};return{...ion(e.markDef,t),...pfe(e,"fill",n),...pfe(e,"stroke",r),...No("opacity",e),...No("fillOpacity",e),...No("strokeOpacity",e),...No("strokeWidth",e),...No("strokeDash",e),...Yin(e),...c$e(e),...QX(e,"href"),...qin(e)}}function pfe(e,t,n){const{config:r,mark:i,markDef:o}=e;if(gr("invalid",o,r)==="hide"&&n&&!gv(i)){const a=oon(e,{invalid:!0,channels:WM});if(a)return{[t]:[{test:a,value:null},...bt(n)]}}return n?{[t]:n}:{}}function ion(e,t){return wen.reduce((n,r)=>(!ron.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Jr(e[r])),n),{})}function oon(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const u=a.get("type"),l=e.vgField(s,{expr:"datum"});l&&Xu(u)&&(o[l]=!0)}return o},{}),i=Qe(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>SX(s,t)).join(` ${o} `)}}function ZX(e){const{config:t,markDef:n}=e;if(gr("invalid",n,t)){const i=son(e,{channels:wd});if(i)return{defined:{signal:i}}}return{}}function son(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{var u;const a=e.getScaleComponent(s);if(a){const l=a.get("type"),c=e.vgField(s,{expr:"datum",binSuffix:(u=e.stack)!=null&&u.impute?"mid":void 0});c&&Xu(l)&&(o[c]=!0)}return o},{}),i=Qe(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>SX(s,t)).join(` ${o} `)}}function mfe(e,t){if(t!==void 0)return{[e]:Jr(t)}}const nF="voronoi",m$e={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(nF)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(gv(o))return tt(Aen(o)),n;const s={name:e.getName(nF),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...c$e(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,u=!1;return n.forEach((l,c)=>{const f=l.name??"";f===e.component.mark[0].name?a=c:f.indexOf(nF)>=0&&(u=!0)}),u||n.splice(a+1,0,s),n}},g$e={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!VX(e.bind),parse:(e,t,n)=>T$e(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=m$e.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,l)=>{const c=fi(`${r}_${u.field}`);n.filter(d=>d.name===c).length||n.unshift({name:c,...s?{init:Cy(s[l])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${at(u.field)}] : null`}]:[],bind:o[u.field]??o[u.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(l=>l.name===r+qm)[0],s=r+O2,a=i.items.map(l=>fi(`${r}_${l.field}`)),u=a.map(l=>`${l} !== null`).join(" && ");return a.length&&(o.update=`${u} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},JN="_toggle",y$e={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+JN,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+qm,r=t.name+JN;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${L0(e)}}, `)+`${r} ? ${n} : null`}},aon={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=_t(t.clear)?gg(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(g$e.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===fi(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+qm);r(i,"null"),y$e.defined(t)&&(i=n.findIndex(o=>o.name===t.name+JN),r(i,"false"))}return n}},v$e={defined:e=>{const t=e.resolve==="global"&&e.bind&&VX(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==zc;return t&&!n&&tt(Pen),t&&n},parse:(e,t,n)=>{const r=tn(n);if(r.select=_t(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},T$e(t,r),wt(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=bt(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=J4(t.bind)?t.bind.legend:"click",o=_t(i)?gg(i,"view"):bt(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=J4(t.bind)&&t.bind.legend,o=s=>a=>{const u=tn(a);return u.markname=s,u};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${fi(s.field)}_legend`,u=`${r}_${a}`;if(n.filter(c=>c.name===u).length===0){const c=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:c,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+qm),s=r+O2,a=i.items.filter(d=>d.hasLegend).map(d=>fi(`${r}_${fi(d.field)}_legend`)),l=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:l}):a.length>0&&(o.update=l,delete o.value,delete o.on);const c=n.find(d=>d.name===r+JN),f=J4(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push({...c.on[0],events:f}):c.on[0].events=f),n}};function uon(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of hs(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&v$e.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const b$e="_translate_anchor",_$e="_translate_delta",lon={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=gh.defined(t),o=r+b$e,{x:s,y:a}=t.project.hasChannel;let u=gg(t.translate,"scope");return i||(u=u.map(l=>(l.between[0].markname=r+cb,l))),n.push({name:o,value:{},on:[{events:u.map(l=>l.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?gB(e,di):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?gB(e,qo):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+_$e,value:{},on:[{events:u,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&gfe(e,t,s,"width",n),a!==void 0&&gfe(e,t,a,"height",n),n}};function gfe(e,t,n,r,i){const o=t.name,s=o+b$e,a=o+_$e,u=n.channel,l=gh.defined(t),c=i.filter(w=>w.name===n.signals[l?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(u),h=d&&d.get("type"),p=d&&d.get("reverse"),m=l?u===di?p?"":"-":p?"-":"":"",g=`${s}.extent_${u}`,y=`${m}${a}.${u} / ${l?`${f}`:`span(${g})`}`,v=!l||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",b=l?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",_=`${v}(${g}, ${y}${b})`;c.on.push({events:{signal:a},update:l?_:`clampRange(${_}, 0, ${f})`})}const w$e="_zoom_anchor",E$e="_zoom_delta",con={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=gh.defined(t),o=r+E$e,{x:s,y:a}=t.project.hasChannel,u=at(e.scaleName(di)),l=at(e.scaleName(qo));let c=gg(t.zoom,"scope");return i||(c=c.map(f=>(f.markname=r+cb,f))),n.push({name:r+w$e,on:[{events:c,update:i?"{"+[u?`x: invert(${u}, x(unit))`:"",l?`y: invert(${l}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&yfe(e,t,s,"width",n),a!==void 0&&yfe(e,t,a,"height",n),n}};function yfe(e,t,n,r,i){const o=t.name,s=n.channel,a=gh.defined(t),u=i.filter(v=>v.name===n.signals[a?"data":"visual"])[0],l=e.getSizeSignalRef(r).signal,c=e.getScaleComponent(s),f=c&&c.get("type"),d=a?gB(e,s):u.name,h=o+E$e,p=`${o}${w$e}.${s}`,m=!a||!c?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",g=a?f==="pow"?`, ${c.get("exponent")??1}`:f==="symlog"?`, ${c.get("constant")??1}`:"":"",y=`${m}(${d}, ${p}, ${h}${g})`;u.on.push({events:{signal:h},update:a?y:`clampRange(${y}, 0, ${l})`})}const Ay="_store",qm="_tuple",fon="_modify",x$e="vlSelectionResolve",p3=[Hin,zin,Bin,y$e,g$e,gh,v$e,aon,lon,con,m$e];function don(e){let t=e.parent;for(;t&&!ju(t);)t=t.parent;return t}function L0(e,{escape:t}={escape:!0}){let n=t?at(e.name):e.name;const r=don(e);if(r){const{facet:i}=r;for(const o of wl)i[o]&&(n+=` + '__facet_${o}_' + (facet[${at(r.vgField(o))}])`)}return n}function eQ(e){return hs(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function T$e(e,t){(_t(t.select)||!t.select.on)&&delete e.events,(_t(t.select)||!t.select.clear)&&delete e.clear,(_t(t.select)||!t.select.toggle)&&delete e.toggle}function yB(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...yB(e.object)),t.push(...yB(e.property))),t)}function S$e(e){return e.object.type==="MemberExpression"?S$e(e.object):e.object.name==="datum"}function C$e(e){const t=_K(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&S$e(r)&&n.add(yB(r).slice(1).join("."))}),n}class Iw extends Cr{clone(){return new Iw(null,this.model,tn(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=ZN(this.model,this.filter,this),this._dependentFields=C$e(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function hon(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=fi(i.name),s=i.select,a=_t(s)?s:s.type,u=wt(s)?tn(s):{type:a},l=r[a];for(const d in l)d==="fields"||d==="encodings"||(d==="mark"&&(u[d]={...l[d],...u[d]}),(u[d]===void 0||u[d]===!0)&&(u[d]=tn(l[d]??u[d])));const c=n[o]={...u,name:o,type:a,init:i.value,bind:i.bind,events:_t(u.on)?gg(u.on,"scope"):bt(tn(u.on))},f=tn(i);for(const d of p3)d.defined(c)&&d.parse&&d.parse(e,c,f)}return n}function A$e(e,t,n,r="datum"){const i=_t(t)?t:t.param,o=fi(i),s=at(o+Ay);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const u=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",l=a.resolve==="global"?")":`, ${at(a.resolve)})`,c=`${u}${s}, ${r}${l}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${c}`:`!${f} || ${c}`}function I$e(e,t,n){const r=fi(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&tt(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${at(o)}.`);else if(i&&!o){const a=s.project.items.filter(u=>u.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,tt((a.length?"Multiple ":"No ")+`matching ${at(i)} encoding found for selection ${at(n.param)}. Using "field": ${at(o)}.`)):o=a[0].field}return`${s.name}[${at(Fl(o))}]`}function pon(e,t){for(const[n,r]of Bm(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new ou(new Iw(t,e,{param:n}),i,ui.Lookup,e.component.data.outputNodeRefCounts)}}function ZN(e,t,n){return dT(t,r=>_t(r)?r:qtn(r)?A$e(e,r,n):HNe(r))}function mon(e,t){if(e)return je(e)&&!Tp(e)?e.map(n=>$X(n,t)).join(", "):e}function rF(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function hx(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:u,zindex:l,...c}=e.combine();if(!i){for(const h in c){const p=Ynn[h],m=c[h];if(p&&p!==t&&p!=="both")delete c[h];else if($2(m)){const{condition:g,...y}=m,v=bt(g),b=qce[h];if(b){const{vgProp:_,part:w}=b,S=[...v.map(E=>{const{test:C,...A}=E;return{test:ZN(null,C),...A}}),y];rF(c,w,_,S),delete c[h]}else if(b===null){const _={signal:v.map(w=>{const{test:S,...E}=w;return`${ZN(null,S)} ? ${kce(E)} : `}).join("")+kce(y)};c[h]=_}}else if(Bt(m)){const g=qce[h];if(g){const{vgProp:y,part:v}=g;rF(c,v,y,m),delete c[h]}}Fn(["labelAlign","labelBaseline"],h)&&c[h]===null&&delete c[h]}if(t==="grid"){if(!c.grid)return;if(c.encode){const{grid:h}=c.encode;c.encode={...h?{grid:h}:{}},Ir(c.encode)&&delete c.encode}return{scale:s,orient:o,...c,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:qi(l,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=c.encode)==null?void 0:f.labels)!=null&&d.update&&Bt(c.encode.labels.update.text)&&(p=_y(a,"datum.label",c.encode.labels.update.text.signal)),rF(c,"labels","text",{signal:p})}if(c.labelAlign===null&&delete c.labelAlign,c.encode){for(const p of _De)e.hasAxisPart(p)||delete c.encode[p];Ir(c.encode)&&delete c.encode}const h=mon(u,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...c,...n.aria===!1?{aria:!1}:{},zindex:qi(l,0)}}}}function k$e(e){const{axes:t}=e.component,n=[];for(const r of wd)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function gon(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>hx(i,"grid",t)),...r.map(i=>hx(i,"grid",t)),...n.map(i=>hx(i,"main",t)),...r.map(i=>hx(i,"main",t))].filter(i=>i)}function vfe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...Qe(s),...Qe(a)]),l={};for(const c of u.values())l[c]={signal:`${r.signal} === "${o}" ? ${Tc(s[c])} : ${Tc(a[c])}`};return l}return t[i]})])}function yon(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:YNe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=Bt(n)?"axisOrient":`axis${T2(n)}`,a=[...i,...i.map(l=>o+l.substr(4))],u=["axis",s,o];return{vlOnlyAxisConfig:vfe(a,r,e,n),vgAxisConfig:vfe(u,r,e,n),axisConfigStyle:von([...u,...a],r)}}function von(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=bt(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function vB(e,t,n,r={}){var o;const i=ENe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const bfe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??bon(n,e),gridScale:({model:e,channel:t})=>_on(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||P$e(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||R$e(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??Eon(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??xon(t.type,n,nt(t)&&!!t.timeUnit,nt(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??Son({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:Con,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=N$e(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return TNe(i?[Vce(i)]:[],nt(s)?[Vce(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>Aon(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??Ion(n,t)};function bon(e,t){return!Bo(e)&&nt(t)&&!Hr(t==null?void 0:t.bin)&&!is(t==null?void 0:t.bin)}function _on(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function won(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return Bt(o)?o:LS(o);{const{configValue:s}=vB("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?LS(s):n===di&&Fn([xX,EX],e.type)&&!(nt(e)&&e.timeUnit)?270:void 0}}function bB(e){return`(((${e.signal} % 360) + 360) % 360)`}function R$e(e,t,n,r){if(e!==void 0)if(n==="x"){if(Bt(e)){const i=bB(e),o=Bt(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Bt(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Bt(e)){const i=bB(e),o=Bt(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Bt(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function P$e(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(Bt(e)){const s=bB(e),a=Bt(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Bt(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function Eon(e,t){if(t==="x"&&Fn(["quantitative","temporal"],e))return!0}function xon(e,t,n,r){if(n&&!wt(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function Ton(e){return e==="x"?"bottom":"left"}function Son({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Bo(t)&&t!=="log"){if(nt(e)){if(Hr(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Fn(["month","hours","day","quarter"],(i=jo(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function Con({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(nt(t)){const{timeUnit:n}=t;if(n){const r=UNe(n);if(r)return{signal:r}}}}function N$e(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return SNe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function Aon(e,t){const n=e.values;if(je(n))return bDe(t,n);if(Bt(n))return n}function Ion(e,t){return e==="rect"&&qN(t)?1:0}class g_ extends Cr{clone(){return new g_(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=C$e(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(yv(r)&&lDe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,u=a.map((l,c)=>`${HNe({field:o,timeUnit:s,equal:l})} ? ${c} : `).join("")+a.length;t=new g_(t,{calculate:u,as:y_(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ln(this.transform)}`}}function y_(e,t,n){return ft(e,{prefix:t,suffix:"sort_index",...n})}function m3(e,t){return Fn(["top","bottom"],t)?"column":Fn(["left","right"],t)||e==="row"?"row":"column"}function v_(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return qi((t||{})[e],i[e],n.header[e])}function g3(e,t,n,r){const i={};for(const o of e){const s=v_(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const tQ=["row","column"],nQ=["header","footer"];function kon(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=g3(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=m3(t,a),l=LS(s);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...$$e(l,u),...D$e(u,l,o),...O$e(r,i,t,grn,LDe)}}}function D$e(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=P$e(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function $$e(e,t){const n=R$e(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function Ron(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of nQ)if(n[i])for(const o of n[i]){const s=Non(e,t,i,n,o);s!=null&&r.push(s)}return r}function Pon(e,t){const{sort:n}=e;return Uf(n)?{field:ft(n,{expr:"datum"}),order:n.order??"ascending"}:je(n)?{field:y_(e,t,{expr:"datum"}),order:"ascending"}:{field:ft(e,{expr:"datum"}),order:n??"ascending"}}function _B(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:u}=g3(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),l=AX({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=m3(t,a);return{text:{signal:u?_y(_y(u,"datum.label",l),"datum.value",ft(e,{expr:"parent"})):l},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...$$e(o,c),...D$e(c,o,s),...O$e(n,e,t,yrn,FDe)}}function Non(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=g3(["labelOrient"],s.header,a,t);(t==="row"&&!Fn(["top","bottom"],f)||t==="column"&&!Fn(["left","right"],f))&&(o=_B(s,t,a))}const u=ju(e)&&!P2(e.facet),l=i.axes,c=(l==null?void 0:l.length)>0;if(o||c){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:Pon(s,t)}:{},...c&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...c?{axes:l}:{}}}}return null}const Don={column:{start:0,end:1},row:{start:1,end:0}};function $on(e,t){return Don[t][e]}function Oon(e,t){const n={};for(const r of wl){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=g3(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=m3(r,s),u=$on(o,a);u!==void 0&&(n[a]=u)}}return Ir(n)?void 0:n}function O$e(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=v_(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function rQ(e){return[...SI(e,"width"),...SI(e,"height"),...SI(e,"childWidth"),...SI(e,"childHeight")]}function SI(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(Bo(s)&&xg(a)){const u=e.scaleName(n);return ju(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[_fe(u,a)]:[_fe(u,a),{name:i,update:M$e(u,o,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=dB(e.config.view,o?"width":"height"),u=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function _fe(e,t){const n=`${e}_step`;return Bt(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function M$e(e,t,n){const r=t.get("type"),i=t.get("padding"),o=qi(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Tc(s)}, ${Tc(o)}) * ${e}_step`}function L$e(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function F$e(e,t){return Qe(e).reduce((n,r)=>{const i=e[r];return{...n,...Aw(t,i,r,o=>Jr(o.value))}},{})}function j$e(e,t){if(ju(t))return e==="theta"?"independent":"shared";if(Pw(t))return"shared";if(cQ(t))return Wi(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function iQ(e,t){const n=e.scale[t],r=Wi(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&tt(htn(t)),"independent"):e[r][t]||"shared"}const Mon={..._rn,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},B$e=Qe(Mon);class Lon extends ip{}const wfe={symbols:Fon,gradient:jon,labels:Bon,entries:Uon};function Fon(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:u,mark:l}=n,c=s.filled&&l!=="trail";let f={...Ten({},n,xnn),...d$e(n,{filled:c})};const d=i.get("symbolOpacity")??u.legend.symbolOpacity,h=i.get("symbolFillColor")??u.legend.symbolFillColor,p=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,m=d===void 0?U$e(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||c&&r===fu)delete f.fill;else if(f.fill.field)h?delete f.fill:(f.fill=Jr(u.legend.symbolBaseFillColor??"black"),f.fillOpacity=Jr(m??1));else if(je(f.fill)){const g=wB(a.fill??a.color)??s.fill??(c&&s.color);g&&(f.fill=Jr(g))}}if(f.stroke){if(r==="stroke"||!c&&r===fu)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(je(f.stroke)){const g=qi(wB(a.stroke||a.color),s.stroke,c?s.color:void 0);g&&(f.stroke={value:g})}}if(r!==tp){const g=nt(t)&&V$e(n,i,t);g?f.opacity=[{test:g,...Jr(m??1)},Jr(u.legend.unselectedOpacity)]:m&&(f.opacity=Jr(m))}return f={...f,...e},Ir(f)?void 0:f}function jon(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const l=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?U$e(s.opacity)||o.opacity:void 0;return l&&(a.opacity=Jr(l)),a={...a,...e},Ir(a)?void 0:a}function Bon(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=nt(t)?V$e(n,i,t):void 0,u=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:l,formatType:c}=o;let f;Ty(c)?f=Cc({fieldOrDatumDef:t,field:"datum.value",format:l,formatType:c,config:s}):l===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=Cc({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&nt(t)&&t.timeUnit===void 0&&(f=Cc({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...u?{opacity:u}:{},...f?{text:f}:{},...e};return Ir(d)?void 0:d}function Uon(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function U$e(e){return z$e(e,(t,n)=>Math.max(t,n.value))}function wB(e){return z$e(e,(t,n)=>qi(t,n.value))}function z$e(e,t){if(Mnn(e))return bt(e.condition).reduce(t,e.value);if(Uc(e))return e.value}function V$e(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=at(n.field);return r.map(o=>`(!length(data(${at(fi(o)+Ay)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const Efe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return eDe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return tDe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??Yon(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??Kon(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??Von(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>lb(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(ub(n)&&Sc(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>zon(t,e)};function zon(e,t){const n=e.values;if(je(n))return bDe(t,n);if(Bt(n))return n}function Von(e,t,n,r){if(t!=="shape"){const i=wB(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function Hon(e){const{legend:t}=e;return qi(t.type,qon(e))}function qon({channel:e,timeUnit:t,scaleType:n}){if(ub(e)){if(Fn(["quarter","month","day"],t))return"symbol";if(Sc(n))return"gradient"}return"symbol"}function Won({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??Gon(n,t)}function Gon(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Yon({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:u}=e;if(Sc(i))return n==="horizontal"?r==="top"||r==="bottom"?xfe(t,"width",s,o):s:xfe(t,"height",u,a)}function xfe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function Kon(e){if(Fn(["quantile","threshold","log","symlog"],e))return"greedy"}function H$e(e){const t=Ai(e)?Xon(e):esn(e);return e.component.legends=t,t}function Xon(e){const{encoding:t}=e,n={};for(const r of[fu,...BDe]){const i=ho(t[r]);!i||!e.getScaleComponent(r)||r===du&&nt(i)&&i.type===Cw||(n[r]=Zon(e,r))}return n}function Qon(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function Jon(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function Zon(e,t){var _;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new Lon({},Qon(e,t));uon(e,t,a);const u=n!==void 0?!n:s.disable;if(a.set("disable",u,n!==void 0),u)return a;n=n||{};const l=e.getScaleComponent(t).get("type"),c=ho(i[t]),f=nt(c)?(_=jo(c.timeUnit))==null?void 0:_.unit:void 0,d=n.orient||o.legend.orient||"right",h=Hon({legend:n,channel:t,timeUnit:f,scaleType:l}),p=Won({legend:n,legendType:h,orient:d,legendConfig:s}),m={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:c,legendConfig:s,config:o,scaleType:l,orient:d,legendType:h,direction:p};for(const w of B$e){if(h==="gradient"&&w.startsWith("symbol")||h==="symbol"&&w.startsWith("gradient"))continue;const S=w in Efe?Efe[w](m):n[w];if(S!==void 0){const E=Jon(S,w,n,e.fieldDef(t));(E||o.legend[w]===void 0)&&a.set(w,S,E)}}const g=(n==null?void 0:n.encoding)??{},y=a.get("selections"),v={},b={fieldOrDatumDef:c,model:e,channel:t,legendCmpt:a,legendType:h};for(const w of["labels","legend","title","symbols","gradient","entries"]){const S=F$e(g[w]??{},e),E=w in wfe?wfe[w](S,b):S;E!==void 0&&!Ir(E)&&(v[w]={...y!=null&&y.length&&nt(c)?{name:`${fi(c.field)}_legend_${w}`}:{},...y!=null&&y.length?{interactive:!!y}:{},update:E})}return Ir(v)||a.set("encode",v,!!(n!=null&&n.encoding)),a}function esn(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){H$e(r);for(const i of Qe(r.component.legends))n.legend[i]=iQ(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=q$e(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Qe(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function q$e(e,t){var o,s,a,u;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const l of B$e){const c=Vm(e.getWithExplicit(l),t.getWithExplicit(l),l,"legend",(f,d)=>{switch(l){case"symbolType":return tsn(f,d);case"title":return CNe(f,d);case"type":return i=!0,_u("symbol")}return c3(f,d,l,"legend")});e.setWithExplicit(l,c)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&jN(e.implicit,["encode","gradient"]),(u=(a=e.explicit)==null?void 0:a.encode)!=null&&u.gradient&&jN(e.explicit,["encode","gradient"])),e}function tsn(e,t){return t.value==="circle"?t:e}function nsn(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function W$e(e){const t=e.component.legends,n={};for(const i of Qe(t)){const o=e.getScaleComponent(i),s=kr(o.get("domains"));if(n[s])for(const a of n[s])q$e(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return hs(n).flat().map(i=>rsn(i,e.config)).filter(i=>i!==void 0)}function rsn(e,t){var s,a,u;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const l=o.encode.symbols.update;l.fill&&l.fill.value!=="transparent"&&!l.stroke&&!o.stroke&&(l.stroke={value:"transparent"});for(const c of BDe)o[c]&&delete l[c]}if(o.title||delete o.title,r!==void 0){let l=r;(u=(a=o.encode)==null?void 0:a.labels)!=null&&u.update&&Bt(o.encode.labels.update.text)&&(l=_y(r,"datum.label",o.encode.labels.update.text.signal)),nsn(o,"labels","text",{signal:l})}return o}}function isn(e){return Pw(e)||cQ(e)?osn(e):G$e(e)}function osn(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),G$e(e))}function G$e(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const u=Bt(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return Fn(s,u)||s.push(u),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const ssn=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class Y$e extends ip{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function K$e(e){e.component.projection=Ai(e)?asn(e):csn(e)}function asn(e){if(e.hasProjection){const t=za(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?usn(e):void 0,o=new Y$e(e.projectionName(!0),{...za(e.config.projection),...t},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function usn(e){const t=[],{encoding:n}=e;for(const r of[[Jc,Qc],[jl,Zc]])(ho(n[r[0]])||ho(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(du)&&e.typedFieldDef(du).type===Cw&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(ui.Main)),t}function lsn(e,t){const n=QK(ssn,i=>!!(!qt(e.explicit,i)&&!qt(t.explicit,i)||qt(e.explicit,i)&&qt(t.explicit,i)&&$u(e.get(i),t.get(i))));if($u(e.size,t.size)){if(n)return e;if($u(e.explicit,{}))return t;if($u(t.explicit,{}))return e}return null}function csn(e){if(e.children.length===0)return;let t;for(const r of e.children)K$e(r);const n=QK(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=lsn(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new Y$e(r,t.specifiedProjection,t.size,tn(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function fsn(e,t,n,r){if(D2(t,n)){const i=Ai(e)?e.axis(n)??e.legend(n)??{}:{},o=ft(t,{expr:"datum"}),s=ft(t,{expr:"datum",binSuffix:"end"});return{formulaAs:ft(t,{binSuffix:"range",forAs:!0}),formula:R2(o,s,i.format,i.formatType,r)}}return{}}function X$e(e,t){return`${vNe(e)}_${t}`}function dsn(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function oQ(e,t,n){const r=i3(n,void 0)??{},i=X$e(r,t);return e.getName(`${i}_bins`)}function hsn(e){return"as"in e}function Tfe(e,t,n){let r,i;hsn(e)?r=_t(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[ft(e,{forAs:!0}),ft(e,{binSuffix:"end",forAs:!0})];const o={...i3(t,void 0)},s=X$e(o,e.field),{signal:a,extentSignal:u}=dsn(n,s);if(GM(o.extent)){const c=o.extent;i=I$e(n,c.param,c),delete o.extent}const l={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:s,binComponent:l}}class Vf extends Cr{clone(){return new Vf(null,tn(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(wa(o)&&Hr(o.bin)){const{key:a,binComponent:u}=Tfe(o,o.bin,n);i[a]={...u,...i[a],...fsn(n,o,s,n.config)}}return i},{});return Ir(r)?null:new Vf(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=Tfe(n,n.bin,r);return new Vf(t,{[i]:o})}merge(t,n){for(const r of Qe(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Pf([...this.bins[r].as,...t.bins[r].as],Ln)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(hs(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(hs(this.bins).map(t=>t.field))}hash(){return`Bin ${Ln(this.bins)}`}assemble(){return hs(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Fl(t.field),as:r,signal:t.signal,...GM(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Fl(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const u of i)for(let l=0;l<2;l++)n.push({type:"formula",expr:ft({field:r[l]},{expr:"datum"}),as:u[l]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function psn(e,t,n,r){var o;const i=Ai(r)?r.encoding[_d(t)]:void 0;if(wa(n)&&Ai(r)&&fDe(n,i,r.markDef,r.config)){e.add(ft(n,{})),e.add(ft(n,{suffix:"end"}));const{mark:s,markDef:a,config:u}=r,l=zm({fieldDef:n,markDef:a,config:u});FS(s)&&l!==.5&&Wi(t)&&(e.add(ft(n,{suffix:f3})),e.add(ft(n,{suffix:d3}))),n.bin&&D2(n,t)&&e.add(ft(n,{binSuffix:"range"}))}else if(uNe(t)){const s=aNe(t);e.add(r.getName(s))}else e.add(ft(n));return yv(n)&&inn((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function msn(e,t){for(const n of Qe(t)){const r=t[n];for(const i of Qe(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class $c extends Cr{clone(){return new $c(null,new Set(this.dimensions),tn(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:u,field:l}=s;if(u)if(u==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([ft(s,{forAs:!0})]);else{if(Mh(u)||Eg(u)){const c=Mh(u)?"argmin":"argmax",f=u[c];i[f]??(i[f]={}),i[f][c]=new Set([ft({op:c,field:f},{forAs:!0})])}else i[l]??(i[l]={}),i[l][u]=new Set([ft(s,{forAs:!0})]);np(a)&&n.scaleDomain(a)==="unaggregated"&&(i[l]??(i[l]={}),i[l].min=new Set([ft({field:l,aggregate:"min"},{forAs:!0})]),i[l].max=new Set([ft({field:l,aggregate:"max"},{forAs:!0})]))}else psn(o,a,s,n)}),o.size+Qe(i).length===0)?null:new $c(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:s,field:a,as:u}=o;s&&(s==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([u||ft(o,{forAs:!0})])):(i[a]??(i[a]={}),i[a][s]=new Set([u||ft(o,{forAs:!0})])))}for(const o of n.groupby??[])r.add(o);return r.size+Qe(i).length===0?null:new $c(t,r,i)}merge(t){return ZPe(this.dimensions,t.dimensions)?(msn(this.measures,t.measures),!0):(ktn("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Qe(this.measures)])}producedFields(){const t=new Set;for(const n of Qe(this.measures))for(const r of Qe(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Ln({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of Qe(this.measures))for(const s of Qe(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Fl(o));return{type:"aggregate",groupby:[...this.dimensions].map(Fl),ops:t,fields:n,as:r}}}class kw extends Cr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of wl){const s=n.facet[o];if(s){const{bin:a,sort:u}=s;this[o]={name:n.getName(`${o}_domain`),fields:[ft(s),...Hr(a)?[ft(s,{binSuffix:"end"})]:[]],...Uf(u)?{sortField:u}:je(u)?{sortIndexField:y_(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of wl)this[n]&&(t+=` ${n.charAt(0)}:${Ln(this[n])}`);return t}get fields(){var n;const t=[];for(const r of wl)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of wl)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of wd){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(Bo(i)&&xg(o)){const s=y3(this.childModel,n),a=lQ(s);a?t[n]=a:tt(cX(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:l}=this[t];if(u){const{op:c=e3,field:f}=u;o.push(f),s.push(c),a.push(ft(u,{forAs:!0}))}else l&&(o.push(l),s.push("max"),a.push(l));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var u;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const l of tQ){for(const c of nQ){const f=(r[l]&&r[l][c])??[];for(const d of f)if(((u=d.axes)==null?void 0:u.length)>0){o[l]=!0;break}}if(o[l]){const c=`length(data("${this.facet.name}"))`,f=l==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${l}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),u=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:u}]})}for(const a of[mh,ph])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function Sfe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function gsn(e,t){const n=eX(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=Sfe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=Sfe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return tt(Fen(t)),null}function ysn(e){const t={};return qk(e.filter,n=>{if(VNe(n)){let r=null;pX(n)?r=Cu(n.equal):gX(n)?r=Cu(n.lte):mX(n)?r=Cu(n.lt):yX(n)?r=Cu(n.gt):vX(n)?r=Cu(n.gte):bX(n)?r=n.range[0]:_X(n)&&(r=(n.oneOf??n.in)[0]),r&&(pv(r)?t[n.field]="date":tr(r)?t[n.field]="number":_t(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function vsn(e){const t={};function n(r){h_(r)?t[r.field]="date":r.type==="quantitative"&&men(r.aggregate)?t[r.field]="number":s_(r.field)>1?r.field in t||(t[r.field]="flatten"):yv(r)&&Uf(r.sort)&&s_(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Ai(e)||ju(e))&&e.forEachFieldDef((r,i)=>{if(wa(r))n(r);else{const o=dv(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Ai(e)){const{mark:r,markDef:i,encoding:o}=e;if(gv(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];nt(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function bsn(e){const t={};if(Ai(e)&&e.component.selection)for(const n of Qe(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&s_(i.field)>1&&(t[i.field]="flatten")}return t}class Ls extends Cr{clone(){return new Ls(null,tn(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Ln(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!vm(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of Qe(r)){const u=i.getWithExplicit(a);u.value!==void 0&&(u.explicit||u.value===r[a]||u.value==="derived"||r[a]==="flatten"?delete r[a]:tt(Oce(a,r[a],u.value)))}for(const a of Qe(n)){const u=i.get(a);u!==void 0&&(u===n[a]?delete n[a]:tt(Oce(a,n[a],u)))}const o=new ip(n,r);i.copyAll(o);const s={};for(const a of Qe(o.combine())){const u=o.get(a);u!==null&&(s[a]=u)}return Qe(s).length===0||i.parseNothing?null:new Ls(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of Qe(this._parse)){const r=this._parse[n];s_(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(Qe(this._parse))}dependentFields(){return new Set(Qe(this._parse))}assembleTransforms(t=!1){return Qe(this._parse).filter(n=>t?s_(n)>1:!0).map(n=>{const r=gsn(n,this._parse[n]);return r?{type:"formula",expr:r,as:Tw(n)}:null}).filter(n=>n!==null)}}class Wm extends Cr{clone(){return new Wm(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([zc])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:zc}}}class M2 extends Cr{clone(){return new M2(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ln(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class L2 extends Cr{clone(){return new L2(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Ln(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Iy extends Cr{constructor(t){super(null),t??(t={name:"source"});let n;if(vm(t)||(n=t.format?{...ru(t.format,["parse"])}:{}),jS(t))this._data={values:t.values};else if(p_(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Fn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else i$e(t)?this._data={values:[{type:"Sphere"}]}:(n$e(t)||vm(t))&&(this._data={});this._generator=vm(t),t.name&&(this._name=t.name),n&&!Ir(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var Cfe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},_sn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},px;function sQ(e){return e instanceof Iy||e instanceof M2||e instanceof L2}class aQ{constructor(){px.set(this,void 0),Cfe(this,px,!1,"f")}setModified(){Cfe(this,px,!0,"f")}get modifiedFlag(){return _sn(this,px,"f")}}px=new WeakMap;class vv extends aQ{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class uQ extends aQ{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class wsn extends uQ{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Qe(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class Esn extends uQ{constructor(t){super(),this.requiresSelectionId=t&&eQ(t)}run(t){t instanceof Wm&&(this.requiresSelectionId&&(sQ(t.parent)||t.parent instanceof $c||t.parent instanceof Ls)||(this.setModified(),t.remove()))}}class xsn extends aQ{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof zf&&(r=t.producedFields(),JK(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class Tsn extends uQ{constructor(){super()}run(t){t instanceof ou&&!t.isRequired()&&(this.setModified(),t.remove())}}class Ssn extends vv{run(t){if(!sQ(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Ls)if(t instanceof Ls)this.setModified(),t.merge(n);else{if(ZK(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class Csn extends vv{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Ls);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const u of Qe(a))u in i?i[u]!==a[u]&&o.add(u):i[u]=a[u]}for(const s of o)delete i[s];if(!Ir(i)){this.setModified();const s=new Ls(t,i);for(const a of n){if(a instanceof Ls)for(const u of Qe(i))delete a.parse[u];t.removeChild(a),a.parent=s,a instanceof Ls&&Qe(a.parse).length===0&&a.remove()}}}}}class Asn extends vv{run(t){t instanceof ou||t.numChildren()>0||t instanceof kw||t instanceof Iy||(this.setModified(),t.remove())}}class Isn extends vv{run(t){const n=t.children.filter(i=>i instanceof zf),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class ksn extends vv{run(t){const n=t.children.filter(i=>i instanceof $c),r={};for(const i of n){const o=Ln(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of Qe(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class Rsn extends vv{constructor(t){super(),this.model=t}run(t){const n=!(sQ(t)||t instanceof Iw||t instanceof Ls||t instanceof Wm),r=[],i=[];for(const o of t.children)o instanceof Vf&&(n&&!ZK(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Vf?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class Psn extends vv{run(t){const n=[...t.children];if(!by(n,s=>s instanceof ou)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof ou){let a=s;for(;a.numChildren()===1;){const[u]=a.children;if(u instanceof ou)a=u;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class bv extends Cr{clone(){return new bv(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??ft(t)}hash(){return`JoinAggregateTransform ${Ln(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function Nsn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=ft(r);return i&&t.push(i),t},[])}function Dsn(e){return je(e)&&e.every(t=>_t(t))&&e.length>1}class yh extends Cr{clone(){return new yh(null,tn(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],u=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),u.push(qi(f.order,"ascending"));const l={field:a,order:u};let c;return Dsn(o)?c=o:_t(o)?c=[o,`${o}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new yh(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:l,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:u}=r,l=o.map(h=>{const p=i[h];return ed(p)}).filter(h=>!!h),c=Nsn(n),f=n.encoding.order;let d;if(je(f)||nt(f))d=xNe(f);else{const h=dDe(f)?f.sort:s==="y"?"descending":"ascending";d=c.reduce((p,m)=>(p.field.includes(m)||(p.field.push(m),p.order.push(h)),p),{field:[],order:[]})}return new yh(t,{dimensionFieldDefs:l,stackField:n.vgField(s),facetby:[],stackby:c,sort:d,offset:a,impute:u,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ln(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[ft(i,{binSuffix:"mid"})]:[ft(i,{}),ft(i,{binSuffix:"end"})]:[ft(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:u,as:l}=this._stack;if(u)for(const c of r){const{bandPosition:f=.5,bin:d}=c;if(d){const h=ft(c,{expr:"datum"}),p=ft(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${p}`,as:ft(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:ft(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:l,offset:a}),t}}class Rw extends Cr{clone(){return new Rw(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??ft(t)}hash(){return`WindowTransform ${Ln(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>uX(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],u=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),u.push(f.order??"ascending");const l={field:a,order:u},c=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:l,...c!==void 0?{ignorePeers:c}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function $sn(e){function t(n){if(!(n instanceof kw)){const r=n.clone();if(r instanceof ou){const i=xB+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof $c||r instanceof yh||r instanceof Rw||r instanceof bv)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function EB(e){if(e instanceof kw)if(e.numChildren()===1&&!(e.children[0]instanceof ou)){const t=e.children[0];(t instanceof $c||t instanceof yh||t instanceof Rw||t instanceof bv)&&t.addDimensions(e.fields),t.swapWithParent(),EB(e)}else{const t=e.model.component.data.main;Q$e(t);const n=$sn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(EB)}function Q$e(e){if(e instanceof ou&&e.type===ui.Main&&e.numChildren()===1){const t=e.children[0];t instanceof kw||(t.swapWithParent(),Q$e(e))}}const xB="scale_",CI=5;function TB(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!TB(t.children))return!1}return!0}function rc(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function Afe(e,t,n){let r=e.sources,i=!1;return i=rc(new Tsn,r)||i,i=rc(new Esn(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=rc(new Asn,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=rc(new Ssn,r)||i,i=rc(new Rsn(t),r)||i,i=rc(new xsn,r)||i,i=rc(new Csn,r)||i,i=rc(new ksn,r)||i,i=rc(new Isn,r)||i,i=rc(new wsn,r)||i,i=rc(new Psn,r)||i),e.sources=r,i}function Osn(e,t){TB(e.sources);let n=0,r=0;for(let i=0;i<CI&&Afe(e,t,!0);i++)n++;e.sources.map(EB);for(let i=0;i<CI&&Afe(e,t,!1);i++)r++;TB(e.sources),Math.max(n,r)===CI&&tt(`Maximum optimization runs(${CI}) reached.`)}class Ro{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new Ro(()=>t(n))}}function J$e(e){Ai(e)?Msn(e):Lsn(e)}function Msn(e){const t=e.component.scales;for(const n of Qe(t)){const r=jsn(e,n);if(t[n].setWithExplicit("domains",r),Usn(e,n),e.component.data.isFaceted){let o=e;for(;!ju(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)rh(a)&&(a.data=xB+a.data.replace(xB,""))}}}function Lsn(e){for(const n of e.children)J$e(n);const t=e.component.scales;for(const n of Qe(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=Vm(r,s.getWithExplicit("domains"),"domains","scale",SB);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&tt($en),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function Fsn(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=Ife(t,n);if(!i){tt(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=Ife(t,n);if(i)return"unaggregated"}return e}function jsn(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=Fsn(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&ho(r.x2)?ho(r.x)?Vm(gp(n,i,e,"x"),gp(n,i,e,"x2"),"domain","scale",SB):gp(n,i,e,"x2"):t==="y"&&ho(r.y2)?ho(r.y)?Vm(gp(n,i,e,"y"),gp(n,i,e,"y2"),"domain","scale",SB):gp(n,i,e,"y2"):gp(n,i,e,t)}function Bsn(e,t,n){return e.map(r=>({signal:`{data: ${o3(r,{timeUnit:n,type:t})}}`}))}function iF(e,t,n){var i;const r=(i=jo(n))==null?void 0:i.unit;return t==="temporal"||r?Bsn(e,t,r):[e]}function gp(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:u}=n,l=ho(i[r]),{type:c}=l,f=l.timeUnit;if(rnn(t)){const p=gp(e,void 0,n,r),m=iF(t.unionWith,c,f);return pf([...m,...p.value])}else{if(Bt(t))return pf([t]);if(t&&t!=="unaggregated"&&!XNe(t))return pf(iF(t,c,f))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return _u([[0,1]]);const p=n.requestDataName(ui.Main);return _u([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const d=np(r)&&nt(l)?zsn(n,r,e):void 0;if(Ed(l)){const p=iF([l.datum],c,f);return _u(p)}const h=l;if(t==="unaggregated"){const p=n.requestDataName(ui.Main),{field:m}=l;return _u([{data:p,field:ft({field:m,aggregate:"min"})},{data:p,field:ft({field:m,aggregate:"max"})}])}else if(Hr(h.bin)){if(Bo(e))return _u(e==="bin-ordinal"?[]:[{data:MS(d)?n.requestDataName(ui.Main):n.requestDataName(ui.Raw),field:n.vgField(r,D2(h,r)?{binSuffix:"range"}:{}),sort:d===!0||!wt(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:p}=h;if(Hr(p)){const m=oQ(n,h.field,p);return _u([new Ro(()=>{const g=n.getSignalName(m);return`[${g}.start, ${g}.stop]`})])}else return _u([{data:n.requestDataName(ui.Main),field:n.vgField(r,{})}])}}else if(h.timeUnit&&Fn(["time","utc"],e)){const p=i[_d(r)];if(fDe(h,p,o,a)){const m=n.requestDataName(ui.Main),g=zm({fieldDef:h,fieldDef2:p,markDef:o,config:a}),y=FS(s)&&g!==.5&&Wi(r);return _u([{data:m,field:n.vgField(r,y?{suffix:f3}:{})},{data:m,field:n.vgField(r,{suffix:y?d3:"end"})}])}}return _u(d?[{data:MS(d)?n.requestDataName(ui.Main):n.requestDataName(ui.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(ui.Main),field:n.vgField(r)}])}function oF(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":e3),...r?{field:Fl(r)}:{},...i?{order:i}:{}}}function Usn(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=XNe(r)&&r,s=hv(i)&&GM(i.extent)&&i.extent;(o||s)&&n.set("selectionExtent",o??s,!0)}function zsn(e,t,n){if(!Bo(n))return;const r=e.fieldDef(t),i=r.sort;if(lDe(i))return{op:"min",field:y_(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(Uf(i)){const a=o&&!s.has(i.field);return oF(i,a)}else if(uDe(i)){const{encoding:a,order:u}=i,l=e.fieldDef(a),{aggregate:c,field:f}=l,d=o&&!s.has(f);if(Mh(c)||Eg(c))return oF({field:ft(l),order:u},d);if(uX(c)||!c)return oF({op:c,field:f,order:u},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Fn(["ascending",void 0],i))return!0}}function Ife(e,t){const{aggregate:n,type:r}=e;return n?_t(n)&&!yen.has(n)?{valid:!1,reason:stn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:atn(e)}:{valid:!0}:{valid:!1,reason:otn(e)}}function SB(e,t,n,r){return e.explicit&&t.explicit&&tt(dtn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Vsn(e){const t=Pf(e.map(s=>{if(rh(s)){const{sort:a,...u}=s;return u}return s}),Ln),n=Pf(e.map(s=>{if(rh(s)){const a=s.sort;return a!==void 0&&!MS(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Ln);if(t.length===0)return;if(t.length===1){const s=e[0];if(rh(s)&&n.length>0){let a=n[0];if(n.length>1){tt(Lce);const u=n.filter(l=>wt(l)&&"op"in l&&l.op!=="min");n.every(l=>wt(l)&&"op"in l)&&u.length===1?a=u[0]:a=!0}else if(wt(a)&&"field"in a){const u=a.field;s.field===u&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=Pf(n.map(s=>MS(s)||!("op"in s)||_t(s.op)&&s.op in hen?s:(tt(ptn(s)),!0)),Ln);let i;r.length===1?i=r[0]:r.length>1&&(tt(Lce),i=!0);const o=Pf(e.map(s=>rh(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function lQ(e){if(rh(e)&&_t(e.field))return e.field;if(ven(e)){let t;for(const n of e.fields)if(rh(n)&&_t(n.field)){if(!t)t=n.field;else if(t!==n.field)return tt(mtn),t}return tt(gtn),t}else if(ben(e)){tt(ytn);const t=e.fields[0];return _t(t)?t:void 0}}function y3(e,t){const r=e.component.scales[t].get("domains").map(i=>(rh(i)&&(i.data=e.lookupDataSource(i.data)),i));return Vsn(r)}function Z$e(e){return Pw(e)||cQ(e)?e.children.reduce((t,n)=>t.concat(Z$e(n)),kfe(e)):kfe(e)}function kfe(e){return Qe(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:u,range:l,reverse:c,...f}=i,d=Hsn(i.range,o,n,e),h=y3(e,n),p=a?Fin(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...c!==void 0?{reverse:c}:{},...f}),t},[])}function Hsn(e,t,n,r){if(Wi(n)){if(xg(e))return{step:{signal:`${t}_step`}}}else if(wt(e)&&rh(e))return{...e,data:r.lookupDataSource(e.data)};return e}class eOe extends ip{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:by(this.get("domains"),t=>je(t)&&t.length===2&&tr(t[0])&&t[0]<=0&&tr(t[1])&&t[1]>=0)}}const qsn=["range","scheme"];function Wsn(e){const t=e.component.scales;for(const n of WM){const r=t[n];if(!r)continue;const i=Gsn(n,e);r.setWithExplicit("range",i)}}function Rfe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=hu(t),s=e.getName(o);if(wt(r)&&r.binned&&r.step!==void 0)return new Ro(()=>{const a=e.scaleName(t),u=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${u})`});if(Hr(r)){const a=oQ(e,i,r);return new Ro(()=>{const u=e.getSignalName(a),l=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(s)} / (${l})`})}}}function Gsn(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of qsn)if(n[f]!==void 0){const d=lB(o,f),h=QNe(e,f);if(!d)tt(RNe(o,f,e));else if(h)tt(h);else switch(f){case"range":{const p=n.range;if(je(p)){if(Wi(e))return pf(p.map(m=>{if(m==="width"||m==="height"){const g=t.getName(m),y=t.getSignalName.bind(t);return Ro.fromName(y,g)}return m}))}else if(wt(p))return pf({data:t.requestDataName(ui.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return pf(p)}case"scheme":return pf(Ysn(n[f]))}}const s=e===di||e==="xOffset"?"width":"height",a=r[s];if(td(a)){if(Wi(e))if(Bo(o)){const f=nOe(a,t,e);if(f)return pf({step:f})}else tt(PNe(s));else if(A2(e)){const f=e===yg?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=rOe(a,o);if(p)return pf(p)}}}const{rangeMin:u,rangeMax:l}=n,c=Ksn(e,t);return(u!==void 0||l!==void 0)&&lB(o,"rangeMin")&&je(c)&&c.length===2?pf([u??c[0],l??c[1]]):_u(c)}function Ysn(e){return nnn(e)?{scheme:e.name,...ru(e,["name"])}:{scheme:e}}function tOe(e,t,n,{center:r}={}){const i=hu(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===qo&&Xu(n)?r?[Ro.fromName(a=>`${s(a)}/2`,o),Ro.fromName(a=>`-${s(a)}/2`,o)]:[Ro.fromName(s,o),0]:r?[Ro.fromName(a=>`-${s(a)}/2`,o),Ro.fromName(a=>`${s(a)}/2`,o)]:[0,Ro.fromName(s,o)]}function Ksn(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=ho(o[e]),u=t.getScaleComponent(e).get("type"),{domain:l,domainMid:c}=t.specifiedScales[e];switch(e){case di:case qo:{if(Fn(["point","band"],u)){const f=iOe(e,n,r.view);if(td(f))return{step:nOe(f,t,e)}}return tOe(e,t,u)}case yg:case Sw:return Xsn(e,t,u);case ep:{const f=t.component.scales[e].get("zero"),d=oOe(i,f,r),h=Zsn(i,n,t,r);return c_(u)?Jsn(d,h,Qsn(u,r,l,e)):[d,h]}case Yl:return[0,Math.PI*2];case fv:return[0,360];case Xc:return[0,new Ro(()=>{const f=t.getSignalName(ju(t.parent)?"child_width":"width"),d=t.getSignalName(ju(t.parent)?"child_height":"height");return`min(${f},${d})/2`})];case _g:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case wg:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case du:return"symbol";case fu:case vd:case bd:return u==="ordinal"?s==="nominal"?"category":"ordinal":c!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case tp:case vg:case bg:return[r.scale.minOpacity,r.scale.maxOpacity]}}function nOe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=iX(n),s=r[o];if(zDe({step:e,offsetIsDiscrete:fn(s)&&qNe(s.type)})==="offset"&&xDe(r,o)){const u=t.getScaleComponent(o);let c=`domain('${t.scaleName(o)}').length`;if(u.get("type")==="band"){const d=u.get("paddingInner")??u.get("padding")??0,h=u.get("paddingOuter")??u.get("padding")??0;c=`bandspace(${c}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${c} / (1-${xen(f)})`}}else return e.step}function rOe(e,t){if(zDe({step:e,offsetIsDiscrete:Bo(t)})==="offset")return{step:e.step}}function Xsn(e,t,n){const r=e===yg?"x":"y",i=t.getScaleComponent(r);if(!i)return tOe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:u}=t;if(o==="band"){const l=iOe(r,t.size,t.config.view);if(td(l)){const c=rOe(l,n);if(c)return c}return[0,{signal:`bandwidth('${s}')`}]}else{const l=t.encoding[r];if(nt(l)&&l.timeUnit){const c=UNe(l.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=zm({fieldDef:l,markDef:a,config:u})-.5,h=d!==0?` + ${d}`:"";if(f){const p=Bt(f)?`${f.signal}/2`+h:`${f/2+d}`,m=Bt(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${c})`},{signal:`${m} * (${c})`}]}return[0,{signal:c}]}return QPe(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function iOe(e,t,n){const r=e===di?"width":"height",i=t[r];return i||XN(n,r)}function Qsn(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&je(n)?n.length+1:(tt(Ctn(r)),3)}}function Jsn(e,t,n){const r=()=>{const i=Tc(t),o=Tc(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return Bt(t)?new Ro(r):{signal:r()}}function oOe(e,t,n){if(t)return Bt(t)?{signal:`${t.signal} ? 0 : ${oOe(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(YM("size",e))}const Pfe=.95;function Zsn(e,t,n,r){const i={x:Rfe(n,"x"),y:Rfe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=Nfe(t,i,r.view);return tr(o)?o-1:new Ro(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=Nfe(t,i,r.view);return tr(o)?Math.pow(Pfe*o,2):new Ro(()=>`pow(${Pfe} * ${o.signal}, 2)`)}}throw new Error(YM("size",e))}function Nfe(e,t,n){const r=td(e.width)?e.width.step:KN(n,"width"),i=td(e.height)?e.height.step:KN(n,"height");return t.x||t.y?new Ro(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function sOe(e,t){Ai(e)?ean(e,t):uOe(e,t)}function ean(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of Qe(n)){const u=s[a],l=n[a],c=e.getScaleComponent(a),f=ho(i[a]),d=u[t],h=c.get("type"),p=c.get("padding"),m=c.get("paddingInner"),g=lB(h,t),y=QNe(a,t);if(d!==void 0&&(g?y&&tt(y):tt(RNe(h,t,a))),g&&y===void 0)if(d!==void 0){const v=f.timeUnit,b=f.type;switch(t){case"domainMax":case"domainMin":pv(u[t])||b==="temporal"||v?l.set(t,{signal:o3(u[t],{type:b,timeUnit:v})},!0):l.set(t,u[t],!0);break;default:l.copyKeyFromObject(t,u)}}else{const v=t in Dfe?Dfe[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:m,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:o,config:r,hasNestedOffsetScale:TDe(i,a),hasSecondaryRangeChannel:!!i[_d(a)]}):r.scale[t];v!==void 0&&l.set(t,v,!1)}}}const Dfe={bins:({model:e,fieldOrDatumDef:t})=>nt(t)?tan(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>nan(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>ran(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>ian(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>oan(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>san(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=nt(e)?e.sort:void 0;return aan(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>uan(e,t,n,r,i,o.scale,s)};function aOe(e){Ai(e)?Wsn(e):uOe(e,"range")}function uOe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?aOe(r):sOe(r,t);for(const r of Qe(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=Vm(i,a,t,"scale",t$e((u,l)=>{switch(t){case"range":return u.step&&l.step?u.step-l.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function tan(e,t){const n=t.bin;if(Hr(n)){const r=oQ(e,t.field,n);return new Ro(()=>e.getSignalName(r))}else if(is(n)&&hv(n)&&n.step!==void 0)return{step:n.step}}function nan(e,t){if(Fn([fu,vd,bd],e)&&t!=="nominal")return"hcl"}function ran(e,t,n,r,i,o){var s;if(!((s=ed(o))!=null&&s.bin||je(n)||i!=null||r!=null||Fn([iu.TIME,iu.UTC],e)))return Wi(t)?!0:void 0}function ian(e,t,n,r,i,o){if(Wi(e)){if(Sc(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(nt(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===iu.POINT)return n.pointPadding}}function oan(e,t,n,r,i,o=!1){if(e===void 0){if(Wi(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:u,bandWithNestedOffsetPaddingInner:l}=i;return o?l:qi(s,n==="bar"?a:u)}else if(A2(t)&&r===iu.BAND)return i.offsetBandPaddingInner}}function san(e,t,n,r,i,o=!1){if(e===void 0){if(Wi(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===iu.BAND)return qi(s,Bt(r)?{signal:`${r.signal}/2`}:r/2)}else if(A2(t)){if(n===iu.POINT)return .5;if(n===iu.BAND)return i.offsetBandPaddingOuter}}}function aan(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Xu(e)&&t==="descending"?Bt(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Xu(e)&&t==="descending")return!0}function uan(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Xu(i)){if(je(n)){const u=n[0],l=n[n.length-1];if(tr(u)&&u<=0&&tr(l)&&l>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!c_(i))return!0;if(!(nt(t)&&t.bin)&&Fn([...wd,...oen],e)){const{orient:u,type:l}=r;return Fn(["bar","area","line","trail"],l)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:Fn(["bar","area"],l)&&!s?!0:o==null?void 0:o.zero}return!1}function lan(e,t,n,r,i=!1){const o=can(t,n,r,i),{type:s}=e;return np(t)?s!==void 0?lnn(t,s)?nt(n)&&!unn(s,n.type)?(tt(ctn(s,o)),o):s:(tt(ltn(t,s,o)),o):o:null}function can(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(ub(e)||X4(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&tt(Q4(e,"ordinal")),"ordinal";if(Wi(e)||A2(e)){if(Fn(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in aX)return"band";const o=n[hu(e)];return Sy(o)||d_(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return ub(e)?"time":X4(e)==="discrete"?(tt(Q4(e,"temporal")),"ordinal"):nt(t)&&t.timeUnit&&jo(t.timeUnit).utc?"utc":"time";case"quantitative":return ub(e)?nt(t)&&Hr(t.bin)?"bin-ordinal":"linear":X4(e)==="discrete"?(tt(Q4(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(INe(t.type))}function fan(e,{ignoreRange:t}={}){lOe(e),J$e(e);for(const n of ann)sOe(e,n);t||aOe(e)}function lOe(e){Ai(e)?e.component.scales=dan(e):e.component.scales=pan(e)}function dan(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of WM){const s=ho(t[o]);if(s&&n===oDe&&o===du&&s.type===Cw)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const u=TDe(t,o),l=lan(a,o,s,r,u);i[o]=new eOe(e.scaleName(`${o}`,!0),{value:l,explicit:a.type===l})}}return i}const han=t$e((e,t)=>jce(e)-jce(t));function pan(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){lOe(o);for(const s of Qe(o.component.scales))if((t=i.scale)[s]??(t[s]=j$e(s,e)),i.scale[s]==="shared"){const a=r[s],u=o.component.scales[s].getWithExplicit("type");a?Qtn(a.value,u.value)?r[s]=Vm(a,u,"type","scale",han):(i.scale[s]="independent",delete r[s]):r[s]=u}}for(const o of Qe(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new eOe(s,a);for(const u of e.children){const l=u.component.scales[o];l&&(u.renameScale(l.get("name"),s),l.merged=!0)}}return n}class sF{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Ai(e){return(e==null?void 0:e.type)==="unit"}function ju(e){return(e==null?void 0:e.type)==="facet"}function cQ(e){return(e==null?void 0:e.type)==="concat"}function Pw(e){return(e==null?void 0:e.type)==="layer"}class fQ{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=u=>{var l,c,f;return(l=u.from)!=null&&l.data&&(u.from.data=this.lookupDataSource(u.from.data)),(f=(c=u.from)==null?void 0:c.facet)!=null&&f.data&&(u.from.facet.data=this.lookupDataSource(u.from.facet.data)),u},this.parent=r,this.config=o,this.view=za(a),this.name=t.name??i,this.title=Tp(t.title)?{text:t.title}:t.title?za(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new sF,this.projectionNameMap=r?r.projectionNameMap:new sF,this.signalNameMap=r?r.signalNameMap:new sF,this.data=t.data,this.description=t.description,this.transforms=win(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:Srn(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:t3(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new ip,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?tn(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){fan(this)}parseProjection(){K$e(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){H$e(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of Qe(r)){const s=r[o];s!==void 0&&(i[o]=Jr(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Jr(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:Ir(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=Oon(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of wl)t[r].title&&n.push(kon(this,r));for(const r of tQ)n=n.concat(Ron(this,r));return n}assembleAxes(){return gon(this.component.axes,this.config)}assembleLegends(){return W$e(this)}assembleProjections(){return isn(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...bNe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return Fn(["unit","layer"],this.type)?Fn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Ir(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||ju(this.parent)?Z$e(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return fi((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(ui[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(ju(this.parent)){const n=L$e(t),r=qM(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(Bo(o)&&xg(s)){const a=i.get("name"),u=y3(this,r),l=lQ(u);if(l){const c=ft({aggregate:"distinct",field:l},{expr:"datum"});return{signal:M$e(a,i,c)}}else return tt(cX(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(cNe(t)&&np(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(Ien(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class cOe extends fQ{vgField(t,n={}){const r=this.fieldDef(t);if(r)return ft(r,n)}reduceFieldDef(t,n){return ern(this.getMapping(),(r,i,o)=>{const s=ed(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){LX(this.getMapping(),(r,i)=>{const o=ed(r);o&&t(o,i)},n)}}class v3 extends Cr{clone(){return new v3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ln(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class b3 extends Cr{clone(){return new b3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Ln(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class BS extends Cr{clone(){return new BS(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:o}=n;if(gr("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((u,l,c)=>{const f=np(c)&&n.getScaleComponent(c);if(f){const d=f.get("type");Xu(d)&&l.aggregate!=="count"&&!gv(i)&&(u[l.field]=l)}return u},{});return Qe(a).length?new BS(t,a):null}dependentFields(){return new Set(Qe(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ln(this.filter)}`}assemble(){const t=Qe(this.filter).reduce((n,r)=>{const i=this.filter[r],o=ft(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):i.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class _3 extends Cr{clone(){return new _3(this.parent,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ln(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class w3 extends Cr{clone(){return new w3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ln(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class fb extends Cr{clone(){return new fb(null,tn(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[Jc,Qc],[jl,Zc]]){const o=i.map(s=>{const a=ho(n.encoding[s]);return nt(a)?a.field:Ed(a)?{expr:`${a.datum}`}:Uc(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new fb(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(du)){const i=n.typedFieldDef(du);i.type===Cw&&(t=new fb(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(_t);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ln(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class US extends Cr{clone(){return new US(null,this.projection,tn(this.fields),tn(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[Jc,Qc],[jl,Zc]]){const i=r.map(s=>{const a=ho(n.encoding[s]);return nt(a)?a.field:Ed(a)?{expr:`${a.datum}`}:Uc(a)?{expr:`${a.value}`}:void 0}),o=r[0]===jl?"2":"";(i[0]||i[1])&&(t=new US(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(_t))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ln(this.fields)} ${Ln(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class F0 extends Cr{clone(){return new F0(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new F0(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(nt(i)&&nt(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:u,value:l,frame:c,keyvals:f}=s.impute,d=CDe(n.mark,r);return new F0(t,{impute:s.field,key:a.field,...u?{method:u}:{},...l!==void 0?{value:l}:{},...c?{frame:c}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Ln(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:nin(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const l={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,l,c]}else return[u]}}class E3 extends Cr{clone(){return new E3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ln(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class zS extends Cr{clone(){return new zS(null,tn(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(rin(s)){let u=hOe(s.data,o);u||(u=new Iy(s.data),o.push(u));const l=n.getName(`lookup_${i}`);a=new ou(u,l,ui.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[l]=a}else if(iin(s)){const u=s.param;r={as:u,...r};let l;try{l=n.getSelectionComponent(fi(u),u)}catch{throw new Error(Nen(u))}if(a=l.materialized,!a)throw new Error(Den(u))}return new zS(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?bt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ln({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:bt(this.transform.as)}:{}};else{let n=this.transform.as;_t(n)||(tt(Uen),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class x3 extends Cr{clone(){return new x3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ln(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class T3 extends Cr{clone(){return new T3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=tn(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ln(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class S3 extends Cr{clone(){return new S3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Pf((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Ln(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class C3 extends Cr{clone(){return new C3(null,tn(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ln(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function fOe(e){let t=0;function n(r,i){if(r instanceof Iy&&!r.isGenerator&&!p_(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Ls&&(r.parent instanceof Iy&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof kw){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof M2||r instanceof L2||r instanceof BS||r instanceof Iw||r instanceof g_||r instanceof US||r instanceof $c||r instanceof zS||r instanceof Rw||r instanceof bv||r instanceof w3||r instanceof _3||r instanceof v3||r instanceof E3||r instanceof x3||r instanceof T3||r instanceof Wm||r instanceof C3||r instanceof S3||r instanceof b3)&&i.transform.push(r.assemble()),(r instanceof Vf||r instanceof zf||r instanceof F0||r instanceof yh||r instanceof fb)&&i.transform.push(...r.assemble()),r instanceof ou&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof ou?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof ou&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function man(e){const t=[],n=fOe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function gan(e,t){const n=[],r=fOe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function yan(e){return e==="top"||e==="left"||Bt(e)?"header":"footer"}function van(e){for(const t of wl)ban(e,t);$fe(e,"x"),$fe(e,"y")}function ban(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],u=v_("title",null,r,t);let l=lb(a,r,{allowDisabling:!0,includeDefault:u===void 0||!!u});i.component.layoutHeaders[t].title&&(l=je(l)?l.join(", "):l,l+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=v_("labelOrient",a.header,r,t),f=a.header!==null?qi((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=Fn(["bottom","right"],c)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?l:null,facetFieldDef:a,[d]:t==="facet"?[]:[dOe(e,t,f)]}}}function dOe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function $fe(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=iQ(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const u=yan(a.get("orient"));s[u]??(s[u]=[dOe(e,o,!1)]);const l=hx(a,"main",e.config,{header:!0});l&&s[u][0].axes.push(l),a.mainExtracted=!0}}}}function _an(e){dQ(e),eD(e,"width"),eD(e,"height")}function wan(e){dQ(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";eD(e,t),eD(e,n)}function dQ(e){for(const t of e.children)t.parseLayoutSize()}function eD(e,t){const n=L$e(t),r=qM(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const u=a.component.layoutSize.getWithExplicit(n),l=i.scale[r]??j$e(r,e);if(l==="independent"&&u.value==="step"){s=void 0;break}if(s){if(l==="independent"&&s.value!==u.value){s=void 0;break}s=Vm(s,u,n,"")}else s=u}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function Ean(e){const{size:t,component:n}=e;for(const r of wd){const i=hu(r);if(t[i]){const o=t[i];n.layoutSize.set(i,td(o)?"step":o,!0)}else{const o=xan(e,i);n.layoutSize.set(i,o,!1)}}}function xan(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(Bo(o)){const a=XN(r.view,t);return xg(s)||td(a)?"step":a}else return dB(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return dB(r.view,t);{const o=XN(r.view,t);return td(o)?o.step:o}}}function CB(e,t,n){return ft(t,{suffix:`by_${ft(e)}`,...n})}class pT extends cOe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=yQ(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!P2(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Qe(t),r={};for(const i of n){if(![ph,mh].includes(i)){tt(YM(i,"facet"));break}const o=t[i];if(o.field===void 0){tt(aB(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=OX(t,n);return r.header?r.header=za(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=A3(this),this.child.parseData()}parseLayoutSize(){dQ(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),van(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of wl)for(const r of nQ){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=v_("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const u=m3(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[u]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[u]??(t[u]={}),t[u][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof pT))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof pT?{...this.channelHasField("column")?{encode:{update:{columns:{field:ft(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof pT){if(this.child.channelHasField("column")){const i=ft(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of wd){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(Bo(s)&&xg(a)){const u=y3(this.child,i),l=lQ(u);l?(t.push(l),n.push("distinct"),r.push(`distinct_${l}`)):tt(cX(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),u=[];for(const c of wl){const f=this.facet[c];if(f){u.push(ft(f));const{bin:d,sort:h}=f;if(Hr(d)&&u.push(ft(f,{binSuffix:"end"})),Uf(h)){const{field:p,op:m=e3}=h,g=CB(f,h);r&&i?(o.push(g),s.push("max"),a.push(g)):(o.push(p),s.push(m),a.push(g))}else if(je(h)){const p=y_(f,c);o.push(p),s.push("max"),a.push(p)}}}const l=!!r&&!!i;return{name:t,data:n,groupby:u,...l||o.length>0?{aggregate:{...l?{cross:l}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Uf(r.sort)?[CB(r,r.sort,{expr:"datum"})]:je(r.sort)?[y_(r,t,{expr:"datum"})]:[ft(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Uf(i)?i.order:!je(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return _B(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of tQ)if(t[o]){const s=v_("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return _B(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=man(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:wl.map(u=>this.facetSortFields(u)).flat(),order:wl.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup($in(this,[]))}]}getMapping(){return this.facet}}function Tan(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(Uf(o.sort)){const{field:s,op:a=e3}=o.sort;e=i=new bv(e,{joinaggregate:[{op:a,field:s,as:CB(o,o.sort,{forAs:!0})}],groupby:[ft(o)]})}return i}return null}function hOe(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const u=(n=e.format)==null?void 0:n.mesh,l=(r=a.format)==null?void 0:r.feature;if(u&&l)continue;const c=(i=e.format)==null?void 0:i.feature;if((c||l)&&c!==l)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((u||f)&&u!==f)){if(jS(e)&&jS(a)){if($u(e.values,a.values))return s}else if(p_(e)&&p_(a)){if(e.url===a.url)return s}else if(n$e(e)&&e.name===s.dataName)return s}}return null}function San(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Iy({values:[]});return t.push(r),r}const n=hOe(e.data,t);if(n)return vm(e.data)||(n.data.format=JPe({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Iy(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function Can(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(pin(i))s=e=new g_(e,i),o="derived";else if(YX(i)){const a=ysn(i);s=e=Ls.makeWithAncestors(e,{},a,n)??e,e=new Iw(e,t,i.filter)}else if(QDe(i))s=e=Vf.makeFromTransform(e,i,t),o="number";else if(gin(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new Ls(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=zf.makeFromTransform(e,i);else if(yin(i))s=e=$c.makeFromTransform(e,i),o="number",eQ(t)&&(e=new Wm(e));else if(XDe(i))s=e=zS.make(e,t,i,r++),o="derived";else if(fin(i))s=e=new Rw(e,i),o="number";else if(din(i))s=e=new bv(e,i),o="number";else if(vin(i))s=e=yh.makeFromTransform(e,i),o="derived";else if(bin(i))s=e=new w3(e,i),o="derived";else if(_in(i))s=e=new b3(e,i),o="derived";else if(hin(i))s=e=new _3(e,i),o="derived";else if(oin(i))s=e=new S3(e,i),o="derived";else if(cin(i))e=new C3(e,i);else if(min(i))s=e=F0.makeFromTransform(e,i),o="derived";else if(sin(i))s=e=new v3(e,i),o="derived";else if(ain(i))s=e=new x3(e,i),o="derived";else if(uin(i))s=e=new T3(e,i),o="derived";else if(lin(i))s=e=new E3(e,i),o="derived";else{tt(Ben(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function A3(e){var h;let t=San(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(vm(i)||p_(i)||jS(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new Nin;vm(i)?(r$e(i)?t=new L2(t,i.sequence):KX(i)&&(t=new M2(t,i.graticule)),s.parseNothing=!0):((h=i==null?void 0:i.format)==null?void 0:h.parse)===null&&(s.parseNothing=!0),t=Ls.makeExplicit(t,e,s)??t,t=new Wm(t);const a=e.parent&&Pw(e.parent);(Ai(e)||ju(e))&&a&&(t=Vf.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=Can(t,e,s));const u=bsn(e),l=vsn(e);t=Ls.makeWithAncestors(t,{},{...u,...l},s)??t,Ai(e)&&(t=fb.parseAll(t,e),t=US.parseAll(t,e)),(Ai(e)||ju(e))&&(a||(t=Vf.makeFromEncoding(t,e)??t),t=zf.makeFromEncoding(t,e)??t,t=g_.parseAllForSortIndex(t,e));const c=t=Ofe(ui.Raw,e,t);if(Ai(e)){const p=$c.makeFromEncoding(t,e);p&&(t=p,eQ(e)&&(t=new Wm(t))),t=F0.makeFromEncoding(t,e)??t,t=yh.makeFromEncoding(t,e)??t}Ai(e)&&(t=BS.make(t,e)??t);const f=t=Ofe(ui.Main,e,t);Ai(e)&&pon(e,f);let d=null;if(ju(e)){const p=e.getName("facet");t=Tan(t,e.facet)??t,d=new kw(t,e,p,f.getSource()),n[p]=d}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:c,main:f,facetRoot:d,ancestorParse:s}}function Ofe(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,o=t.getDataName(e),s=new ou(n,o,e,i);return r[o]=s,s}class Aan extends fQ{constructor(t,n,r,i){var o,s,a,u;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((u=(a=t.resolve)==null?void 0:a.axis)==null?void 0:u.y)==="shared")&&tt(Len),this.children=this.getChildren(t).map((l,c)=>yQ(l,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=A3(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Qe(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return u3(t)?t.vconcat:WX(t)?t.hconcat:t.concat}parseLayoutSize(){wan(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=rQ(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function Ian(e){return e===!1||e===null}const kan={disable:1,gridScale:1,scale:1,...wDe,labelExpr:1,encode:1},pOe=Qe(kan);class hQ extends ip{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new hQ(tn(this.explicit),tn(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!Ian(this.get(t))}hasOrientSignalRef(){return Bt(this.explicit.orient)}}function Ran(e,t,n){const{encoding:r,config:i}=e,o=ho(r[t])??ho(r[_d(t)]),s=e.axis(t)||{},{format:a,formatType:u}=s;if(Ty(u))return{text:Cc({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:u,config:i}),...n};if(a===void 0&&u===void 0&&i.customFormatTypes){if(f_(o)==="quantitative"){if(d_(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Cc({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Cc({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(f_(o)==="temporal"&&i.timeFormatType&&nt(o)&&!o.timeUnit)return{text:Cc({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function Pan(e){return wd.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Fan(n,e)]),t),{})}const Nan={bottom:"top",top:"bottom",left:"right",right:"left"};function Dan(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of Qe(i.component.axes))n.axis[o]=iQ(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=$an(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of wd){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:u}=s.getWithExplicit("orient");if(!Bt(a)){if(r[a]>0&&!u){const l=Nan[a];r[a]>r[l]&&s.set("orient",l,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function $an(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=Oan(i,o)}}}else return t.map(n=>n.clone());return e}function Oan(e,t){for(const n of pOe){const r=Vm(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return CNe(i,o);case"gridScale":return{explicit:i.explicit,value:qi(i.value,o.value)}}return c3(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function Man(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Bt(n.labelAngle)?n.labelAngle:LS(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===N$e(r,i))return!0}return e===n[t]}const Lan=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Fan(e,t){var y,v;let n=t.axis(e);const r=new hQ,i=ho(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((y=s[e==="x"?"axisX":"axisY"])==null?void 0:y.orient)||((v=s.axis)==null?void 0:v.orient)||Ton(e),u=t.getScaleComponent(e).get("type"),l=yon(e,u,a,t.config),c=n!==void 0?!n:vB("disable",s.style,n==null?void 0:n.style,l).configValue;if(r.set("disable",c,n!==void 0),c)return r;n=n||{};const f=won(i,n,e,s.style,l),d=tDe(n.formatType,i,u),h=eDe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const b of pOe){const _=b in bfe?bfe[b](p):Wce(b)?n[b]:void 0,w=_!==void 0,S=Man(_,b,n,t,e);if(w&&S)r.set(b,_,S);else{const{configValue:E=void 0,configFrom:C=void 0}=Wce(b)&&b!=="values"?vB(b,s.style,n.style,l):{},A=E!==void 0;w&&!A?r.set(b,_,S):(C!=="vgAxisConfig"||Lan.has(b)&&A||$2(E)||Bt(E))&&r.set(b,E,!1)}}const m=n.encoding??{},g=_De.reduce((b,_)=>{if(!r.hasAxisPart(_))return b;const w=F$e(m[_]??{},t),S=_==="labels"?Ran(t,e,w):w;return S!==void 0&&!Ir(S)&&(b[_]={update:S}),b},{});return Ir(g)||r.set("encode",g,!!n.encoding||n.labelAngle!==void 0),r}function jan({encoding:e,size:t}){for(const n of wd){const r=hu(n);td(t[r])&&Kp(e[n])&&(delete t[r],tt(PNe(r)))}return t}const Ban={vgMark:"arc",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ms("x",e,{defaultPos:"mid"}),...Ms("y",e,{defaultPos:"mid"}),...Hm(e,"radius"),...Hm(e,"theta")})},Uan={vgMark:"area",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...QN("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...QN("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...ZX(e)})},zan={vgMark:"rect",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Hm(e,"x"),...Hm(e,"y")})},Van={vgMark:"shape",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&nt(n)&&n.type===Cw?{field:ft(n,{expr:"datum"})}:{}}]}},Han={vgMark:"image",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Hm(e,"x"),...Hm(e,"y"),...QX(e,"url")})},qan={vgMark:"line",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Ms("x",e,{defaultPos:"mid"}),...Ms("y",e,{defaultPos:"mid"}),...No("size",e,{vgChannel:"strokeWidth"}),...ZX(e)})},Wan={vgMark:"trail",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ms("x",e,{defaultPos:"mid"}),...Ms("y",e,{defaultPos:"mid"}),...No("size",e),...ZX(e)})};function pQ(e,t){const{config:n}=e;return{...Kl(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Ms("x",e,{defaultPos:"mid"}),...Ms("y",e,{defaultPos:"mid"}),...No("size",e),...No("angle",e),...Gan(e,n,t)}}function Gan(e,t,n){return n?{shape:{value:n}}:No("shape",e)}const Yan={vgMark:"symbol",encodeEntry:e=>pQ(e)},Kan={vgMark:"symbol",encodeEntry:e=>pQ(e,"circle")},Xan={vgMark:"symbol",encodeEntry:e=>pQ(e,"square")},Qan={vgMark:"rect",encodeEntry:e=>({...Kl(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Hm(e,"x"),...Hm(e,"y")})},Jan={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Kl(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...QN("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...QN("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...No("size",e,{vgChannel:"strokeWidth"})}}},Zan={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Kl(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Ms("x",e,{defaultPos:"mid"}),...Ms("y",e,{defaultPos:"mid"}),...QX(e),...No("size",e,{vgChannel:"fontSize"}),...No("angle",e),...mfe("align",eun(e.markDef,n,t)),...mfe("baseline",tun(e.markDef,n,t)),...Ms("radius",e,{defaultPos:null}),...Ms("theta",e,{defaultPos:null})}}};function eun(e,t,n){if(gr("align",e,n)===void 0)return"center"}function tun(e,t,n){if(gr("baseline",e,n)===void 0)return"middle"}const nun={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return{...Kl(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Ms("x",e,{defaultPos:"mid",vgChannel:"xc"}),...Ms("y",e,{defaultPos:"mid",vgChannel:"yc"}),...No("size",e,{defaultValue:run(e),vgChannel:i}),[o]:Jr(gr("thickness",n,t))}}};function run(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",o=e.getScaleComponent(r==="horizontal"?"x":"y"),s=gr("size",n,t,{vgChannel:i})??t.tick.bandSize;if(s!==void 0)return s;{const a=o?o.get("range"):void 0;return a&&xg(a)&&tr(a.step)?a.step*3/4:KN(t.view,i)*3/4}}const AI={arc:Ban,area:Uan,bar:zan,circle:Kan,geoshape:Van,image:Han,line:qan,point:Yan,rect:Qan,rule:Jan,square:Xan,text:Zan,tick:nun,trail:Wan};function iun(e){if(Fn([JM,XM,bnn],e.mark)){const t=CDe(e.mark,e.encoding);if(t.length>0)return oun(e,t)}else if(e.mark===QM){const t=sB.some(n=>gr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return sun(e)}return mQ(e)}const Mfe="faceted_path_";function oun(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:Mfe+e.requestDataName(ui.Main),data:e.requestDataName(ui.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:mQ(e,{fromPrefix:Mfe})}]}const Lfe="stack_group_";function sun(e){var l;const[t]=mQ(e,{fromPrefix:Lfe}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${c}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...o_(t.encode.update,["y","yc","y2","height",...sB]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...ru(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...o_(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...ru(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of sB){const f=Lh(c,e.markDef,e.config);t.encode.update[c]?(o[c]=t.encode.update[c],delete t.encode.update[c]):f&&(o[c]=Jr(f)),f&&(t.encode.update[c]={value:0})}const a=[];if(((l=e.stack.groupbyChannels)==null?void 0:l.length)>0)for(const c of e.stack.groupbyChannels){const f=e.fieldDef(c),d=ft(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(ft(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,f)=>{if(t.encode.update[f])return{...c,[f]:t.encode.update[f]};{const d=Lh(f,e.markDef,e.config);return d!==void 0?{...c,[f]:Jr(d)}:c}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(ui.Main),name:Lfe+e.requestDataName(ui.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function aun(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!je(s)&&Uc(s)&&iB(s.value)||!s&&iB(gr("order",i,o)))){if((je(s)||nt(s))&&!n)return xNe(s,{expr:"datum"});if(gv(r)){const u=i.orient==="horizontal"?"y":"x",l=t[u];if(nt(l)){const c=l.sort;if(je(c))return{field:ft(l,{prefix:u,suffix:"sort_index",expr:"datum"})};if(Uf(c))return{field:ft({aggregate:MX(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(uDe(c)){const f=e.fieldDef(c.encoding);return{field:ft(f,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:ft(l,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function mQ(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=qi(r.clip,uun(e),lun(e)),a=wNe(r),u=i.key,l=aun(e),c=cun(e),f=gr("aria",r,o),d=AI[n].postEncodingTransform?AI[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:AI[n].vgMark,...s?{clip:s}:{},...a?{style:a}:{},...u?{key:u.field}:{},...l?{sort:l}:{},...c||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(ui.Main)},encode:{update:AI[n].encodeEntry(e)},...d?{transform:d}:{}}]}function uun(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function lun(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function cun(e){if(!e.component.selection)return null;const t=Qe(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Qe(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class mOe extends cOe{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,Yce(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=Zf(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=Yrn(s,o,{graticule:t.data&&KX(t.data)}));const u=this.encoding=Jnn(t.encoding||{},a,s.filled,o);this.markDef=GDe(s,u,o),this.size=jan({encoding:u,size:Yce(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=WDe(this.markDef,u),this.specifiedScales=this.initScales(a,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(l=>HX(l))}get hasProjection(){const{encoding:t}=this,n=this.mark===oDe,r=t&&XZt.some(i=>fn(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return WM.reduce((r,i)=>{const o=ho(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=za(t);return je(n)&&(i.domain=n.map(Cu)),je(r)&&(i.range=r.map(Cu)),i}initAxes(t){return wd.reduce((n,r)=>{const i=t[r];if(fn(i)||r===di&&fn(t.x2)||r===qo&&fn(t.y2)){const o=fn(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=Qe(t),r={};for(const i of n){const o=t[i];r[i]=$2(o)?_Ne(o):Cu(o)}return r}initLegends(t){return sen.reduce((n,r)=>{const i=ho(t[r]);if(i&&uen(r)){const o=i.legend;n[r]=o&&za(o)}return n},{})}parseData(){this.component.data=A3(this)}parseLayoutSize(){Ean(this)}parseSelections(){this.component.selection=hon(this,this.selection)}parseMarkGroup(){this.component.mark=iun(this)}parseAxesAndHeaders(){this.component.axes=Pan(this)}assembleSelectionTopLevelSignals(t){return Oin(this,t)}assembleSignals(){return[...k$e(this),...Din(this,[])]}assembleSelectionData(t){return Min(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return rQ(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!Pw(this.parent))&&(t=s$e(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return M0(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return ed(n)}typedFieldDef(t){const n=this.fieldDef(t);return wa(n)?n:null}}class gQ extends fQ{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,u)=>{if(l3(a))return new gQ(a,this,this.getName(`layer_${u}`),s,o);if(rp(a))return new mOe(a,this,this.getName(`layer_${u}`),s,o);throw new Error(lX(a))})}parseData(){this.component.data=A3(this);for(const t of this.children)t.parseData()}parseLayoutSize(){_an(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Qe(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Dan(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),k$e(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),rQ(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of bt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return Lin(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),W$e(this))}}function yQ(e,t,n,r,i){if(t3(e))return new pT(e,t,n,i);if(l3(e))return new gQ(e,t,n,r,i);if(rp(e))return new mOe(e,t,n,r,i);if(Ern(e))return new Aan(e,t,n,i);throw new Error(lX(e))}function fun(e,t={}){t.logger&&Atn(t.logger),t.fieldTitle&&yDe(t.fieldTitle);try{const n=qDe(uw(t.config,e.config)),r=e$e(e,n),i=yQ(r,null,"",void 0,n);return i.parse(),Osn(i.component.data,i),{spec:hun(i,dun(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&Itn(),t.fieldTitle&&Vnn()}}function dun(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):_t(t)&&(t={type:t}),i&&o&&kin(t.type)){if(i==="step"&&o==="step")tt(Nce()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";tt(Nce(qM(s)));const a=s==="width"?"height":"width";t.type=Rin(a)}}return{...Qe(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...sfe(n,!1),...sfe(e,!0)}}function hun(e,t,n={},r){const i=e.config?Mrn(e.config):void 0,o=[].concat(e.assembleSelectionData([]),gan(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),u=e.assembleGroupStyle(),l=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...u?{style:u}:{},...l?{encode:{update:l}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...UDe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const pun=HZt.version,mun=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:s_,accessPathWithDatum:eX,compile:fun,contains:Fn,deepEqual:$u,deleteNestedProperty:jN,duplicate:tn,entries:Bm,every:QK,fieldIntersection:ZK,flatAccessWithDatum:eNe,getFirstDefined:qi,hasIntersection:JK,hash:Ln,internalField:rNe,isBoolean:MS,isEmpty:Ir,isEqual:WZt,isInternalField:iNe,isNullOrFalse:iB,isNumeric:jM,keys:Qe,logicalExpr:dT,mergeDeep:JPe,never:QPe,normalize:e$e,normalizeAngle:LS,omit:ru,pick:o_,prefixGenerator:oB,removePathFromField:Tw,replaceAll:_y,replacePathInField:Fl,resetIdCounter:YZt,setEqual:ZPe,some:by,stringify:kr,titleCase:T2,unique:Pf,uniqueId:nNe,vals:hs,varName:fi,version:pun},Symbol.toStringTag,{value:"Module"}));function gOe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var gun="vega-themes",yun="2.15.0",vun="Themes for stylized Vega and Vega-Lite visualizations.",bun=["vega","vega-lite","themes","style"],_un="BSD-3-Clause",wun={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},Eun=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],xun="build/vega-themes.js",vQ="build/vega-themes.module.js",Tun="build/vega-themes.min.js",Sun="build/vega-themes.min.js",Cun="build/vega-themes.module.d.ts",Aun={type:"git",url:"https://github.com/vega/vega-themes.git"},Iun=["src","build"],kun={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},Run={"@babel/core":"^7.24.6","@babel/plugin-transform-runtime":"^7.24.6","@babel/preset-env":"^7.24.6","@babel/preset-typescript":"^7.24.6","@release-it/conventional-changelog":"^8.0.1","@rollup/plugin-json":"^6.1.0","@rollup/plugin-node-resolve":"^15.2.3","@rollup/plugin-terser":"^0.4.4","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","browser-sync":"^3.0.2",concurrently:"^8.2.2",eslint:"^8.45.0","eslint-config-prettier":"^9.1.0","eslint-plugin-prettier":"^5.1.3","gh-pages":"^6.1.1",prettier:"^3.2.5","release-it":"^17.3.0",rollup:"^4.18.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.4.5",typescript:"^5.4.5",vega:"^5.25.0","vega-lite":"^5.9.3"},Pun={vega:"*","vega-lite":"*"},Nun={},Dun={name:gun,version:yun,description:vun,keywords:bun,license:_un,author:wun,contributors:Eun,main:xun,module:vQ,unpkg:Tun,jsdelivr:Sun,types:Cun,repository:Aun,files:Iun,scripts:kun,devDependencies:Run,peerDependencies:Pun,dependencies:Nun};const Qv="#fff",Ffe="#888",$un={background:"#333",view:{stroke:Ffe},title:{color:Qv,subtitleColor:Qv},style:{"guide-label":{fill:Qv},"guide-title":{fill:Qv}},axis:{domainColor:Qv,gridColor:Ffe,tickColor:Qv}},Dg="#4572a7",Oun={background:"#fff",arc:{fill:Dg},area:{fill:Dg},line:{stroke:Dg,strokeWidth:2},path:{stroke:Dg},rect:{fill:Dg},shape:{stroke:Dg},symbol:{fill:Dg,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},$g="#30a2da",aF="#cbcbcb",Mun="#999",Lun="#333",jfe="#f0f0f0",Bfe="#333",Fun={arc:{fill:$g},area:{fill:$g},axis:{domainColor:aF,grid:!0,gridColor:aF,gridWidth:1,labelColor:Mun,labelFontSize:10,titleColor:Lun,tickColor:aF,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:jfe,group:{fill:jfe},legend:{labelColor:Bfe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Bfe,titleFontSize:14,titlePadding:10},line:{stroke:$g,strokeWidth:2},path:{stroke:$g,strokeWidth:.5},rect:{fill:$g},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:$g},bar:{binSpacing:2,fill:$g,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},Og="#000",jun={group:{fill:"#e5e5e5"},arc:{fill:Og},area:{fill:Og},line:{stroke:Og},path:{stroke:Og},rect:{fill:Og},shape:{stroke:Og},symbol:{fill:Og,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Bun=22,Uun="normal",Ufe="Benton Gothic, sans-serif",zfe=11.5,zun="normal",Mg="#82c6df",uF="Benton Gothic Bold, sans-serif",Vfe="normal",Hfe=13,kE={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Vun={background:"#ffffff",title:{anchor:"start",color:"#000000",font:uF,fontSize:Bun,fontWeight:Uun},arc:{fill:Mg},area:{fill:Mg},line:{stroke:Mg,strokeWidth:2},path:{stroke:Mg},rect:{fill:Mg},shape:{stroke:Mg},symbol:{fill:Mg,size:30},axis:{labelFont:Ufe,labelFontSize:zfe,labelFontWeight:zun,titleFont:uF,titleFontSize:Hfe,titleFontWeight:Vfe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:Ufe,labelFontSize:zfe,symbolType:"square",titleFont:uF,titleFontSize:Hfe,titleFontWeight:Vfe},range:{category:kE["category-6"],diverging:kE["fireandice-6"],heatmap:kE["fire-7"],ordinal:kE["fire-7"],ramp:kE["fire-7"]}},Lg="#ab5787",II="#979797",Hun={background:"#f9f9f9",arc:{fill:Lg},area:{fill:Lg},line:{stroke:Lg},path:{stroke:Lg},rect:{fill:Lg},shape:{stroke:Lg},symbol:{fill:Lg,size:30},axis:{domainColor:II,domainWidth:.5,gridWidth:.2,labelColor:II,tickColor:II,tickWidth:.2,titleColor:II},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},Fg="#3e5c69",qun={background:"#fff",arc:{fill:Fg},area:{fill:Fg},line:{stroke:Fg},path:{stroke:Fg},rect:{fill:Fg},shape:{stroke:Fg},symbol:{fill:Fg},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},sl="#1696d2",qfe="#000000",Wun="#FFFFFF",kI="Lato",lF="Lato",Gun="Lato",Yun="#DEDDDD",Kun=18,RE={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Xun={background:Wun,title:{anchor:"start",fontSize:Kun,font:kI},axisX:{domain:!0,domainColor:qfe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:lF,labelAngle:0,tickColor:qfe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:kI},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Yun,gridWidth:1,labelFontSize:12,labelFont:lF,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:kI,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:lF,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:kI,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:RE["six-groups-cat-1"],diverging:RE["diverging-colors"],heatmap:RE["diverging-colors"],ordinal:RE["six-groups-seq"],ramp:RE["shades-blue"]},area:{fill:sl},rect:{fill:sl},line:{color:sl,stroke:sl,strokeWidth:5},trail:{color:sl,stroke:sl,strokeWidth:0,size:1},path:{stroke:sl,strokeWidth:.5},point:{filled:!0},text:{font:Gun,color:sl,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:sl,stroke:null}},arc:{fill:sl},shape:{stroke:sl},symbol:{fill:sl,size:30}},jg="#3366CC",Wfe="#ccc",RI="Arial, sans-serif",Qun={arc:{fill:jg},area:{fill:jg},path:{stroke:jg},rect:{fill:jg},shape:{stroke:jg},symbol:{stroke:jg},circle:{fill:jg},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:RI,fontSize:12},"guide-title":{font:RI,fontSize:12},"group-title":{font:RI,fontSize:12}},title:{font:RI,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Wfe,tickColor:Wfe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},bQ=e=>e*(1/3+1),Gfe=bQ(9),Yfe=bQ(10),Kfe=bQ(12),PE="Segoe UI",Xfe="wf_standard-font, helvetica, arial, sans-serif",Qfe="#252423",NE="#605E5C",Jfe="transparent",Jun="#C8C6C4",sc="#118DFF",Zun="#12239E",eln="#E66C37",tln="#6B007B",nln="#E044A7",rln="#744EC2",iln="#D9B300",oln="#D64550",yOe=sc,vOe="#DEEFFF",Zfe=[vOe,yOe],sln=[vOe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",yOe],aln={view:{stroke:Jfe},background:Jfe,font:PE,header:{titleFont:Xfe,titleFontSize:Kfe,titleColor:Qfe,labelFont:PE,labelFontSize:Yfe,labelColor:NE},axis:{ticks:!1,grid:!1,domain:!1,labelColor:NE,labelFontSize:Gfe,titleFont:Xfe,titleColor:Qfe,titleFontSize:Kfe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Jun,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:sc},line:{stroke:sc,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:PE,fontSize:Gfe,fill:NE},arc:{fill:sc},area:{fill:sc,line:!0,opacity:.6},path:{stroke:sc},rect:{fill:sc},point:{fill:sc,filled:!0,size:75},shape:{stroke:sc},symbol:{fill:sc,strokeWidth:1.5,size:50},legend:{titleFont:PE,titleFontWeight:"bold",titleColor:NE,labelFont:PE,labelFontSize:Yfe,labelColor:NE,symbolType:"circle",symbolSize:75},range:{category:[sc,Zun,eln,tln,nln,rln,iln,oln],diverging:Zfe,heatmap:Zfe,ordinal:sln}},cF='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',uln='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',fF=400,PI={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},lln=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],cln=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function I3({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=PI.gridBg[e],i=PI.textPrimary[e],o=PI.textSecondary[e],s=n==="dark"?lln:cln,a=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:a},area:{fill:a},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{stroke:a},circle:{fill:a},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:cF,fontWeight:600},axis:{labelColor:o,labelFontSize:12,labelFont:uln,labelFontWeight:fF,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:PI.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:cF,fill:o,fontWeight:fF},"guide-title":{font:cF,fill:o,fontWeight:fF}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const fln=I3({theme:"white",background:"#ffffff"}),dln=I3({theme:"g10",background:"#f4f4f4"}),hln=I3({theme:"g90",background:"#262626"}),pln=I3({theme:"g100",background:"#161616"}),mln=Dun.version,gln=Object.freeze(Object.defineProperty({__proto__:null,carbong10:dln,carbong100:pln,carbong90:hln,carbonwhite:fln,dark:$un,excel:Oun,fivethirtyeight:Fun,ggplot2:jun,googlecharts:Qun,latimes:Vun,powerbi:aln,quartz:Hun,urbaninstitute:Xun,version:mln,vox:qun},Symbol.toStringTag,{value:"Module"}));function yln(e,t,n,r){if(je(e))return`[${e.map(i=>t(_t(i)?i:ede(i,n))).join(", ")}]`;if(wt(e)){let i="";const{title:o,image:s,...a}=e;o&&(i+=`<h2>${t(o)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const u=Object.keys(a);if(u.length>0){i+="<table>";for(const l of u){let c=a[l];c!==void 0&&(wt(c)&&(c=ede(c,n)),i+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function vln(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function ede(e,t){return JSON.stringify(e,vln(t))}var bln=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const bOe="vg-tooltip-element",_ln={offsetX:10,offsetY:10,id:bOe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:wln,maxDepth:2,formatTooltip:yln,baseURL:""};function wln(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function Eln(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return bln.toString().replace(bOe,e)}function xln(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class Tln{constructor(t){this.options={..._ln,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=Eln(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=xln(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var dF={};function Sln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hF,tde;function Cln(){return tde||(tde=1,hF=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),hF}var Aln=fr;fr.Node=ky;fr.create=fr;function fr(e){var t=this;if(t instanceof fr||(t=new fr),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}fr.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};fr.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};fr.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};fr.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)kln(this,arguments[e]);return this.length};fr.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Rln(this,arguments[e]);return this.length};fr.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};fr.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};fr.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};fr.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};fr.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};fr.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};fr.prototype.map=function(e,t){t=t||this;for(var n=new fr,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};fr.prototype.mapReverse=function(e,t){t=t||this;for(var n=new fr,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};fr.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};fr.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};fr.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};fr.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};fr.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new fr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};fr.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new fr;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};fr.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=Iln(this,i,n[r]);return o};fr.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function Iln(e,t,n){var r=t===e.head?new ky(n,null,t,e):new ky(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function kln(e,t){e.tail=new ky(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Rln(e,t){e.head=new ky(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ky(e,t,n,r){if(!(this instanceof ky))return new ky(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{Cln()(fr)}catch{}const Pln=Aln,a0=Symbol("max"),Bd=Symbol("length"),Jv=Symbol("lengthCalculator"),mT=Symbol("allowStale"),b0=Symbol("maxAge"),Md=Symbol("dispose"),nde=Symbol("noDisposeOnSet"),Ao=Symbol("lruList"),ac=Symbol("cache"),_Oe=Symbol("updateAgeOnGet"),pF=()=>1;class Nln{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[a0]=t.max||1/0;const n=t.length||pF;if(this[Jv]=typeof n!="function"?pF:n,this[mT]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[b0]=t.maxAge||0,this[Md]=t.dispose,this[nde]=t.noDisposeOnSet||!1,this[_Oe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[a0]=t||1/0,DE(this)}get max(){return this[a0]}set allowStale(t){this[mT]=!!t}get allowStale(){return this[mT]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[b0]=t,DE(this)}get maxAge(){return this[b0]}set lengthCalculator(t){typeof t!="function"&&(t=pF),t!==this[Jv]&&(this[Jv]=t,this[Bd]=0,this[Ao].forEach(n=>{n.length=this[Jv](n.value,n.key),this[Bd]+=n.length})),DE(this)}get lengthCalculator(){return this[Jv]}get length(){return this[Bd]}get itemCount(){return this[Ao].length}rforEach(t,n){n=n||this;for(let r=this[Ao].tail;r!==null;){const i=r.prev;rde(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Ao].head;r!==null;){const i=r.next;rde(this,t,r,n),r=i}}keys(){return this[Ao].toArray().map(t=>t.key)}values(){return this[Ao].toArray().map(t=>t.value)}reset(){this[Md]&&this[Ao]&&this[Ao].length&&this[Ao].forEach(t=>this[Md](t.key,t.value)),this[ac]=new Map,this[Ao]=new Pln,this[Bd]=0}dump(){return this[Ao].map(t=>tD(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ao]}set(t,n,r){if(r=r||this[b0],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[Jv](n,t);if(this[ac].has(t)){if(o>this[a0])return db(this,this[ac].get(t)),!1;const u=this[ac].get(t).value;return this[Md]&&(this[nde]||this[Md](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[Bd]+=o-u.length,u.length=o,this.get(t),DE(this),!0}const s=new Dln(t,n,o,i,r);return s.length>this[a0]?(this[Md]&&this[Md](t,n),!1):(this[Bd]+=s.length,this[Ao].unshift(s),this[ac].set(t,this[Ao].head),DE(this),!0)}has(t){if(!this[ac].has(t))return!1;const n=this[ac].get(t).value;return!tD(this,n)}get(t){return mF(this,t,!0)}peek(t){return mF(this,t,!1)}pop(){const t=this[Ao].tail;return t?(db(this,t),t.value):null}del(t){db(this,this[ac].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ac].forEach((t,n)=>mF(this,n,!1))}}const mF=(e,t,n)=>{const r=e[ac].get(t);if(r){const i=r.value;if(tD(e,i)){if(db(e,r),!e[mT])return}else n&&(e[_Oe]&&(r.value.now=Date.now()),e[Ao].unshiftNode(r));return i.value}},tD=(e,t)=>{if(!t||!t.maxAge&&!e[b0])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[b0]&&n>e[b0]},DE=e=>{if(e[Bd]>e[a0])for(let t=e[Ao].tail;e[Bd]>e[a0]&&t!==null;){const n=t.prev;db(e,t),t=n}},db=(e,t)=>{if(t){const n=t.value;e[Md]&&e[Md](n.key,n.value),e[Bd]-=n.length,e[ac].delete(n.key),e[Ao].removeNode(t)}};class Dln{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const rde=(e,t,n,r)=>{let i=n.value;tD(e,i)&&(db(e,n),e[mT]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var $ln=Nln;const Oln=Object.freeze({loose:!0}),Mln=Object.freeze({}),Lln=e=>e?typeof e!="object"?Oln:e:Mln;var _Q=Lln,AB={exports:{}};const Fln="2.0.0",wOe=256,jln=Number.MAX_SAFE_INTEGER||9007199254740991,Bln=16,Uln=wOe-6,zln=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var wQ={MAX_LENGTH:wOe,MAX_SAFE_COMPONENT_LENGTH:Bln,MAX_SAFE_BUILD_LENGTH:Uln,MAX_SAFE_INTEGER:jln,RELEASE_TYPES:zln,SEMVER_SPEC_VERSION:Fln,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Vln=typeof process=="object"&&dF&&dF.NODE_DEBUG&&/\bsemver\b/i.test(dF.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var k3=Vln;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=wQ,o=k3;t=e.exports={};const s=t.re=[],a=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=m=>{for(const[g,y]of d)m=m.split(`${g}*`).join(`${g}{0,${y}}`).split(`${g}+`).join(`${g}{1,${y}}`);return m},p=(m,g,y)=>{const v=h(g),b=c++;o(m,b,g),l[m]=b,u[b]=g,s[b]=new RegExp(g,y?"g":void 0),a[b]=new RegExp(v,y?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),p("FULL",`^${u[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),p("LOOSE",`^${u[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),p("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),p("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),p("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),p("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?(?:${u[l.BUILD]})?(?:$|[^\\d])`),p("COERCERTL",u[l.COERCE],!0),p("COERCERTLFULL",u[l.COERCEFULL],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(AB,AB.exports);var EQ=AB.exports;const ide=/^[0-9]+$/,EOe=(e,t)=>{const n=ide.test(e),r=ide.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Hln=(e,t)=>EOe(t,e);var qln={compareIdentifiers:EOe,rcompareIdentifiers:Hln};const NI=k3,{MAX_LENGTH:ode,MAX_SAFE_INTEGER:DI}=wQ,{safeRe:sde,t:ade}=EQ,Wln=_Q,{compareIdentifiers:Zv}=qln;let Gln=class lf{constructor(t,n){if(n=Wln(n),t instanceof lf){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ode)throw new TypeError(`version is longer than ${ode} characters`);NI("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?sde[ade.LOOSE]:sde[ade.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>DI||this.major<0)throw new TypeError("Invalid major version");if(this.minor>DI||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>DI||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<DI)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(NI("SemVer.compare",this.version,this.options,t),!(t instanceof lf)){if(typeof t=="string"&&t===this.version)return 0;t=new lf(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof lf||(t=new lf(t,this.options)),Zv(this.major,t.major)||Zv(this.minor,t.minor)||Zv(this.patch,t.patch)}comparePre(t){if(t instanceof lf||(t=new lf(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(NI("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Zv(r,i)}while(++n)}compareBuild(t){t instanceof lf||(t=new lf(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(NI("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Zv(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Zv(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var xQ=Gln;const ude=xQ,Yln=(e,t,n)=>new ude(e,n).compare(new ude(t,n));var Nw=Yln;const Kln=Nw,Xln=(e,t,n)=>Kln(e,t,n)===0;var Qln=Xln;const Jln=Nw,Zln=(e,t,n)=>Jln(e,t,n)!==0;var ecn=Zln;const tcn=Nw,ncn=(e,t,n)=>tcn(e,t,n)>0;var rcn=ncn;const icn=Nw,ocn=(e,t,n)=>icn(e,t,n)>=0;var scn=ocn;const acn=Nw,ucn=(e,t,n)=>acn(e,t,n)<0;var lcn=ucn;const ccn=Nw,fcn=(e,t,n)=>ccn(e,t,n)<=0;var dcn=fcn;const hcn=Qln,pcn=ecn,mcn=rcn,gcn=scn,ycn=lcn,vcn=dcn,bcn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return hcn(e,n,r);case"!=":return pcn(e,n,r);case">":return mcn(e,n,r);case">=":return gcn(e,n,r);case"<":return ycn(e,n,r);case"<=":return vcn(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var _cn=bcn,gF,lde;function wcn(){if(lde)return gF;lde=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,f){if(f=n(f),c instanceof t){if(c.loose===!!f.loose)return c;c=c.value}c=c.trim().split(/\s+/).join(" "),s("comparator",c,f),this.options=f,this.loose=!!f.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=c.match(f);if(!d)throw new TypeError(`Invalid comparator: ${c}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new a(c,this.options)}catch{return!1}return o(c,this.operator,this.semver,this.options)}intersects(c,f){if(!(c instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(c.value,f).test(this.value):c.operator===""?c.value===""?!0:new u(this.value,f).test(c.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||c.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||c.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&c.operator.startsWith(">")||this.operator.startsWith("<")&&c.operator.startsWith("<")||this.semver.version===c.semver.version&&this.operator.includes("=")&&c.operator.includes("=")||o(this.semver,"<",c.semver,f)&&this.operator.startsWith(">")&&c.operator.startsWith("<")||o(this.semver,">",c.semver,f)&&this.operator.startsWith("<")&&c.operator.startsWith(">")))}}gF=t;const n=_Q,{safeRe:r,t:i}=EQ,o=_cn,s=k3,a=xQ,u=xOe();return gF}var yF,cde;function xOe(){if(cde)return yF;cde=1;class e{constructor(O,j){if(j=r(j),O instanceof e)return O.loose===!!j.loose&&O.includePrerelease===!!j.includePrerelease?O:new e(O.raw,j);if(O instanceof i)return this.raw=O.value,this.set=[[O]],this.format(),this;if(this.options=j,this.loose=!!j.loose,this.includePrerelease=!!j.includePrerelease,this.raw=O.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(M=>this.parseRange(M.trim())).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const M=this.set[0];if(this.set=this.set.filter(B=>!p(B[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&m(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(O=>O.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(O){const M=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+O,B=n.get(M);if(B)return B;const V=this.options.loose,q=V?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE];O=O.replace(q,P(this.options.includePrerelease)),o("hyphen replace",O),O=O.replace(a[u.COMPARATORTRIM],l),o("comparator trim",O),O=O.replace(a[u.TILDETRIM],c),o("tilde trim",O),O=O.replace(a[u.CARETTRIM],f),o("caret trim",O);let D=O.split(" ").map(z=>y(z,this.options)).join(" ").split(/\s+/).map(z=>k(z,this.options));V&&(D=D.filter(z=>(o("loose invalid filter",z,this.options),!!z.match(a[u.COMPARATORLOOSE])))),o("range list",D);const U=new Map,W=D.map(z=>new i(z,this.options));for(const z of W){if(p(z))return[z];U.set(z.value,z)}U.size>1&&U.has("")&&U.delete("");const F=[...U.values()];return n.set(M,F),F}intersects(O,j){if(!(O instanceof e))throw new TypeError("a Range is required");return this.set.some(M=>g(M,j)&&O.set.some(B=>g(B,j)&&M.every(V=>B.every(q=>V.intersects(q,j)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new s(O,this.options)}catch{return!1}for(let j=0;j<this.set.length;j++)if($(this.set[j],O,this.options))return!0;return!1}}yF=e;const t=$ln,n=new t({max:1e3}),r=_Q,i=wcn(),o=k3,s=xQ,{safeRe:a,t:u,comparatorTrimReplace:l,tildeTrimReplace:c,caretTrimReplace:f}=EQ,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=wQ,p=N=>N.value==="<0.0.0-0",m=N=>N.value==="",g=(N,O)=>{let j=!0;const M=N.slice();let B=M.pop();for(;j&&M.length;)j=M.every(V=>B.intersects(V,O)),B=M.pop();return j},y=(N,O)=>(o("comp",N,O),N=w(N,O),o("caret",N),N=b(N,O),o("tildes",N),N=E(N,O),o("xrange",N),N=A(N,O),o("stars",N),N),v=N=>!N||N.toLowerCase()==="x"||N==="*",b=(N,O)=>N.trim().split(/\s+/).map(j=>_(j,O)).join(" "),_=(N,O)=>{const j=O.loose?a[u.TILDELOOSE]:a[u.TILDE];return N.replace(j,(M,B,V,q,D)=>{o("tilde",N,M,B,V,q,D);let U;return v(B)?U="":v(V)?U=`>=${B}.0.0 <${+B+1}.0.0-0`:v(q)?U=`>=${B}.${V}.0 <${B}.${+V+1}.0-0`:D?(o("replaceTilde pr",D),U=`>=${B}.${V}.${q}-${D} <${B}.${+V+1}.0-0`):U=`>=${B}.${V}.${q} <${B}.${+V+1}.0-0`,o("tilde return",U),U})},w=(N,O)=>N.trim().split(/\s+/).map(j=>S(j,O)).join(" "),S=(N,O)=>{o("caret",N,O);const j=O.loose?a[u.CARETLOOSE]:a[u.CARET],M=O.includePrerelease?"-0":"";return N.replace(j,(B,V,q,D,U)=>{o("caret",N,B,V,q,D,U);let W;return v(V)?W="":v(q)?W=`>=${V}.0.0${M} <${+V+1}.0.0-0`:v(D)?V==="0"?W=`>=${V}.${q}.0${M} <${V}.${+q+1}.0-0`:W=`>=${V}.${q}.0${M} <${+V+1}.0.0-0`:U?(o("replaceCaret pr",U),V==="0"?q==="0"?W=`>=${V}.${q}.${D}-${U} <${V}.${q}.${+D+1}-0`:W=`>=${V}.${q}.${D}-${U} <${V}.${+q+1}.0-0`:W=`>=${V}.${q}.${D}-${U} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?q==="0"?W=`>=${V}.${q}.${D}${M} <${V}.${q}.${+D+1}-0`:W=`>=${V}.${q}.${D}${M} <${V}.${+q+1}.0-0`:W=`>=${V}.${q}.${D} <${+V+1}.0.0-0`),o("caret return",W),W})},E=(N,O)=>(o("replaceXRanges",N,O),N.split(/\s+/).map(j=>C(j,O)).join(" ")),C=(N,O)=>{N=N.trim();const j=O.loose?a[u.XRANGELOOSE]:a[u.XRANGE];return N.replace(j,(M,B,V,q,D,U)=>{o("xRange",N,M,B,V,q,D,U);const W=v(V),F=W||v(q),z=F||v(D),G=z;return B==="="&&G&&(B=""),U=O.includePrerelease?"-0":"",W?B===">"||B==="<"?M="<0.0.0-0":M="*":B&&G?(F&&(q=0),D=0,B===">"?(B=">=",F?(V=+V+1,q=0,D=0):(q=+q+1,D=0)):B==="<="&&(B="<",F?V=+V+1:q=+q+1),B==="<"&&(U="-0"),M=`${B+V}.${q}.${D}${U}`):F?M=`>=${V}.0.0${U} <${+V+1}.0.0-0`:z&&(M=`>=${V}.${q}.0${U} <${V}.${+q+1}.0-0`),o("xRange return",M),M})},A=(N,O)=>(o("replaceStars",N,O),N.trim().replace(a[u.STAR],"")),k=(N,O)=>(o("replaceGTE0",N,O),N.trim().replace(a[O.includePrerelease?u.GTE0PRE:u.GTE0],"")),P=N=>(O,j,M,B,V,q,D,U,W,F,z,G,ee)=>(v(M)?j="":v(B)?j=`>=${M}.0.0${N?"-0":""}`:v(V)?j=`>=${M}.${B}.0${N?"-0":""}`:q?j=`>=${j}`:j=`>=${j}${N?"-0":""}`,v(W)?U="":v(F)?U=`<${+W+1}.0.0-0`:v(z)?U=`<${W}.${+F+1}.0-0`:G?U=`<=${W}.${F}.${z}-${G}`:N?U=`<${W}.${F}.${+z+1}-0`:U=`<=${U}`,`${j} ${U}`.trim()),$=(N,O,j)=>{for(let M=0;M<N.length;M++)if(!N[M].test(O))return!1;if(O.prerelease.length&&!j.includePrerelease){for(let M=0;M<N.length;M++)if(o(N[M].semver),N[M].semver!==i.ANY&&N[M].semver.prerelease.length>0){const B=N[M].semver;if(B.major===O.major&&B.minor===O.minor&&B.patch===O.patch)return!0}return!1}return!0};return yF}const Ecn=xOe(),xcn=(e,t,n)=>{try{t=new Ecn(t,n)}catch{return!1}return t.test(e)};var Tcn=xcn,TOe=Sln(Tcn);function Scn(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function u(c){c.source===r&&(a=0,e.removeEventListener("message",u,!1))}e.addEventListener("message",u,!1);function l(){a<=0||(r.postMessage(n,s),setTimeout(l,o),a-=1)}setTimeout(l,o)}var Ccn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function SOe(e,...t){for(const n of t)Acn(e,n);return e}function Acn(e,t){for(const n of Object.keys(t))lw(e,n,t[n],!0)}const lc=cZt;let VS=mun;const $I=typeof window<"u"?window:void 0;var mde;VS===void 0&&((mde=$I==null?void 0:$I.vl)!=null&&mde.compile)&&(VS=$I.vl);const Icn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},kcn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},mx={vega:"Vega","vega-lite":"Vega-Lite"},nD={vega:lc.version,"vega-lite":VS?VS.version:"not available"},Rcn={vega:e=>e,"vega-lite":(e,t)=>VS.compile(e,{config:t}).spec},Pcn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,Ncn="chart-wrapper";function Dcn(e){return typeof e=="function"}function fde(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${mx[r]} JSON Source`}function $cn(e,t){if(e.$schema){const n=gOe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${mx[n.library]}, but mode argument sets ${mx[t]??t}.`);const r=n.library;return TOe(nD[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${mx[r]} ${n.version}, but the current version of ${mx[r]} is v${nD[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function COe(e){return!!(e&&"load"in e)}function dde(e){return COe(e)?e:lc.loader(e)}function Ocn(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return _t(t.defaultStyle)&&(t.defaultStyle=!1),t}async function Mcn(e,t,n={}){let r,i;_t(t)?(i=dde(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=Ocn(r),s=o.loader;(!i||s)&&(i=dde(n.loader??s));const a=await hde(o,i),u=await hde(n,i),l={...SOe(u,a),config:uw(u.config??{},a.config??{})};return await Fcn(e,r,l,i)}async function hde(e,t){const n=_t(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=_t(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function Lcn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function Fcn(e,t,n={},r){const i=n.theme?uw(gln[n.theme],n.config??{}):n.config,o=cg(n.actions)?n.actions:SOe({},Icn,n.actions??{}),s={...kcn,...n.i18n},a=n.renderer??"canvas",u=n.logLevel??lc.Warn,l=n.downloadFileName??"visualization",c=typeof e=="string"?document.querySelector(e):e;if(!c)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const w="vega-embed-style",{root:S,rootContainer:E}=Lcn(c);if(!S.getElementById(w)){const C=document.createElement("style");C.id=w,C.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?Ccn.toString():n.defaultStyle,E.appendChild(C)}}const f=$cn(t,n.mode);let d=Rcn[f](t,i);if(f==="vega-lite"&&d.$schema){const w=gOe(d.$schema);TOe(nD.vega,`^${w.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${w.version}, but current version is v${nD.vega}.`)}c.classList.add("vega-embed"),o&&c.classList.add("has-actions"),c.innerHTML="";let h=c;if(o){const w=document.createElement("div");w.classList.add(Ncn),c.appendChild(w),h=w}const p=n.patch;if(p&&(d=p instanceof Function?p(d):TO(d,p,!0,!1).newDocument),n.formatLocale&&lc.formatLocale(n.formatLocale),n.timeFormatLocale&&lc.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const w in n.expressionFunctions){const S=n.expressionFunctions[w];"fn"in S?lc.expressionFunction(w,S.fn,S.visitor):S instanceof Function&&lc.expressionFunction(w,S)}const{ast:m}=n,g=lc.parse(d,f==="vega-lite"?{}:i,{ast:m}),y=new(n.viewClass||lc.View)(g,{loader:r,logLevel:u,renderer:a,...m?{expr:lc.expressionInterpreter??n.expr??_Zt}:{}});if(y.addSignalListener("autosize",(w,S)=>{const{type:E}=S;E=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):E=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):E=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:w,tooltip:S}=n,E=w&&!COe(w)?w==null?void 0:w.baseURL:void 0,C=Dcn(S)?S:new Tln({baseURL:E,...S===!0?{}:S}).call;y.tooltip(C)}let{hover:v}=n;if(v===void 0&&(v=f==="vega"),v){const{hoverSet:w,updateSet:S}=typeof v=="boolean"?{}:v;y.hover(w,S)}n&&(n.width!=null&&y.width(n.width),n.height!=null&&y.height(n.height),n.padding!=null&&y.padding(n.padding)),await y.initialize(h,n.bind).runAsync();let b;if(o!==!1){let w=c;if(n.defaultStyle!==!1||n.forceActionsMenu){const E=document.createElement("details");E.title=s.CLICK_TO_VIEW_ACTIONS,c.append(E),w=E;const C=document.createElement("summary");C.innerHTML=Pcn,E.append(C),b=A=>{E.contains(A.target)||E.removeAttribute("open")},document.addEventListener("click",b)}const S=document.createElement("div");if(w.append(S),S.classList.add("vega-actions"),o===!0||o.export!==!1){for(const E of["svg","png"])if(o===!0||o.export===!0||o.export[E]){const C=s[`${E.toUpperCase()}_ACTION`],A=document.createElement("a"),k=wt(n.scaleFactor)?n.scaleFactor[E]:n.scaleFactor;A.text=C,A.href="#",A.target="_blank",A.download=`${l}.${E}`,A.addEventListener("mousedown",async function(P){P.preventDefault();const $=await y.toImageURL(E,k);this.href=$}),S.append(A)}}if(o===!0||o.source!==!1){const E=document.createElement("a");E.text=s.SOURCE_ACTION,E.href="#",E.addEventListener("click",function(C){fde(H6(t),n.sourceHeader??"",n.sourceFooter??"",f),C.preventDefault()}),S.append(E)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const E=document.createElement("a");E.text=s.COMPILED_ACTION,E.href="#",E.addEventListener("click",function(C){fde(H6(d),n.sourceHeader??"",n.sourceFooter??"","vega"),C.preventDefault()}),S.append(E)}if(o===!0||o.editor!==!1){const E=n.editorUrl??"https://vega.github.io/editor/",C=document.createElement("a");C.text=s.EDITOR_ACTION,C.href="#",C.addEventListener("click",function(A){Scn(window,E,{config:i,mode:f,renderer:a,spec:H6(t)}),A.preventDefault()}),S.append(C)}}function _(){b&&document.removeEventListener("click",b),y.finalize()}return{view:y,spec:t,vgSpec:d,finalize:_,embedOptions:n}}function jcn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function Bcn(e,t,n){n&&(jcn(n)?n(e.data(t)):e.change(t,lc.changeset().remove(()=>!0).insert(n)))}function Ucn(e,t){Object.keys(t).forEach(n=>{Bcn(e,n,t[n])})}function AOe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const IOe=()=>{};function vF(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function zcn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=AOe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!nk(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function pde(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function bF(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function gx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class kOe extends ue.PureComponent{constructor(){super(...arguments),gx(this,"containerRef",ue.createRef()),gx(this,"resultPromise",void 0),gx(this,"handleError",t=>{const{onError:n=IOe}=this.props;n(t,this.containerRef.current),console.warn(t)}),gx(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=AOe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=zcn(bF(this.props),bF(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!g9(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&pde(a,o),i&&vF(a,i)),a.run()})}else g9(i,o)||this.modifyView(s=>{o&&pde(s,o),i&&vF(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=bF(this.props);this.resultPromise=Mcn(this.containerRef.current,a,s).then(u=>{if(u){const{view:l}=u;vF(l,r)&&l.run()}return u}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return ue.createElement("div",{ref:this.containerRef,className:t,style:n})}}gx(kOe,"propTypes",{className:pe.string,onError:pe.func});function IB(){return IB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IB.apply(this,arguments)}function kB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vcn={};class ROe extends ue.PureComponent{constructor(){super(...arguments),kB(this,"vegaEmbed",ue.createRef()),kB(this,"handleNewView",t=>{this.update();const{onNewView:n=IOe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){g9(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{Ucn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return ue.createElement(kOe,IB({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}kB(ROe,"defaultProps",{data:Vcn});function RB(){return RB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RB.apply(this,arguments)}function Hcn(e){return ue.createElement(ROe,RB({},e,{mode:"vega-lite"}))}function qcn(e,t){const n=Object.values(e).map(r=>[r.startTime,r.endTime]).flat();return t[0]===null||t[1]===null?!1:Math.min(...n)>=t[0].getTime()&&Math.max(...n)<=t[1].getTime()}function Wcn(e){const{studyId:t,allParticipants:n,config:r}=e,i=eg(),[o,s]=Hpe(),a=n.filter(b=>b.completed).map(b=>Math.max(...Object.values(b.answers).map(_=>_.endTime).filter(_=>_!==void 0))).filter(b=>Number.isFinite(b)),[u,l]=I.useState([new Date(new Date(Math.min(...a.length>0?a:[new Date().getTime()])).setHours(0,0,0,0)),new Date(new Date(Math.max(...a.length>0?a:[new Date().getTime()])).setHours(24,0,0,0))]),[c,f,d,h]=I.useMemo(()=>{const b=n.filter(S=>!S.rejected&&S.completed),_=n.filter(S=>!S.rejected&&!S.completed),w=n.filter(S=>S.rejected);return[b,_,w,b.filter(S=>qcn(S.answers,u))]},[n,u]),p=I.useMemo(()=>{var b,_;return h.length>0?[{Date:(b=u[0])==null?void 0:b.getTime(),Participants:0},...h.map(w=>Math.max(...Object.values(w.answers).map(S=>S.endTime).flat())).sort((w,S)=>w-S).map((w,S)=>({Date:w,Participants:S})),{Date:(_=u[1])==null?void 0:_.getTime(),Participants:h.length}]:[]},[h,u]),m=I.useMemo(()=>{var b,_;return{width:s.width-40-8,height:200,mark:{type:"line",interpolate:"step-before"},encoding:{x:{field:"Date",type:"temporal",scale:{domain:[(b=u[0])==null?void 0:b.getTime(),(_=u[1])==null?void 0:_.getTime()]}},y:{field:"Participants",type:"quantitative"}},data:{values:p}}},[s.width,u,p]),[g,{close:y,open:v}]=Ax(!1);return T.jsx(Pl,{children:T.jsxs(jy,{ref:o,padding:"lg",shadow:"md",withBorder:!0,children:[T.jsxs(Zt,{align:"center",mb:"xs",justify:"space-between",children:[T.jsxs(Zt,{direction:"row",align:"center",children:[T.jsx(yi,{order:5,children:t}),T.jsx(gTe,{completed:c.length,inProgress:f.length,rejected:d.length,filteredCompleted:h.length})]}),T.jsxs(zu,{children:[T.jsx(mTe,{allParticipants:n,studyId:t}),T.jsxs(gi,{opened:g,children:[T.jsx(gi.Target,{children:T.jsx(Xn,{onClick:()=>i(`/analysis/stats/${t}`),onMouseEnter:v,onMouseLeave:y,px:4,children:T.jsx(GUe,{})})}),T.jsx(gi.Dropdown,{children:T.jsx(Tt,{children:"Analyze and manage study data"})})]})]})]}),T.jsx(tW,{type:"range",label:"Time Filter",placeholder:"Select a date range",value:u,onChange:l}),p.length>0?T.jsxs(T.Fragment,{children:[T.jsx(Tt,{mt:16,children:"Finished Participants"}),T.jsx(Hcn,{spec:m,actions:!1})]}):T.jsx(Ce,{h:293.4,children:T.jsx(FT,{style:{height:"100%"},children:T.jsx(Tt,{children:"Not enough participants for chart"})})})]})})}function Gcn(e){const{globalConfig:t}=e,[n,r]=I.useState(!1),[i,o]=I.useState({}),[s,a]=I.useState({}),[u,l]=I.useState({}),{storageEngine:c}=bo(),{user:f}=tv();I.useEffect(()=>{(async()=>{r(!0);const p={},m={},g={},y=async b=>{const _=await cO(b,t);if(c){if(p[b]=await c.getAllParticipantsDataByStudy(b),_===null)return;if(m[b]=_,c instanceof Tu){const w=await c.getModes(b);g[b]=w.analyticsInterfacePubliclyAccessible}}};await(async()=>{const b=t.configsList.map(_=>y(_));try{await Promise.all(b),o(p),a(m),l(g)}catch(_){console.error("Error fetching data:",_)}finally{r(!1)}})()})()},[t,c]);const d=t.configsList.map(h=>i[h]&&(u[h]||f.isAdmin?T.jsx(yl.Col,{span:{md:12,xl:6},children:T.jsx(Wcn,{studyId:h,allParticipants:i[h],config:s[h]})},`${h}-panel`):null));return T.jsxs(Ce,{children:[T.jsx(yi,{mb:20,order:4,children:"Your Studies:"}),T.jsxs(yl,{children:[d.length>0?d:T.jsx(Pl,{mt:100,children:T.jsx(Tt,{children:"No studies to show. If you believe that this is in error, make sure that you are logged in."})}),T.jsx(Vu,{visible:n})]})]})}function Ycn({globalConfig:e}){return T.jsxs(T.Fragment,{children:[T.jsx(eT,{studyIds:e.configsList}),T.jsx(Ri.Main,{children:T.jsx(Pl,{fluid:!0,children:T.jsx(Gcn,{globalConfig:e})})})]})}function Kcn(){const{user:e,triggerAuth:t}=tv(),{storageEngine:n}=bo(),[r,i]=I.useState(!1),[o,s]=I.useState([]),[a,u]=I.useState(!1),[l,c]=I.useState(!1),[f,d]=I.useState(!1),[h,p]=I.useState(!1),[m,g]=I.useState(""),[y,v]=I.useState(null),b=Cve({initialValues:{email:""},validate:{email:FQe("Invalid email")}});I.useEffect(()=>{(async()=>{if(u(!0),n instanceof Tu){const P=await(n==null?void 0:n.getUserManagementData("authentication"));i(P==null?void 0:P.isEnabled);const $=await(n==null?void 0:n.getUserManagementData("adminUsers"));$&&$.adminUsersList&&s($==null?void 0:$.adminUsersList.map(N=>N.email))}else i(!1);u(!1)})()},[n]);const _=async()=>{if(u(!0),n instanceof Tu){const k=await yTe(n,u);k&&k.email&&v({email:k.email,uid:k.uid}),p(!0)}u(!1)},w=async k=>{u(!0),n instanceof Tu&&k&&(await n.changeAuth(!0),await n.addAdminUser(k),s([k.email]),i(!0),t()),p(!1),u(!1)},S=async()=>{if(u(!0),n instanceof Tu){await n.addAdminUser({email:b.values.email,uid:null});const k=await n.getUserManagementData("adminUsers");s(k==null?void 0:k.adminUsersList.map(P=>P.email))}u(!1),c(!1),b.setValues({email:""})},E=k=>{d(!0),g(k)},C=async()=>{if(u(!0),n instanceof Tu){await n.removeAdminUser(m);const k=await n.getUserManagementData("adminUsers");s(k==null?void 0:k.adminUsersList.map(P=>P.email))}d(!1),u(!1)},A=I.useMemo(()=>n instanceof Tu,[n]);return T.jsxs(T.Fragment,{children:[T.jsx(Pl,{children:T.jsxs(jy,{withBorder:!0,style:{backgroundColor:"#FAFAFA"},children:[T.jsx(yi,{mb:20,order:3,children:"Authentication"}),r?T.jsx(Zt,{children:T.jsx(Tt,{children:"Authentication is enabled."})}):T.jsxs(Zt,{justify:"space-between",children:[T.jsx(Ce,{children:T.jsx(Tt,{children:"Authentication is currently disabled."})}),T.jsx(uo,{label:"You can only enable auth when using Firebase",disabled:A,children:T.jsx(Xn,{onClick:k=>A?_():k.preventDefault(),color:"green","data-disabled":A?void 0:!0,style:{"&[dataDisabled]":{pointerEvents:"all"}},children:"Enable Authentication"})})]}),r?T.jsxs(Zt,{mt:40,direction:"column",children:[T.jsxs(Zt,{style:{borderBottom:"1px solid #dedede"},direction:"row",justify:"space-between",mb:15,pb:15,children:[T.jsx(yi,{order:6,children:"Enabled Users"}),T.jsx(T0e,{style:{cursor:"pointer"},onClick:()=>c(!0)})]}),o.length>0?o.map(k=>{var P;return T.jsxs(Zt,{justify:"space-between",mb:10,children:[T.jsx(Tt,{children:k}),k===((P=e.user)==null?void 0:P.email)?T.jsx(Tt,{color:"blue",size:"xs",children:"You"}):T.jsx(xm,{variant:"subtle",onClick:()=>E(k),children:T.jsx(x0e,{color:"red"})})]},k)}):null]}):null]})}),T.jsx(no,{opened:l,onClose:()=>c(!1),title:"Add Admin User",children:T.jsxs(Ce,{component:"form",onSubmit:b.onSubmit(()=>S()),children:[T.jsx(T0,{leftSection:T.jsx(HUe,{}),placeholder:"User Gmail Account",...b.getInputProps("email")}),T.jsxs(Zt,{mt:30,justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"red",onClick:()=>c(!1),children:"Cancel"}),T.jsx(Xn,{type:"submit",children:"Save"})]})]})}),T.jsxs(no,{opened:f,size:"large",onClose:()=>d(!1),title:T.jsxs(Tt,{fw:700,children:["Remove",m,"?"]}),children:[T.jsxs(Tt,{mt:40,children:["Are you sure you want to remove",T.jsx("b",{children:m})," ","as an administrator?"]}),T.jsxs(Zt,{mt:40,justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"red",onClick:()=>d(!1),children:"Cancel"}),T.jsx(Xn,{onClick:()=>C(),children:"Yes, I'm sure."})]})]}),T.jsxs(no,{opened:h,size:"md",onClose:()=>d(!1),title:T.jsx(Tt,{fw:700,children:"Enable Authentication?"}),children:[T.jsxs(Tt,{mt:40,children:["User"," ",T.jsx("b",{children:y==null?void 0:y.email})," ","will be added as an administrator to this application. After enabling authentication, you'll be able to add additional users below. This action cannot be undone."]}),T.jsxs(Zt,{mt:40,justify:"right",children:[T.jsx(Xn,{mr:5,variant:"subtle",color:"red",onClick:()=>p(!1),children:"Cancel"}),T.jsx(Xn,{onClick:()=>w(y),children:"Yes, I'm sure."})]})]}),T.jsx(Vu,{visible:a})]})}class Xcn extends gxe{constructor(){super("localStorage");Pa(this,"studyDatabase");Pa(this,"studyId")}async connect(){this.connected=!0}async initializeStudyDb(n,r){this.studyId=n,this.studyDatabase=await a1.createInstance({name:n});const i=await this.getCurrentConfigHash(),o=await mP(JSON.stringify(r));i&&i!==o&&(await this.studyDatabase.removeItem("sequenceArray"),await this.clearCurrentParticipantId()),this.studyDatabase.setItem("currentConfigHash",o);const s=await this.studyDatabase.getItem("configs");await this.studyDatabase.setItem("configs",{...s,[o]:r})}async initializeParticipantSession(n,r,i,o,s){var f;if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(await this.getCurrentParticipantId(s),!this.currentParticipantId)throw new Error("Participant not initialized");const a=await this.studyDatabase.getItem(this.currentParticipantId);if(a)return a;const u=await this.getModes(n),l=await mP(JSON.stringify(i)),c={participantId:this.currentParticipantId,participantConfigHash:l,sequence:await this.getSequence(),answers:{},searchParams:r,metadata:o,completed:!1,rejected:!1};return u.dataCollectionEnabled&&await((f=this.studyDatabase)==null?void 0:f.setItem(this.currentParticipantId,c)),c}async getCurrentConfigHash(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("currentConfigHash")}async getAllConfigsFromHash(n,r){return await a1.createInstance({name:r}).getItem("configs")||{}}async getCurrentParticipantId(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const r=await this.studyDatabase.getItem("currentParticipant");if(n)return this.currentParticipantId=n,await this.studyDatabase.setItem("currentParticipant",n),n;if(r)return this.currentParticipantId=r,r;const i=pP();return await this.studyDatabase.setItem("currentParticipant",i),this.currentParticipantId=i,i}async clearCurrentParticipantId(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");await this.studyDatabase.removeItem("currentParticipant")}async saveAnswers(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");if(!this.currentParticipantId)throw new Error("Participant not initialized");const r=await this.studyDatabase.getItem(this.currentParticipantId);if(!r)throw new Error("Participant not initialized");r.answers=n,await this.studyDatabase.setItem(this.currentParticipantId,r)}async setSequenceArray(n){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");this.studyDatabase.setItem("sequenceArray",n)}async getSequence(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("sequenceArray");if(!n)throw new Error("Latin square not initialized");if(!this.studyId)throw new Error("Study ID not initialized");const r=await this.getModes(this.studyId),i=r.dataCollectionEnabled?n.pop():n[Math.floor(Math.random()*n.length-1)];if(!i)throw new Error("Latin square is empty");return r.dataCollectionEnabled&&await this.studyDatabase.setItem("sequenceArray",n),i}async getSequenceArray(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");return await this.studyDatabase.getItem("sequenceArray")}async getAllParticipantsData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=[];return await this.studyDatabase.iterate((r,i)=>{i!=="config"&&i!=="currentParticipant"&&i!=="sequenceArray"&&i!=="configs"&&i!=="currentConfigHash"&&i!=="modes"&&n.push(r)}),n}async getAllParticipantsDataByStudy(n){const r=a1.createInstance({name:n}),i=[];return await r.iterate((o,s)=>{s!=="config"&&s!=="currentParticipant"&&s!=="sequenceArray"&&s!=="configs"&&s!=="currentConfigHash"&&s!=="modes"&&i.push(o)}),i}async getParticipantData(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.studyDatabase.getItem("currentParticipant");return n?await this.studyDatabase.getItem(n):null}async nextParticipant(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=pP();this.studyDatabase.setItem("currentParticipant",n)}async verifyCompletion(){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const n=await this.getParticipantData();if(!n)throw new Error("Participant not initialized");return n.completed=!0,await this.studyDatabase.setItem(this.currentParticipantId,n),!0}async validateUser(n){return!0}async rejectParticipant(n,r){if(!this._verifyStudyDatabase(this.studyDatabase))throw new Error("Study database not initialized");const i=await this.studyDatabase.getItem(r);if(!i)throw new Error("Participant not found");if(i.rejected)return;i.rejected=!0;const o=await this.studyDatabase.getItem("sequenceArray");o&&(o.unshift(i.sequence),this.setSequenceArray(o)),await this.studyDatabase.setItem(r,i)}async setMode(n,r,i){this.studyDatabase=await a1.createInstance({name:n});const o=await this.studyDatabase.getItem("modes");if(!o)throw new Error("Modes not initialized");o[r]=i,this.studyDatabase.setItem("modes",o)}async getModes(n){this.studyDatabase=await a1.createInstance({name:n});const r=await this.studyDatabase.getItem("modes");if(r)return r;const i={dataCollectionEnabled:!0,studyNavigatorEnabled:!0,analyticsInterfacePubliclyAccessible:!0};return this.studyDatabase.setItem("modes",i),i}_verifyStudyDatabase(n){return n!==void 0}}async function Qcn(){let e,t=!1;{const n=new Tu;await n.connect(),n.isConnected()?e=n:t=!0}if(t){const n=new Xcn;await n.connect(),e=n}return e}async function Jcn(){const t=await(await fetch(`${od}global.json`)).text();return IOt(t)}function Zcn(){const[e,t]=I.useState(null),[n,r]=I.useState({});I.useEffect(()=>{async function a(){e&&r(await mMt(e))}a()},[e]),I.useEffect(()=>{e||Jcn().then(a=>{t(a)})},[e]);const{storageEngine:i,setStorageEngine:o}=bo();I.useEffect(()=>{if(i!==void 0)return;async function a(){const u=await Qcn();o(u)}a()},[o,i]);const s=async a=>i instanceof Tu?!(await i.getModes(a)).analyticsInterfacePubliclyAccessible:!1;return e?T.jsx(OUe,{basename:od,children:T.jsx(yMt,{children:T.jsx(UUe,{children:T.jsx(Ri,{padding:"md",header:{height:70},children:T.jsxs(PUe,{children:[T.jsx(Dd,{path:"/",element:T.jsxs(T.Fragment,{children:[T.jsx(eT,{studyIds:e.configsList}),T.jsx(VKe,{globalConfig:e,studyConfigs:n})]})}),T.jsx(Dd,{path:"/:studyId/*",element:T.jsx(gMt,{globalConfig:e})}),T.jsx(Dd,{path:"/analysis/dashboard",element:T.jsx(Ycn,{globalConfig:e})}),T.jsx(Dd,{path:"/analysis",element:T.jsx(p9,{to:"/analysis/dashboard"})}),T.jsx(Dd,{path:"/analysis/stats/:studyId/:tab",element:T.jsx(Mse,{paramToCheck:"studyId",paramCallback:s,children:T.jsx(TMt,{globalConfig:e})})}),T.jsx(Dd,{path:"/analysis/stats/:studyId",element:T.jsx(p9,{to:"./table",replace:!0})}),T.jsx(Dd,{path:"/settings",element:T.jsxs(Mse,{children:[T.jsx(eT,{studyIds:e.configsList}),T.jsx(Ri.Main,{children:T.jsx(Kcn,{})})]})}),T.jsx(Dd,{path:"/login",element:T.jsxs(T.Fragment,{children:[T.jsx(eT,{studyIds:e.configsList}),T.jsx(Ri.Main,{children:T.jsx(SMt,{})})]})})]})})})})}):null}_F.createRoot(document.getElementById("root")).render(T.jsx(ue.StrictMode,{children:T.jsx(B7e,{children:T.jsx(Xpe,{children:T.jsx(Zcn,{})})})}))});export default efn();
